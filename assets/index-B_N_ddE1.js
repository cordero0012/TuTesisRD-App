const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./pdfExport-BDF1vGTz.js","./pdf-vendor-DgDjaYZr.js"])))=>i.map(i=>d[i]);
import{r as lg,a as gb,b as cd,d as oe,u as ud,L as _e,R as Xr,e as dd,f as og,N as pb,H as xb,h as bb,i as mt}from"./react-vendor-CxjHvgps.js";import{_ as Ys,G as vb,g as yb}from"./pdf-vendor-DgDjaYZr.js";import"./ai-vendor-gkihbV2W.js";import{r as wb,H as Hs,P as hd,a as _b,F as jb,b as Nb,A as Qn,T as kb,c as Sb}from"./doc-vendor-BMQ2i6bC.js";function Eb(n,a){for(var r=0;r<a.length;r++){const l=a[r];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in n)){const d=Object.getOwnPropertyDescriptor(l,c);d&&Object.defineProperty(n,c,d.get?d:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();var Ru={exports:{}},Jn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function Ab(){if(j0)return Jn;j0=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(l,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:n,type:l,key:f,ref:c!==void 0?c:null,props:d}}return Jn.Fragment=a,Jn.jsx=r,Jn.jsxs=r,Jn}var N0;function Tb(){return N0||(N0=1,Ru.exports=Ab()),Ru.exports}var o=Tb(),Du={exports:{}},Xn={},zu={exports:{}},Uu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function Ob(){return k0||(k0=1,(function(n){function a(O,H){var K=O.length;O.push(H);e:for(;0<K;){var me=K-1>>>1,fe=O[me];if(0<c(fe,H))O[me]=H,O[K]=fe,K=me;else break e}}function r(O){return O.length===0?null:O[0]}function l(O){if(O.length===0)return null;var H=O[0],K=O.pop();if(K!==H){O[0]=K;e:for(var me=0,fe=O.length,Ee=fe>>>1;me<Ee;){var we=2*(me+1)-1,xe=O[we],Ke=we+1,Qt=O[Ke];if(0>c(xe,K))Ke<fe&&0>c(Qt,xe)?(O[me]=Qt,O[Ke]=K,me=Ke):(O[me]=xe,O[we]=K,me=we);else if(Ke<fe&&0>c(Qt,K))O[me]=Qt,O[Ke]=K,me=Ke;else break e}}return H}function c(O,H){var K=O.sortIndex-H.sortIndex;return K!==0?K:O.id-H.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();n.unstable_now=function(){return f.now()-m}}var g=[],x=[],v=1,y=null,N=3,j=!1,A=!1,R=!1,L=!1,$=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function Y(O){for(var H=r(x);H!==null;){if(H.callback===null)l(x);else if(H.startTime<=O)l(x),H.sortIndex=H.expirationTime,a(g,H);else break;H=r(x)}}function ne(O){if(R=!1,Y(O),!A)if(r(g)!==null)A=!0,F||(F=!0,qe());else{var H=r(x);H!==null&&te(ne,H.startTime-O)}}var F=!1,V=-1,J=5,Se=-1;function Pe(){return L?!0:!(n.unstable_now()-Se<J)}function pt(){if(L=!1,F){var O=n.unstable_now();Se=O;var H=!0;try{e:{A=!1,R&&(R=!1,I(V),V=-1),j=!0;var K=N;try{t:{for(Y(O),y=r(g);y!==null&&!(y.expirationTime>O&&Pe());){var me=y.callback;if(typeof me=="function"){y.callback=null,N=y.priorityLevel;var fe=me(y.expirationTime<=O);if(O=n.unstable_now(),typeof fe=="function"){y.callback=fe,Y(O),H=!0;break t}y===r(g)&&l(g),Y(O)}else l(g);y=r(g)}if(y!==null)H=!0;else{var Ee=r(x);Ee!==null&&te(ne,Ee.startTime-O),H=!1}}break e}finally{y=null,N=K,j=!1}H=void 0}}finally{H?qe():F=!1}}}var qe;if(typeof q=="function")qe=function(){q(pt)};else if(typeof MessageChannel<"u"){var Nt=new MessageChannel,et=Nt.port2;Nt.port1.onmessage=pt,qe=function(){et.postMessage(null)}}else qe=function(){$(pt,0)};function te(O,H){V=$(function(){O(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(O){switch(N){case 1:case 2:case 3:var H=3;break;default:H=N}var K=N;N=H;try{return O()}finally{N=K}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=N;N=O;try{return H()}finally{N=K}},n.unstable_scheduleCallback=function(O,H,K){var me=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?me+K:me):K=me,O){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=K+fe,O={id:v++,callback:H,priorityLevel:O,startTime:K,expirationTime:fe,sortIndex:-1},K>me?(O.sortIndex=K,a(x,O),r(g)===null&&O===r(x)&&(R?(I(V),V=-1):R=!0,te(ne,K-me))):(O.sortIndex=fe,a(g,O),A||j||(A=!0,F||(F=!0,qe()))),O},n.unstable_shouldYield=Pe,n.unstable_wrapCallback=function(O){var H=N;return function(){var K=N;N=H;try{return O.apply(this,arguments)}finally{N=K}}}})(Uu)),Uu}var S0;function Cb(){return S0||(S0=1,zu.exports=Ob()),zu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function Rb(){if(E0)return Xn;E0=1;var n=Cb(),a=lg(),r=gb();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(l(188))}function x(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var s=e,i=t;;){var u=s.return;if(u===null)break;var h=u.alternate;if(h===null){if(i=u.return,i!==null){s=i;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===s)return g(u),e;if(h===i)return g(u),t;h=h.sibling}throw Error(l(188))}if(s.return!==i.return)s=u,i=h;else{for(var p=!1,b=u.child;b;){if(b===s){p=!0,s=u,i=h;break}if(b===i){p=!0,i=u,s=h;break}b=b.sibling}if(!p){for(b=h.child;b;){if(b===s){p=!0,s=h,i=u;break}if(b===i){p=!0,i=h,s=u;break}b=b.sibling}if(!p)throw Error(l(189))}}if(s.alternate!==i)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,N=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),q=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),Se=Symbol.for("react.activity"),Pe=Symbol.for("react.memo_cache_sentinel"),pt=Symbol.iterator;function qe(e){return e===null||typeof e!="object"?null:(e=pt&&e[pt]||e["@@iterator"],typeof e=="function"?e:null)}var Nt=Symbol.for("react.client.reference");function et(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Nt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case $:return"Profiler";case L:return"StrictMode";case ne:return"Suspense";case F:return"SuspenseList";case Se:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case q:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return t=e.displayName||null,t!==null?t:et(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return et(e(t))}catch{}}return null}var te=Array.isArray,O=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},me=[],fe=-1;function Ee(e){return{current:e}}function we(e){0>fe||(e.current=me[fe],me[fe]=null,fe--)}function xe(e,t){fe++,me[fe]=e.current,e.current=t}var Ke=Ee(null),Qt=Ee(null),la=Ee(null),qa=Ee(null);function $a(e,t){switch(xe(la,t),xe(Qt,e),xe(Ke,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Zm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Zm(t),e=Ym(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}we(Ke),xe(Ke,e)}function oa(){we(Ke),we(Qt),we(la)}function fo(e){e.memoizedState!==null&&xe(qa,e);var t=Ke.current,s=Ym(t,e.type);t!==s&&(xe(Qt,e),xe(Ke,s))}function Ni(e){Qt.current===e&&(we(Ke),we(Qt)),qa.current===e&&(we(qa),Pn._currentValue=K)}var mo,wd;function ws(e){if(mo===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);mo=t&&t[1]||"",wd=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mo+e+wd}var go=!1;function po(e,t){if(!e||go)return"";go=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var M=function(){throw Error()};if(Object.defineProperty(M.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(M,[])}catch(C){var T=C}Reflect.construct(e,[],M)}else{try{M.call()}catch(C){T=C}e.call(M.prototype)}}else{try{throw Error()}catch(C){T=C}(M=e())&&typeof M.catch=="function"&&M.catch(function(){})}}catch(C){if(C&&T&&typeof C.stack=="string")return[C.stack,T.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=i.DetermineComponentFrameRoot(),p=h[0],b=h[1];if(p&&b){var w=p.split(`
`),E=b.split(`
`);for(u=i=0;i<w.length&&!w[i].includes("DetermineComponentFrameRoot");)i++;for(;u<E.length&&!E[u].includes("DetermineComponentFrameRoot");)u++;if(i===w.length||u===E.length)for(i=w.length-1,u=E.length-1;1<=i&&0<=u&&w[i]!==E[u];)u--;for(;1<=i&&0<=u;i--,u--)if(w[i]!==E[u]){if(i!==1||u!==1)do if(i--,u--,0>u||w[i]!==E[u]){var D=`
`+w[i].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=i&&0<=u);break}}}finally{go=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ws(s):""}function Zg(e,t){switch(e.tag){case 26:case 27:case 5:return ws(e.type);case 16:return ws("Lazy");case 13:return e.child!==t&&t!==null?ws("Suspense Fallback"):ws("Suspense");case 19:return ws("SuspenseList");case 0:case 15:return po(e.type,!1);case 11:return po(e.type.render,!1);case 1:return po(e.type,!0);case 31:return ws("Activity");default:return""}}function _d(e){try{var t="",s=null;do t+=Zg(e,s),s=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var xo=Object.prototype.hasOwnProperty,bo=n.unstable_scheduleCallback,vo=n.unstable_cancelCallback,Yg=n.unstable_shouldYield,Kg=n.unstable_requestPaint,kt=n.unstable_now,Jg=n.unstable_getCurrentPriorityLevel,jd=n.unstable_ImmediatePriority,Nd=n.unstable_UserBlockingPriority,ki=n.unstable_NormalPriority,Xg=n.unstable_LowPriority,kd=n.unstable_IdlePriority,Qg=n.log,Fg=n.unstable_setDisableYieldValue,an=null,St=null;function Ia(e){if(typeof Qg=="function"&&Fg(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(an,e)}catch{}}var Et=Math.clz32?Math.clz32:tp,Wg=Math.log,ep=Math.LN2;function tp(e){return e>>>=0,e===0?32:31-(Wg(e)/ep|0)|0}var Si=256,Ei=262144,Ai=4194304;function _s(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ti(e,t,s){var i=e.pendingLanes;if(i===0)return 0;var u=0,h=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var b=i&134217727;return b!==0?(i=b&~h,i!==0?u=_s(i):(p&=b,p!==0?u=_s(p):s||(s=b&~e,s!==0&&(u=_s(s))))):(b=i&~h,b!==0?u=_s(b):p!==0?u=_s(p):s||(s=i&~e,s!==0&&(u=_s(s)))),u===0?0:t!==0&&t!==u&&(t&h)===0&&(h=u&-u,s=t&-t,h>=s||h===32&&(s&4194048)!==0)?t:u}function sn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ap(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sd(){var e=Ai;return Ai<<=1,(Ai&62914560)===0&&(Ai=4194304),e}function yo(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function rn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sp(e,t,s,i,u,h){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var b=e.entanglements,w=e.expirationTimes,E=e.hiddenUpdates;for(s=p&~s;0<s;){var D=31-Et(s),M=1<<D;b[D]=0,w[D]=-1;var T=E[D];if(T!==null)for(E[D]=null,D=0;D<T.length;D++){var C=T[D];C!==null&&(C.lane&=-536870913)}s&=~M}i!==0&&Ed(e,i,0),h!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=h&~(p&~t))}function Ed(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Et(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|s&261930}function Ad(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var i=31-Et(s),u=1<<i;u&t|e[i]&t&&(e[i]|=t),s&=~u}}function Td(e,t){var s=t&-t;return s=(s&42)!==0?1:wo(s),(s&(e.suspendedLanes|t))!==0?0:s}function wo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _o(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Od(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:p0(e.type))}function Cd(e,t){var s=H.p;try{return H.p=e,t()}finally{H.p=s}}var Ha=Math.random().toString(36).slice(2),nt="__reactFiber$"+Ha,xt="__reactProps$"+Ha,Ws="__reactContainer$"+Ha,jo="__reactEvents$"+Ha,rp="__reactListeners$"+Ha,np="__reactHandles$"+Ha,Rd="__reactResources$"+Ha,nn="__reactMarker$"+Ha;function No(e){delete e[nt],delete e[xt],delete e[jo],delete e[rp],delete e[np]}function er(e){var t=e[nt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Ws]||s[nt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=e0(e);e!==null;){if(s=e[nt])return s;e=e0(e)}return t}e=s,s=e.parentNode}return null}function tr(e){if(e=e[nt]||e[Ws]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ln(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function ar(e){var t=e[Rd];return t||(t=e[Rd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function st(e){e[nn]=!0}var Dd=new Set,zd={};function js(e,t){sr(e,t),sr(e+"Capture",t)}function sr(e,t){for(zd[e]=t,e=0;e<t.length;e++)Dd.add(t[e])}var ip=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ud={},Md={};function lp(e){return xo.call(Md,e)?!0:xo.call(Ud,e)?!1:ip.test(e)?Md[e]=!0:(Ud[e]=!0,!1)}function Oi(e,t,s){if(lp(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function Ci(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function pa(e,t,s,i){if(i===null)e.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+i)}}function It(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ld(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function op(e,t,s){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,h=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(p){s=""+p,h.call(this,p)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ko(e){if(!e._valueTracker){var t=Ld(e)?"checked":"value";e._valueTracker=op(e,t,""+e[t])}}function Bd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),i="";return e&&(i=Ld(e)?e.checked?"true":"false":e.value),e=i,e!==s?(t.setValue(e),!0):!1}function Ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cp=/[\n"\\]/g;function Ht(e){return e.replace(cp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function So(e,t,s,i,u,h,p,b){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+It(t)):e.value!==""+It(t)&&(e.value=""+It(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?Eo(e,p,It(t)):s!=null?Eo(e,p,It(s)):i!=null&&e.removeAttribute("value"),u==null&&h!=null&&(e.defaultChecked=!!h),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+It(b):e.removeAttribute("name")}function qd(e,t,s,i,u,h,p,b){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){ko(e);return}s=s!=null?""+It(s):"",t=t!=null?""+It(t):s,b||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=b?e.checked:!!i,e.defaultChecked=!!i,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),ko(e)}function Eo(e,t,s){t==="number"&&Ri(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function rr(e,t,s,i){if(e=e.options,t){t={};for(var u=0;u<s.length;u++)t["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=t.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&i&&(e[s].defaultSelected=!0)}else{for(s=""+It(s),t=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function $d(e,t,s){if(t!=null&&(t=""+It(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+It(s):""}function Id(e,t,s,i){if(t==null){if(i!=null){if(s!=null)throw Error(l(92));if(te(i)){if(1<i.length)throw Error(l(93));i=i[0]}s=i}s==null&&(s=""),t=s}s=It(t),e.defaultValue=s,i=e.textContent,i===s&&i!==""&&i!==null&&(e.value=i),ko(e)}function nr(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var up=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hd(e,t,s){var i=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,s):typeof s!="number"||s===0||up.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function Vd(e,t,s){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,s!=null){for(var i in s)!s.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&s[u]!==i&&Hd(e,u,i)}else for(var h in t)t.hasOwnProperty(h)&&Hd(e,h,t[h])}function Ao(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Di(e){return hp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xa(){}var To=null;function Oo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ir=null,lr=null;function Gd(e){var t=tr(e);if(t&&(e=t.stateNode)){var s=e[xt]||null;e:switch(e=t.stateNode,t.type){case"input":if(So(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ht(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var i=s[t];if(i!==e&&i.form===e.form){var u=i[xt]||null;if(!u)throw Error(l(90));So(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<s.length;t++)i=s[t],i.form===e.form&&Bd(i)}break e;case"textarea":$d(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&rr(e,!!s.multiple,t,!1)}}}var Co=!1;function Pd(e,t,s){if(Co)return e(t,s);Co=!0;try{var i=e(t);return i}finally{if(Co=!1,(ir!==null||lr!==null)&&(yl(),ir&&(t=ir,e=lr,lr=ir=null,Gd(t),e)))for(t=0;t<e.length;t++)Gd(e[t])}}function on(e,t){var s=e.stateNode;if(s===null)return null;var i=s[xt]||null;if(i===null)return null;s=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,t,typeof s));return s}var ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ro=!1;if(ba)try{var cn={};Object.defineProperty(cn,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",cn,cn),window.removeEventListener("test",cn,cn)}catch{Ro=!1}var Va=null,Do=null,zi=null;function Zd(){if(zi)return zi;var e,t=Do,s=t.length,i,u="value"in Va?Va.value:Va.textContent,h=u.length;for(e=0;e<s&&t[e]===u[e];e++);var p=s-e;for(i=1;i<=p&&t[s-i]===u[h-i];i++);return zi=u.slice(e,1<i?1-i:void 0)}function Ui(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function Yd(){return!1}function bt(e){function t(s,i,u,h,p){this._reactName=s,this._targetInst=u,this.type=i,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(s=e[b],this[b]=s?s(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Mi:Yd,this.isPropagationStopped=Yd,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),t}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=bt(Ns),un=y({},Ns,{view:0,detail:0}),fp=bt(un),zo,Uo,dn,Bi=y({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&e.type==="mousemove"?(zo=e.screenX-dn.screenX,Uo=e.screenY-dn.screenY):Uo=zo=0,dn=e),zo)},movementY:function(e){return"movementY"in e?e.movementY:Uo}}),Kd=bt(Bi),mp=y({},Bi,{dataTransfer:0}),gp=bt(mp),pp=y({},un,{relatedTarget:0}),Mo=bt(pp),xp=y({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),bp=bt(xp),vp=y({},Ns,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yp=bt(vp),wp=y({},Ns,{data:0}),Jd=bt(wp),_p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Np={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Np[e])?!!t[e]:!1}function Lo(){return kp}var Sp=y({},un,{key:function(e){if(e.key){var t=_p[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ui(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lo,charCode:function(e){return e.type==="keypress"?Ui(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ui(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ep=bt(Sp),Ap=y({},Bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=bt(Ap),Tp=y({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lo}),Op=bt(Tp),Cp=y({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rp=bt(Cp),Dp=y({},Bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zp=bt(Dp),Up=y({},Ns,{newState:0,oldState:0}),Mp=bt(Up),Lp=[9,13,27,32],Bo=ba&&"CompositionEvent"in window,hn=null;ba&&"documentMode"in document&&(hn=document.documentMode);var Bp=ba&&"TextEvent"in window&&!hn,Qd=ba&&(!Bo||hn&&8<hn&&11>=hn),Fd=" ",Wd=!1;function eh(e,t){switch(e){case"keyup":return Lp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function th(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function qp(e,t){switch(e){case"compositionend":return th(t);case"keypress":return t.which!==32?null:(Wd=!0,Fd);case"textInput":return e=t.data,e===Fd&&Wd?null:e;default:return null}}function $p(e,t){if(or)return e==="compositionend"||!Bo&&eh(e,t)?(e=Zd(),zi=Do=Va=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qd&&t.locale!=="ko"?null:t.data;default:return null}}var Ip={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ah(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ip[e.type]:t==="textarea"}function sh(e,t,s,i){ir?lr?lr.push(i):lr=[i]:ir=i,t=El(t,"onChange"),0<t.length&&(s=new Li("onChange","change",null,s,i),e.push({event:s,listeners:t}))}var fn=null,mn=null;function Hp(e){$m(e,0)}function qi(e){var t=ln(e);if(Bd(t))return e}function rh(e,t){if(e==="change")return t}var nh=!1;if(ba){var qo;if(ba){var $o="oninput"in document;if(!$o){var ih=document.createElement("div");ih.setAttribute("oninput","return;"),$o=typeof ih.oninput=="function"}qo=$o}else qo=!1;nh=qo&&(!document.documentMode||9<document.documentMode)}function lh(){fn&&(fn.detachEvent("onpropertychange",oh),mn=fn=null)}function oh(e){if(e.propertyName==="value"&&qi(mn)){var t=[];sh(t,mn,e,Oo(e)),Pd(Hp,t)}}function Vp(e,t,s){e==="focusin"?(lh(),fn=t,mn=s,fn.attachEvent("onpropertychange",oh)):e==="focusout"&&lh()}function Gp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qi(mn)}function Pp(e,t){if(e==="click")return qi(t)}function Zp(e,t){if(e==="input"||e==="change")return qi(t)}function Yp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:Yp;function gn(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;for(i=0;i<s.length;i++){var u=s[i];if(!xo.call(t,u)||!At(e[u],t[u]))return!1}return!0}function ch(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uh(e,t){var s=ch(e);e=0;for(var i;s;){if(s.nodeType===3){if(i=e+s.textContent.length,e<=t&&i>=t)return{node:s,offset:t-e};e=i}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ch(s)}}function dh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ri(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Ri(e.document)}return t}function Io(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Kp=ba&&"documentMode"in document&&11>=document.documentMode,cr=null,Ho=null,pn=null,Vo=!1;function fh(e,t,s){var i=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Vo||cr==null||cr!==Ri(i)||(i=cr,"selectionStart"in i&&Io(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),pn&&gn(pn,i)||(pn=i,i=El(Ho,"onSelect"),0<i.length&&(t=new Li("onSelect","select",null,t,s),e.push({event:t,listeners:i}),t.target=cr)))}function ks(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ur={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Go={},mh={};ba&&(mh=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function Ss(e){if(Go[e])return Go[e];if(!ur[e])return e;var t=ur[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in mh)return Go[e]=t[s];return e}var gh=Ss("animationend"),ph=Ss("animationiteration"),xh=Ss("animationstart"),Jp=Ss("transitionrun"),Xp=Ss("transitionstart"),Qp=Ss("transitioncancel"),bh=Ss("transitionend"),vh=new Map,Po="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Po.push("scrollEnd");function Ft(e,t){vh.set(e,t),js(t,[e])}var $i=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vt=[],dr=0,Zo=0;function Ii(){for(var e=dr,t=Zo=dr=0;t<e;){var s=Vt[t];Vt[t++]=null;var i=Vt[t];Vt[t++]=null;var u=Vt[t];Vt[t++]=null;var h=Vt[t];if(Vt[t++]=null,i!==null&&u!==null){var p=i.pending;p===null?u.next=u:(u.next=p.next,p.next=u),i.pending=u}h!==0&&yh(s,u,h)}}function Hi(e,t,s,i){Vt[dr++]=e,Vt[dr++]=t,Vt[dr++]=s,Vt[dr++]=i,Zo|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Yo(e,t,s,i){return Hi(e,t,s,i),Vi(e)}function Es(e,t){return Hi(e,null,null,t),Vi(e)}function yh(e,t,s){e.lanes|=s;var i=e.alternate;i!==null&&(i.lanes|=s);for(var u=!1,h=e.return;h!==null;)h.childLanes|=s,i=h.alternate,i!==null&&(i.childLanes|=s),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(u=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,u&&t!==null&&(u=31-Et(s),e=h.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=s|536870912),h):null}function Vi(e){if(50<Bn)throw Bn=0,au=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var hr={};function Fp(e,t,s,i){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,s,i){return new Fp(e,t,s,i)}function Ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function va(e,t){var s=e.alternate;return s===null?(s=Tt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function wh(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Gi(e,t,s,i,u,h){var p=0;if(i=e,typeof e=="function")Ko(e)&&(p=1);else if(typeof e=="string")p=sb(e,s,Ke.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Se:return e=Tt(31,s,t,u),e.elementType=Se,e.lanes=h,e;case R:return As(s.children,u,h,t);case L:p=8,u|=24;break;case $:return e=Tt(12,s,t,u|2),e.elementType=$,e.lanes=h,e;case ne:return e=Tt(13,s,t,u),e.elementType=ne,e.lanes=h,e;case F:return e=Tt(19,s,t,u),e.elementType=F,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:p=10;break e;case I:p=9;break e;case Y:p=11;break e;case V:p=14;break e;case J:p=16,i=null;break e}p=29,s=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=Tt(p,s,t,u),t.elementType=e,t.type=i,t.lanes=h,t}function As(e,t,s,i){return e=Tt(7,e,i,t),e.lanes=s,e}function Jo(e,t,s){return e=Tt(6,e,null,t),e.lanes=s,e}function _h(e){var t=Tt(18,null,null,0);return t.stateNode=e,t}function Xo(e,t,s){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var jh=new WeakMap;function Gt(e,t){if(typeof e=="object"&&e!==null){var s=jh.get(e);return s!==void 0?s:(t={value:e,source:t,stack:_d(t)},jh.set(e,t),t)}return{value:e,source:t,stack:_d(t)}}var fr=[],mr=0,Pi=null,xn=0,Pt=[],Zt=0,Ga=null,ca=1,ua="";function ya(e,t){fr[mr++]=xn,fr[mr++]=Pi,Pi=e,xn=t}function Nh(e,t,s){Pt[Zt++]=ca,Pt[Zt++]=ua,Pt[Zt++]=Ga,Ga=e;var i=ca;e=ua;var u=32-Et(i)-1;i&=~(1<<u),s+=1;var h=32-Et(t)+u;if(30<h){var p=u-u%5;h=(i&(1<<p)-1).toString(32),i>>=p,u-=p,ca=1<<32-Et(t)+u|s<<u|i,ua=h+e}else ca=1<<h|s<<u|i,ua=e}function Qo(e){e.return!==null&&(ya(e,1),Nh(e,1,0))}function Fo(e){for(;e===Pi;)Pi=fr[--mr],fr[mr]=null,xn=fr[--mr],fr[mr]=null;for(;e===Ga;)Ga=Pt[--Zt],Pt[Zt]=null,ua=Pt[--Zt],Pt[Zt]=null,ca=Pt[--Zt],Pt[Zt]=null}function kh(e,t){Pt[Zt++]=ca,Pt[Zt++]=ua,Pt[Zt++]=Ga,ca=t.id,ua=t.overflow,Ga=e}var it=null,Me=null,ye=!1,Pa=null,Yt=!1,Wo=Error(l(519));function Za(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bn(Gt(t,e)),Wo}function Sh(e){var t=e.stateNode,s=e.type,i=e.memoizedProps;switch(t[nt]=e,t[xt]=i,s){case"dialog":pe("cancel",t),pe("close",t);break;case"iframe":case"object":case"embed":pe("load",t);break;case"video":case"audio":for(s=0;s<$n.length;s++)pe($n[s],t);break;case"source":pe("error",t);break;case"img":case"image":case"link":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"input":pe("invalid",t),qd(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":pe("invalid",t);break;case"textarea":pe("invalid",t),Id(t,i.value,i.defaultValue,i.children)}s=i.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||i.suppressHydrationWarning===!0||Gm(t.textContent,s)?(i.popover!=null&&(pe("beforetoggle",t),pe("toggle",t)),i.onScroll!=null&&pe("scroll",t),i.onScrollEnd!=null&&pe("scrollend",t),i.onClick!=null&&(t.onclick=xa),t=!0):t=!1,t||Za(e,!0)}function Eh(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:Yt=!1;return;case 27:case 3:Yt=!0;return;default:it=it.return}}function gr(e){if(e!==it)return!1;if(!ye)return Eh(e),ye=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||xu(e.type,e.memoizedProps)),s=!s),s&&Me&&Za(e),Eh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Me=Wm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Me=Wm(e)}else t===27?(t=Me,is(e.type)?(e=_u,_u=null,Me=e):Me=t):Me=it?Jt(e.stateNode.nextSibling):null;return!0}function Ts(){Me=it=null,ye=!1}function ec(){var e=Pa;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),Pa=null),e}function bn(e){Pa===null?Pa=[e]:Pa.push(e)}var tc=Ee(null),Os=null,wa=null;function Ya(e,t,s){xe(tc,t._currentValue),t._currentValue=s}function _a(e){e._currentValue=tc.current,we(tc)}function ac(e,t,s){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===s)break;e=e.return}}function sc(e,t,s,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var h=u.dependencies;if(h!==null){var p=u.child;h=h.firstContext;e:for(;h!==null;){var b=h;h=u;for(var w=0;w<t.length;w++)if(b.context===t[w]){h.lanes|=s,b=h.alternate,b!==null&&(b.lanes|=s),ac(h.return,s,e),i||(p=null);break e}h=b.next}}else if(u.tag===18){if(p=u.return,p===null)throw Error(l(341));p.lanes|=s,h=p.alternate,h!==null&&(h.lanes|=s),ac(p,s,e),p=null}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===e){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}}function pr(e,t,s,i){e=null;for(var u=t,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var p=u.alternate;if(p===null)throw Error(l(387));if(p=p.memoizedProps,p!==null){var b=u.type;At(u.pendingProps.value,p.value)||(e!==null?e.push(b):e=[b])}}else if(u===qa.current){if(p=u.alternate,p===null)throw Error(l(387));p.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Pn):e=[Pn])}u=u.return}e!==null&&sc(t,e,s,i),t.flags|=262144}function Zi(e){for(e=e.firstContext;e!==null;){if(!At(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cs(e){Os=e,wa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return Ah(Os,e)}function Yi(e,t){return Os===null&&Cs(e),Ah(e,t)}function Ah(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},wa===null){if(e===null)throw Error(l(308));wa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wa=wa.next=t;return s}var Wp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},ex=n.unstable_scheduleCallback,tx=n.unstable_NormalPriority,Je={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rc(){return{controller:new Wp,data:new Map,refCount:0}}function vn(e){e.refCount--,e.refCount===0&&ex(tx,function(){e.controller.abort()})}var yn=null,nc=0,xr=0,br=null;function ax(e,t){if(yn===null){var s=yn=[];nc=0,xr=ou(),br={status:"pending",value:void 0,then:function(i){s.push(i)}}}return nc++,t.then(Th,Th),t}function Th(){if(--nc===0&&yn!==null){br!==null&&(br.status="fulfilled");var e=yn;yn=null,xr=0,br=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function sx(e,t){var s=[],i={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<s.length;u++)(0,s[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),i}var Oh=O.S;O.S=function(e,t){mm=kt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ax(e,t),Oh!==null&&Oh(e,t)};var Rs=Ee(null);function ic(){var e=Rs.current;return e!==null?e:ze.pooledCache}function Ki(e,t){t===null?xe(Rs,Rs.current):xe(Rs,t.pool)}function Ch(){var e=ic();return e===null?null:{parent:Je._currentValue,pool:e}}var vr=Error(l(460)),lc=Error(l(474)),Ji=Error(l(542)),Xi={then:function(){}};function Rh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Dh(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(xa,xa),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Uh(e),e;default:if(typeof t.status=="string")t.then(xa,xa);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Uh(e),e}throw zs=t,vr}}function Ds(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(zs=s,vr):s}}var zs=null;function zh(){if(zs===null)throw Error(l(459));var e=zs;return zs=null,e}function Uh(e){if(e===vr||e===Ji)throw Error(l(483))}var yr=null,wn=0;function Qi(e){var t=wn;return wn+=1,yr===null&&(yr=[]),Dh(yr,e,t)}function _n(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Fi(e,t){throw t.$$typeof===N?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Mh(e){function t(k,_){if(e){var S=k.deletions;S===null?(k.deletions=[_],k.flags|=16):S.push(_)}}function s(k,_){if(!e)return null;for(;_!==null;)t(k,_),_=_.sibling;return null}function i(k){for(var _=new Map;k!==null;)k.key!==null?_.set(k.key,k):_.set(k.index,k),k=k.sibling;return _}function u(k,_){return k=va(k,_),k.index=0,k.sibling=null,k}function h(k,_,S){return k.index=S,e?(S=k.alternate,S!==null?(S=S.index,S<_?(k.flags|=67108866,_):S):(k.flags|=67108866,_)):(k.flags|=1048576,_)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function b(k,_,S,U){return _===null||_.tag!==6?(_=Jo(S,k.mode,U),_.return=k,_):(_=u(_,S),_.return=k,_)}function w(k,_,S,U){var ee=S.type;return ee===R?D(k,_,S.props.children,U,S.key):_!==null&&(_.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===J&&Ds(ee)===_.type)?(_=u(_,S.props),_n(_,S),_.return=k,_):(_=Gi(S.type,S.key,S.props,null,k.mode,U),_n(_,S),_.return=k,_)}function E(k,_,S,U){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Xo(S,k.mode,U),_.return=k,_):(_=u(_,S.children||[]),_.return=k,_)}function D(k,_,S,U,ee){return _===null||_.tag!==7?(_=As(S,k.mode,U,ee),_.return=k,_):(_=u(_,S),_.return=k,_)}function M(k,_,S){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Jo(""+_,k.mode,S),_.return=k,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case j:return S=Gi(_.type,_.key,_.props,null,k.mode,S),_n(S,_),S.return=k,S;case A:return _=Xo(_,k.mode,S),_.return=k,_;case J:return _=Ds(_),M(k,_,S)}if(te(_)||qe(_))return _=As(_,k.mode,S,null),_.return=k,_;if(typeof _.then=="function")return M(k,Qi(_),S);if(_.$$typeof===q)return M(k,Yi(k,_),S);Fi(k,_)}return null}function T(k,_,S,U){var ee=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return ee!==null?null:b(k,_,""+S,U);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case j:return S.key===ee?w(k,_,S,U):null;case A:return S.key===ee?E(k,_,S,U):null;case J:return S=Ds(S),T(k,_,S,U)}if(te(S)||qe(S))return ee!==null?null:D(k,_,S,U,null);if(typeof S.then=="function")return T(k,_,Qi(S),U);if(S.$$typeof===q)return T(k,_,Yi(k,S),U);Fi(k,S)}return null}function C(k,_,S,U,ee){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return k=k.get(S)||null,b(_,k,""+U,ee);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case j:return k=k.get(U.key===null?S:U.key)||null,w(_,k,U,ee);case A:return k=k.get(U.key===null?S:U.key)||null,E(_,k,U,ee);case J:return U=Ds(U),C(k,_,S,U,ee)}if(te(U)||qe(U))return k=k.get(S)||null,D(_,k,U,ee,null);if(typeof U.then=="function")return C(k,_,S,Qi(U),ee);if(U.$$typeof===q)return C(k,_,S,Yi(_,U),ee);Fi(_,U)}return null}function Z(k,_,S,U){for(var ee=null,Ne=null,X=_,de=_=0,ve=null;X!==null&&de<S.length;de++){X.index>de?(ve=X,X=null):ve=X.sibling;var ke=T(k,X,S[de],U);if(ke===null){X===null&&(X=ve);break}e&&X&&ke.alternate===null&&t(k,X),_=h(ke,_,de),Ne===null?ee=ke:Ne.sibling=ke,Ne=ke,X=ve}if(de===S.length)return s(k,X),ye&&ya(k,de),ee;if(X===null){for(;de<S.length;de++)X=M(k,S[de],U),X!==null&&(_=h(X,_,de),Ne===null?ee=X:Ne.sibling=X,Ne=X);return ye&&ya(k,de),ee}for(X=i(X);de<S.length;de++)ve=C(X,k,de,S[de],U),ve!==null&&(e&&ve.alternate!==null&&X.delete(ve.key===null?de:ve.key),_=h(ve,_,de),Ne===null?ee=ve:Ne.sibling=ve,Ne=ve);return e&&X.forEach(function(ds){return t(k,ds)}),ye&&ya(k,de),ee}function ae(k,_,S,U){if(S==null)throw Error(l(151));for(var ee=null,Ne=null,X=_,de=_=0,ve=null,ke=S.next();X!==null&&!ke.done;de++,ke=S.next()){X.index>de?(ve=X,X=null):ve=X.sibling;var ds=T(k,X,ke.value,U);if(ds===null){X===null&&(X=ve);break}e&&X&&ds.alternate===null&&t(k,X),_=h(ds,_,de),Ne===null?ee=ds:Ne.sibling=ds,Ne=ds,X=ve}if(ke.done)return s(k,X),ye&&ya(k,de),ee;if(X===null){for(;!ke.done;de++,ke=S.next())ke=M(k,ke.value,U),ke!==null&&(_=h(ke,_,de),Ne===null?ee=ke:Ne.sibling=ke,Ne=ke);return ye&&ya(k,de),ee}for(X=i(X);!ke.done;de++,ke=S.next())ke=C(X,k,de,ke.value,U),ke!==null&&(e&&ke.alternate!==null&&X.delete(ke.key===null?de:ke.key),_=h(ke,_,de),Ne===null?ee=ke:Ne.sibling=ke,Ne=ke);return e&&X.forEach(function(mb){return t(k,mb)}),ye&&ya(k,de),ee}function De(k,_,S,U){if(typeof S=="object"&&S!==null&&S.type===R&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case j:e:{for(var ee=S.key;_!==null;){if(_.key===ee){if(ee=S.type,ee===R){if(_.tag===7){s(k,_.sibling),U=u(_,S.props.children),U.return=k,k=U;break e}}else if(_.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===J&&Ds(ee)===_.type){s(k,_.sibling),U=u(_,S.props),_n(U,S),U.return=k,k=U;break e}s(k,_);break}else t(k,_);_=_.sibling}S.type===R?(U=As(S.props.children,k.mode,U,S.key),U.return=k,k=U):(U=Gi(S.type,S.key,S.props,null,k.mode,U),_n(U,S),U.return=k,k=U)}return p(k);case A:e:{for(ee=S.key;_!==null;){if(_.key===ee)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){s(k,_.sibling),U=u(_,S.children||[]),U.return=k,k=U;break e}else{s(k,_);break}else t(k,_);_=_.sibling}U=Xo(S,k.mode,U),U.return=k,k=U}return p(k);case J:return S=Ds(S),De(k,_,S,U)}if(te(S))return Z(k,_,S,U);if(qe(S)){if(ee=qe(S),typeof ee!="function")throw Error(l(150));return S=ee.call(S),ae(k,_,S,U)}if(typeof S.then=="function")return De(k,_,Qi(S),U);if(S.$$typeof===q)return De(k,_,Yi(k,S),U);Fi(k,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,_!==null&&_.tag===6?(s(k,_.sibling),U=u(_,S),U.return=k,k=U):(s(k,_),U=Jo(S,k.mode,U),U.return=k,k=U),p(k)):s(k,_)}return function(k,_,S,U){try{wn=0;var ee=De(k,_,S,U);return yr=null,ee}catch(X){if(X===vr||X===Ji)throw X;var Ne=Tt(29,X,null,k.mode);return Ne.lanes=U,Ne.return=k,Ne}finally{}}}var Us=Mh(!0),Lh=Mh(!1),Ka=!1;function oc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ja(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xa(e,t,s){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ae&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=Vi(e),yh(e,null,s),t}return Hi(e,i,t,s),Vi(e)}function jn(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,s|=i,t.lanes=s,Ad(e,s)}}function uc(e,t){var s=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,s===i)){var u=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?u=h=p:h=h.next=p,s=s.next}while(s!==null);h===null?u=h=t:h=h.next=t}else u=h=t;s={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:i.shared,callbacks:i.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var dc=!1;function Nn(){if(dc){var e=br;if(e!==null)throw e}}function kn(e,t,s,i){dc=!1;var u=e.updateQueue;Ka=!1;var h=u.firstBaseUpdate,p=u.lastBaseUpdate,b=u.shared.pending;if(b!==null){u.shared.pending=null;var w=b,E=w.next;w.next=null,p===null?h=E:p.next=E,p=w;var D=e.alternate;D!==null&&(D=D.updateQueue,b=D.lastBaseUpdate,b!==p&&(b===null?D.firstBaseUpdate=E:b.next=E,D.lastBaseUpdate=w))}if(h!==null){var M=u.baseState;p=0,D=E=w=null,b=h;do{var T=b.lane&-536870913,C=T!==b.lane;if(C?(be&T)===T:(i&T)===T){T!==0&&T===xr&&(dc=!0),D!==null&&(D=D.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Z=e,ae=b;T=t;var De=s;switch(ae.tag){case 1:if(Z=ae.payload,typeof Z=="function"){M=Z.call(De,M,T);break e}M=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ae.payload,T=typeof Z=="function"?Z.call(De,M,T):Z,T==null)break e;M=y({},M,T);break e;case 2:Ka=!0}}T=b.callback,T!==null&&(e.flags|=64,C&&(e.flags|=8192),C=u.callbacks,C===null?u.callbacks=[T]:C.push(T))}else C={lane:T,tag:b.tag,payload:b.payload,callback:b.callback,next:null},D===null?(E=D=C,w=M):D=D.next=C,p|=T;if(b=b.next,b===null){if(b=u.shared.pending,b===null)break;C=b,b=C.next,C.next=null,u.lastBaseUpdate=C,u.shared.pending=null}}while(!0);D===null&&(w=M),u.baseState=w,u.firstBaseUpdate=E,u.lastBaseUpdate=D,h===null&&(u.shared.lanes=0),ts|=p,e.lanes=p,e.memoizedState=M}}function Bh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function qh(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Bh(s[e],t)}var wr=Ee(null),Wi=Ee(0);function $h(e,t){e=Ca,xe(Wi,e),xe(wr,t),Ca=e|t.baseLanes}function hc(){xe(Wi,Ca),xe(wr,wr.current)}function fc(){Ca=Wi.current,we(wr),we(Wi)}var Ot=Ee(null),Kt=null;function Qa(e){var t=e.alternate;xe(Ze,Ze.current&1),xe(Ot,e),Kt===null&&(t===null||wr.current!==null||t.memoizedState!==null)&&(Kt=e)}function mc(e){xe(Ze,Ze.current),xe(Ot,e),Kt===null&&(Kt=e)}function Ih(e){e.tag===22?(xe(Ze,Ze.current),xe(Ot,e),Kt===null&&(Kt=e)):Fa()}function Fa(){xe(Ze,Ze.current),xe(Ot,Ot.current)}function Ct(e){we(Ot),Kt===e&&(Kt=null),we(Ze)}var Ze=Ee(0);function el(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||yu(s)||wu(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=0,ce=null,Ce=null,Xe=null,tl=!1,_r=!1,Ms=!1,al=0,Sn=0,jr=null,rx=0;function He(){throw Error(l(321))}function gc(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!At(e[s],t[s]))return!1;return!0}function pc(e,t,s,i,u,h){return ja=h,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?kf:Cc,Ms=!1,h=s(i,u),Ms=!1,_r&&(h=Vh(t,s,i,u)),Hh(e),h}function Hh(e){O.H=Tn;var t=Ce!==null&&Ce.next!==null;if(ja=0,Xe=Ce=ce=null,tl=!1,Sn=0,jr=null,t)throw Error(l(300));e===null||Qe||(e=e.dependencies,e!==null&&Zi(e)&&(Qe=!0))}function Vh(e,t,s,i){ce=e;var u=0;do{if(_r&&(jr=null),Sn=0,_r=!1,25<=u)throw Error(l(301));if(u+=1,Xe=Ce=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}O.H=Sf,h=t(s,i)}while(_r);return h}function nx(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?En(t):t,e=e.useState()[0],(Ce!==null?Ce.memoizedState:null)!==e&&(ce.flags|=1024),t}function xc(){var e=al!==0;return al=0,e}function bc(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function vc(e){if(tl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}tl=!1}ja=0,Xe=Ce=ce=null,_r=!1,Sn=al=0,jr=null}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ce.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ye(){if(Ce===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Xe===null?ce.memoizedState:Xe.next;if(t!==null)Xe=t,Ce=e;else{if(e===null)throw ce.alternate===null?Error(l(467)):Error(l(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Xe===null?ce.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function sl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function En(e){var t=Sn;return Sn+=1,jr===null&&(jr=[]),e=Dh(jr,e,t),t=ce,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?kf:Cc),e}function rl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return En(e);if(e.$$typeof===q)return lt(e)}throw Error(l(438,String(e)))}function yc(e){var t=null,s=ce.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var i=ce.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=sl(),ce.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),i=0;i<e;i++)s[i]=Pe;return t.index++,s}function Na(e,t){return typeof t=="function"?t(e):t}function nl(e){var t=Ye();return wc(t,Ce,e)}function wc(e,t,s){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=s;var u=e.baseQueue,h=i.pending;if(h!==null){if(u!==null){var p=u.next;u.next=h.next,h.next=p}t.baseQueue=u=h,i.pending=null}if(h=e.baseState,u===null)e.memoizedState=h;else{t=u.next;var b=p=null,w=null,E=t,D=!1;do{var M=E.lane&-536870913;if(M!==E.lane?(be&M)===M:(ja&M)===M){var T=E.revertLane;if(T===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null}),M===xr&&(D=!0);else if((ja&T)===T){E=E.next,T===xr&&(D=!0);continue}else M={lane:0,revertLane:E.revertLane,gesture:null,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null},w===null?(b=w=M,p=h):w=w.next=M,ce.lanes|=T,ts|=T;M=E.action,Ms&&s(h,M),h=E.hasEagerState?E.eagerState:s(h,M)}else T={lane:M,revertLane:E.revertLane,gesture:E.gesture,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null},w===null?(b=w=T,p=h):w=w.next=T,ce.lanes|=M,ts|=M;E=E.next}while(E!==null&&E!==t);if(w===null?p=h:w.next=b,!At(h,e.memoizedState)&&(Qe=!0,D&&(s=br,s!==null)))throw s;e.memoizedState=h,e.baseState=p,e.baseQueue=w,i.lastRenderedState=h}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function _c(e){var t=Ye(),s=t.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var i=s.dispatch,u=s.pending,h=t.memoizedState;if(u!==null){s.pending=null;var p=u=u.next;do h=e(h,p.action),p=p.next;while(p!==u);At(h,t.memoizedState)||(Qe=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),s.lastRenderedState=h}return[h,i]}function Gh(e,t,s){var i=ce,u=Ye(),h=ye;if(h){if(s===void 0)throw Error(l(407));s=s()}else s=t();var p=!At((Ce||u).memoizedState,s);if(p&&(u.memoizedState=s,Qe=!0),u=u.queue,kc(Yh.bind(null,i,u,e),[e]),u.getSnapshot!==t||p||Xe!==null&&Xe.memoizedState.tag&1){if(i.flags|=2048,Nr(9,{destroy:void 0},Zh.bind(null,i,u,s,t),null),ze===null)throw Error(l(349));h||(ja&127)!==0||Ph(i,t,s)}return s}function Ph(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ce.updateQueue,t===null?(t=sl(),ce.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Zh(e,t,s,i){t.value=s,t.getSnapshot=i,Kh(t)&&Jh(e)}function Yh(e,t,s){return s(function(){Kh(t)&&Jh(e)})}function Kh(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!At(e,s)}catch{return!0}}function Jh(e){var t=Es(e,2);t!==null&&jt(t,e,2)}function jc(e){var t=ft();if(typeof e=="function"){var s=e;if(e=s(),Ms){Ia(!0);try{s()}finally{Ia(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t}function Xh(e,t,s,i){return e.baseState=s,wc(e,Ce,typeof i=="function"?i:Na)}function ix(e,t,s,i,u){if(ol(e))throw Error(l(485));if(e=t.action,e!==null){var h={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){h.listeners.push(p)}};O.T!==null?s(!0):h.isTransition=!1,i(h),s=t.pending,s===null?(h.next=t.pending=h,Qh(t,h)):(h.next=s.next,t.pending=s.next=h)}}function Qh(e,t){var s=t.action,i=t.payload,u=e.state;if(t.isTransition){var h=O.T,p={};O.T=p;try{var b=s(u,i),w=O.S;w!==null&&w(p,b),Fh(e,t,b)}catch(E){Nc(e,t,E)}finally{h!==null&&p.types!==null&&(h.types=p.types),O.T=h}}else try{h=s(u,i),Fh(e,t,h)}catch(E){Nc(e,t,E)}}function Fh(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(i){Wh(e,t,i)},function(i){return Nc(e,t,i)}):Wh(e,t,s)}function Wh(e,t,s){t.status="fulfilled",t.value=s,ef(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,Qh(e,s)))}function Nc(e,t,s){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=s,ef(t),t=t.next;while(t!==i)}e.action=null}function ef(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function tf(e,t){return t}function af(e,t){if(ye){var s=ze.formState;if(s!==null){e:{var i=ce;if(ye){if(Me){t:{for(var u=Me,h=Yt;u.nodeType!==8;){if(!h){u=null;break t}if(u=Jt(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){Me=Jt(u.nextSibling),i=u.data==="F!";break e}}Za(i)}i=!1}i&&(t=s[0])}}return s=ft(),s.memoizedState=s.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tf,lastRenderedState:t},s.queue=i,s=_f.bind(null,ce,i),i.dispatch=s,i=jc(!1),h=Oc.bind(null,ce,!1,i.queue),i=ft(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,s=ix.bind(null,ce,u,h,s),u.dispatch=s,i.memoizedState=e,[t,s,!1]}function sf(e){var t=Ye();return rf(t,Ce,e)}function rf(e,t,s){if(t=wc(e,t,tf)[0],e=nl(Na)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=En(t)}catch(p){throw p===vr?Ji:p}else i=t;t=Ye();var u=t.queue,h=u.dispatch;return s!==t.memoizedState&&(ce.flags|=2048,Nr(9,{destroy:void 0},lx.bind(null,u,s),null)),[i,h,e]}function lx(e,t){e.action=t}function nf(e){var t=Ye(),s=Ce;if(s!==null)return rf(t,s,e);Ye(),t=t.memoizedState,s=Ye();var i=s.queue.dispatch;return s.memoizedState=e,[t,i,!1]}function Nr(e,t,s,i){return e={tag:e,create:s,deps:i,inst:t,next:null},t=ce.updateQueue,t===null&&(t=sl(),ce.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(i=s.next,s.next=e,e.next=i,t.lastEffect=e),e}function lf(){return Ye().memoizedState}function il(e,t,s,i){var u=ft();ce.flags|=e,u.memoizedState=Nr(1|t,{destroy:void 0},s,i===void 0?null:i)}function ll(e,t,s,i){var u=Ye();i=i===void 0?null:i;var h=u.memoizedState.inst;Ce!==null&&i!==null&&gc(i,Ce.memoizedState.deps)?u.memoizedState=Nr(t,h,s,i):(ce.flags|=e,u.memoizedState=Nr(1|t,h,s,i))}function of(e,t){il(8390656,8,e,t)}function kc(e,t){ll(2048,8,e,t)}function ox(e){ce.flags|=4;var t=ce.updateQueue;if(t===null)t=sl(),ce.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function cf(e){var t=Ye().memoizedState;return ox({ref:t,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function uf(e,t){return ll(4,2,e,t)}function df(e,t){return ll(4,4,e,t)}function hf(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ff(e,t,s){s=s!=null?s.concat([e]):null,ll(4,4,hf.bind(null,t,e),s)}function Sc(){}function mf(e,t){var s=Ye();t=t===void 0?null:t;var i=s.memoizedState;return t!==null&&gc(t,i[1])?i[0]:(s.memoizedState=[e,t],e)}function gf(e,t){var s=Ye();t=t===void 0?null:t;var i=s.memoizedState;if(t!==null&&gc(t,i[1]))return i[0];if(i=e(),Ms){Ia(!0);try{e()}finally{Ia(!1)}}return s.memoizedState=[i,t],i}function Ec(e,t,s){return s===void 0||(ja&1073741824)!==0&&(be&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=pm(),ce.lanes|=e,ts|=e,s)}function pf(e,t,s,i){return At(s,t)?s:wr.current!==null?(e=Ec(e,s,i),At(e,t)||(Qe=!0),e):(ja&42)===0||(ja&1073741824)!==0&&(be&261930)===0?(Qe=!0,e.memoizedState=s):(e=pm(),ce.lanes|=e,ts|=e,t)}function xf(e,t,s,i,u){var h=H.p;H.p=h!==0&&8>h?h:8;var p=O.T,b={};O.T=b,Oc(e,!1,t,s);try{var w=u(),E=O.S;if(E!==null&&E(b,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var D=sx(w,i);An(e,t,D,zt(e))}else An(e,t,i,zt(e))}catch(M){An(e,t,{then:function(){},status:"rejected",reason:M},zt())}finally{H.p=h,p!==null&&b.types!==null&&(p.types=b.types),O.T=p}}function cx(){}function Ac(e,t,s,i){if(e.tag!==5)throw Error(l(476));var u=bf(e).queue;xf(e,u,t,K,s===null?cx:function(){return vf(e),s(i)})}function bf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:K},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function vf(e){var t=bf(e);t.next===null&&(t=e.alternate.memoizedState),An(e,t.next.queue,{},zt())}function Tc(){return lt(Pn)}function yf(){return Ye().memoizedState}function wf(){return Ye().memoizedState}function ux(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=zt();e=Ja(s);var i=Xa(t,e,s);i!==null&&(jt(i,t,s),jn(i,t,s)),t={cache:rc()},e.payload=t;return}t=t.return}}function dx(e,t,s){var i=zt();s={lane:i,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ol(e)?jf(t,s):(s=Yo(e,t,s,i),s!==null&&(jt(s,e,i),Nf(s,t,i)))}function _f(e,t,s){var i=zt();An(e,t,s,i)}function An(e,t,s,i){var u={lane:i,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ol(e))jf(t,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var p=t.lastRenderedState,b=h(p,s);if(u.hasEagerState=!0,u.eagerState=b,At(b,p))return Hi(e,t,u,0),ze===null&&Ii(),!1}catch{}finally{}if(s=Yo(e,t,u,i),s!==null)return jt(s,e,i),Nf(s,t,i),!0}return!1}function Oc(e,t,s,i){if(i={lane:2,revertLane:ou(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ol(e)){if(t)throw Error(l(479))}else t=Yo(e,s,i,2),t!==null&&jt(t,e,2)}function ol(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function jf(e,t){_r=tl=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Nf(e,t,s){if((s&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,s|=i,t.lanes=s,Ad(e,s)}}var Tn={readContext:lt,use:rl,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};Tn.useEffectEvent=He;var kf={readContext:lt,use:rl,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:of,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,il(4194308,4,hf.bind(null,t,e),s)},useLayoutEffect:function(e,t){return il(4194308,4,e,t)},useInsertionEffect:function(e,t){il(4,2,e,t)},useMemo:function(e,t){var s=ft();t=t===void 0?null:t;var i=e();if(Ms){Ia(!0);try{e()}finally{Ia(!1)}}return s.memoizedState=[i,t],i},useReducer:function(e,t,s){var i=ft();if(s!==void 0){var u=s(t);if(Ms){Ia(!0);try{s(t)}finally{Ia(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=dx.bind(null,ce,e),[i.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:function(e){e=jc(e);var t=e.queue,s=_f.bind(null,ce,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:Sc,useDeferredValue:function(e,t){var s=ft();return Ec(s,e,t)},useTransition:function(){var e=jc(!1);return e=xf.bind(null,ce,e.queue,!0,!1),ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var i=ce,u=ft();if(ye){if(s===void 0)throw Error(l(407));s=s()}else{if(s=t(),ze===null)throw Error(l(349));(be&127)!==0||Ph(i,t,s)}u.memoizedState=s;var h={value:s,getSnapshot:t};return u.queue=h,of(Yh.bind(null,i,h,e),[e]),i.flags|=2048,Nr(9,{destroy:void 0},Zh.bind(null,i,h,s,t),null),s},useId:function(){var e=ft(),t=ze.identifierPrefix;if(ye){var s=ua,i=ca;s=(i&~(1<<32-Et(i)-1)).toString(32)+s,t="_"+t+"R_"+s,s=al++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=rx++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Tc,useFormState:af,useActionState:af,useOptimistic:function(e){var t=ft();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=Oc.bind(null,ce,!0,s),s.dispatch=t,[e,t]},useMemoCache:yc,useCacheRefresh:function(){return ft().memoizedState=ux.bind(null,ce)},useEffectEvent:function(e){var t=ft(),s={impl:e};return t.memoizedState=s,function(){if((Ae&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},Cc={readContext:lt,use:rl,useCallback:mf,useContext:lt,useEffect:kc,useImperativeHandle:ff,useInsertionEffect:uf,useLayoutEffect:df,useMemo:gf,useReducer:nl,useRef:lf,useState:function(){return nl(Na)},useDebugValue:Sc,useDeferredValue:function(e,t){var s=Ye();return pf(s,Ce.memoizedState,e,t)},useTransition:function(){var e=nl(Na)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:En(e),t]},useSyncExternalStore:Gh,useId:yf,useHostTransitionStatus:Tc,useFormState:sf,useActionState:sf,useOptimistic:function(e,t){var s=Ye();return Xh(s,Ce,e,t)},useMemoCache:yc,useCacheRefresh:wf};Cc.useEffectEvent=cf;var Sf={readContext:lt,use:rl,useCallback:mf,useContext:lt,useEffect:kc,useImperativeHandle:ff,useInsertionEffect:uf,useLayoutEffect:df,useMemo:gf,useReducer:_c,useRef:lf,useState:function(){return _c(Na)},useDebugValue:Sc,useDeferredValue:function(e,t){var s=Ye();return Ce===null?Ec(s,e,t):pf(s,Ce.memoizedState,e,t)},useTransition:function(){var e=_c(Na)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:En(e),t]},useSyncExternalStore:Gh,useId:yf,useHostTransitionStatus:Tc,useFormState:nf,useActionState:nf,useOptimistic:function(e,t){var s=Ye();return Ce!==null?Xh(s,Ce,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:yc,useCacheRefresh:wf};Sf.useEffectEvent=cf;function Rc(e,t,s,i){t=e.memoizedState,s=s(i,t),s=s==null?t:y({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Dc={enqueueSetState:function(e,t,s){e=e._reactInternals;var i=zt(),u=Ja(i);u.payload=t,s!=null&&(u.callback=s),t=Xa(e,u,i),t!==null&&(jt(t,e,i),jn(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var i=zt(),u=Ja(i);u.tag=1,u.payload=t,s!=null&&(u.callback=s),t=Xa(e,u,i),t!==null&&(jt(t,e,i),jn(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=zt(),i=Ja(s);i.tag=2,t!=null&&(i.callback=t),t=Xa(e,i,s),t!==null&&(jt(t,e,s),jn(t,e,s))}};function Ef(e,t,s,i,u,h,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,h,p):t.prototype&&t.prototype.isPureReactComponent?!gn(s,i)||!gn(u,h):!0}function Af(e,t,s,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,i),t.state!==e&&Dc.enqueueReplaceState(t,t.state,null)}function Ls(e,t){var s=t;if("ref"in t){s={};for(var i in t)i!=="ref"&&(s[i]=t[i])}if(e=e.defaultProps){s===t&&(s=y({},s));for(var u in e)s[u]===void 0&&(s[u]=e[u])}return s}function Tf(e){$i(e)}function Of(e){console.error(e)}function Cf(e){$i(e)}function cl(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Rf(e,t,s){try{var i=e.onCaughtError;i(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function zc(e,t,s){return s=Ja(s),s.tag=3,s.payload={element:null},s.callback=function(){cl(e,t)},s}function Df(e){return e=Ja(e),e.tag=3,e}function zf(e,t,s,i){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var h=i.value;e.payload=function(){return u(h)},e.callback=function(){Rf(t,s,i)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Rf(t,s,i),typeof u!="function"&&(as===null?as=new Set([this]):as.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})})}function hx(e,t,s,i,u){if(s.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=s.alternate,t!==null&&pr(t,s,u,!0),s=Ot.current,s!==null){switch(s.tag){case 31:case 13:return Kt===null?wl():s.alternate===null&&Ve===0&&(Ve=3),s.flags&=-257,s.flags|=65536,s.lanes=u,i===Xi?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([i]):t.add(i),nu(e,i,u)),!1;case 22:return s.flags|=65536,i===Xi?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([i]):s.add(i)),nu(e,i,u)),!1}throw Error(l(435,s.tag))}return nu(e,i,u),wl(),!1}if(ye)return t=Ot.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==Wo&&(e=Error(l(422),{cause:i}),bn(Gt(e,s)))):(i!==Wo&&(t=Error(l(423),{cause:i}),bn(Gt(t,s))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=Gt(i,s),u=zc(e.stateNode,i,u),uc(e,u),Ve!==4&&(Ve=2)),!1;var h=Error(l(520),{cause:i});if(h=Gt(h,s),Ln===null?Ln=[h]:Ln.push(h),Ve!==4&&(Ve=2),t===null)return!0;i=Gt(i,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=u&-u,s.lanes|=e,e=zc(s.stateNode,i,e),uc(s,e),!1;case 1:if(t=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(as===null||!as.has(h))))return s.flags|=65536,u&=-u,s.lanes|=u,u=Df(u),zf(u,e,s,i),uc(s,u),!1}s=s.return}while(s!==null);return!1}var Uc=Error(l(461)),Qe=!1;function ot(e,t,s,i){t.child=e===null?Lh(t,null,s,i):Us(t,e.child,s,i)}function Uf(e,t,s,i,u){s=s.render;var h=t.ref;if("ref"in i){var p={};for(var b in i)b!=="ref"&&(p[b]=i[b])}else p=i;return Cs(t),i=pc(e,t,s,p,h,u),b=xc(),e!==null&&!Qe?(bc(e,t,u),ka(e,t,u)):(ye&&b&&Qo(t),t.flags|=1,ot(e,t,i,u),t.child)}function Mf(e,t,s,i,u){if(e===null){var h=s.type;return typeof h=="function"&&!Ko(h)&&h.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=h,Lf(e,t,h,i,u)):(e=Gi(s.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!Vc(e,u)){var p=h.memoizedProps;if(s=s.compare,s=s!==null?s:gn,s(p,i)&&e.ref===t.ref)return ka(e,t,u)}return t.flags|=1,e=va(h,i),e.ref=t.ref,e.return=t,t.child=e}function Lf(e,t,s,i,u){if(e!==null){var h=e.memoizedProps;if(gn(h,i)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=i=h,Vc(e,u))(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,ka(e,t,u)}return Mc(e,t,s,i,u)}function Bf(e,t,s,i){var u=i.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|s:s,e!==null){for(i=t.child=e.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~h}else i=0,t.child=null;return qf(e,t,h,s,i)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ki(t,h!==null?h.cachePool:null),h!==null?$h(t,h):hc(),Ih(t);else return i=t.lanes=536870912,qf(e,t,h!==null?h.baseLanes|s:s,s,i)}else h!==null?(Ki(t,h.cachePool),$h(t,h),Fa(),t.memoizedState=null):(e!==null&&Ki(t,null),hc(),Fa());return ot(e,t,u,s),t.child}function On(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function qf(e,t,s,i,u){var h=ic();return h=h===null?null:{parent:Je._currentValue,pool:h},t.memoizedState={baseLanes:s,cachePool:h},e!==null&&Ki(t,null),hc(),Ih(t),e!==null&&pr(e,t,i,!0),t.childLanes=u,null}function ul(e,t){return t=hl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function $f(e,t,s){return Us(t,e.child,null,s),e=ul(t,t.pendingProps),e.flags|=2,Ct(t),t.memoizedState=null,e}function fx(e,t,s){var i=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ye){if(i.mode==="hidden")return e=ul(t,i),t.lanes=536870912,On(null,e);if(mc(t),(e=Me)?(e=Fm(e,Yt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ga!==null?{id:ca,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},s=_h(e),s.return=t,t.child=s,it=t,Me=null)):e=null,e===null)throw Za(t);return t.lanes=536870912,null}return ul(t,i)}var h=e.memoizedState;if(h!==null){var p=h.dehydrated;if(mc(t),u)if(t.flags&256)t.flags&=-257,t=$f(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Qe||pr(e,t,s,!1),u=(s&e.childLanes)!==0,Qe||u){if(i=ze,i!==null&&(p=Td(i,s),p!==0&&p!==h.retryLane))throw h.retryLane=p,Es(e,p),jt(i,e,p),Uc;wl(),t=$f(e,t,s)}else e=h.treeContext,Me=Jt(p.nextSibling),it=t,ye=!0,Pa=null,Yt=!1,e!==null&&kh(t,e),t=ul(t,i),t.flags|=4096;return t}return e=va(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function dl(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function Mc(e,t,s,i,u){return Cs(t),s=pc(e,t,s,i,void 0,u),i=xc(),e!==null&&!Qe?(bc(e,t,u),ka(e,t,u)):(ye&&i&&Qo(t),t.flags|=1,ot(e,t,s,u),t.child)}function If(e,t,s,i,u,h){return Cs(t),t.updateQueue=null,s=Vh(t,i,s,u),Hh(e),i=xc(),e!==null&&!Qe?(bc(e,t,h),ka(e,t,h)):(ye&&i&&Qo(t),t.flags|=1,ot(e,t,s,h),t.child)}function Hf(e,t,s,i,u){if(Cs(t),t.stateNode===null){var h=hr,p=s.contextType;typeof p=="object"&&p!==null&&(h=lt(p)),h=new s(i,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Dc,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=i,h.state=t.memoizedState,h.refs={},oc(t),p=s.contextType,h.context=typeof p=="object"&&p!==null?lt(p):hr,h.state=t.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Rc(t,s,p,i),h.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(p=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),p!==h.state&&Dc.enqueueReplaceState(h,h.state,null),kn(t,i,h,u),Nn(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){h=t.stateNode;var b=t.memoizedProps,w=Ls(s,b);h.props=w;var E=h.context,D=s.contextType;p=hr,typeof D=="object"&&D!==null&&(p=lt(D));var M=s.getDerivedStateFromProps;D=typeof M=="function"||typeof h.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,D||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b||E!==p)&&Af(t,h,i,p),Ka=!1;var T=t.memoizedState;h.state=T,kn(t,i,h,u),Nn(),E=t.memoizedState,b||T!==E||Ka?(typeof M=="function"&&(Rc(t,s,M,i),E=t.memoizedState),(w=Ka||Ef(t,s,w,i,T,E,p))?(D||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=E),h.props=i,h.state=E,h.context=p,i=w):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{h=t.stateNode,cc(e,t),p=t.memoizedProps,D=Ls(s,p),h.props=D,M=t.pendingProps,T=h.context,E=s.contextType,w=hr,typeof E=="object"&&E!==null&&(w=lt(E)),b=s.getDerivedStateFromProps,(E=typeof b=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==M||T!==w)&&Af(t,h,i,w),Ka=!1,T=t.memoizedState,h.state=T,kn(t,i,h,u),Nn();var C=t.memoizedState;p!==M||T!==C||Ka||e!==null&&e.dependencies!==null&&Zi(e.dependencies)?(typeof b=="function"&&(Rc(t,s,b,i),C=t.memoizedState),(D=Ka||Ef(t,s,D,i,T,C,w)||e!==null&&e.dependencies!==null&&Zi(e.dependencies))?(E||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(i,C,w),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(i,C,w)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=C),h.props=i,h.state=C,h.context=w,i=D):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),i=!1)}return h=i,dl(e,t),i=(t.flags&128)!==0,h||i?(h=t.stateNode,s=i&&typeof s.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&i?(t.child=Us(t,e.child,null,u),t.child=Us(t,null,s,u)):ot(e,t,s,u),t.memoizedState=h.state,e=t.child):e=ka(e,t,u),e}function Vf(e,t,s,i){return Ts(),t.flags|=256,ot(e,t,s,i),t.child}var Lc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bc(e){return{baseLanes:e,cachePool:Ch()}}function qc(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=Dt),e}function Gf(e,t,s){var i=t.pendingProps,u=!1,h=(t.flags&128)!==0,p;if((p=h)||(p=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),p&&(u=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(u?Qa(t):Fa(),(e=Me)?(e=Fm(e,Yt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ga!==null?{id:ca,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},s=_h(e),s.return=t,t.child=s,it=t,Me=null)):e=null,e===null)throw Za(t);return wu(e)?t.lanes=32:t.lanes=536870912,null}var b=i.children;return i=i.fallback,u?(Fa(),u=t.mode,b=hl({mode:"hidden",children:b},u),i=As(i,u,s,null),b.return=t,i.return=t,b.sibling=i,t.child=b,i=t.child,i.memoizedState=Bc(s),i.childLanes=qc(e,p,s),t.memoizedState=Lc,On(null,i)):(Qa(t),$c(t,b))}var w=e.memoizedState;if(w!==null&&(b=w.dehydrated,b!==null)){if(h)t.flags&256?(Qa(t),t.flags&=-257,t=Ic(e,t,s)):t.memoizedState!==null?(Fa(),t.child=e.child,t.flags|=128,t=null):(Fa(),b=i.fallback,u=t.mode,i=hl({mode:"visible",children:i.children},u),b=As(b,u,s,null),b.flags|=2,i.return=t,b.return=t,i.sibling=b,t.child=i,Us(t,e.child,null,s),i=t.child,i.memoizedState=Bc(s),i.childLanes=qc(e,p,s),t.memoizedState=Lc,t=On(null,i));else if(Qa(t),wu(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var E=p.dgst;p=E,i=Error(l(419)),i.stack="",i.digest=p,bn({value:i,source:null,stack:null}),t=Ic(e,t,s)}else if(Qe||pr(e,t,s,!1),p=(s&e.childLanes)!==0,Qe||p){if(p=ze,p!==null&&(i=Td(p,s),i!==0&&i!==w.retryLane))throw w.retryLane=i,Es(e,i),jt(p,e,i),Uc;yu(b)||wl(),t=Ic(e,t,s)}else yu(b)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Me=Jt(b.nextSibling),it=t,ye=!0,Pa=null,Yt=!1,e!==null&&kh(t,e),t=$c(t,i.children),t.flags|=4096);return t}return u?(Fa(),b=i.fallback,u=t.mode,w=e.child,E=w.sibling,i=va(w,{mode:"hidden",children:i.children}),i.subtreeFlags=w.subtreeFlags&65011712,E!==null?b=va(E,b):(b=As(b,u,s,null),b.flags|=2),b.return=t,i.return=t,i.sibling=b,t.child=i,On(null,i),i=t.child,b=e.child.memoizedState,b===null?b=Bc(s):(u=b.cachePool,u!==null?(w=Je._currentValue,u=u.parent!==w?{parent:w,pool:w}:u):u=Ch(),b={baseLanes:b.baseLanes|s,cachePool:u}),i.memoizedState=b,i.childLanes=qc(e,p,s),t.memoizedState=Lc,On(e.child,i)):(Qa(t),s=e.child,e=s.sibling,s=va(s,{mode:"visible",children:i.children}),s.return=t,s.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=s,t.memoizedState=null,s)}function $c(e,t){return t=hl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function hl(e,t){return e=Tt(22,e,null,t),e.lanes=0,e}function Ic(e,t,s){return Us(t,e.child,null,s),e=$c(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pf(e,t,s){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),ac(e.return,t,s)}function Hc(e,t,s,i,u,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:s,tailMode:u,treeForkCount:h}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=i,p.tail=s,p.tailMode=u,p.treeForkCount=h)}function Zf(e,t,s){var i=t.pendingProps,u=i.revealOrder,h=i.tail;i=i.children;var p=Ze.current,b=(p&2)!==0;if(b?(p=p&1|2,t.flags|=128):p&=1,xe(Ze,p),ot(e,t,i,s),i=ye?xn:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pf(e,s,t);else if(e.tag===19)Pf(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(s=t.child,u=null;s!==null;)e=s.alternate,e!==null&&el(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=t.child,t.child=null):(u=s.sibling,s.sibling=null),Hc(t,!1,u,s,h,i);break;case"backwards":case"unstable_legacy-backwards":for(s=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&el(e)===null){t.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}Hc(t,!0,s,null,h,i);break;case"together":Hc(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function ka(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),ts|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(pr(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,s=va(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=va(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Vc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Zi(e)))}function mx(e,t,s){switch(t.tag){case 3:$a(t,t.stateNode.containerInfo),Ya(t,Je,e.memoizedState.cache),Ts();break;case 27:case 5:fo(t);break;case 4:$a(t,t.stateNode.containerInfo);break;case 10:Ya(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,mc(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Qa(t),t.flags|=128,null):(s&t.child.childLanes)!==0?Gf(e,t,s):(Qa(t),e=ka(e,t,s),e!==null?e.sibling:null);Qa(t);break;case 19:var u=(e.flags&128)!==0;if(i=(s&t.childLanes)!==0,i||(pr(e,t,s,!1),i=(s&t.childLanes)!==0),u){if(i)return Zf(e,t,s);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),xe(Ze,Ze.current),i)break;return null;case 22:return t.lanes=0,Bf(e,t,s,t.pendingProps);case 24:Ya(t,Je,e.memoizedState.cache)}return ka(e,t,s)}function Yf(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!Vc(e,s)&&(t.flags&128)===0)return Qe=!1,mx(e,t,s);Qe=(e.flags&131072)!==0}else Qe=!1,ye&&(t.flags&1048576)!==0&&Nh(t,xn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Ds(t.elementType),t.type=e,typeof e=="function")Ko(e)?(i=Ls(e,i),t.tag=1,t=Hf(null,t,e,i,s)):(t.tag=0,t=Mc(null,t,e,i,s));else{if(e!=null){var u=e.$$typeof;if(u===Y){t.tag=11,t=Uf(null,t,e,i,s);break e}else if(u===V){t.tag=14,t=Mf(null,t,e,i,s);break e}}throw t=et(e)||e,Error(l(306,t,""))}}return t;case 0:return Mc(e,t,t.type,t.pendingProps,s);case 1:return i=t.type,u=Ls(i,t.pendingProps),Hf(e,t,i,u,s);case 3:e:{if($a(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var h=t.memoizedState;u=h.element,cc(e,t),kn(t,i,null,s);var p=t.memoizedState;if(i=p.cache,Ya(t,Je,i),i!==h.cache&&sc(t,[Je],s,!0),Nn(),i=p.element,h.isDehydrated)if(h={element:i,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Vf(e,t,i,s);break e}else if(i!==u){u=Gt(Error(l(424)),t),bn(u),t=Vf(e,t,i,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Me=Jt(e.firstChild),it=t,ye=!0,Pa=null,Yt=!0,s=Lh(t,null,i,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ts(),i===u){t=ka(e,t,s);break e}ot(e,t,i,s)}t=t.child}return t;case 26:return dl(e,t),e===null?(s=r0(t.type,null,t.pendingProps,null))?t.memoizedState=s:ye||(s=t.type,e=t.pendingProps,i=Al(la.current).createElement(s),i[nt]=t,i[xt]=e,ct(i,s,e),st(i),t.stateNode=i):t.memoizedState=r0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return fo(t),e===null&&ye&&(i=t.stateNode=t0(t.type,t.pendingProps,la.current),it=t,Yt=!0,u=Me,is(t.type)?(_u=u,Me=Jt(i.firstChild)):Me=u),ot(e,t,t.pendingProps.children,s),dl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((u=i=Me)&&(i=Gx(i,t.type,t.pendingProps,Yt),i!==null?(t.stateNode=i,it=t,Me=Jt(i.firstChild),Yt=!1,u=!0):u=!1),u||Za(t)),fo(t),u=t.type,h=t.pendingProps,p=e!==null?e.memoizedProps:null,i=h.children,xu(u,h)?i=null:p!==null&&xu(u,p)&&(t.flags|=32),t.memoizedState!==null&&(u=pc(e,t,nx,null,null,s),Pn._currentValue=u),dl(e,t),ot(e,t,i,s),t.child;case 6:return e===null&&ye&&((e=s=Me)&&(s=Px(s,t.pendingProps,Yt),s!==null?(t.stateNode=s,it=t,Me=null,e=!0):e=!1),e||Za(t)),null;case 13:return Gf(e,t,s);case 4:return $a(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Us(t,null,i,s):ot(e,t,i,s),t.child;case 11:return Uf(e,t,t.type,t.pendingProps,s);case 7:return ot(e,t,t.pendingProps,s),t.child;case 8:return ot(e,t,t.pendingProps.children,s),t.child;case 12:return ot(e,t,t.pendingProps.children,s),t.child;case 10:return i=t.pendingProps,Ya(t,t.type,i.value),ot(e,t,i.children,s),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,Cs(t),u=lt(u),i=i(u),t.flags|=1,ot(e,t,i,s),t.child;case 14:return Mf(e,t,t.type,t.pendingProps,s);case 15:return Lf(e,t,t.type,t.pendingProps,s);case 19:return Zf(e,t,s);case 31:return fx(e,t,s);case 22:return Bf(e,t,s,t.pendingProps);case 24:return Cs(t),i=lt(Je),e===null?(u=ic(),u===null&&(u=ze,h=rc(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=s),u=h),t.memoizedState={parent:i,cache:u},oc(t),Ya(t,Je,u)):((e.lanes&s)!==0&&(cc(e,t),kn(t,null,null,s),Nn()),u=e.memoizedState,h=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Ya(t,Je,i)):(i=h.cache,Ya(t,Je,i),i!==u.cache&&sc(t,[Je],s,!0))),ot(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Sa(e){e.flags|=4}function Gc(e,t,s,i,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(ym())e.flags|=8192;else throw zs=Xi,lc}else e.flags&=-16777217}function Kf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!c0(t))if(ym())e.flags|=8192;else throw zs=Xi,lc}function fl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Sd():536870912,e.lanes|=t,Ar|=t)}function Cn(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,i=0;if(t)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=s,t}function gx(e,t,s){var i=t.pendingProps;switch(Fo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Le(t),null;case 3:return s=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),_a(Je),oa(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(gr(t)?Sa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ec())),Le(t),null;case 26:var u=t.type,h=t.memoizedState;return e===null?(Sa(t),h!==null?(Le(t),Kf(t,h)):(Le(t),Gc(t,u,null,i,s))):h?h!==e.memoizedState?(Sa(t),Le(t),Kf(t,h)):(Le(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Sa(t),Le(t),Gc(t,u,e,i,s)),null;case 27:if(Ni(t),s=la.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Sa(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Le(t),null}e=Ke.current,gr(t)?Sh(t):(e=t0(u,i,s),t.stateNode=e,Sa(t))}return Le(t),null;case 5:if(Ni(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Sa(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Le(t),null}if(h=Ke.current,gr(t))Sh(t);else{var p=Al(la.current);switch(h){case 1:h=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:h=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":h=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":h=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":h=p.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof i.is=="string"?p.createElement("select",{is:i.is}):p.createElement("select"),i.multiple?h.multiple=!0:i.size&&(h.size=i.size);break;default:h=typeof i.is=="string"?p.createElement(u,{is:i.is}):p.createElement(u)}}h[nt]=t,h[xt]=i;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)h.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=h;e:switch(ct(h,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Sa(t)}}return Le(t),Gc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Sa(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=la.current,gr(t)){if(e=t.stateNode,s=t.memoizedProps,i=null,u=it,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[nt]=t,e=!!(e.nodeValue===s||i!==null&&i.suppressHydrationWarning===!0||Gm(e.nodeValue,s)),e||Za(t,!0)}else e=Al(e).createTextNode(i),e[nt]=t,t.stateNode=e}return Le(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(i=gr(t),s!==null){if(e===null){if(!i)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[nt]=t}else Ts(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),e=!1}else s=ec(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(Ct(t),t):(Ct(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Le(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=gr(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[nt]=t}else Ts(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),u=!1}else u=ec(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Ct(t),t):(Ct(t),null)}return Ct(t),(t.flags&128)!==0?(t.lanes=s,t):(s=i!==null,e=e!==null&&e.memoizedState!==null,s&&(i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),h=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==u&&(i.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),fl(t,t.updateQueue),Le(t),null);case 4:return oa(),e===null&&hu(t.stateNode.containerInfo),Le(t),null;case 10:return _a(t.type),Le(t),null;case 19:if(we(Ze),i=t.memoizedState,i===null)return Le(t),null;if(u=(t.flags&128)!==0,h=i.rendering,h===null)if(u)Cn(i,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=el(e),h!==null){for(t.flags|=128,Cn(i,!1),e=h.updateQueue,t.updateQueue=e,fl(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)wh(s,e),s=s.sibling;return xe(Ze,Ze.current&1|2),ye&&ya(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&kt()>bl&&(t.flags|=128,u=!0,Cn(i,!1),t.lanes=4194304)}else{if(!u)if(e=el(h),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,fl(t,e),Cn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!h.alternate&&!ye)return Le(t),null}else 2*kt()-i.renderingStartTime>bl&&s!==536870912&&(t.flags|=128,u=!0,Cn(i,!1),t.lanes=4194304);i.isBackwards?(h.sibling=t.child,t.child=h):(e=i.last,e!==null?e.sibling=h:t.child=h,i.last=h)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=kt(),e.sibling=null,s=Ze.current,xe(Ze,u?s&1|2:s&1),ye&&ya(t,i.treeForkCount),e):(Le(t),null);case 22:case 23:return Ct(t),fc(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(s&536870912)!==0&&(t.flags&128)===0&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),s=t.updateQueue,s!==null&&fl(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==s&&(t.flags|=2048),e!==null&&we(Rs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),_a(Je),Le(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function px(e,t){switch(Fo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _a(Je),oa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ni(t),null;case 31:if(t.memoizedState!==null){if(Ct(t),t.alternate===null)throw Error(l(340));Ts()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ct(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Ts()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Ze),null;case 4:return oa(),null;case 10:return _a(t.type),null;case 22:case 23:return Ct(t),fc(),e!==null&&we(Rs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _a(Je),null;case 25:return null;default:return null}}function Jf(e,t){switch(Fo(t),t.tag){case 3:_a(Je),oa();break;case 26:case 27:case 5:Ni(t);break;case 4:oa();break;case 31:t.memoizedState!==null&&Ct(t);break;case 13:Ct(t);break;case 19:we(Ze);break;case 10:_a(t.type);break;case 22:case 23:Ct(t),fc(),e!==null&&we(Rs);break;case 24:_a(Je)}}function Rn(e,t){try{var s=t.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var u=i.next;s=u;do{if((s.tag&e)===e){i=void 0;var h=s.create,p=s.inst;i=h(),p.destroy=i}s=s.next}while(s!==u)}}catch(b){Oe(t,t.return,b)}}function Wa(e,t,s){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var h=u.next;i=h;do{if((i.tag&e)===e){var p=i.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,u=t;var w=s,E=b;try{E()}catch(D){Oe(u,w,D)}}}i=i.next}while(i!==h)}}catch(D){Oe(t,t.return,D)}}function Xf(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{qh(t,s)}catch(i){Oe(e,e.return,i)}}}function Qf(e,t,s){s.props=Ls(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(i){Oe(e,t,i)}}function Dn(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof s=="function"?e.refCleanup=s(i):s.current=i}}catch(u){Oe(e,t,u)}}function da(e,t){var s=e.ref,i=e.refCleanup;if(s!==null)if(typeof i=="function")try{i()}catch(u){Oe(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){Oe(e,t,u)}else s.current=null}function Ff(e){var t=e.type,s=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&i.focus();break e;case"img":s.src?i.src=s.src:s.srcSet&&(i.srcset=s.srcSet)}}catch(u){Oe(e,e.return,u)}}function Pc(e,t,s){try{var i=e.stateNode;Bx(i,e.type,s,t),i[xt]=t}catch(u){Oe(e,e.return,u)}}function Wf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&is(e.type)||e.tag===4}function Zc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&is(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yc(e,t,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=xa));else if(i!==4&&(i===27&&is(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(Yc(e,t,s),e=e.sibling;e!==null;)Yc(e,t,s),e=e.sibling}function ml(e,t,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(i!==4&&(i===27&&is(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(ml(e,t,s),e=e.sibling;e!==null;)ml(e,t,s),e=e.sibling}function em(e){var t=e.stateNode,s=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);ct(t,i,s),t[nt]=e,t[xt]=s}catch(h){Oe(e,e.return,h)}}var Ea=!1,Fe=!1,Kc=!1,tm=typeof WeakSet=="function"?WeakSet:Set,rt=null;function xx(e,t){if(e=e.containerInfo,gu=Ul,e=hh(e),Io(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var i=s.getSelection&&s.getSelection();if(i&&i.rangeCount!==0){s=i.anchorNode;var u=i.anchorOffset,h=i.focusNode;i=i.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var p=0,b=-1,w=-1,E=0,D=0,M=e,T=null;t:for(;;){for(var C;M!==s||u!==0&&M.nodeType!==3||(b=p+u),M!==h||i!==0&&M.nodeType!==3||(w=p+i),M.nodeType===3&&(p+=M.nodeValue.length),(C=M.firstChild)!==null;)T=M,M=C;for(;;){if(M===e)break t;if(T===s&&++E===u&&(b=p),T===h&&++D===i&&(w=p),(C=M.nextSibling)!==null)break;M=T,T=M.parentNode}M=C}s=b===-1||w===-1?null:{start:b,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(pu={focusedElem:e,selectionRange:s},Ul=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){switch(t=rt,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)u=e[s],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,s=t,u=h.memoizedProps,h=h.memoizedState,i=s.stateNode;try{var Z=Ls(s.type,u);e=i.getSnapshotBeforeUpdate(Z,h),i.__reactInternalSnapshotBeforeUpdate=e}catch(ae){Oe(s,s.return,ae)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)vu(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}}function am(e,t,s){var i=s.flags;switch(s.tag){case 0:case 11:case 15:Ta(e,s),i&4&&Rn(5,s);break;case 1:if(Ta(e,s),i&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(p){Oe(s,s.return,p)}else{var u=Ls(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Oe(s,s.return,p)}}i&64&&Xf(s),i&512&&Dn(s,s.return);break;case 3:if(Ta(e,s),i&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{qh(e,t)}catch(p){Oe(s,s.return,p)}}break;case 27:t===null&&i&4&&em(s);case 26:case 5:Ta(e,s),t===null&&i&4&&Ff(s),i&512&&Dn(s,s.return);break;case 12:Ta(e,s);break;case 31:Ta(e,s),i&4&&nm(e,s);break;case 13:Ta(e,s),i&4&&im(e,s),i&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Sx.bind(null,s),Zx(e,s))));break;case 22:if(i=s.memoizedState!==null||Ea,!i){t=t!==null&&t.memoizedState!==null||Fe,u=Ea;var h=Fe;Ea=i,(Fe=t)&&!h?Oa(e,s,(s.subtreeFlags&8772)!==0):Ta(e,s),Ea=u,Fe=h}break;case 30:break;default:Ta(e,s)}}function sm(e){var t=e.alternate;t!==null&&(e.alternate=null,sm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&No(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,vt=!1;function Aa(e,t,s){for(s=s.child;s!==null;)rm(e,t,s),s=s.sibling}function rm(e,t,s){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(an,s)}catch{}switch(s.tag){case 26:Fe||da(s,t),Aa(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Fe||da(s,t);var i=Be,u=vt;is(s.type)&&(Be=s.stateNode,vt=!1),Aa(e,t,s),Hn(s.stateNode),Be=i,vt=u;break;case 5:Fe||da(s,t);case 6:if(i=Be,u=vt,Be=null,Aa(e,t,s),Be=i,vt=u,Be!==null)if(vt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(s.stateNode)}catch(h){Oe(s,t,h)}else try{Be.removeChild(s.stateNode)}catch(h){Oe(s,t,h)}break;case 18:Be!==null&&(vt?(e=Be,Xm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Mr(e)):Xm(Be,s.stateNode));break;case 4:i=Be,u=vt,Be=s.stateNode.containerInfo,vt=!0,Aa(e,t,s),Be=i,vt=u;break;case 0:case 11:case 14:case 15:Wa(2,s,t),Fe||Wa(4,s,t),Aa(e,t,s);break;case 1:Fe||(da(s,t),i=s.stateNode,typeof i.componentWillUnmount=="function"&&Qf(s,t,i)),Aa(e,t,s);break;case 21:Aa(e,t,s);break;case 22:Fe=(i=Fe)||s.memoizedState!==null,Aa(e,t,s),Fe=i;break;default:Aa(e,t,s)}}function nm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Mr(e)}catch(s){Oe(t,t.return,s)}}}function im(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Mr(e)}catch(s){Oe(t,t.return,s)}}function bx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new tm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new tm),t;default:throw Error(l(435,e.tag))}}function gl(e,t){var s=bx(e);t.forEach(function(i){if(!s.has(i)){s.add(i);var u=Ex.bind(null,e,i);i.then(u,u)}})}function yt(e,t){var s=t.deletions;if(s!==null)for(var i=0;i<s.length;i++){var u=s[i],h=e,p=t,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(is(b.type)){Be=b.stateNode,vt=!1;break e}break;case 5:Be=b.stateNode,vt=!1;break e;case 3:case 4:Be=b.stateNode.containerInfo,vt=!0;break e}b=b.return}if(Be===null)throw Error(l(160));rm(h,p,u),Be=null,vt=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)lm(t,e),t=t.sibling}var Wt=null;function lm(e,t){var s=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yt(t,e),wt(e),i&4&&(Wa(3,e,e.return),Rn(3,e),Wa(5,e,e.return));break;case 1:yt(t,e),wt(e),i&512&&(Fe||s===null||da(s,s.return)),i&64&&Ea&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?i:s.concat(i))));break;case 26:var u=Wt;if(yt(t,e),wt(e),i&512&&(Fe||s===null||da(s,s.return)),i&4){var h=s!==null?s.memoizedState:null;if(i=e.memoizedState,s===null)if(i===null)if(e.stateNode===null){e:{i=e.type,s=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":h=u.getElementsByTagName("title")[0],(!h||h[nn]||h[nt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(i),u.head.insertBefore(h,u.querySelector("head > title"))),ct(h,i,s),h[nt]=e,st(h),i=h;break e;case"link":var p=l0("link","href",u).get(i+(s.href||""));if(p){for(var b=0;b<p.length;b++)if(h=p[b],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(b,1);break t}}h=u.createElement(i),ct(h,i,s),u.head.appendChild(h);break;case"meta":if(p=l0("meta","content",u).get(i+(s.content||""))){for(b=0;b<p.length;b++)if(h=p[b],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(b,1);break t}}h=u.createElement(i),ct(h,i,s),u.head.appendChild(h);break;default:throw Error(l(468,i))}h[nt]=e,st(h),i=h}e.stateNode=i}else o0(u,e.type,e.stateNode);else e.stateNode=i0(u,i,e.memoizedProps);else h!==i?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,i===null?o0(u,e.type,e.stateNode):i0(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Pc(e,e.memoizedProps,s.memoizedProps)}break;case 27:yt(t,e),wt(e),i&512&&(Fe||s===null||da(s,s.return)),s!==null&&i&4&&Pc(e,e.memoizedProps,s.memoizedProps);break;case 5:if(yt(t,e),wt(e),i&512&&(Fe||s===null||da(s,s.return)),e.flags&32){u=e.stateNode;try{nr(u,"")}catch(Z){Oe(e,e.return,Z)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,Pc(e,u,s!==null?s.memoizedProps:u)),i&1024&&(Kc=!0);break;case 6:if(yt(t,e),wt(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,s=e.stateNode;try{s.nodeValue=i}catch(Z){Oe(e,e.return,Z)}}break;case 3:if(Cl=null,u=Wt,Wt=Tl(t.containerInfo),yt(t,e),Wt=u,wt(e),i&4&&s!==null&&s.memoizedState.isDehydrated)try{Mr(t.containerInfo)}catch(Z){Oe(e,e.return,Z)}Kc&&(Kc=!1,om(e));break;case 4:i=Wt,Wt=Tl(e.stateNode.containerInfo),yt(t,e),wt(e),Wt=i;break;case 12:yt(t,e),wt(e);break;case 31:yt(t,e),wt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,gl(e,i)));break;case 13:yt(t,e),wt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(xl=kt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,gl(e,i)));break;case 22:u=e.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,E=Ea,D=Fe;if(Ea=E||u,Fe=D||w,yt(t,e),Fe=D,Ea=E,wt(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(s===null||w||Ea||Fe||Bs(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){w=s=t;try{if(h=w.stateNode,u)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=w.stateNode;var M=w.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null;b.style.display=T==null||typeof T=="boolean"?"":(""+T).trim()}}catch(Z){Oe(w,w.return,Z)}}}else if(t.tag===6){if(s===null){w=t;try{w.stateNode.nodeValue=u?"":w.memoizedProps}catch(Z){Oe(w,w.return,Z)}}}else if(t.tag===18){if(s===null){w=t;try{var C=w.stateNode;u?Qm(C,!0):Qm(w.stateNode,!1)}catch(Z){Oe(w,w.return,Z)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(s=i.retryQueue,s!==null&&(i.retryQueue=null,gl(e,s))));break;case 19:yt(t,e),wt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,gl(e,i)));break;case 30:break;case 21:break;default:yt(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{for(var s,i=e.return;i!==null;){if(Wf(i)){s=i;break}i=i.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var u=s.stateNode,h=Zc(e);ml(e,h,u);break;case 5:var p=s.stateNode;s.flags&32&&(nr(p,""),s.flags&=-33);var b=Zc(e);ml(e,b,p);break;case 3:case 4:var w=s.stateNode.containerInfo,E=Zc(e);Yc(e,E,w);break;default:throw Error(l(161))}}catch(D){Oe(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function om(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;om(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ta(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)am(e,t.alternate,t),t=t.sibling}function Bs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Wa(4,t,t.return),Bs(t);break;case 1:da(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&Qf(t,t.return,s),Bs(t);break;case 27:Hn(t.stateNode);case 26:case 5:da(t,t.return),Bs(t);break;case 22:t.memoizedState===null&&Bs(t);break;case 30:Bs(t);break;default:Bs(t)}e=e.sibling}}function Oa(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,h=t,p=h.flags;switch(h.tag){case 0:case 11:case 15:Oa(u,h,s),Rn(4,h);break;case 1:if(Oa(u,h,s),i=h,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(E){Oe(i,i.return,E)}if(i=h,u=i.updateQueue,u!==null){var b=i.stateNode;try{var w=u.shared.hiddenCallbacks;if(w!==null)for(u.shared.hiddenCallbacks=null,u=0;u<w.length;u++)Bh(w[u],b)}catch(E){Oe(i,i.return,E)}}s&&p&64&&Xf(h),Dn(h,h.return);break;case 27:em(h);case 26:case 5:Oa(u,h,s),s&&i===null&&p&4&&Ff(h),Dn(h,h.return);break;case 12:Oa(u,h,s);break;case 31:Oa(u,h,s),s&&p&4&&nm(u,h);break;case 13:Oa(u,h,s),s&&p&4&&im(u,h);break;case 22:h.memoizedState===null&&Oa(u,h,s),Dn(h,h.return);break;case 30:break;default:Oa(u,h,s)}t=t.sibling}}function Jc(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&vn(s))}function Xc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vn(e))}function ea(e,t,s,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cm(e,t,s,i),t=t.sibling}function cm(e,t,s,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:ea(e,t,s,i),u&2048&&Rn(9,t);break;case 1:ea(e,t,s,i);break;case 3:ea(e,t,s,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vn(e)));break;case 12:if(u&2048){ea(e,t,s,i),e=t.stateNode;try{var h=t.memoizedProps,p=h.id,b=h.onPostCommit;typeof b=="function"&&b(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Oe(t,t.return,w)}}else ea(e,t,s,i);break;case 31:ea(e,t,s,i);break;case 13:ea(e,t,s,i);break;case 23:break;case 22:h=t.stateNode,p=t.alternate,t.memoizedState!==null?h._visibility&2?ea(e,t,s,i):zn(e,t):h._visibility&2?ea(e,t,s,i):(h._visibility|=2,kr(e,t,s,i,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Jc(p,t);break;case 24:ea(e,t,s,i),u&2048&&Xc(t.alternate,t);break;default:ea(e,t,s,i)}}function kr(e,t,s,i,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,p=t,b=s,w=i,E=p.flags;switch(p.tag){case 0:case 11:case 15:kr(h,p,b,w,u),Rn(8,p);break;case 23:break;case 22:var D=p.stateNode;p.memoizedState!==null?D._visibility&2?kr(h,p,b,w,u):zn(h,p):(D._visibility|=2,kr(h,p,b,w,u)),u&&E&2048&&Jc(p.alternate,p);break;case 24:kr(h,p,b,w,u),u&&E&2048&&Xc(p.alternate,p);break;default:kr(h,p,b,w,u)}t=t.sibling}}function zn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,i=t,u=i.flags;switch(i.tag){case 22:zn(s,i),u&2048&&Jc(i.alternate,i);break;case 24:zn(s,i),u&2048&&Xc(i.alternate,i);break;default:zn(s,i)}t=t.sibling}}var Un=8192;function Sr(e,t,s){if(e.subtreeFlags&Un)for(e=e.child;e!==null;)um(e,t,s),e=e.sibling}function um(e,t,s){switch(e.tag){case 26:Sr(e,t,s),e.flags&Un&&e.memoizedState!==null&&rb(s,Wt,e.memoizedState,e.memoizedProps);break;case 5:Sr(e,t,s);break;case 3:case 4:var i=Wt;Wt=Tl(e.stateNode.containerInfo),Sr(e,t,s),Wt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Un,Un=16777216,Sr(e,t,s),Un=i):Sr(e,t,s));break;default:Sr(e,t,s)}}function dm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Mn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var i=t[s];rt=i,fm(i,e)}dm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hm(e),e=e.sibling}function hm(e){switch(e.tag){case 0:case 11:case 15:Mn(e),e.flags&2048&&Wa(9,e,e.return);break;case 3:Mn(e);break;case 12:Mn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,pl(e)):Mn(e);break;default:Mn(e)}}function pl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var i=t[s];rt=i,fm(i,e)}dm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Wa(8,t,t.return),pl(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,pl(t));break;default:pl(t)}e=e.sibling}}function fm(e,t){for(;rt!==null;){var s=rt;switch(s.tag){case 0:case 11:case 15:Wa(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var i=s.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:vn(s.memoizedState.cache)}if(i=s.child,i!==null)i.return=s,rt=i;else e:for(s=e;rt!==null;){i=rt;var u=i.sibling,h=i.return;if(sm(i),i===s){rt=null;break e}if(u!==null){u.return=h,rt=u;break e}rt=h}}}var vx={getCacheForType:function(e){var t=lt(Je),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return lt(Je).controller.signal}},yx=typeof WeakMap=="function"?WeakMap:Map,Ae=0,ze=null,ge=null,be=0,Te=0,Rt=null,es=!1,Er=!1,Qc=!1,Ca=0,Ve=0,ts=0,qs=0,Fc=0,Dt=0,Ar=0,Ln=null,_t=null,Wc=!1,xl=0,mm=0,bl=1/0,vl=null,as=null,tt=0,ss=null,Tr=null,Ra=0,eu=0,tu=null,gm=null,Bn=0,au=null;function zt(){return(Ae&2)!==0&&be!==0?be&-be:O.T!==null?ou():Od()}function pm(){if(Dt===0)if((be&536870912)===0||ye){var e=Ei;Ei<<=1,(Ei&3932160)===0&&(Ei=262144),Dt=e}else Dt=536870912;return e=Ot.current,e!==null&&(e.flags|=32),Dt}function jt(e,t,s){(e===ze&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(Or(e,0),rs(e,be,Dt,!1)),rn(e,s),((Ae&2)===0||e!==ze)&&(e===ze&&((Ae&2)===0&&(qs|=s),Ve===4&&rs(e,be,Dt,!1)),ha(e))}function xm(e,t,s){if((Ae&6)!==0)throw Error(l(327));var i=!s&&(t&127)===0&&(t&e.expiredLanes)===0||sn(e,t),u=i?jx(e,t):ru(e,t,!0),h=i;do{if(u===0){Er&&!i&&rs(e,t,0,!1);break}else{if(s=e.current.alternate,h&&!wx(s)){u=ru(e,t,!1),h=!1;continue}if(u===2){if(h=t,e.errorRecoveryDisabledLanes&h)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var b=e;u=Ln;var w=b.current.memoizedState.isDehydrated;if(w&&(Or(b,p).flags|=256),p=ru(b,p,!1),p!==2){if(Qc&&!w){b.errorRecoveryDisabledLanes|=h,qs|=h,u=4;break e}h=_t,_t=u,h!==null&&(_t===null?_t=h:_t.push.apply(_t,h))}u=p}if(h=!1,u!==2)continue}}if(u===1){Or(e,0),rs(e,t,0,!0);break}e:{switch(i=e,h=u,h){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:rs(i,t,Dt,!es);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(u=xl+300-kt(),10<u)){if(rs(i,t,Dt,!es),Ti(i,0,!0)!==0)break e;Ra=t,i.timeoutHandle=Km(bm.bind(null,i,s,_t,vl,Wc,t,Dt,qs,Ar,es,h,"Throttled",-0,0),u);break e}bm(i,s,_t,vl,Wc,t,Dt,qs,Ar,es,h,null,-0,0)}}break}while(!0);ha(e)}function bm(e,t,s,i,u,h,p,b,w,E,D,M,T,C){if(e.timeoutHandle=-1,M=t.subtreeFlags,M&8192||(M&16785408)===16785408){M={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xa},um(t,h,M);var Z=(h&62914560)===h?xl-kt():(h&4194048)===h?mm-kt():0;if(Z=nb(M,Z),Z!==null){Ra=h,e.cancelPendingCommit=Z(Sm.bind(null,e,t,h,s,i,u,p,b,w,D,M,null,T,C)),rs(e,h,p,!E);return}}Sm(e,t,h,s,i,u,p,b,w)}function wx(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var i=0;i<s.length;i++){var u=s[i],h=u.getSnapshot;u=u.value;try{if(!At(h(),u))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rs(e,t,s,i){t&=~Fc,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var h=31-Et(u),p=1<<h;i[h]=-1,u&=~p}s!==0&&Ed(e,s,t)}function yl(){return(Ae&6)===0?(qn(0),!1):!0}function su(){if(ge!==null){if(Te===0)var e=ge.return;else e=ge,wa=Os=null,vc(e),yr=null,wn=0,e=ge;for(;e!==null;)Jf(e.alternate,e),e=e.return;ge=null}}function Or(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Ix(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ra=0,su(),ze=e,ge=s=va(e.current,null),be=t,Te=0,Rt=null,es=!1,Er=sn(e,t),Qc=!1,Ar=Dt=Fc=qs=ts=Ve=0,_t=Ln=null,Wc=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-Et(i),h=1<<u;t|=e[u],i&=~h}return Ca=t,Ii(),s}function vm(e,t){ce=null,O.H=Tn,t===vr||t===Ji?(t=zh(),Te=3):t===lc?(t=zh(),Te=4):Te=t===Uc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Rt=t,ge===null&&(Ve=1,cl(e,Gt(t,e.current)))}function ym(){var e=Ot.current;return e===null?!0:(be&4194048)===be?Kt===null:(be&62914560)===be||(be&536870912)!==0?e===Kt:!1}function wm(){var e=O.H;return O.H=Tn,e===null?Tn:e}function _m(){var e=O.A;return O.A=vx,e}function wl(){Ve=4,es||(be&4194048)!==be&&Ot.current!==null||(Er=!0),(ts&134217727)===0&&(qs&134217727)===0||ze===null||rs(ze,be,Dt,!1)}function ru(e,t,s){var i=Ae;Ae|=2;var u=wm(),h=_m();(ze!==e||be!==t)&&(vl=null,Or(e,t)),t=!1;var p=Ve;e:do try{if(Te!==0&&ge!==null){var b=ge,w=Rt;switch(Te){case 8:su(),p=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(t=!0);var E=Te;if(Te=0,Rt=null,Cr(e,b,w,E),s&&Er){p=0;break e}break;default:E=Te,Te=0,Rt=null,Cr(e,b,w,E)}}_x(),p=Ve;break}catch(D){vm(e,D)}while(!0);return t&&e.shellSuspendCounter++,wa=Os=null,Ae=i,O.H=u,O.A=h,ge===null&&(ze=null,be=0,Ii()),p}function _x(){for(;ge!==null;)jm(ge)}function jx(e,t){var s=Ae;Ae|=2;var i=wm(),u=_m();ze!==e||be!==t?(vl=null,bl=kt()+500,Or(e,t)):Er=sn(e,t);e:do try{if(Te!==0&&ge!==null){t=ge;var h=Rt;t:switch(Te){case 1:Te=0,Rt=null,Cr(e,t,h,1);break;case 2:case 9:if(Rh(h)){Te=0,Rt=null,Nm(t);break}t=function(){Te!==2&&Te!==9||ze!==e||(Te=7),ha(e)},h.then(t,t);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:Rh(h)?(Te=0,Rt=null,Nm(t)):(Te=0,Rt=null,Cr(e,t,h,7));break;case 5:var p=null;switch(ge.tag){case 26:p=ge.memoizedState;case 5:case 27:var b=ge;if(p?c0(p):b.stateNode.complete){Te=0,Rt=null;var w=b.sibling;if(w!==null)ge=w;else{var E=b.return;E!==null?(ge=E,_l(E)):ge=null}break t}}Te=0,Rt=null,Cr(e,t,h,5);break;case 6:Te=0,Rt=null,Cr(e,t,h,6);break;case 8:su(),Ve=6;break e;default:throw Error(l(462))}}Nx();break}catch(D){vm(e,D)}while(!0);return wa=Os=null,O.H=i,O.A=u,Ae=s,ge!==null?0:(ze=null,be=0,Ii(),Ve)}function Nx(){for(;ge!==null&&!Yg();)jm(ge)}function jm(e){var t=Yf(e.alternate,e,Ca);e.memoizedProps=e.pendingProps,t===null?_l(e):ge=t}function Nm(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=If(s,t,t.pendingProps,t.type,void 0,be);break;case 11:t=If(s,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:vc(t);default:Jf(s,t),t=ge=wh(t,Ca),t=Yf(s,t,Ca)}e.memoizedProps=e.pendingProps,t===null?_l(e):ge=t}function Cr(e,t,s,i){wa=Os=null,vc(t),yr=null,wn=0;var u=t.return;try{if(hx(e,u,t,s,be)){Ve=1,cl(e,Gt(s,e.current)),ge=null;return}}catch(h){if(u!==null)throw ge=u,h;Ve=1,cl(e,Gt(s,e.current)),ge=null;return}t.flags&32768?(ye||i===1?e=!0:Er||(be&536870912)!==0?e=!1:(es=e=!0,(i===2||i===9||i===3||i===6)&&(i=Ot.current,i!==null&&i.tag===13&&(i.flags|=16384))),km(t,e)):_l(t)}function _l(e){var t=e;do{if((t.flags&32768)!==0){km(t,es);return}e=t.return;var s=gx(t.alternate,t,Ca);if(s!==null){ge=s;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);Ve===0&&(Ve=5)}function km(e,t){do{var s=px(e.alternate,e);if(s!==null){s.flags&=32767,ge=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){ge=e;return}ge=e=s}while(e!==null);Ve=6,ge=null}function Sm(e,t,s,i,u,h,p,b,w){e.cancelPendingCommit=null;do jl();while(tt!==0);if((Ae&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(h=t.lanes|t.childLanes,h|=Zo,sp(e,s,h,p,b,w),e===ze&&(ge=ze=null,be=0),Tr=t,ss=e,Ra=s,eu=h,tu=u,gm=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ax(ki,function(){return Cm(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=O.T,O.T=null,u=H.p,H.p=2,p=Ae,Ae|=4;try{xx(e,t,s)}finally{Ae=p,H.p=u,O.T=i}}tt=1,Em(),Am(),Tm()}}function Em(){if(tt===1){tt=0;var e=ss,t=Tr,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=O.T,O.T=null;var i=H.p;H.p=2;var u=Ae;Ae|=4;try{lm(t,e);var h=pu,p=hh(e.containerInfo),b=h.focusedElem,w=h.selectionRange;if(p!==b&&b&&b.ownerDocument&&dh(b.ownerDocument.documentElement,b)){if(w!==null&&Io(b)){var E=w.start,D=w.end;if(D===void 0&&(D=E),"selectionStart"in b)b.selectionStart=E,b.selectionEnd=Math.min(D,b.value.length);else{var M=b.ownerDocument||document,T=M&&M.defaultView||window;if(T.getSelection){var C=T.getSelection(),Z=b.textContent.length,ae=Math.min(w.start,Z),De=w.end===void 0?ae:Math.min(w.end,Z);!C.extend&&ae>De&&(p=De,De=ae,ae=p);var k=uh(b,ae),_=uh(b,De);if(k&&_&&(C.rangeCount!==1||C.anchorNode!==k.node||C.anchorOffset!==k.offset||C.focusNode!==_.node||C.focusOffset!==_.offset)){var S=M.createRange();S.setStart(k.node,k.offset),C.removeAllRanges(),ae>De?(C.addRange(S),C.extend(_.node,_.offset)):(S.setEnd(_.node,_.offset),C.addRange(S))}}}}for(M=[],C=b;C=C.parentNode;)C.nodeType===1&&M.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<M.length;b++){var U=M[b];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}Ul=!!gu,pu=gu=null}finally{Ae=u,H.p=i,O.T=s}}e.current=t,tt=2}}function Am(){if(tt===2){tt=0;var e=ss,t=Tr,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=O.T,O.T=null;var i=H.p;H.p=2;var u=Ae;Ae|=4;try{am(e,t.alternate,t)}finally{Ae=u,H.p=i,O.T=s}}tt=3}}function Tm(){if(tt===4||tt===3){tt=0,Kg();var e=ss,t=Tr,s=Ra,i=gm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,Tr=ss=null,Om(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(as=null),_o(s),t=t.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(an,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=O.T,u=H.p,H.p=2,O.T=null;try{for(var h=e.onRecoverableError,p=0;p<i.length;p++){var b=i[p];h(b.value,{componentStack:b.stack})}}finally{O.T=t,H.p=u}}(Ra&3)!==0&&jl(),ha(e),u=e.pendingLanes,(s&261930)!==0&&(u&42)!==0?e===au?Bn++:(Bn=0,au=e):Bn=0,qn(0)}}function Om(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,vn(t)))}function jl(){return Em(),Am(),Tm(),Cm()}function Cm(){if(tt!==5)return!1;var e=ss,t=eu;eu=0;var s=_o(Ra),i=O.T,u=H.p;try{H.p=32>s?32:s,O.T=null,s=tu,tu=null;var h=ss,p=Ra;if(tt=0,Tr=ss=null,Ra=0,(Ae&6)!==0)throw Error(l(331));var b=Ae;if(Ae|=4,hm(h.current),cm(h,h.current,p,s),Ae=b,qn(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(an,h)}catch{}return!0}finally{H.p=u,O.T=i,Om(e,t)}}function Rm(e,t,s){t=Gt(s,t),t=zc(e.stateNode,t,2),e=Xa(e,t,2),e!==null&&(rn(e,2),ha(e))}function Oe(e,t,s){if(e.tag===3)Rm(e,e,s);else for(;t!==null;){if(t.tag===3){Rm(t,e,s);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(as===null||!as.has(i))){e=Gt(s,e),s=Df(2),i=Xa(t,s,2),i!==null&&(zf(s,i,t,e),rn(i,2),ha(i));break}}t=t.return}}function nu(e,t,s){var i=e.pingCache;if(i===null){i=e.pingCache=new yx;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(s)||(Qc=!0,u.add(s),e=kx.bind(null,e,t,s),t.then(e,e))}function kx(e,t,s){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ze===e&&(be&s)===s&&(Ve===4||Ve===3&&(be&62914560)===be&&300>kt()-xl?(Ae&2)===0&&Or(e,0):Fc|=s,Ar===be&&(Ar=0)),ha(e)}function Dm(e,t){t===0&&(t=Sd()),e=Es(e,t),e!==null&&(rn(e,t),ha(e))}function Sx(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Dm(e,s)}function Ex(e,t){var s=0;switch(e.tag){case 31:case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),Dm(e,s)}function Ax(e,t){return bo(e,t)}var Nl=null,Rr=null,iu=!1,kl=!1,lu=!1,ns=0;function ha(e){e!==Rr&&e.next===null&&(Rr===null?Nl=Rr=e:Rr=Rr.next=e),kl=!0,iu||(iu=!0,Ox())}function qn(e,t){if(!lu&&kl){lu=!0;do for(var s=!1,i=Nl;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var h=0;else{var p=i.suspendedLanes,b=i.pingedLanes;h=(1<<31-Et(42|e)+1)-1,h&=u&~(p&~b),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,Lm(i,h))}else h=be,h=Ti(i,i===ze?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(h&3)===0||sn(i,h)||(s=!0,Lm(i,h));i=i.next}while(s);lu=!1}}function Tx(){zm()}function zm(){kl=iu=!1;var e=0;ns!==0&&$x()&&(e=ns);for(var t=kt(),s=null,i=Nl;i!==null;){var u=i.next,h=Um(i,t);h===0?(i.next=null,s===null?Nl=u:s.next=u,u===null&&(Rr=s)):(s=i,(e!==0||(h&3)!==0)&&(kl=!0)),i=u}tt!==0&&tt!==5||qn(e),ns!==0&&(ns=0)}function Um(e,t){for(var s=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var p=31-Et(h),b=1<<p,w=u[p];w===-1?((b&s)===0||(b&i)!==0)&&(u[p]=ap(b,t)):w<=t&&(e.expiredLanes|=b),h&=~b}if(t=ze,s=be,s=Ti(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,s===0||e===t&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&vo(i),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||sn(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(i!==null&&vo(i),_o(s)){case 2:case 8:s=Nd;break;case 32:s=ki;break;case 268435456:s=kd;break;default:s=ki}return i=Mm.bind(null,e),s=bo(s,i),e.callbackPriority=t,e.callbackNode=s,t}return i!==null&&i!==null&&vo(i),e.callbackPriority=2,e.callbackNode=null,2}function Mm(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(jl()&&e.callbackNode!==s)return null;var i=be;return i=Ti(e,e===ze?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(xm(e,i,t),Um(e,kt()),e.callbackNode!=null&&e.callbackNode===s?Mm.bind(null,e):null)}function Lm(e,t){if(jl())return null;xm(e,t,!0)}function Ox(){Hx(function(){(Ae&6)!==0?bo(jd,Tx):zm()})}function ou(){if(ns===0){var e=xr;e===0&&(e=Si,Si<<=1,(Si&261888)===0&&(Si=256)),ns=e}return ns}function Bm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Di(""+e)}function qm(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function Cx(e,t,s,i,u){if(t==="submit"&&s&&s.stateNode===u){var h=Bm((u[xt]||null).action),p=i.submitter;p&&(t=(t=p[xt]||null)?Bm(t.formAction):p.getAttribute("formAction"),t!==null&&(h=t,p=null));var b=new Li("action","action",null,i,u);e.push({event:b,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ns!==0){var w=p?qm(u,p):new FormData(u);Ac(s,{pending:!0,data:w,method:u.method,action:h},null,w)}}else typeof h=="function"&&(b.preventDefault(),w=p?qm(u,p):new FormData(u),Ac(s,{pending:!0,data:w,method:u.method,action:h},h,w))},currentTarget:u}]})}}for(var cu=0;cu<Po.length;cu++){var uu=Po[cu],Rx=uu.toLowerCase(),Dx=uu[0].toUpperCase()+uu.slice(1);Ft(Rx,"on"+Dx)}Ft(gh,"onAnimationEnd"),Ft(ph,"onAnimationIteration"),Ft(xh,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(Jp,"onTransitionRun"),Ft(Xp,"onTransitionStart"),Ft(Qp,"onTransitionCancel"),Ft(bh,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),js("onBeforeInput",["compositionend","keypress","textInput","paste"]),js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $n="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($n));function $m(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var i=e[s],u=i.event;i=i.listeners;e:{var h=void 0;if(t)for(var p=i.length-1;0<=p;p--){var b=i[p],w=b.instance,E=b.currentTarget;if(b=b.listener,w!==h&&u.isPropagationStopped())break e;h=b,u.currentTarget=E;try{h(u)}catch(D){$i(D)}u.currentTarget=null,h=w}else for(p=0;p<i.length;p++){if(b=i[p],w=b.instance,E=b.currentTarget,b=b.listener,w!==h&&u.isPropagationStopped())break e;h=b,u.currentTarget=E;try{h(u)}catch(D){$i(D)}u.currentTarget=null,h=w}}}}function pe(e,t){var s=t[jo];s===void 0&&(s=t[jo]=new Set);var i=e+"__bubble";s.has(i)||(Im(t,e,2,!1),s.add(i))}function du(e,t,s){var i=0;t&&(i|=4),Im(s,e,i,t)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function hu(e){if(!e[Sl]){e[Sl]=!0,Dd.forEach(function(s){s!=="selectionchange"&&(zx.has(s)||du(s,!1,e),du(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sl]||(t[Sl]=!0,du("selectionchange",!1,t))}}function Im(e,t,s,i){switch(p0(t)){case 2:var u=ob;break;case 8:u=cb;break;default:u=Eu}s=u.bind(null,t,s,e),u=void 0,!Ro||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,s,{capture:!0,passive:u}):e.addEventListener(t,s,!0):u!==void 0?e.addEventListener(t,s,{passive:u}):e.addEventListener(t,s,!1)}function fu(e,t,s,i,u){var h=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var p=i.tag;if(p===3||p===4){var b=i.stateNode.containerInfo;if(b===u)break;if(p===4)for(p=i.return;p!==null;){var w=p.tag;if((w===3||w===4)&&p.stateNode.containerInfo===u)return;p=p.return}for(;b!==null;){if(p=er(b),p===null)return;if(w=p.tag,w===5||w===6||w===26||w===27){i=h=p;continue e}b=b.parentNode}}i=i.return}Pd(function(){var E=h,D=Oo(s),M=[];e:{var T=vh.get(e);if(T!==void 0){var C=Li,Z=e;switch(e){case"keypress":if(Ui(s)===0)break e;case"keydown":case"keyup":C=Ep;break;case"focusin":Z="focus",C=Mo;break;case"focusout":Z="blur",C=Mo;break;case"beforeblur":case"afterblur":C=Mo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=gp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=Op;break;case gh:case ph:case xh:C=bp;break;case bh:C=Rp;break;case"scroll":case"scrollend":C=fp;break;case"wheel":C=zp;break;case"copy":case"cut":case"paste":C=yp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Xd;break;case"toggle":case"beforetoggle":C=Mp}var ae=(t&4)!==0,De=!ae&&(e==="scroll"||e==="scrollend"),k=ae?T!==null?T+"Capture":null:T;ae=[];for(var _=E,S;_!==null;){var U=_;if(S=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||S===null||k===null||(U=on(_,k),U!=null&&ae.push(In(_,U,S))),De)break;_=_.return}0<ae.length&&(T=new C(T,Z,null,s,D),M.push({event:T,listeners:ae}))}}if((t&7)===0){e:{if(T=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",T&&s!==To&&(Z=s.relatedTarget||s.fromElement)&&(er(Z)||Z[Ws]))break e;if((C||T)&&(T=D.window===D?D:(T=D.ownerDocument)?T.defaultView||T.parentWindow:window,C?(Z=s.relatedTarget||s.toElement,C=E,Z=Z?er(Z):null,Z!==null&&(De=d(Z),ae=Z.tag,Z!==De||ae!==5&&ae!==27&&ae!==6)&&(Z=null)):(C=null,Z=E),C!==Z)){if(ae=Kd,U="onMouseLeave",k="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(ae=Xd,U="onPointerLeave",k="onPointerEnter",_="pointer"),De=C==null?T:ln(C),S=Z==null?T:ln(Z),T=new ae(U,_+"leave",C,s,D),T.target=De,T.relatedTarget=S,U=null,er(D)===E&&(ae=new ae(k,_+"enter",Z,s,D),ae.target=S,ae.relatedTarget=De,U=ae),De=U,C&&Z)t:{for(ae=Ux,k=C,_=Z,S=0,U=k;U;U=ae(U))S++;U=0;for(var ee=_;ee;ee=ae(ee))U++;for(;0<S-U;)k=ae(k),S--;for(;0<U-S;)_=ae(_),U--;for(;S--;){if(k===_||_!==null&&k===_.alternate){ae=k;break t}k=ae(k),_=ae(_)}ae=null}else ae=null;C!==null&&Hm(M,T,C,ae,!1),Z!==null&&De!==null&&Hm(M,De,Z,ae,!0)}}e:{if(T=E?ln(E):window,C=T.nodeName&&T.nodeName.toLowerCase(),C==="select"||C==="input"&&T.type==="file")var Ne=rh;else if(ah(T))if(nh)Ne=Zp;else{Ne=Gp;var X=Vp}else C=T.nodeName,!C||C.toLowerCase()!=="input"||T.type!=="checkbox"&&T.type!=="radio"?E&&Ao(E.elementType)&&(Ne=rh):Ne=Pp;if(Ne&&(Ne=Ne(e,E))){sh(M,Ne,s,D);break e}X&&X(e,T,E),e==="focusout"&&E&&T.type==="number"&&E.memoizedProps.value!=null&&Eo(T,"number",T.value)}switch(X=E?ln(E):window,e){case"focusin":(ah(X)||X.contentEditable==="true")&&(cr=X,Ho=E,pn=null);break;case"focusout":pn=Ho=cr=null;break;case"mousedown":Vo=!0;break;case"contextmenu":case"mouseup":case"dragend":Vo=!1,fh(M,s,D);break;case"selectionchange":if(Kp)break;case"keydown":case"keyup":fh(M,s,D)}var de;if(Bo)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else or?eh(e,s)&&(ve="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ve="onCompositionStart");ve&&(Qd&&s.locale!=="ko"&&(or||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&or&&(de=Zd()):(Va=D,Do="value"in Va?Va.value:Va.textContent,or=!0)),X=El(E,ve),0<X.length&&(ve=new Jd(ve,e,null,s,D),M.push({event:ve,listeners:X}),de?ve.data=de:(de=th(s),de!==null&&(ve.data=de)))),(de=Bp?qp(e,s):$p(e,s))&&(ve=El(E,"onBeforeInput"),0<ve.length&&(X=new Jd("onBeforeInput","beforeinput",null,s,D),M.push({event:X,listeners:ve}),X.data=de)),Cx(M,e,E,s,D)}$m(M,t)})}function In(e,t,s){return{instance:e,listener:t,currentTarget:s}}function El(e,t){for(var s=t+"Capture",i=[];e!==null;){var u=e,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=on(e,s),u!=null&&i.unshift(In(e,u,h)),u=on(e,t),u!=null&&i.push(In(e,u,h))),e.tag===3)return i;e=e.return}return[]}function Ux(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hm(e,t,s,i,u){for(var h=t._reactName,p=[];s!==null&&s!==i;){var b=s,w=b.alternate,E=b.stateNode;if(b=b.tag,w!==null&&w===i)break;b!==5&&b!==26&&b!==27||E===null||(w=E,u?(E=on(s,h),E!=null&&p.unshift(In(s,E,w))):u||(E=on(s,h),E!=null&&p.push(In(s,E,w)))),s=s.return}p.length!==0&&e.push({event:t,listeners:p})}var Mx=/\r\n?/g,Lx=/\u0000|\uFFFD/g;function Vm(e){return(typeof e=="string"?e:""+e).replace(Mx,`
`).replace(Lx,"")}function Gm(e,t){return t=Vm(t),Vm(e)===t}function Re(e,t,s,i,u,h){switch(s){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||nr(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&nr(e,""+i);break;case"className":Ci(e,"class",i);break;case"tabIndex":Ci(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ci(e,s,i);break;case"style":Vd(e,i,h);break;case"data":if(t!=="object"){Ci(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(s);break}i=Di(""+i),e.setAttribute(s,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(t!=="input"&&Re(e,t,"name",u.name,u,null),Re(e,t,"formEncType",u.formEncType,u,null),Re(e,t,"formMethod",u.formMethod,u,null),Re(e,t,"formTarget",u.formTarget,u,null)):(Re(e,t,"encType",u.encType,u,null),Re(e,t,"method",u.method,u,null),Re(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(s);break}i=Di(""+i),e.setAttribute(s,i);break;case"onClick":i!=null&&(e.onclick=xa);break;case"onScroll":i!=null&&pe("scroll",e);break;case"onScrollEnd":i!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(s=i.__html,s!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}s=Di(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,""+i):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":i===!0?e.setAttribute(s,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(s,i):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(s,i):e.removeAttribute(s);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(s):e.setAttribute(s,i);break;case"popover":pe("beforetoggle",e),pe("toggle",e),Oi(e,"popover",i);break;case"xlinkActuate":pa(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":pa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":pa(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":pa(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":pa(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":pa(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":pa(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":pa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":pa(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Oi(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=dp.get(s)||s,Oi(e,s,i))}}function mu(e,t,s,i,u,h){switch(s){case"style":Vd(e,i,h);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(s=i.__html,s!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"children":typeof i=="string"?nr(e,i):(typeof i=="number"||typeof i=="bigint")&&nr(e,""+i);break;case"onScroll":i!=null&&pe("scroll",e);break;case"onScrollEnd":i!=null&&pe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=xa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zd.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),t=s.slice(2,u?s.length-7:void 0),h=e[xt]||null,h=h!=null?h[s]:null,typeof h=="function"&&e.removeEventListener(t,h,u),typeof i=="function")){typeof h!="function"&&h!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,i,u);break e}s in e?e[s]=i:i===!0?e.setAttribute(s,""):Oi(e,s,i)}}}function ct(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var i=!1,u=!1,h;for(h in s)if(s.hasOwnProperty(h)){var p=s[h];if(p!=null)switch(h){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Re(e,t,h,p,s,null)}}u&&Re(e,t,"srcSet",s.srcSet,s,null),i&&Re(e,t,"src",s.src,s,null);return;case"input":pe("invalid",e);var b=h=p=u=null,w=null,E=null;for(i in s)if(s.hasOwnProperty(i)){var D=s[i];if(D!=null)switch(i){case"name":u=D;break;case"type":p=D;break;case"checked":w=D;break;case"defaultChecked":E=D;break;case"value":h=D;break;case"defaultValue":b=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:Re(e,t,i,D,s,null)}}qd(e,h,b,w,E,p,u,!1);return;case"select":pe("invalid",e),i=p=h=null;for(u in s)if(s.hasOwnProperty(u)&&(b=s[u],b!=null))switch(u){case"value":h=b;break;case"defaultValue":p=b;break;case"multiple":i=b;default:Re(e,t,u,b,s,null)}t=h,s=p,e.multiple=!!i,t!=null?rr(e,!!i,t,!1):s!=null&&rr(e,!!i,s,!0);return;case"textarea":pe("invalid",e),h=u=i=null;for(p in s)if(s.hasOwnProperty(p)&&(b=s[p],b!=null))switch(p){case"value":i=b;break;case"defaultValue":u=b;break;case"children":h=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:Re(e,t,p,b,s,null)}Id(e,i,u,h);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(i=s[w],i!=null))switch(w){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Re(e,t,w,i,s,null)}return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(i=0;i<$n.length;i++)pe($n[i],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(E in s)if(s.hasOwnProperty(E)&&(i=s[E],i!=null))switch(E){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Re(e,t,E,i,s,null)}return;default:if(Ao(t)){for(D in s)s.hasOwnProperty(D)&&(i=s[D],i!==void 0&&mu(e,t,D,i,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(i=s[b],i!=null&&Re(e,t,b,i,s,null))}function Bx(e,t,s,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,p=null,b=null,w=null,E=null,D=null;for(C in s){var M=s[C];if(s.hasOwnProperty(C)&&M!=null)switch(C){case"checked":break;case"value":break;case"defaultValue":w=M;default:i.hasOwnProperty(C)||Re(e,t,C,null,i,M)}}for(var T in i){var C=i[T];if(M=s[T],i.hasOwnProperty(T)&&(C!=null||M!=null))switch(T){case"type":h=C;break;case"name":u=C;break;case"checked":E=C;break;case"defaultChecked":D=C;break;case"value":p=C;break;case"defaultValue":b=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(137,t));break;default:C!==M&&Re(e,t,T,C,i,M)}}So(e,p,b,w,E,D,h,u);return;case"select":C=p=b=T=null;for(h in s)if(w=s[h],s.hasOwnProperty(h)&&w!=null)switch(h){case"value":break;case"multiple":C=w;default:i.hasOwnProperty(h)||Re(e,t,h,null,i,w)}for(u in i)if(h=i[u],w=s[u],i.hasOwnProperty(u)&&(h!=null||w!=null))switch(u){case"value":T=h;break;case"defaultValue":b=h;break;case"multiple":p=h;default:h!==w&&Re(e,t,u,h,i,w)}t=b,s=p,i=C,T!=null?rr(e,!!s,T,!1):!!i!=!!s&&(t!=null?rr(e,!!s,t,!0):rr(e,!!s,s?[]:"",!1));return;case"textarea":C=T=null;for(b in s)if(u=s[b],s.hasOwnProperty(b)&&u!=null&&!i.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Re(e,t,b,null,i,u)}for(p in i)if(u=i[p],h=s[p],i.hasOwnProperty(p)&&(u!=null||h!=null))switch(p){case"value":T=u;break;case"defaultValue":C=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==h&&Re(e,t,p,u,i,h)}$d(e,T,C);return;case"option":for(var Z in s)if(T=s[Z],s.hasOwnProperty(Z)&&T!=null&&!i.hasOwnProperty(Z))switch(Z){case"selected":e.selected=!1;break;default:Re(e,t,Z,null,i,T)}for(w in i)if(T=i[w],C=s[w],i.hasOwnProperty(w)&&T!==C&&(T!=null||C!=null))switch(w){case"selected":e.selected=T&&typeof T!="function"&&typeof T!="symbol";break;default:Re(e,t,w,T,i,C)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in s)T=s[ae],s.hasOwnProperty(ae)&&T!=null&&!i.hasOwnProperty(ae)&&Re(e,t,ae,null,i,T);for(E in i)if(T=i[E],C=s[E],i.hasOwnProperty(E)&&T!==C&&(T!=null||C!=null))switch(E){case"children":case"dangerouslySetInnerHTML":if(T!=null)throw Error(l(137,t));break;default:Re(e,t,E,T,i,C)}return;default:if(Ao(t)){for(var De in s)T=s[De],s.hasOwnProperty(De)&&T!==void 0&&!i.hasOwnProperty(De)&&mu(e,t,De,void 0,i,T);for(D in i)T=i[D],C=s[D],!i.hasOwnProperty(D)||T===C||T===void 0&&C===void 0||mu(e,t,D,T,i,C);return}}for(var k in s)T=s[k],s.hasOwnProperty(k)&&T!=null&&!i.hasOwnProperty(k)&&Re(e,t,k,null,i,T);for(M in i)T=i[M],C=s[M],!i.hasOwnProperty(M)||T===C||T==null&&C==null||Re(e,t,M,T,i,C)}function Pm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),i=0;i<s.length;i++){var u=s[i],h=u.transferSize,p=u.initiatorType,b=u.duration;if(h&&b&&Pm(p)){for(p=0,b=u.responseEnd,i+=1;i<s.length;i++){var w=s[i],E=w.startTime;if(E>b)break;var D=w.transferSize,M=w.initiatorType;D&&Pm(M)&&(w=w.responseEnd,p+=D*(w<b?1:(b-E)/(w-E)))}if(--i,t+=8*(h+p)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gu=null,pu=null;function Al(e){return e.nodeType===9?e:e.ownerDocument}function Zm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ym(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function xu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bu=null;function $x(){var e=window.event;return e&&e.type==="popstate"?e===bu?!1:(bu=e,!0):(bu=null,!1)}var Km=typeof setTimeout=="function"?setTimeout:void 0,Ix=typeof clearTimeout=="function"?clearTimeout:void 0,Jm=typeof Promise=="function"?Promise:void 0,Hx=typeof queueMicrotask=="function"?queueMicrotask:typeof Jm<"u"?function(e){return Jm.resolve(null).then(e).catch(Vx)}:Km;function Vx(e){setTimeout(function(){throw e})}function is(e){return e==="head"}function Xm(e,t){var s=t,i=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"||s==="/&"){if(i===0){e.removeChild(u),Mr(t);return}i--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")i++;else if(s==="html")Hn(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Hn(s);for(var h=s.firstChild;h;){var p=h.nextSibling,b=h.nodeName;h[nn]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&h.rel.toLowerCase()==="stylesheet"||s.removeChild(h),h=p}}else s==="body"&&Hn(e.ownerDocument.body);s=u}while(s);Mr(t)}function Qm(e,t){var s=e;e=0;do{var i=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=i}while(s)}function vu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":vu(s),No(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Gx(e,t,s,i){for(;e.nodeType===1;){var u=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[nn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function Px(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Jt(e.nextSibling),e===null))return null;return e}function Fm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Jt(e.nextSibling),e===null))return null;return e}function yu(e){return e.data==="$?"||e.data==="$~"}function wu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Zx(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var i=function(){t(),s.removeEventListener("DOMContentLoaded",i)};s.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var _u=null;function Wm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return Jt(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function e0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function t0(e,t,s){switch(t=Al(s),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Hn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);No(e)}var Xt=new Map,a0=new Set;function Tl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Da=H.d;H.d={f:Yx,r:Kx,D:Jx,C:Xx,L:Qx,m:Fx,X:eb,S:Wx,M:tb};function Yx(){var e=Da.f(),t=yl();return e||t}function Kx(e){var t=tr(e);t!==null&&t.tag===5&&t.type==="form"?vf(t):Da.r(e)}var Dr=typeof document>"u"?null:document;function s0(e,t,s){var i=Dr;if(i&&typeof t=="string"&&t){var u=Ht(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),a0.has(u)||(a0.add(u),e={rel:e,crossOrigin:s,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),ct(t,"link",e),st(t),i.head.appendChild(t)))}}function Jx(e){Da.D(e),s0("dns-prefetch",e,null)}function Xx(e,t){Da.C(e,t),s0("preconnect",e,t)}function Qx(e,t,s){Da.L(e,t,s);var i=Dr;if(i&&e&&t){var u='link[rel="preload"][as="'+Ht(t)+'"]';t==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+Ht(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+Ht(s.imageSizes)+'"]')):u+='[href="'+Ht(e)+'"]';var h=u;switch(t){case"style":h=zr(e);break;case"script":h=Ur(e)}Xt.has(h)||(e=y({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),Xt.set(h,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(Vn(h))||t==="script"&&i.querySelector(Gn(h))||(t=i.createElement("link"),ct(t,"link",e),st(t),i.head.appendChild(t)))}}function Fx(e,t){Da.m(e,t);var s=Dr;if(s&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Ht(i)+'"][href="'+Ht(e)+'"]',h=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ur(e)}if(!Xt.has(h)&&(e=y({rel:"modulepreload",href:e},t),Xt.set(h,e),s.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Gn(h)))return}i=s.createElement("link"),ct(i,"link",e),st(i),s.head.appendChild(i)}}}function Wx(e,t,s){Da.S(e,t,s);var i=Dr;if(i&&e){var u=ar(i).hoistableStyles,h=zr(e);t=t||"default";var p=u.get(h);if(!p){var b={loading:0,preload:null};if(p=i.querySelector(Vn(h)))b.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},s),(s=Xt.get(h))&&ju(e,s);var w=p=i.createElement("link");st(w),ct(w,"link",e),w._p=new Promise(function(E,D){w.onload=E,w.onerror=D}),w.addEventListener("load",function(){b.loading|=1}),w.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Ol(p,t,i)}p={type:"stylesheet",instance:p,count:1,state:b},u.set(h,p)}}}function eb(e,t){Da.X(e,t);var s=Dr;if(s&&e){var i=ar(s).hoistableScripts,u=Ur(e),h=i.get(u);h||(h=s.querySelector(Gn(u)),h||(e=y({src:e,async:!0},t),(t=Xt.get(u))&&Nu(e,t),h=s.createElement("script"),st(h),ct(h,"link",e),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},i.set(u,h))}}function tb(e,t){Da.M(e,t);var s=Dr;if(s&&e){var i=ar(s).hoistableScripts,u=Ur(e),h=i.get(u);h||(h=s.querySelector(Gn(u)),h||(e=y({src:e,async:!0,type:"module"},t),(t=Xt.get(u))&&Nu(e,t),h=s.createElement("script"),st(h),ct(h,"link",e),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},i.set(u,h))}}function r0(e,t,s,i){var u=(u=la.current)?Tl(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=zr(s.href),s=ar(u).hoistableStyles,i=s.get(t),i||(i={type:"style",instance:null,count:0,state:null},s.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=zr(s.href);var h=ar(u).hoistableStyles,p=h.get(e);if(p||(u=u.ownerDocument||u,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,p),(h=u.querySelector(Vn(e)))&&!h._p&&(p.instance=h,p.state.loading=5),Xt.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Xt.set(e,s),h||ab(u,e,s,p.state))),t&&i===null)throw Error(l(528,""));return p}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ur(s),s=ar(u).hoistableScripts,i=s.get(t),i||(i={type:"script",instance:null,count:0,state:null},s.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function zr(e){return'href="'+Ht(e)+'"'}function Vn(e){return'link[rel="stylesheet"]['+e+"]"}function n0(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function ab(e,t,s,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ct(t,"link",s),st(t),e.head.appendChild(t))}function Ur(e){return'[src="'+Ht(e)+'"]'}function Gn(e){return"script[async]"+e}function i0(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Ht(s.href)+'"]');if(i)return t.instance=i,st(i),i;var u=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),st(i),ct(i,"style",u),Ol(i,s.precedence,e),t.instance=i;case"stylesheet":u=zr(s.href);var h=e.querySelector(Vn(u));if(h)return t.state.loading|=4,t.instance=h,st(h),h;i=n0(s),(u=Xt.get(u))&&ju(i,u),h=(e.ownerDocument||e).createElement("link"),st(h);var p=h;return p._p=new Promise(function(b,w){p.onload=b,p.onerror=w}),ct(h,"link",i),t.state.loading|=4,Ol(h,s.precedence,e),t.instance=h;case"script":return h=Ur(s.src),(u=e.querySelector(Gn(h)))?(t.instance=u,st(u),u):(i=s,(u=Xt.get(h))&&(i=y({},s),Nu(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),st(u),ct(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Ol(i,s.precedence,e));return t.instance}function Ol(e,t,s){for(var i=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,h=u,p=0;p<i.length;p++){var b=i[p];if(b.dataset.precedence===t)h=b;else if(h!==u)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Nu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Cl=null;function l0(e,t,s){if(Cl===null){var i=new Map,u=Cl=new Map;u.set(s,i)}else u=Cl,i=u.get(s),i||(i=new Map,u.set(s,i));if(i.has(e))return i;for(i.set(e,null),s=s.getElementsByTagName(e),u=0;u<s.length;u++){var h=s[u];if(!(h[nn]||h[nt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var p=h.getAttribute(t)||"";p=e+p;var b=i.get(p);b?b.push(h):i.set(p,[h])}}return i}function o0(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function sb(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function c0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function rb(e,t,s,i){if(s.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=zr(i.href),h=t.querySelector(Vn(u));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Rl.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=h,st(h);return}h=t.ownerDocument||t,i=n0(i),(u=Xt.get(u))&&ju(i,u),h=h.createElement("link"),st(h);var p=h;p._p=new Promise(function(b,w){p.onload=b,p.onerror=w}),ct(h,"link",i),s.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Rl.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var ku=0;function nb(e,t){return e.stylesheets&&e.count===0&&zl(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var i=setTimeout(function(){if(e.stylesheets&&zl(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&ku===0&&(ku=62500*qx());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&zl(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>ku?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function Rl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Dl=null;function zl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Dl=new Map,t.forEach(ib,e),Dl=null,Rl.call(e))}function ib(e,t){if(!(t.state.loading&4)){var s=Dl.get(e);if(s)var i=s.get(null);else{s=new Map,Dl.set(e,s);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var p=u[h];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),i=p)}i&&s.set(null,i)}u=t.instance,p=u.getAttribute("data-precedence"),h=s.get(p)||i,h===i&&s.set(null,u),s.set(p,u),this.count++,i=Rl.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),h?h.parentNode.insertBefore(u,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Pn={$$typeof:q,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function lb(e,t,s,i,u,h,p,b,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yo(0),this.hiddenUpdates=yo(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function u0(e,t,s,i,u,h,p,b,w,E,D,M){return e=new lb(e,t,s,p,w,E,D,M,b),t=1,h===!0&&(t|=24),h=Tt(3,null,null,t),e.current=h,h.stateNode=e,t=rc(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:i,isDehydrated:s,cache:t},oc(h),e}function d0(e){return e?(e=hr,e):hr}function h0(e,t,s,i,u,h){u=d0(u),i.context===null?i.context=u:i.pendingContext=u,i=Ja(t),i.payload={element:s},h=h===void 0?null:h,h!==null&&(i.callback=h),s=Xa(e,i,t),s!==null&&(jt(s,e,t),jn(s,e,t))}function f0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Su(e,t){f0(e,t),(e=e.alternate)&&f0(e,t)}function m0(e){if(e.tag===13||e.tag===31){var t=Es(e,67108864);t!==null&&jt(t,e,67108864),Su(e,67108864)}}function g0(e){if(e.tag===13||e.tag===31){var t=zt();t=wo(t);var s=Es(e,t);s!==null&&jt(s,e,t),Su(e,t)}}var Ul=!0;function ob(e,t,s,i){var u=O.T;O.T=null;var h=H.p;try{H.p=2,Eu(e,t,s,i)}finally{H.p=h,O.T=u}}function cb(e,t,s,i){var u=O.T;O.T=null;var h=H.p;try{H.p=8,Eu(e,t,s,i)}finally{H.p=h,O.T=u}}function Eu(e,t,s,i){if(Ul){var u=Au(i);if(u===null)fu(e,t,i,Ml,s),x0(e,i);else if(db(u,e,t,s,i))i.stopPropagation();else if(x0(e,i),t&4&&-1<ub.indexOf(e)){for(;u!==null;){var h=tr(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=_s(h.pendingLanes);if(p!==0){var b=h;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var w=1<<31-Et(p);b.entanglements[1]|=w,p&=~w}ha(h),(Ae&6)===0&&(bl=kt()+500,qn(0))}}break;case 31:case 13:b=Es(h,2),b!==null&&jt(b,h,2),yl(),Su(h,2)}if(h=Au(i),h===null&&fu(e,t,i,Ml,s),h===u)break;u=h}u!==null&&i.stopPropagation()}else fu(e,t,i,null,s)}}function Au(e){return e=Oo(e),Tu(e)}var Ml=null;function Tu(e){if(Ml=null,e=er(e),e!==null){var t=d(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=f(t),e!==null)return e;e=null}else if(s===31){if(e=m(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ml=e,null}function p0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jg()){case jd:return 2;case Nd:return 8;case ki:case Xg:return 32;case kd:return 268435456;default:return 32}default:return 32}}var Ou=!1,ls=null,os=null,cs=null,Zn=new Map,Yn=new Map,us=[],ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x0(e,t){switch(e){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Zn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yn.delete(t.pointerId)}}function Kn(e,t,s,i,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:s,eventSystemFlags:i,nativeEvent:h,targetContainers:[u]},t!==null&&(t=tr(t),t!==null&&m0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function db(e,t,s,i,u){switch(t){case"focusin":return ls=Kn(ls,e,t,s,i,u),!0;case"dragenter":return os=Kn(os,e,t,s,i,u),!0;case"mouseover":return cs=Kn(cs,e,t,s,i,u),!0;case"pointerover":var h=u.pointerId;return Zn.set(h,Kn(Zn.get(h)||null,e,t,s,i,u)),!0;case"gotpointercapture":return h=u.pointerId,Yn.set(h,Kn(Yn.get(h)||null,e,t,s,i,u)),!0}return!1}function b0(e){var t=er(e.target);if(t!==null){var s=d(t);if(s!==null){if(t=s.tag,t===13){if(t=f(s),t!==null){e.blockedOn=t,Cd(e.priority,function(){g0(s)});return}}else if(t===31){if(t=m(s),t!==null){e.blockedOn=t,Cd(e.priority,function(){g0(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ll(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Au(e.nativeEvent);if(s===null){s=e.nativeEvent;var i=new s.constructor(s.type,s);To=i,s.target.dispatchEvent(i),To=null}else return t=tr(s),t!==null&&m0(t),e.blockedOn=s,!1;t.shift()}return!0}function v0(e,t,s){Ll(e)&&s.delete(t)}function hb(){Ou=!1,ls!==null&&Ll(ls)&&(ls=null),os!==null&&Ll(os)&&(os=null),cs!==null&&Ll(cs)&&(cs=null),Zn.forEach(v0),Yn.forEach(v0)}function Bl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ou||(Ou=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,hb)))}var ql=null;function y0(e){ql!==e&&(ql=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ql===e&&(ql=null);for(var t=0;t<e.length;t+=3){var s=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(Tu(i||s)===null)continue;break}var h=tr(s);h!==null&&(e.splice(t,3),t-=3,Ac(h,{pending:!0,data:u,method:s.method,action:i},i,u))}}))}function Mr(e){function t(w){return Bl(w,e)}ls!==null&&Bl(ls,e),os!==null&&Bl(os,e),cs!==null&&Bl(cs,e),Zn.forEach(t),Yn.forEach(t);for(var s=0;s<us.length;s++){var i=us[s];i.blockedOn===e&&(i.blockedOn=null)}for(;0<us.length&&(s=us[0],s.blockedOn===null);)b0(s),s.blockedOn===null&&us.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(i=0;i<s.length;i+=3){var u=s[i],h=s[i+1],p=u[xt]||null;if(typeof h=="function")p||y0(s);else if(p){var b=null;if(h&&h.hasAttribute("formAction")){if(u=h,p=h[xt]||null)b=p.formAction;else if(Tu(u)!==null)continue}else b=p.action;typeof b=="function"?s[i+1]=b:(s.splice(i,3),i-=3),y0(s)}}}function w0(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(p){return u=p})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),i||setTimeout(s,20)}function s(){if(!i&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Cu(e){this._internalRoot=e}$l.prototype.render=Cu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var s=t.current,i=zt();h0(s,i,e,t,null,null)},$l.prototype.unmount=Cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;h0(e.current,2,null,e,null,null),yl(),t[Ws]=null}};function $l(e){this._internalRoot=e}$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=Od();e={blockedOn:null,target:e,priority:t};for(var s=0;s<us.length&&t!==0&&t<us[s].priority;s++);us.splice(s,0,e),s===0&&b0(e)}};var _0=a.version;if(_0!=="19.2.3")throw Error(l(527,_0,"19.2.3"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=x(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var fb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{an=Il.inject(fb),St=Il}catch{}}return Xn.createRoot=function(e,t){if(!c(e))throw Error(l(299));var s=!1,i="",u=Tf,h=Of,p=Cf;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=u0(e,1,!1,null,null,s,i,null,u,h,p,w0),e[Ws]=t.current,hu(e),new Cu(t)},Xn.hydrateRoot=function(e,t,s){if(!c(e))throw Error(l(299));var i=!1,u="",h=Tf,p=Of,b=Cf,w=null;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(w=s.formState)),t=u0(e,1,!0,t,s??null,i,u,w,h,p,b,w0),t.context=d0(null),s=t.current,i=zt(),i=wo(i),u=Ja(i),u.callback=null,Xa(s,u,i),s=i,t.current.lanes=s,rn(t,s),ha(t),e[Ws]=t.current,hu(e),new $l(t)},Xn.version="19.2.3",Xn}var A0;function Db(){if(A0)return Du.exports;A0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Du.exports=Rb(),Du.exports}var zb=Db();const Ub=cd(zb),vs=()=>{const[n,a]=oe.useState(!1),r=ud(),l=c=>r.pathname===c;return o.jsxs("header",{className:"fixed w-full top-0 z-50 transition-all duration-300 bg-white/70 dark:bg-background-dark/70 backdrop-blur-xl border-b border-gray-100/50 dark:border-white/5 shadow-sm",children:[o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs(_e,{to:"/",className:"text-2xl font-black text-slate-900 dark:text-white tracking-tighter flex items-center group",children:[o.jsx("span",{className:"material-icons mr-2 text-brand-orange group-hover:rotate-12 transition-transform duration-300","aria-hidden":"true",children:"school"}),"TuTesis",o.jsx("span",{className:"text-brand-orange",children:"RD"})]}),o.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors focus:outline-none",onClick:()=>a(!n),children:o.jsx("span",{className:"material-icons text-2xl text-slate-800 dark:text-white",children:"menu"})}),o.jsxs("nav",{className:"hidden md:flex space-x-1 items-center font-medium text-sm",children:[o.jsx(_e,{to:"/",className:`px-4 py-2 rounded-full transition-all duration-300 ${l("/")?"text-brand-orange bg-orange-50 dark:bg-gray-800":"text-slate-600 dark:text-slate-300 hover:text-brand-orange hover:bg-orange-50 dark:hover:bg-gray-800"}`,children:"Inicio"}),o.jsx(_e,{to:"/nosotros",className:`px-4 py-2 rounded-full transition-all duration-300 ${l("/nosotros")?"text-brand-orange bg-orange-50 dark:bg-gray-800":"text-slate-600 dark:text-slate-300 hover:text-brand-orange hover:bg-orange-50 dark:hover:bg-gray-800"}`,children:"Nosotros"}),o.jsx(_e,{to:"/servicios",className:`px-4 py-2 rounded-full transition-all duration-300 ${l("/servicios")?"text-brand-orange bg-orange-50 dark:bg-gray-800":"text-slate-600 dark:text-slate-300 hover:text-brand-orange hover:bg-orange-50 dark:hover:bg-gray-800"}`,children:"Servicios"}),o.jsx(_e,{to:"/herramientas",className:`px-4 py-2 rounded-full transition-all duration-300 ${l("/herramientas")?"text-brand-orange bg-orange-50 dark:bg-gray-800":"text-slate-600 dark:text-slate-300 hover:text-brand-orange hover:bg-orange-50 dark:hover:bg-gray-800"}`,children:"Herramientas"}),o.jsx(_e,{to:"/universidades",className:`px-4 py-2 rounded-full transition-all duration-300 ${l("/universidades")?"text-brand-orange bg-orange-50 dark:bg-gray-800":"text-slate-600 dark:text-slate-300 hover:text-brand-orange hover:bg-orange-50 dark:hover:bg-gray-800"}`,children:"Universidades"}),o.jsx(_e,{to:"/blog",className:`px-4 py-2 rounded-full transition-all duration-300 ${l("/blog")?"text-brand-orange bg-orange-50 dark:bg-gray-800":"text-slate-600 dark:text-slate-300 hover:text-brand-orange hover:bg-orange-50 dark:hover:bg-gray-800"}`,children:"Blog"}),o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",className:"ml-4 px-6 py-2.5 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-full hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300 flex items-center gap-2 font-bold",children:[o.jsx("i",{className:"fab fa-whatsapp text-lg"})," Contactar"]})]})]}),o.jsxs("div",{className:`md:hidden bg-white/95 dark:bg-black/95 backdrop-blur-xl border-t border-gray-100 dark:border-gray-800 absolute w-full ${n?"block":"hidden"}`,children:[o.jsx(_e,{to:"/",onClick:()=>a(!1),className:"block w-full text-left py-4 px-8 font-medium text-slate-800 dark:text-slate-200 border-b border-gray-50 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Inicio"}),o.jsx(_e,{to:"/nosotros",onClick:()=>a(!1),className:"block w-full text-left py-4 px-8 font-medium text-slate-800 dark:text-slate-200 border-b border-gray-50 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Nosotros"}),o.jsx(_e,{to:"/servicios",onClick:()=>a(!1),className:"block w-full text-left py-4 px-8 font-medium text-slate-800 dark:text-slate-200 border-b border-gray-50 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Servicios"}),o.jsx(_e,{to:"/herramientas",onClick:()=>a(!1),className:"block w-full text-left py-4 px-8 font-medium text-slate-800 dark:text-slate-200 border-b border-gray-50 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Herramientas"}),o.jsx(_e,{to:"/universidades",onClick:()=>a(!1),className:"block w-full text-left py-4 px-8 font-medium text-slate-800 dark:text-slate-200 border-b border-gray-50 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Universidades"}),o.jsx(_e,{to:"/blog",onClick:()=>a(!1),className:"block w-full text-left py-4 px-8 font-medium text-slate-800 dark:text-slate-200 border-b border-gray-50 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Blog"}),o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",onClick:()=>a(!1),className:"block py-4 px-8 text-brand-orange font-bold bg-orange-50/50 dark:bg-orange-900/10",children:[o.jsx("i",{className:"fab fa-whatsapp mr-2"})," Contactar por WhatsApp"]})]})]})},ys=()=>o.jsx("footer",{id:"contacto",className:"bg-gray-900 text-gray-400 py-16",children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-2xl font-bold text-white block mb-4 flex items-center",children:[o.jsx("span",{className:"material-icons mr-2 text-brand-orange",children:"school"}),"Tu Tesis RD"]}),o.jsx("p",{className:"text-sm mb-6",children:"Tu aliado acadmico nmero uno en Repblica Dominicana. Calidad, confianza y resultados garantizados."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-bold text-lg mb-6",children:"Contacto"}),o.jsxs("ul",{className:"space-y-4",children:[o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"material-icons mt-1 mr-3 text-brand-orange text-sm",children:"location_on"}),o.jsxs("span",{children:["Higey, La Altagracia, Rep. Dom.",o.jsx("br",{}),o.jsx("span",{className:"text-xs text-gray-500",children:"(Servicio a todo el pas)"})]})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"material-icons mr-3 text-brand-orange text-sm",children:"email"}),o.jsx("a",{href:"mailto:ttesisrd@gmail.com",className:"hover:text-white transition",children:"ttesisrd@gmail.com"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"material-icons mr-3 text-brand-orange text-sm",children:"chat"}),o.jsx("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition",children:"Chat WhatsApp"})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-bold text-lg mb-6",children:"Enlaces Rpidos"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(_e,{to:"/",className:"hover:text-brand-orange transition",children:"Inicio"})}),o.jsx("li",{children:o.jsx(_e,{to:"/servicios",className:"hover:text-brand-orange transition",children:"Servicios"})}),o.jsx("li",{children:o.jsx(_e,{to:"/nosotros",className:"hover:text-brand-orange transition",children:"Nosotros"})}),o.jsx("li",{children:o.jsx(_e,{to:"/blog",className:"hover:text-brand-orange transition",children:"Blog"})}),o.jsx("li",{children:o.jsx(_e,{to:"/registro",className:"hover:text-brand-orange transition text-brand-orange font-medium",children:"Registrar Proyecto"})})]})]})]}),o.jsxs("div",{className:"mt-16 pt-8 border-t border-gray-800 flex flex-col md:flex-row justify-between items-center gap-6",children:[o.jsxs("div",{className:"text-sm",children:[" ",new Date().getFullYear()," TuTesisRD. Todos los derechos reservados."]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("a",{href:"#",className:"hover:text-white transition",children:o.jsx("i",{className:"fab fa-instagram text-xl"})}),o.jsx("a",{href:"#",className:"hover:text-white transition",children:o.jsx("i",{className:"fab fa-facebook text-xl"})}),o.jsx("a",{href:"#",className:"hover:text-white transition",children:o.jsx("i",{className:"fab fa-linkedin text-xl"})})]})]})]})}),ms=({title:n,description:a,canonical:r,schema:l})=>{const c=`${n} | TuTesisRD - Asesora de Tesis en Repblica Dominicana`,f=a||"Asesora experta en tesis, anteproyectos y monogrficos en Repblica Dominicana. Ms de 7 aos ayudando a estudiantes a graduarse con xito.",m="https://www.tutesisrd.online";return oe.useEffect(()=>{document.title=c;const g=(N,j,A=!1)=>{const R=A?"property":"name";let L=document.querySelector(`meta[${R}="${N}"]`);L||(L=document.createElement("meta"),L.setAttribute(R,N),document.head.appendChild(L)),L.setAttribute("content",j)};g("description",f),g("og:title",c,!0),g("og:description",f,!0),g("og:type","website",!0),g("og:url",window.location.href,!0),g("og:image",`${m}/favicon.png`,!0),g("twitter:card","summary_large_image"),g("twitter:title",c),g("twitter:description",f);let x=document.querySelector('link[rel="canonical"]');const v=r||window.location.href;x||(x=document.createElement("link"),x.setAttribute("rel","canonical"),document.head.appendChild(x)),x.setAttribute("href",v);let y=document.querySelector('script[id="ld-json"]');l?(y||(y=document.createElement("script"),y.setAttribute("type","application/ld+json"),y.setAttribute("id","ld-json"),document.head.appendChild(y)),y.textContent=JSON.stringify(l)):y&&y.remove()},[c,f,r,l]),null},Mb=()=>{const[n,a]=Xr.useState(null),r=c=>{a(n===c?null:c)},l={"@context":"https://schema.org","@type":"LocalBusiness",name:"TuTesisRD",image:"https://www.tutesisrd.online/favicon.png","@id":"https://www.tutesisrd.online",url:"https://www.tutesisrd.online",telephone:"+18294435985",address:{"@type":"PostalAddress",streetAddress:"Repblica Dominicana",addressLocality:"Santo Domingo",addressCountry:"DO"},geo:{"@type":"GeoCoordinates",latitude:18.4861,longitude:-69.9312},openingHoursSpecification:{"@type":"OpeningHoursSpecification",dayOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday"],opens:"09:00",closes:"18:00"},sameAs:["https://wa.me/message/YESJDSE3MZ3IM1"]};return o.jsxs("div",{className:"font-sans text-gray-800 bg-background-light dark:bg-background-dark dark:text-gray-100 transition-colors duration-200",children:[o.jsx(ms,{title:"Inicio",description:"Tu Tesis Aprobada, Sin Estrs. Expertos en redaccin acadmica y metodologa en Repblica Dominicana.",schema:l}),o.jsx(vs,{}),o.jsxs("section",{id:"inicio",className:"relative pt-32 pb-16 lg:pt-48 lg:pb-32 overflow-hidden bg-background-light dark:bg-background-dark",children:[o.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-[300px] h-[300px] md:w-[600px] md:h-[600px] bg-brand-orange/10 rounded-full blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-[250px] h-[250px] md:w-[500px] md:h-[500px] bg-blue-500/10 rounded-full blur-3xl"}),o.jsx("div",{className:"container mx-auto px-6 relative z-10",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-12 lg:gap-20",children:[o.jsxs("div",{className:"md:w-1/2 animate-fade-in-up text-center md:text-left",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white dark:bg-white/10 border border-gray-200 dark:border-white/10 shadow-sm mb-6 md:mb-8",children:[o.jsx("span",{className:"flex h-2 w-2 rounded-full bg-green-500 animate-pulse"}),o.jsx("span",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-200",children:"Disponible para nuevos proyectos"})]}),o.jsxs("h1",{className:"text-4xl lg:text-7xl font-black text-slate-900 dark:text-white mb-6 leading-[1.1] tracking-tight",children:["Tu Tesis Aprobada,",o.jsx("br",{}),o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-orange to-amber-500",children:"Sin Estrs."})]}),o.jsx("p",{className:"text-lg lg:text-xl text-slate-500 dark:text-slate-400 mb-8 md:mb-10 leading-relaxed max-w-lg mx-auto md:mx-0",children:"Expertos en redaccin acadmica y metodologa. Te acompaamos desde el anteproyecto hasta la defensa final."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center md:justify-start",children:[o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center bg-brand-orange text-white font-bold py-4 px-8 rounded-full shadow-xl shadow-brand-orange/20 hover:shadow-2xl hover:shadow-brand-orange/30 hover:-translate-y-1 transition-all duration-300",children:[o.jsx("span",{className:"material-icons mr-2","aria-hidden":"true",children:"chat"})," Contactar Asesor"]}),o.jsx(_e,{to:"/servicios",className:"inline-flex items-center justify-center bg-white dark:bg-white/5 text-slate-700 dark:text-white font-bold py-4 px-8 rounded-full border border-gray-200 dark:border-white/10 hover:bg-gray-50 dark:hover:bg-white/10 transition-all duration-300",children:"Ver Servicios"})]}),o.jsxs("div",{className:"mt-12 hidden md:inline-flex items-center gap-4 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm p-3 pr-6 rounded-full border border-white/50 dark:border-slate-700/50 shadow-sm",children:[o.jsxs("div",{className:"flex -space-x-3",children:[o.jsx("img",{src:"https://randomuser.me/api/portraits/women/44.jpg",alt:"Estudiante satisfecha",className:"w-10 h-10 rounded-full border-2 border-white dark:border-slate-900 object-cover"}),o.jsx("img",{src:"https://randomuser.me/api/portraits/men/32.jpg",alt:"Estudiante satisfecho",className:"w-10 h-10 rounded-full border-2 border-white dark:border-slate-900 object-cover"}),o.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white dark:border-slate-900 bg-brand-orange flex items-center justify-center text-xs text-white font-bold",children:"+300"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-slate-900 dark:text-white leading-tight",children:"Estudiantes"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:"Graduados exitosamente"})]})]})]}),o.jsxs("div",{className:"md:w-1/2 relative animate-fade-in group perspective-1000 mt-8 md:mt-0",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-brand-orange to-yellow-400 rounded-[2rem] transform rotate-3 scale-105 opacity-20 blur-2xl group-hover:rotate-6 transition-transform duration-500"}),o.jsx("img",{src:"https://images.unsplash.com/photo-1523240795612-9a054b0db644?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",alt:"Estudiante celebrando graduacin con xito",className:"relative rounded-[2rem] shadow-2xl transform transition-transform duration-500 group-hover:scale-[1.02] border border-white/20"}),o.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-xl flex items-center gap-4 animate-bounce-slow border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-full text-green-600",children:o.jsx("span",{className:"material-icons","aria-hidden":"true",children:"check_circle"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:"Resultado"}),o.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"100% Aprobado"})]})]})]})]})})]}),o.jsxs("section",{className:"py-12 bg-slate-50 dark:bg-slate-900/50 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute top-1/2 left-0 w-[500px] h-[500px] bg-slate-200/50 dark:bg-slate-800/30 rounded-full blur-3xl -translate-y-1/2 -translate-x-1/2"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-[300px] h-[300px] bg-brand-orange/5 rounded-full blur-3xl translate-y-1/3 translate-x-1/3"})]}),o.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[o.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-20",children:[o.jsx("span",{className:"text-brand-orange font-black uppercase tracking-[0.2em] text-sm mb-4 block",children:"Nuestra Trayectoria"}),o.jsxs("h2",{className:"text-3xl md:text-5xl font-black text-slate-900 dark:text-white mb-6",children:["Por qu elegir ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-orange to-amber-500",children:"TuTesisRD?"})]}),o.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 leading-relaxed",children:"Ms de 7 aos transformando el estrs acadmico en xito profesional. Nuestra metodologa garantiza resultados aprobados."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:"history_edu",title:"+7 Aos",desc:"Experiencia Acadmica",color:"text-blue-500",bg:"bg-blue-500/10"},{icon:"groups",title:"300+",desc:"Tesis Asesoradas",color:"text-brand-orange",bg:"bg-brand-orange/10"},{icon:"verified",title:"100%",desc:"Tasa de Aprobacin",color:"text-green-500",bg:"bg-green-500/10"},{icon:"language",title:"Nacional",desc:"Cobertura Nacional",color:"text-purple-500",bg:"bg-purple-500/10"}].map((c,d)=>o.jsx("div",{className:"group bg-white dark:bg-slate-900 p-8 rounded-[2rem] border border-slate-100 dark:border-slate-800 hover:border-brand-orange/30 dark:hover:border-brand-orange/30 transition-all duration-300 hover:-translate-y-1",children:o.jsxs("div",{className:"relative z-10 text-center",children:[o.jsx("div",{className:`w-16 h-16 mx-auto ${c.bg} rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300`,children:o.jsx("span",{className:`material-icons text-3xl ${c.color}`,"aria-hidden":"true",children:c.icon})}),o.jsx("h4",{className:"text-3xl font-black text-slate-900 dark:text-white mb-2 tracking-tight",children:c.title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:c.desc})]})},d))})]})]}),o.jsx("section",{id:"servicios",className:"py-12 bg-white dark:bg-black relative overflow-hidden",children:o.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[o.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[o.jsx("span",{className:"text-brand-orange font-black uppercase tracking-[0.2em] text-sm mb-4 block",children:"Soluciones Integrales"}),o.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-slate-900 dark:text-white mb-6 leading-tight",children:["Nuestros Servicios ",o.jsx("span",{className:"text-slate-400 dark:text-slate-600",children:"Premium"})]}),o.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 leading-relaxed mb-8",children:"Diseamos un ecosistema de servicios para cubrir cada etapa de tu investigacin, desde la idea inicial hasta la sustentacin."}),o.jsx("div",{className:"flex justify-center",children:o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",className:"group flex items-center gap-3 px-8 py-4 bg-slate-900 hover:bg-slate-800 dark:bg-white dark:hover:bg-gray-100 text-white dark:text-slate-900 rounded-full font-bold transition-all hover:-translate-y-1 shadow-lg shadow-slate-200/50 dark:shadow-none",children:[o.jsx("span",{className:"uppercase tracking-wider text-sm",children:"Ver Planes"}),o.jsx("span",{className:"material-icons group-hover:translate-x-1 transition-transform text-sm",children:"arrow_forward"})]})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto",children:[{icon:"school",title:"Asesora de Tesis",desc:"Acompaamiento 1 a 1 metodologa y contenido.",details:"Sesiones personalizadas con expertos para definir tu tema, objetivos y estructura. Revisin capitular continua.",color:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/10"},{icon:"fact_check",title:"Correccin de Estilo",desc:"Normas APA, ortografa y redaccin acadmica.",details:"Eliminacin de errores gramaticales, sintcticos y ortogrficos. Ajuste riguroso a normas APA 7ma edicin.",color:"text-emerald-600",bg:"bg-emerald-50 dark:bg-emerald-900/10"},{icon:"analytics",title:"Anlisis Estadstico",desc:"Procesamiento de datos (SPSS, Excel) y resultados.",details:"Anlisis descriptivo e inferencial. Creacin de tablas y grficos interpretados listos para tu informe.",color:"text-violet-600",bg:"bg-violet-50 dark:bg-violet-900/10"},{icon:"menu_book",title:"Investigacin",desc:"Marco terico y bsqueda bibliogrfica.",details:"Bsqueda de fuentes de alto impacto (Scopus, WoS) para fundamentar tu marco terico y estado del arte.",color:"text-brand-orange",bg:"bg-orange-50 dark:bg-orange-900/10"}].map((c,d)=>o.jsx("div",{className:`group relative p-6 rounded-[2rem] bg-white dark:bg-slate-900 border transition-all duration-300 hover:-translate-y-1 cursor-pointer
                                    ${n===d?"border-brand-orange shadow-xl shadow-brand-orange/10 ring-1 ring-brand-orange/20":"border-slate-100 dark:border-slate-800 hover:border-brand-orange/30 dark:hover:border-brand-orange/30 hover:shadow-xl hover:shadow-slate-200/50 dark:hover:shadow-none"}`,onClick:()=>r(d),children:o.jsxs("div",{className:"flex flex-col h-full justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:`w-14 h-14 ${c.bg} ${c.color} rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300`,children:o.jsx("span",{className:"material-icons text-3xl","aria-hidden":"true",children:c.icon})}),o.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3 group-hover:text-brand-orange transition-colors",children:c.title}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed text-sm",children:c.desc}),o.jsx("div",{className:`grid transition-all duration-300 ease-in-out ${n===d?"grid-rows-[1fr] opacity-100 mt-4":"grid-rows-[0fr] opacity-0"}`,children:o.jsx("div",{className:"overflow-hidden",children:o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 border-t border-slate-100 dark:border-slate-800 pt-3",children:c.details})})})]}),o.jsxs("div",{className:"mt-6 flex items-center text-sm font-bold text-slate-900 dark:text-white group-hover:text-brand-orange transition-colors",children:[o.jsx("span",{className:"uppercase tracking-wider text-xs",children:n===d?"Menos detalles":"Ms detalles"}),o.jsx("span",{className:`material-icons text-sm ml-2 transition-transform duration-300 ${n===d?"-rotate-90":"group-hover:translate-x-1"}`,children:n===d?"expand_less":"arrow_forward"})]})]})},d))}),o.jsxs("div",{className:"mt-16 bg-gradient-to-r from-slate-50 to-white dark:from-slate-900 dark:to-black rounded-[2.5rem] p-8 md:p-12 border border-slate-200 dark:border-slate-800 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-brand-orange/5 rounded-full blur-[80px] pointer-events-none"}),o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-12 relative z-10",children:[o.jsxs("div",{className:"md:w-1/3",children:[o.jsxs("h3",{className:"text-3xl font-black text-slate-900 dark:text-white mb-4",children:["Todo Incluido ",o.jsx("span",{className:"text-brand-orange",children:"Premium"})]}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Al contratar cualquiera de nuestros servicios, obtienes beneficios exclusivos que garantizan tu tranquilidad."})]}),o.jsx("div",{className:"md:w-2/3 grid grid-cols-1 sm:grid-cols-3 gap-6 w-full",children:[{icon:"verified_user",title:"Anti-Plagio",text:"Reporte Turnitin Gratis"},{icon:"support_agent",title:"Soporte 24/7",text:"WhatsApp Directo"},{icon:"event_available",title:"Garanta",text:"Cumplimiento de Plazos"}].map((c,d)=>o.jsxs("div",{className:"flex gap-4 items-start p-4 rounded-2xl hover:bg-white dark:hover:bg-white/5 border border-transparent hover:border-slate-100 dark:hover:border-slate-700 transition-colors",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/30 text-green-600 flex items-center justify-center shrink-0",children:o.jsx("span",{className:"material-icons text-sm",children:c.icon})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:c.title}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:c.text})]})]},d))})]})]})]})}),o.jsxs("section",{className:"py-24 bg-slate-900 text-white overflow-hidden relative",children:[o.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-brand-orange/20 rounded-full blur-[120px] -mr-64 -mt-64"}),o.jsx("div",{className:"container mx-auto px-6 relative z-10",children:o.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-16",children:[o.jsxs("div",{className:"lg:w-1/2",children:[o.jsx("span",{className:"text-brand-orange font-black uppercase tracking-[0.2em] text-sm mb-4 block",children:"Herramientas Gratuitas"}),o.jsxs("h2",{className:"text-4xl md:text-5xl font-black mb-8 leading-tight",children:["Auditora de Tesis con ",o.jsx("span",{className:"text-brand-orange",children:"IA"})," Pro"]}),o.jsx("p",{className:"text-lg text-slate-400 mb-10 leading-relaxed",children:"Sube tu borrador y deja que nuestra inteligencia acadmica analice la coherencia de tu investigacin, el cumplimiento de normas APA y la estructura lgica en segundos."}),o.jsxs("ul",{className:"space-y-6 mb-12",children:[o.jsxs("li",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"bg-brand-orange/20 p-2 rounded-lg text-brand-orange",children:o.jsx("span",{className:"material-icons",children:"fact_check"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-white",children:"Validacin de Coherencia"}),o.jsx("p",{className:"text-sm text-slate-400",children:"Verificamos si tu problema, objetivos y metodologa estn alineados."})]})]}),o.jsxs("li",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"bg-brand-orange/20 p-2 rounded-lg text-brand-orange",children:o.jsx("span",{className:"material-icons",children:"format_paint"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-white",children:"Revisin de Formato"}),o.jsx("p",{className:"text-sm text-slate-400",children:"Detectamos errores comunes en portadas, ndices y bibliografa."})]})]})]}),o.jsxs(_e,{to:"/herramientas/auditor",className:"inline-flex items-center bg-brand-orange text-white font-black py-4 px-10 rounded-full shadow-glow-orange hover:shadow-glow-orange-lg hover:scale-105 transition-all",children:["Probar Auditor Gratis ",o.jsx("span",{className:"material-icons ml-2",children:"rocket_launch"})]})]}),o.jsx("div",{className:"lg:w-1/2 relative",children:o.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-950 p-8 rounded-[2.5rem] border border-slate-800 shadow-2xl relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8 pb-4 border-b border-slate-800",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),o.jsx("div",{className:"text-xs font-mono text-slate-500 uppercase tracking-widest",children:"Auditora en proceso..."})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"h-4 bg-slate-800 rounded-full w-3/4 animate-pulse"}),o.jsx("div",{className:"h-4 bg-slate-800 rounded-full w-1/2 animate-pulse delay-75"}),o.jsxs("div",{className:"p-6 bg-brand-orange/10 border border-brand-orange/20 rounded-2xl",children:[o.jsxs("div",{className:"flex items-center gap-3 text-brand-orange mb-2",children:[o.jsx("span",{className:"material-icons text-sm",children:"warning"}),o.jsx("span",{className:"font-bold text-sm tracking-wide uppercase",children:"Hallazgo APA 7"})]}),o.jsx("p",{className:"text-sm text-slate-300",children:"Se detect que el objetivo general no contiene el 'Para qu' de la investigacin."})]}),o.jsx("div",{className:"h-4 bg-slate-800 rounded-full w-2/3 animate-pulse delay-150"})]}),o.jsx("div",{className:"absolute -bottom-6 -right-6 bg-white dark:bg-slate-800 text-slate-900 dark:text-white p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 animate-bounce-slow",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-black text-brand-orange",children:"94%"}),o.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest border-t border-slate-100 dark:border-slate-700 mt-1 pt-1 opacity-60",children:"Puntaje Acadmico"})]})})]})})]})})]}),o.jsx("section",{className:"py-16 bg-brand-orange/5 dark:bg-black/20",children:o.jsx("div",{className:"container mx-auto px-6",children:o.jsx("div",{className:"bg-white dark:bg-background-dark rounded-3xl shadow-xl overflow-hidden border border-gray-100 dark:border-gray-800",children:o.jsxs("div",{className:"flex flex-col lg:flex-row",children:[o.jsxs("div",{className:"lg:w-2/5 bg-gray-100 dark:bg-gray-800 relative min-h-[300px] lg:min-h-full",children:[o.jsx("img",{src:"/miguel-cordero.jpg",alt:"Miguel ngel Cordero Trinidad",className:"absolute inset-0 w-full h-full object-cover object-top"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-6 text-white lg:hidden",children:[o.jsx("h3",{className:"text-2xl font-bold",children:"Miguel ngel Cordero"}),o.jsx("p",{className:"text-brand-orange font-medium",children:"CEO & Especialista Acadmico"})]})]}),o.jsxs("div",{className:"lg:w-3/5 p-8 md:p-12",children:[o.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-orange-100 dark:bg-orange-900/30 text-brand-orange text-sm font-bold mb-4",children:"Sobre el Especialista"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Pasin por la Educacin y la Investigacin"}),o.jsxs("div",{className:"prose prose-gray dark:prose-invert text-gray-600 dark:text-gray-300 mb-8",children:[o.jsx("p",{className:"mb-4 text-justify",children:"Miguel ngel Cordero Trinidad es un educador y asesor acadmico con ms de cinco aos de experiencia en el diseo, desarrollo y acompaamiento de investigaciones cientficas en Repblica Dominicana."}),o.jsxs("p",{className:"mb-4 text-justify",children:["Graduado ",o.jsx("strong",{children:"Summa Cum Laude"})," en Educacin Primaria por la UCE, combina su perfil con formacin avanzada en competencias digitales, innovacin educativa e IA aplicada."]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center bg-gray-50 dark:bg-gray-800/50 p-4 rounded-xl border border-gray-100 dark:border-gray-700",children:[o.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider",children:"Contacto Directo"}),o.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"Higey, La Altagracia"})]}),o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto px-6 py-3 bg-brand-orange text-white rounded-lg font-bold hover:bg-orange-600 transition shadow-md flex items-center justify-center",children:[o.jsx("span",{className:"material-icons mr-2 text-sm","aria-hidden":"true",children:"chat"})," Hablar con Miguel"]})]})]})]})})})}),o.jsx("section",{className:"py-20 bg-brand-orange relative overflow-hidden",children:o.jsxs("div",{className:"container mx-auto px-6 text-center relative z-10",children:[o.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-white mb-6",children:"nete a los cientos de estudiantes satisfechos!"}),o.jsx("p",{className:"text-white text-lg md:text-xl mb-10 max-w-2xl mx-auto font-medium",children:"Han alcanzado el xito acadmico con nuestra ayuda. Qu esperas para ser el prximo?"}),o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-white text-brand-orange font-bold py-5 px-12 rounded-full shadow-xl hover:bg-gray-100 transition duration-300 transform hover:scale-105 group",children:[o.jsx("span",{className:"material-icons mr-3 text-2xl group-hover:rotate-12 transition-transform","aria-hidden":"true",children:"chat"})," ",o.jsx("span",{className:"text-lg",children:"Hablar con un Asesor"})]})]})}),o.jsx("section",{className:"py-16 bg-white dark:bg-background-dark border-t border-slate-100 dark:border-slate-800",children:o.jsxs("div",{className:"container mx-auto px-6 text-center",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-slate-800 dark:text-white mb-6",children:"Prefieres gestionar todo en lnea?"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-8 max-w-2xl mx-auto",children:"Puedes registrar tu proyecto directamente en nuestra plataforma y enviarnos tus archivos para una revisin inicial."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[o.jsxs(_e,{to:"/registro",className:"w-full sm:w-auto px-10 py-4 bg-brand-orange text-white rounded-full font-bold text-lg hover:shadow-xl hover:shadow-brand-orange/30 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2",children:["Registrar Proyecto ",o.jsx("span",{className:"material-icons","aria-hidden":"true",children:"arrow_forward"})]}),o.jsxs(_e,{to:"/monitoreo",className:"w-full sm:w-auto px-10 py-4 bg-transparent text-brand-orange border-2 border-brand-orange rounded-full font-bold text-lg hover:bg-orange-50 dark:hover:bg-orange-900/10 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2",children:[o.jsx("span",{className:"material-icons","aria-hidden":"true",children:"search"})," Monitorear"]})]})]})}),o.jsx(ys,{})]})},Lb=()=>o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-800 dark:text-white",children:[o.jsx(ms,{title:"Sobre Nosotros",description:"Conoce a Miguel ngel Cordero y al equipo de TuTesisRD. Expertos con ms de 7 aos de experiencia en asesora acadmica."}),o.jsx(vs,{}),o.jsx("section",{className:"pt-32 pb-20",children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Por qu elegir Tu Tesis RD?"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Ms de 7 aos de experiencia y 300+ tesis trabajadas nos respaldan."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-20",children:[{icon:"history_edu",title:"+7 Aos",desc:"Experiencia"},{icon:"groups",title:"300+",desc:"Tesis Asesoradas"},{icon:"verified",title:"100%",desc:"Tasa de Aprobacin"},{icon:"language",title:"Nacional",desc:"Cobertura en todo el pas"}].map((n,a)=>o.jsxs("div",{className:"bg-white dark:bg-white/5 p-6 rounded-2xl border border-gray-100 dark:border-white/5 shadow-sm hover:shadow-md transition-all text-center group",children:[o.jsx("div",{className:"w-12 h-12 bg-orange-50 dark:bg-orange-900/20 rounded-xl flex items-center justify-center mx-auto mb-4 text-brand-orange group-hover:scale-110 transition-transform",children:o.jsx("span",{className:"material-icons",children:n.icon})}),o.jsx("h4",{className:"text-2xl font-black text-slate-900 dark:text-white mb-1",children:n.title}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:n.desc})]},a))}),o.jsx("div",{className:"bg-white dark:bg-background-dark rounded-3xl shadow-xl overflow-hidden border border-gray-100 dark:border-gray-800",children:o.jsxs("div",{className:"flex flex-col lg:flex-row",children:[o.jsxs("div",{className:"lg:w-1/3 bg-gray-100 dark:bg-gray-800 relative min-h-[400px]",children:[o.jsx("img",{src:"/miguel-cordero.jpg",alt:"Miguel ngel Cordero Trinidad",className:"absolute inset-0 w-full h-full object-cover object-top"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 text-white",children:[o.jsx("h3",{className:"text-2xl font-bold",children:"Miguel ngel Cordero"}),o.jsx("p",{className:"text-brand-orange font-medium",children:"CEO & Especialista Acadmico"})]})]}),o.jsxs("div",{className:"lg:w-2/3 p-8 md:p-12",children:[o.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-orange-100 dark:bg-orange-900/30 text-brand-orange text-sm font-bold mb-4",children:"Sobre el Especialista"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Pasin por la Educacin y la Investigacin"}),o.jsxs("div",{className:"prose prose-gray dark:prose-invert text-gray-600 dark:text-gray-300 mb-8",children:[o.jsx("p",{className:"mb-4",children:"Miguel ngel Cordero Trinidad es un educador y asesor acadmico con ms de cinco aos de experiencia en el diseo, desarrollo y acompaamiento de investigaciones cientficas en Repblica Dominicana."}),o.jsxs("p",{className:"mb-4",children:["Graduado ",o.jsx("strong",{children:"Summa Cum Laude"})," en Educacin Primaria por la UCE, combina su perfil con formacin avanzada en competencias digitales, innovacin educativa e IA aplicada."]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center bg-gray-50 dark:bg-gray-800/50 p-4 rounded-xl border border-gray-100 dark:border-gray-700",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider",children:"Contacto Directo"}),o.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"Higey, La Altagracia (Servicio Nacional)"})]}),o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 bg-brand-orange text-white rounded-lg font-bold hover:bg-orange-600 transition shadow-md flex items-center",children:[o.jsx("i",{className:"fab fa-whatsapp mr-2"})," Contactar a Miguel"]})]})]})]})})]})}),o.jsx(ys,{})]}),Bb=()=>o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-800 dark:text-white",children:[o.jsx(ms,{title:"Servicios",description:"Ofrecemos asesora de tesis, correccin de estilo, anlisis estadstico y revisin anti-plagio con Turnitin."}),o.jsx(vs,{}),o.jsx("section",{className:"pt-32 pb-20 bg-background-light dark:bg-surface-dark relative transition-colors duration-200",children:o.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:"Nuestros Servicios"}),o.jsx("div",{className:"w-20 h-1.5 bg-brand-orange mx-auto rounded-full"}),o.jsx("p",{className:"mt-6 text-lg text-slate-600 dark:text-slate-300 max-w-2xl mx-auto",children:"Ofrecemos un paquete completo de soluciones acadmicas diseadas para garantizar el xito de tu proyecto de grado."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:"book",title:"Asesora de Tesis",desc:"Acompaamiento metodolgico completo desde el anteproyecto hasta la defensa final. Te guiamos en cada captulo."},{icon:"edit",title:"Correccin de Estilo",desc:"Revisin ortotipogrfica y gramatical profesional. Adaptacin estricta a normas APA (6ta y 7ma ed.), Vancouver, o IEEE."},{icon:"analytics",title:"Anlisis Estadstico",desc:"Procesamiento de datos con SPSS, Excel o R. Interpretacin de resultados cuantitativos y cualitativos."},{icon:"science",title:"Investigacin y Desarrollo",desc:"Soporte en la bsqueda de informacin acadmica, construccin del marco terico y validacin de instrumentos."}].map((n,a)=>o.jsxs("div",{className:"bg-white dark:bg-white/5 p-8 rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 hover:-translate-y-2 border border-slate-100 dark:border-white/5 group flex flex-col items-center text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-100 to-orange-50 dark:from-orange-900/40 dark:to-orange-900/10 rounded-full flex items-center justify-center mb-6 text-brand-orange group-hover:scale-110 transition-transform shadow-inner",children:o.jsx("span",{className:"material-icons text-3xl",children:n.icon})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 group-hover:text-brand-orange transition-colors",children:n.title}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed",children:n.desc})]},a))}),o.jsxs("div",{className:"mt-20 bg-slate-50 dark:bg-slate-800/50 rounded-3xl p-8 md:p-12 border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-2xl font-bold text-center mb-8",children:"Qu incluye nuestro servicio Premium?"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"mt-1 bg-green-100 dark:bg-green-900/30 p-2 rounded-full text-green-600",children:o.jsx("span",{className:"material-icons text-sm",children:"check"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-2",children:"Revisin Anti-Plagio"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Garantizamos originalidad con reportes detallados de similitud (Turnitin)."})]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"mt-1 bg-green-100 dark:bg-green-900/30 p-2 rounded-full text-green-600",children:o.jsx("span",{className:"material-icons text-sm",children:"check"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-2",children:"Soporte Continuo"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Comunicacin directa con tu asesor va WhatsApp y Correo."})]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"mt-1 bg-green-100 dark:bg-green-900/30 p-2 rounded-full text-green-600",children:o.jsx("span",{className:"material-icons text-sm",children:"check"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-2",children:"Entrega Puntual"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Cronograma de entregas riguroso para cumplir con las fechas de tu universidad."})]})]})]})]}),o.jsxs("div",{className:"mt-32 text-center mb-16",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-black text-gray-900 dark:text-white mb-4",children:"Planes y Precios"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-xl mx-auto",children:"Elige el nivel de acompaamiento que mejor se adapte a tus necesidades y presupuesto."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 pb-10",children:[o.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-3xl p-8 border border-slate-100 dark:border-slate-800 flex flex-col hover:shadow-2xl transition-all h-full",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Bsico"}),o.jsxs("div",{className:"flex items-baseline gap-1 mb-6",children:[o.jsx("span",{className:"text-3xl font-black text-slate-900 dark:text-white",children:"RD$5,000"}),o.jsx("span",{className:"text-slate-500 text-sm",children:"/ mes"})]}),o.jsxs("ul",{className:"space-y-4 mb-8 flex-grow",children:[o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Asesora Metodolgica"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Correccin de Estilo"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Revisin de Normas APA"]})]}),o.jsx("button",{className:"w-full py-3 rounded-xl border border-brand-orange text-brand-orange font-bold hover:bg-brand-orange hover:text-white transition-colors",children:"Seleccionar Plan"})]}),o.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-3xl p-8 border-2 border-brand-orange flex flex-col shadow-glow h-full relative transform scale-105",children:[o.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-brand-orange text-white text-[10px] font-black uppercase tracking-widest px-4 py-1 rounded-full whitespace-nowrap",children:"Ms Popular"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Profesional"}),o.jsxs("div",{className:"flex items-baseline gap-1 mb-6",children:[o.jsx("span",{className:"text-3xl font-black text-slate-900 dark:text-white",children:"RD$12,000"}),o.jsx("span",{className:"text-slate-500 text-sm",children:"/ mes"})]}),o.jsxs("ul",{className:"space-y-4 mb-8 flex-grow",children:[o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Todo lo del Plan Bsico"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Reporte de Plagio (Turnitin)"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Anlisis Estadstico"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Acceso a la Plataforma"]})]}),o.jsx("button",{className:"w-full py-3 rounded-xl bg-brand-orange text-white font-black shadow-lg hover:shadow-glow transition-all",children:"Empezar Ahora"})]}),o.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-3xl p-8 border border-slate-100 dark:border-slate-800 flex flex-col hover:shadow-2xl transition-all h-full",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Premium"}),o.jsx("div",{className:"flex items-baseline gap-1 mb-6",children:o.jsx("span",{className:"text-3xl font-black text-slate-900 dark:text-white",children:"Custom"})}),o.jsxs("ul",{className:"space-y-4 mb-8 flex-grow",children:[o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Tesis desde cero"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Investigacin de campo"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Defensa simulada"]})]}),o.jsx("button",{className:"w-full py-3 rounded-xl border border-brand-orange text-brand-orange font-bold hover:bg-brand-orange hover:text-white transition-colors",children:"Contactar Expertos"})]})]})]})}),o.jsx(ys,{})]}),cg=[{id:"estructura-anteproyecto-dom",title:"Cmo estructurar tu anteproyecto de tesis segn normas dominicanas",excerpt:"Aprende los elementos clave que exigen las principales universidades de Repblica Dominicana (UASD, PUCMM, UNPHU) para aprobar tu anteproyecto.",category:"Metodologa",date:"2024-03-20",readTime:"8 min",image:"anteproyecto_guide.png",content:"<article><h2>Introduccin</h2><p>El anteproyecto es el mapa de ruta de tu investigacin. En Repblica Dominicana, cada universidad tiene matices, pero todas coinciden en una estructura base que debes dominar para recibir el visto bueno de tu asesor.</p><h3>1. El Problema de Investigacin</h3><p>No se trata simplemente de decir qu est mal. Debes delimitar el espacio, el tiempo y los sujetos. Qu est ocurriendo? A quines afecta? Por qu es relevante investigarlo ahora?</p><h3>2. Objetivos y Justificacin</h3><p>Tus objetivos deben ser alcanzables. Usa verbos en infinitivo (Analizar, Determinar, Evaluar). La justificacin debe responder al 'Para qu sirve?' desde un punto de vista social, metodolgico y prctico.</p><h3>3. Metodologa</h3><p>Ser descriptiva, exploratoria o explicativa? Aqu es donde muchos fallan. Define claramente tu poblacin y muestra.</p></article>"},{id:"errores-apa-7",title:"Los 5 errores ms comunes en el uso de Normas APA 7ma Edicin",excerpt:"Desde las citas en el texto hasta la lista de referencias. Evita estos errores para que tu tesis no sea rechazada por formato.",category:"Formato",date:"2024-03-22",readTime:"6 min",image:"apa_errors.png",content:"<article><h2>El formato APA no es tu enemigo</h2><p>La 7ma edicin de APA trajo cambios significativos que simplifican la vida, pero el hbito nos hace cometer errores del pasado.</p><h3>1. Uso incorrecto de 'et al.'</h3><p>En APA 7, para tres o ms autores, se usa 'et al.' desde la primera cita. Ya no hay que listar a todos la primera vez.</p><h3>2. Lugar de publicacin</h3><p>Ya no es necesario! Solo nombre del autor, editorial y ao. Si es digital, el DOI o URL.</p><h3>3. Formato de las referencias</h3><p>La sangra francesa es obligatoria. Muchos estudiantes usan tabulaciones manuales que se rompen al editar el documento.</p></article>"},{id:"gestion-tiempo-tesis",title:"Gestin del tiempo: Cmo terminar tu tesis en 3 meses",excerpt:"Estrategias de productividad realistas para estudiantes que trabajan. Organiza tu investigacin sin morir en el intento.",category:"Productividad",date:"2024-03-25",readTime:"10 min",image:"time_management.png",content:"<article><h2>La tesis es una maratn, no un sprint</h2><p>Muchos dejan todo para el ltimo mes. El secreto es la constancia dividida en bloques de tiempo de alta intensidad.</p><h3>La tcnica Pomodoro aplicada al marco terico</h3><p>Escribir el marco terico es la parte ms tediosa. Usa bloques de 50 minutos de escritura por 10 de descanso. No revises lo que escribes hasta completar el bloque.</p><h3>Define metas semanales, no semestrales</h3><p>En lugar de decir 'tengo que hacer el captulo 1', di 'esta semana redactar 5 pginas del planteamiento'.</p></article>"}],qb=()=>o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-800 dark:text-white",children:[o.jsx(vs,{}),o.jsx("section",{className:"pt-32 pb-20",children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-4",children:"Blog Acadmico"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Consejos, guas y recursos para estudiantes universitarios dominicanos."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:cg.map(n=>o.jsxs(_e,{to:`/blog/${n.id}`,className:"bg-white dark:bg-surface-dark border border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden hover:shadow-xl transition-shadow group flex flex-col h-full",children:[o.jsxs("div",{className:"h-48 bg-slate-200 dark:bg-slate-700 relative overflow-hidden",children:[o.jsx("img",{src:`./blog/${n.image}`,alt:n.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx("span",{className:"bg-brand-orange text-white text-[10px] font-black uppercase tracking-widest px-3 py-1 rounded-full shadow-lg",children:n.category})})]}),o.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[o.jsx("h3",{className:"text-xl font-bold mb-3 text-slate-900 dark:text-white group-hover:text-brand-orange transition-colors",children:n.title}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4 line-clamp-3",children:n.excerpt}),o.jsxs("div",{className:"mt-auto flex items-center justify-between text-xs text-slate-400",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx("span",{className:"material-icons text-sm mr-1",children:"schedule"})," ",n.readTime]}),o.jsx("span",{children:n.date})]})]})]},n.id))}),o.jsx("div",{className:"mt-20 text-center",children:o.jsxs("div",{className:"inline-block p-8 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-dashed border-slate-300 dark:border-slate-700",children:[o.jsx("span",{className:"material-icons text-4xl text-slate-400 mb-2",children:"construction"}),o.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:"Prximamente"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-md mx-auto mt-2",children:"Estamos preparando contenido de alto valor para ayudarte en tu camino acadmico. Vuelve pronto!"})]})})]})}),o.jsx(ys,{})]}),$b=()=>o.jsxs("div",{className:"flex h-screen w-full font-display bg-background-light dark:bg-background-dark text-slate-800 dark:text-white overflow-hidden transition-colors duration-200",children:[o.jsxs("aside",{className:"hidden md:flex w-72 flex-col bg-surface-light dark:bg-surface-dark border-r border-slate-200 dark:border-slate-800 h-full p-6 transition-colors duration-200",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[o.jsx("div",{className:"size-10 bg-primary rounded-xl flex items-center justify-center text-white shadow-lg shadow-blue-500/30",children:o.jsx("span",{className:"material-symbols-outlined",children:"school"})}),o.jsx("h1",{className:"text-xl font-bold",children:"TuTesisRD"})]}),o.jsxs("nav",{className:"flex flex-col gap-2",children:[o.jsxs("a",{href:"#",className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-primary/10 text-primary font-medium",children:[o.jsx("span",{className:"material-symbols-outlined",children:"dashboard"}),"Dashboard"]}),o.jsxs("a",{href:"#",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[o.jsx("span",{className:"material-symbols-outlined",children:"folder_open"}),"Mis Archivos"]}),o.jsxs("a",{href:"#",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[o.jsx("span",{className:"material-symbols-outlined",children:"calendar_month"}),"Calendario"]}),o.jsxs("a",{href:"#",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[o.jsx("span",{className:"material-symbols-outlined",children:"chat"}),"Asesora IA"]})]})]}),o.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-y-auto p-8",children:[o.jsxs("header",{className:"flex justify-between items-center mb-8",children:[o.jsxs("h2",{className:"text-3xl font-bold animate-fade-in",children:["Hola, ",o.jsx("span",{className:"text-primary",children:"Carlos!"})," "]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-white dark:bg-slate-700 p-2 rounded-full shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:o.jsx("span",{className:"material-symbols-outlined",children:"notifications"})}),o.jsx("div",{className:"size-10 rounded-full bg-cover ring-2 ring-white dark:ring-slate-700 shadow-md",style:{backgroundImage:"url('https://lh3.googleusercontent.com/aida-public/AB6AXuAVUvIDS3tSZCfS538VxO8VQkD0THkmMPL5yOaZ9q92zMPh1MSxRkbealDVwtxYU-l5ylCUPqB9DGPLW5TOggcHAHdPKmgqR_N3Uv_76hg55A4atJVjpSvxvNi6Hegi03YOcO57qozAl7nGWhyE4HbHVSqQp6W7IMsLe9SqVFP9OzQnhJUmITy_ccdecOB4eSQMEccckgX2zbzXAJr8kHsH6XeeP1YpOJeMx_JTQ_Zrfi_hzR8bW2FZsm46OUzTeLru-2DLDuZIfmAQ')"}})]})]}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8 animate-slide-up",children:[o.jsxs("div",{className:"xl:col-span-2 space-y-8",children:[o.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-3xl p-6 shadow-sm border border-slate-100 dark:border-slate-800",children:[o.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[o.jsx("span",{className:"material-symbols-outlined text-primary",children:"timeline"}),"Lnea de Tiempo"]}),o.jsxs("div",{className:"flex justify-between items-center relative px-2",children:[o.jsx("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-slate-100 dark:bg-slate-700 -z-10 rounded-full"}),o.jsxs("div",{className:"flex flex-col items-center gap-2 group cursor-pointer",children:[o.jsx("div",{className:"size-12 rounded-full bg-green-500 text-white flex items-center justify-center shadow-lg shadow-green-500/30 transform group-hover:scale-110 transition-transform",children:o.jsx("span",{className:"material-symbols-outlined",children:"check"})}),o.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300",children:"Tema"})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2 group cursor-pointer",children:[o.jsx("div",{className:"size-12 rounded-full bg-green-500 text-white flex items-center justify-center shadow-lg shadow-green-500/30 transform group-hover:scale-110 transition-transform",children:o.jsx("span",{className:"material-symbols-outlined",children:"check"})}),o.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300",children:"Propuesta"})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx("div",{className:"size-16 rounded-full bg-white dark:bg-surface-dark border-4 border-primary text-primary flex items-center justify-center shadow-lg shadow-primary/20 animate-pulse",children:o.jsx("span",{className:"material-symbols-outlined text-2xl",children:"edit_document"})}),o.jsx("span",{className:"text-xs font-bold text-primary",children:"Cap. 2"})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2 opacity-50",children:[o.jsx("div",{className:"size-12 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-500",children:o.jsx("span",{className:"material-symbols-outlined",children:"lock"})}),o.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-400",children:"Cap. 3"})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-3xl p-6 shadow-sm border-2 border-dashed border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center h-48 cursor-pointer hover:border-primary hover:bg-slate-50 dark:hover:bg-slate-800 transition-all group",children:[o.jsx("span",{className:"material-symbols-outlined text-4xl text-primary mb-2 group-hover:scale-110 transition-transform",children:"cloud_upload"}),o.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-300",children:"Subir Avance"})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-slate-900 text-white rounded-3xl p-6 shadow-xl relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary blur-3xl opacity-30 rounded-full group-hover:opacity-40 transition-opacity"}),o.jsx("h3",{className:"text-xl font-bold mb-1",children:"Prxima Entrega"}),o.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Captulo 2: Marco Terico"}),o.jsxs("div",{className:"flex justify-between text-center gap-2",children:[o.jsxs("div",{className:"bg-white/10 p-3 rounded-xl flex-1 backdrop-blur-sm",children:[o.jsx("span",{className:"text-3xl font-mono font-bold text-primary-300",children:"03"}),o.jsx("br",{}),o.jsx("span",{className:"text-[10px] tracking-wider opacity-70",children:"DAS"})]}),o.jsxs("div",{className:"bg-white/10 p-3 rounded-xl flex-1 backdrop-blur-sm",children:[o.jsx("span",{className:"text-3xl font-mono font-bold text-primary-300",children:"14"}),o.jsx("br",{}),o.jsx("span",{className:"text-[10px] tracking-wider opacity-70",children:"HORAS"})]})]})]}),o.jsxs("div",{className:"bg-primary/10 rounded-3xl p-6 border border-primary/20",children:[o.jsx("h4",{className:"font-bold text-primary mb-2",children:"Consejo del Da"}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:'"Recuerda revisar las normas APA 7ma edicin para tus citas bibliogrficas. La IA puede ayudarte a formatearlas."'})]})]})]})]})]});function lo(n,a){var r={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&a.indexOf(l)<0&&(r[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(n);c<l.length;c++)a.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(n,l[c])&&(r[l[c]]=n[l[c]]);return r}function Ib(n,a,r,l){function c(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function m(v){try{x(l.next(v))}catch(y){f(y)}}function g(v){try{x(l.throw(v))}catch(y){f(y)}}function x(v){v.done?d(v.value):c(v.value).then(m,g)}x((l=l.apply(n,a||[])).next())})}const Hb=n=>n?(...a)=>n(...a):(...a)=>fetch(...a);class fd extends Error{constructor(a,r="FunctionsError",l){super(a),this.name=r,this.context=l}}class Vb extends fd{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class T0 extends fd{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class O0 extends fd{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Yu;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Yu||(Yu={}));class Gb{constructor(a,{headers:r={},customFetch:l,region:c=Yu.Any}={}){this.url=a,this.headers=r,this.region=c,this.fetch=Hb(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Ib(this,arguments,void 0,function*(r,l={}){var c;let d,f;try{const{headers:m,method:g,body:x,signal:v,timeout:y}=l;let N={},{region:j}=l;j||(j=this.region);const A=new URL(`${this.url}/${r}`);j&&j!=="any"&&(N["x-region"]=j,A.searchParams.set("forceFunctionRegion",j));let R;x&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&x instanceof Blob||x instanceof ArrayBuffer?(N["Content-Type"]="application/octet-stream",R=x):typeof x=="string"?(N["Content-Type"]="text/plain",R=x):typeof FormData<"u"&&x instanceof FormData?R=x:(N["Content-Type"]="application/json",R=JSON.stringify(x)):x&&typeof x!="string"&&!(typeof Blob<"u"&&x instanceof Blob)&&!(x instanceof ArrayBuffer)&&!(typeof FormData<"u"&&x instanceof FormData)?R=JSON.stringify(x):R=x;let L=v;y&&(f=new AbortController,d=setTimeout(()=>f.abort(),y),v?(L=f.signal,v.addEventListener("abort",()=>f.abort())):L=f.signal);const $=yield this.fetch(A.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},N),this.headers),m),body:R,signal:L}).catch(ne=>{throw new Vb(ne)}),I=$.headers.get("x-relay-error");if(I&&I==="true")throw new T0($);if(!$.ok)throw new O0($);let q=((c=$.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),Y;return q==="application/json"?Y=yield $.json():q==="application/octet-stream"||q==="application/pdf"?Y=yield $.blob():q==="text/event-stream"?Y=$:q==="multipart/form-data"?Y=yield $.formData():Y=yield $.text(),{data:Y,error:null,response:$}}catch(m){return{data:null,error:m,response:m instanceof O0||m instanceof T0?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var Pb=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},Zb=class{constructor(n){var a,r;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(a=n.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=n.signal,this.isMaybeSingle=(r=n.isMaybeSingle)!==null&&r!==void 0?r:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,a){return this.headers=new Headers(this.headers),this.headers.set(n,a),this}then(n,a){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,m=null,g=null,x=d.status,v=d.statusText;if(d.ok){var y,N;if(r.method!=="HEAD"){var j;const $=await d.text();$===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((j=r.headers.get("Accept"))===null||j===void 0)&&j.includes("application/vnd.pgrst.plan+text"))?m=$:m=JSON.parse($))}const R=(y=r.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),L=(N=d.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");R&&L&&L.length>1&&(g=parseInt(L[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,x=406,v="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var A;const R=await d.text();try{f=JSON.parse(R),Array.isArray(f)&&d.status===404&&(m=[],f=null,x=200,v="OK")}catch{d.status===404&&R===""?(x=204,v="No Content"):f={message:R}}if(f&&r.isMaybeSingle&&(!(f==null||(A=f.details)===null||A===void 0)&&A.includes("0 rows"))&&(f=null,x=200,v="OK"),f&&r.shouldThrowOnError)throw new Pb(f)}return{error:f,data:m,count:g,status:x,statusText:v}});return this.shouldThrowOnError||(c=c.catch(d=>{var f;let m="";const g=d==null?void 0:d.cause;if(g){var x,v,y,N;const A=(x=g==null?void 0:g.message)!==null&&x!==void 0?x:"",R=(v=g==null?void 0:g.code)!==null&&v!==void 0?v:"";m=`${(y=d==null?void 0:d.name)!==null&&y!==void 0?y:"FetchError"}: ${d==null?void 0:d.message}`,m+=`

Caused by: ${(N=g==null?void 0:g.name)!==null&&N!==void 0?N:"Error"}: ${A}`,R&&(m+=` (${R})`),g!=null&&g.stack&&(m+=`
${g.stack}`)}else{var j;m=(j=d==null?void 0:d.stack)!==null&&j!==void 0?j:""}return{error:{message:`${(f=d==null?void 0:d.name)!==null&&f!==void 0?f:"FetchError"}: ${d==null?void 0:d.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(n,a)}returns(){return this}overrideTypes(){return this}},Yb=class extends Zb{select(n){let a=!1;const r=(n??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:a=!0,nullsFirst:r,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${n}.${a?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:a,referencedTable:r=a}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${n}`),this}range(n,a,{foreignTable:r,referencedTable:l=r}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${n}`),this.url.searchParams.set(d,`${a-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:a=!1,settings:r=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var f;const m=[n?"analyze":null,a?"verbose":null,r?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const C0=new RegExp("[,()]");var Gr=class extends Yb{eq(n,a){return this.url.searchParams.append(n,`eq.${a}`),this}neq(n,a){return this.url.searchParams.append(n,`neq.${a}`),this}gt(n,a){return this.url.searchParams.append(n,`gt.${a}`),this}gte(n,a){return this.url.searchParams.append(n,`gte.${a}`),this}lt(n,a){return this.url.searchParams.append(n,`lt.${a}`),this}lte(n,a){return this.url.searchParams.append(n,`lte.${a}`),this}like(n,a){return this.url.searchParams.append(n,`like.${a}`),this}likeAllOf(n,a){return this.url.searchParams.append(n,`like(all).{${a.join(",")}}`),this}likeAnyOf(n,a){return this.url.searchParams.append(n,`like(any).{${a.join(",")}}`),this}ilike(n,a){return this.url.searchParams.append(n,`ilike.${a}`),this}ilikeAllOf(n,a){return this.url.searchParams.append(n,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(n,a){return this.url.searchParams.append(n,`ilike(any).{${a.join(",")}}`),this}regexMatch(n,a){return this.url.searchParams.append(n,`match.${a}`),this}regexIMatch(n,a){return this.url.searchParams.append(n,`imatch.${a}`),this}is(n,a){return this.url.searchParams.append(n,`is.${a}`),this}isDistinct(n,a){return this.url.searchParams.append(n,`isdistinct.${a}`),this}in(n,a){const r=Array.from(new Set(a)).map(l=>typeof l=="string"&&C0.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}notIn(n,a){const r=Array.from(new Set(a)).map(l=>typeof l=="string"&&C0.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(n,`not.in.(${r})`),this}contains(n,a){return typeof a=="string"?this.url.searchParams.append(n,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(n,`cs.{${a.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(a)}`),this}containedBy(n,a){return typeof a=="string"?this.url.searchParams.append(n,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(n,`cd.{${a.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(a)}`),this}rangeGt(n,a){return this.url.searchParams.append(n,`sr.${a}`),this}rangeGte(n,a){return this.url.searchParams.append(n,`nxl.${a}`),this}rangeLt(n,a){return this.url.searchParams.append(n,`sl.${a}`),this}rangeLte(n,a){return this.url.searchParams.append(n,`nxr.${a}`),this}rangeAdjacent(n,a){return this.url.searchParams.append(n,`adj.${a}`),this}overlaps(n,a){return typeof a=="string"?this.url.searchParams.append(n,`ov.${a}`):this.url.searchParams.append(n,`ov.{${a.join(",")}}`),this}textSearch(n,a,{config:r,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${c}fts${d}.${a}`),this}match(n){return Object.entries(n).forEach(([a,r])=>{this.url.searchParams.append(a,`eq.${r}`)}),this}not(n,a,r){return this.url.searchParams.append(n,`not.${a}.${r}`),this}or(n,{foreignTable:a,referencedTable:r=a}={}){const l=r?`${r}.or`:"or";return this.url.searchParams.append(l,`(${n})`),this}filter(n,a,r){return this.url.searchParams.append(n,`${a}.${r}`),this}},Kb=class{constructor(n,{headers:a={},schema:r,fetch:l}){this.url=n,this.headers=new Headers(a),this.schema=r,this.fetch=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,a){const{head:r=!1,count:l}=a??{},c=r?"HEAD":"GET";let d=!1;const f=(n??"*").split("").map(x=>/\s/.test(x)&&!d?"":(x==='"'&&(d=!d),x)).join(""),{url:m,headers:g}=this.cloneRequestState();return m.searchParams.set("select",f),l&&g.append("Prefer",`count=${l}`),new Gr({method:c,url:m,headers:g,schema:this.schema,fetch:this.fetch})}insert(n,{count:a,defaultToNull:r=!0}={}){var l;const c="POST",{url:d,headers:f}=this.cloneRequestState();if(a&&f.append("Prefer",`count=${a}`),r||f.append("Prefer","missing=default"),Array.isArray(n)){const m=n.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(m.length>0){const g=[...new Set(m)].map(x=>`"${x}"`);d.searchParams.set("columns",g.join(","))}}return new Gr({method:c,url:d,headers:f,schema:this.schema,body:n,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(n,{onConflict:a,ignoreDuplicates:r=!1,count:l,defaultToNull:c=!0}={}){var d;const f="POST",{url:m,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),a!==void 0&&m.searchParams.set("on_conflict",a),l&&g.append("Prefer",`count=${l}`),c||g.append("Prefer","missing=default"),Array.isArray(n)){const x=n.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(x.length>0){const v=[...new Set(x)].map(y=>`"${y}"`);m.searchParams.set("columns",v.join(","))}}return new Gr({method:f,url:m,headers:g,schema:this.schema,body:n,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(n,{count:a}={}){var r;const l="PATCH",{url:c,headers:d}=this.cloneRequestState();return a&&d.append("Prefer",`count=${a}`),new Gr({method:l,url:c,headers:d,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:n}={}){var a;const r="DELETE",{url:l,headers:c}=this.cloneRequestState();return n&&c.append("Prefer",`count=${n}`),new Gr({method:r,url:l,headers:c,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},Jb=class ug{constructor(a,{headers:r={},schema:l,fetch:c}={}){this.url=a,this.headers=new Headers(r),this.schemaName=l,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Kb(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new ug(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,r={},{head:l=!1,get:c=!1,count:d}={}){var f;let m;const g=new URL(`${this.url}/rpc/${a}`);let x;const v=j=>j!==null&&typeof j=="object"&&(!Array.isArray(j)||j.some(v)),y=l&&Object.values(r).some(v);y?(m="POST",x=r):l||c?(m=l?"HEAD":"GET",Object.entries(r).filter(([j,A])=>A!==void 0).map(([j,A])=>[j,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([j,A])=>{g.searchParams.append(j,A)})):(m="POST",x=r);const N=new Headers(this.headers);return y?N.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&N.set("Prefer",`count=${d}`),new Gr({method:m,url:g,headers:N,schema:this.schemaName,body:x,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class Xb{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const l=r.versions;if(l&&l.node){const c=l.node,d=parseInt(c.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let r=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(r+=`

Suggested solution: ${a.workaround}`),new Error(r)}static createWebSocket(a,r){const l=this.getWebSocketConstructor();return new l(a,r)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Qb="2.90.1",Fb=`realtime-js/${Qb}`,dg="1.0.0",Wb="2.0.0",R0=dg,Ku=1e4,ev=1e3,tv=100;var hs;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(hs||(hs={}));var at;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(at||(at={}));var sa;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(sa||(sa={}));var Ju;(function(n){n.websocket="websocket"})(Ju||(Ju={}));var Gs;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Gs||(Gs={}));class av{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,r){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(a));let l=[a.join_ref,a.ref,a.topic,a.event,a.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(a){var r;return this._isArrayBuffer((r=a.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var r,l;const c=(l=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var r,l;const c=(l=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,r,l){var c,d;const f=a.topic,m=(c=a.ref)!==null&&c!==void 0?c:"",g=(d=a.join_ref)!==null&&d!==void 0?d:"",x=a.payload.event,v=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},y=Object.keys(v).length===0?"":JSON.stringify(v);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`userEvent length ${x.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const N=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+f.length+x.length+y.length,j=new ArrayBuffer(this.HEADER_LENGTH+N);let A=new DataView(j),R=0;A.setUint8(R++,this.KINDS.userBroadcastPush),A.setUint8(R++,g.length),A.setUint8(R++,m.length),A.setUint8(R++,f.length),A.setUint8(R++,x.length),A.setUint8(R++,y.length),A.setUint8(R++,r),Array.from(g,$=>A.setUint8(R++,$.charCodeAt(0))),Array.from(m,$=>A.setUint8(R++,$.charCodeAt(0))),Array.from(f,$=>A.setUint8(R++,$.charCodeAt(0))),Array.from(x,$=>A.setUint8(R++,$.charCodeAt(0))),Array.from(y,$=>A.setUint8(R++,$.charCodeAt(0)));var L=new Uint8Array(j.byteLength+l.byteLength);return L.set(new Uint8Array(j),0),L.set(new Uint8Array(l),j.byteLength),L.buffer}decode(a,r){if(this._isArrayBuffer(a)){let l=this._binaryDecode(a);return r(l)}if(typeof a=="string"){const l=JSON.parse(a),[c,d,f,m,g]=l;return r({join_ref:c,ref:d,topic:f,event:m,payload:g})}return r({})}_binaryDecode(a){const r=new DataView(a),l=r.getUint8(0),c=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,r,c)}}_decodeUserBroadcast(a,r,l){const c=r.getUint8(1),d=r.getUint8(2),f=r.getUint8(3),m=r.getUint8(4);let g=this.HEADER_LENGTH+4;const x=l.decode(a.slice(g,g+c));g=g+c;const v=l.decode(a.slice(g,g+d));g=g+d;const y=l.decode(a.slice(g,g+f));g=g+f;const N=a.slice(g,a.byteLength),j=m===this.JSON_ENCODING?JSON.parse(l.decode(N)):N,A={type:this.BROADCAST_EVENT,event:v,payload:j};return f>0&&(A.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:x,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(a){var r;return a instanceof ArrayBuffer||((r=a==null?void 0:a.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(a,r){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([l])=>r.includes(l)))}}class hg{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ue||(Ue={}));const D0=(n,a,r={})=>{var l;const c=(l=r.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((d,f)=>(d[f]=sv(f,n,a,c),d),{}):{}},sv=(n,a,r,l)=>{const c=a.find(m=>m.name===n),d=c==null?void 0:c.type,f=r[n];return d&&!l.includes(d)?fg(d,f):Xu(f)},fg=(n,a)=>{if(n.charAt(0)==="_"){const r=n.slice(1,n.length);return lv(a,r)}switch(n){case Ue.bool:return rv(a);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return nv(a);case Ue.json:case Ue.jsonb:return iv(a);case Ue.timestamp:return ov(a);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return Xu(a);default:return Xu(a)}},Xu=n=>n,rv=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},nv=n=>{if(typeof n=="string"){const a=parseFloat(n);if(!Number.isNaN(a))return a}return n},iv=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},lv=(n,a)=>{if(typeof n!="string")return n;const r=n.length-1,l=n[r];if(n[0]==="{"&&l==="}"){let d;const f=n.slice(1,r);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(m=>fg(a,m))}return n},ov=n=>typeof n=="string"?n.replace(" ","T"):n,mg=n=>{const a=new URL(n);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Mu{constructor(a,r,l={},c=Ku){this.channel=a,this.event=r,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var l;return this._hasReceived(a)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var z0;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(z0||(z0={}));class ti{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ti.syncState(this.state,c,d,f),this.pendingDiffs.forEach(g=>{this.state=ti.syncDiff(this.state,g,d,f)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=ti.syncDiff(this.state,c,d,f),m())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,l,c){const d=this.cloneDeep(a),f=this.transformState(r),m={},g={};return this.map(d,(x,v)=>{f[x]||(g[x]=v)}),this.map(f,(x,v)=>{const y=d[x];if(y){const N=v.map(L=>L.presence_ref),j=y.map(L=>L.presence_ref),A=v.filter(L=>j.indexOf(L.presence_ref)<0),R=y.filter(L=>N.indexOf(L.presence_ref)<0);A.length>0&&(m[x]=A),R.length>0&&(g[x]=R)}else m[x]=v}),this.syncDiff(d,{joins:m,leaves:g},l,c)}static syncDiff(a,r,l,c){const{joins:d,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(d,(m,g)=>{var x;const v=(x=a[m])!==null&&x!==void 0?x:[];if(a[m]=this.cloneDeep(g),v.length>0){const y=a[m].map(j=>j.presence_ref),N=v.filter(j=>y.indexOf(j.presence_ref)<0);a[m].unshift(...N)}l(m,v,g)}),this.map(f,(m,g)=>{let x=a[m];if(!x)return;const v=g.map(y=>y.presence_ref);x=x.filter(y=>v.indexOf(y.presence_ref)<0),a[m]=x,c(m,x,g),x.length===0&&delete a[m]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(l=>r(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,l)=>{const c=a[l];return"metas"in c?r[l]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):r[l]=c,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var U0;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(U0||(U0={}));var ai;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(ai||(ai={}));var Ua;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Ua||(Ua={}));class Kr{constructor(a,r={config:{}},l){var c,d;if(this.topic=a,this.params=r,this.socket=l,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mu(this,sa.join,this.params,this.timeout),this.rejoinTimer=new hg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sa.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new ti(this),this.broadcastEndpointURL=mg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,r=this.timeout){var l,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:f,presence:m,private:g}}=this.params,x=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(j=>j.filter))!==null&&c!==void 0?c:[],v=!!this.bindings[ai.PRESENCE]&&this.bindings[ai.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,y={},N={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:v}),postgres_changes:x,private:g};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(j=>a==null?void 0:a(Ua.CHANNEL_ERROR,j)),this._onClose(()=>a==null?void 0:a(Ua.CLOSED)),this.updateJoinPayload(Object.assign({config:N},y)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:j})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),j===void 0){a==null||a(Ua.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,L=(A=R==null?void 0:R.length)!==null&&A!==void 0?A:0,$=[];for(let I=0;I<L;I++){const q=R[I],{filter:{event:Y,schema:ne,table:F,filter:V}}=q,J=j&&j[I];if(J&&J.event===Y&&Kr.isFilterValueEqual(J.schema,ne)&&Kr.isFilterValueEqual(J.table,F)&&Kr.isFilterValueEqual(J.filter,V))$.push(Object.assign(Object.assign({},q),{id:J.id}));else{this.unsubscribe(),this.state=at.errored,a==null||a(Ua.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=$,a&&a(Ua.SUBSCRIBED);return}}).receive("error",j=>{this.state=at.errored,a==null||a(Ua.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{a==null||a(Ua.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,l){return this.state===at.joined&&a===ai.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,r,l)}async httpSend(a,r,l={}){var c;if(r==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const x=await m.json();g=x.error||x.message||g}catch{}return Promise.reject(new Error(g))}async send(a,r={}){var l,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=a,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=x.body)===null||c===void 0?void 0:c.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,m,g;const x=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((g=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),x.receive("ok",()=>d("ok")),x.receive("error",()=>d("error")),x.receive("timeout",()=>d("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=at.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sa.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Mu(this,sa.leave,{},a),l.receive("ok",()=>{r(),c("ok")}).receive("timeout",()=>{r(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(a,r,l){const c=new AbortController,d=setTimeout(()=>c.abort(),l),f=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:c.signal}));return clearTimeout(d),f}_push(a,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Mu(this,a,r,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>tv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(a,r,l){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,l){var c,d;const f=a.toLocaleLowerCase(),{close:m,error:g,leave:x,join:v}=sa;if(l&&[m,g,x,v].indexOf(f)>=0&&l!==this._joinRef())return;let N=this._onMessage(f,r,l);if(r&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(j=>{var A,R,L;return((A=j.filter)===null||A===void 0?void 0:A.event)==="*"||((L=(R=j.filter)===null||R===void 0?void 0:R.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===f}).map(j=>j.callback(N,l)):(d=this.bindings[f])===null||d===void 0||d.filter(j=>{var A,R,L,$,I,q,Y,ne;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in j){const F=j.id,V=(A=j.filter)===null||A===void 0?void 0:A.event;return F&&((R=r.ids)===null||R===void 0?void 0:R.includes(F))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((L=r.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))&&(!(!(($=j.filter)===null||$===void 0)&&$.table)||j.filter.table===((I=r.data)===null||I===void 0?void 0:I.table))}else{const F=(Y=(q=j==null?void 0:j.filter)===null||q===void 0?void 0:q.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return F==="*"||F===((ne=r==null?void 0:r.event)===null||ne===void 0?void 0:ne.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===f}).map(j=>{if(typeof N=="object"&&"ids"in N){const A=N.data,{schema:R,table:L,commit_timestamp:$,type:I,errors:q}=A;N=Object.assign(Object.assign({},{schema:R,table:L,commit_timestamp:$,eventType:I,new:{},old:{},errors:q}),this._getPayloadRecords(A))}j.callback(N,l)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,l){const c=a.toLocaleLowerCase(),d={type:c,filter:r,callback:l};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(a,r){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&Kr.isEqual(c.filter,r))})),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const l in a)if(a[l]!==r[l])return!1;return!0}static isFilterValueEqual(a,r){return(a??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(sa.close,{},a)}_onError(a){this._on(sa.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=D0(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=D0(a.columns,a.old_record)),r}}const Lu=()=>{},Hl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cv=[1e3,2e3,5e3,1e4],uv=1e4,dv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hv{constructor(a,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ku,this.transport=null,this.heartbeatIntervalMs=Hl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lu,this.ref=0,this.reconnectTimer=null,this.vsn=R0,this.logger=Lu,this.conn=null,this.sendBuffer=[],this.serializer=new av,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((l=r==null?void 0:r.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${a}/${Ju.websocket}`,this.httpEndpoint=mg(a),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Xb.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const r=a.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,l){this.logger(a,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case hs.connecting:return Gs.Connecting;case hs.open:return Gs.Open;case hs.closing:return Gs.Closing;default:return Gs.Closed}}isConnected(){return this.connectionState()===Gs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,r={config:{}}){const l=`realtime:${a}`,c=this.getChannels().find(d=>d.topic===l);if(c)return c;{const d=new Kr(`realtime:${a}`,r,this);return this.channels.push(d),d}}push(a){const{topic:r,event:l,payload:c,ref:d}=a,f=()=>{this.encode(a,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${r} ${l} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(ev,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Hl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const x=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",x)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:c,payload:d,ref:f}=r,m=f?`(${f})`:"",g=d.status||"";this.log("receive",`${g} ${l} ${c} ${m}`.trim(),d),this.channels.filter(x=>x._isMember(l)).forEach(x=>x._trigger(c,d,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(a){var r;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===hs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===hs.open||this.conn.readyState===hs.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var r;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(sa.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const l=a.match(/\?/)?"&":"?",c=new URLSearchParams(r);return`${a}${l}${c}`}_workerObjectUrl(a){let r;if(a)r=a;else{const l=new Blob([dv],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(a,r=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(a=null){let r,l=!1;if(a)r=a,l=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),r=this.accessTokenValue}else r=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(c=>{const d={access_token:r,version:Fb};r&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(sa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${a}`,r)})}_triggerStateCallbacks(a,r){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(r)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new hg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var r,l,c,d,f,m,g,x,v,y,N,j;switch(this.transport=(r=a==null?void 0:a.transport)!==null&&r!==void 0?r:null,this.timeout=(l=a==null?void 0:a.timeout)!==null&&l!==void 0?l:Ku,this.heartbeatIntervalMs=(c=a==null?void 0:a.heartbeatIntervalMs)!==null&&c!==void 0?c:Hl.HEARTBEAT_INTERVAL,this.worker=(d=a==null?void 0:a.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=a==null?void 0:a.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=a==null?void 0:a.heartbeatCallback)!==null&&m!==void 0?m:Lu,this.vsn=(g=a==null?void 0:a.vsn)!==null&&g!==void 0?g:R0,a!=null&&a.params&&(this.params=a.params),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=a==null?void 0:a.reconnectAfterMs)!==null&&x!==void 0?x:(A=>cv[A-1]||uv),this.vsn){case dg:this.encode=(v=a==null?void 0:a.encode)!==null&&v!==void 0?v:((A,R)=>R(JSON.stringify(A))),this.decode=(y=a==null?void 0:a.decode)!==null&&y!==void 0?y:((A,R)=>R(JSON.parse(A)));break;case Wb:this.encode=(N=a==null?void 0:a.encode)!==null&&N!==void 0?N:this.serializer.encode.bind(this.serializer),this.decode=(j=a==null?void 0:a.decode)!==null&&j!==void 0?j:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a==null?void 0:a.workerUrl}}}var si=class extends Error{constructor(n,a){var r;super(n),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&((r=a.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function fv(n,a,r){const l=new URL(a,n);if(r)for(const[c,d]of Object.entries(r))d!==void 0&&l.searchParams.set(c,d);return l.toString()}async function mv(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function gv(n){const a=n.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:c,body:d,headers:f}){const m=fv(n.baseUrl,l,c),g=await mv(n.auth),x=await a(m,{method:r,headers:{...d?{"Content-Type":"application/json"}:{},...g,...f},body:d?JSON.stringify(d):void 0}),v=await x.text(),y=(x.headers.get("content-type")||"").includes("application/json"),N=y&&v?JSON.parse(v):v;if(!x.ok){const j=y?N:void 0,A=j==null?void 0:j.error;throw new si((A==null?void 0:A.message)??`Request failed with status ${x.status}`,{status:x.status,icebergType:A==null?void 0:A.type,icebergCode:A==null?void 0:A.code,details:j})}return{status:x.status,headers:x.headers,data:N}}}}function Vl(n){return n.join("")}var pv=class{constructor(n,a=""){this.client=n,this.prefix=a}async listNamespaces(n){const a=n?{parent:Vl(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(n,a){const r={namespace:n.namespace,properties:a==null?void 0:a.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vl(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vl(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vl(n.namespace)}`}),!0}catch(a){if(a instanceof si&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(n,a){try{return await this.createNamespace(n,a)}catch(r){if(r instanceof si&&r.status===409)return;throw r}}};function Lr(n){return n.join("")}var xv=class{constructor(n,a="",r){this.client=n,this.prefix=a,this.accessDelegation=r}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lr(n.namespace)}/tables`})).data.identifiers}async createTable(n,a){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Lr(n.namespace)}/tables`,body:a,headers:r})).data.metadata}async updateTable(n,a){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Lr(n.namespace)}/tables/${n.name}`,body:a});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(n,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Lr(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((a==null?void 0:a.purge)??!1)}})}async loadTable(n){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lr(n.namespace)}/tables/${n.name}`,headers:a})).data.metadata}async tableExists(n){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Lr(n.namespace)}/tables/${n.name}`,headers:a}),!0}catch(r){if(r instanceof si&&r.status===404)return!1;throw r}}async createTableIfNotExists(n,a){try{return await this.createTable(n,a)}catch(r){if(r instanceof si&&r.status===409)return await this.loadTable({namespace:n.namespace,name:a.name});throw r}}},bv=class{constructor(n){var l;let a="v1";n.catalogName&&(a+=`/${n.catalogName}`);const r=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=gv({baseUrl:r,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(l=n.accessDelegation)==null?void 0:l.join(","),this.namespaceOps=new pv(this.client,a),this.tableOps=new xv(this.client,a,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,a){return this.namespaceOps.createNamespace(n,a)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,a){return this.tableOps.createTable(n,a)}async updateTable(n,a){return this.tableOps.updateTable(n,a)}async dropTable(n,a){await this.tableOps.dropTable(n,a)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,a){return this.namespaceOps.createNamespaceIfNotExists(n,a)}async createTableIfNotExists(n,a){return this.tableOps.createTableIfNotExists(n,a)}},oo=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function $e(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var vv=class extends oo{constructor(n,a,r){super(n),this.name="StorageApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Qu=class extends oo{constructor(n,a){super(n),this.name="StorageUnknownError",this.originalError=a}};const md=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),yv=()=>Response,Fu=n=>{if(Array.isArray(n))return n.map(r=>Fu(r));if(typeof n=="function"||n!==Object(n))return n;const a={};return Object.entries(n).forEach(([r,l])=>{const c=r.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));a[c]=Fu(l)}),a},wv=n=>{if(typeof n!="object"||n===null)return!1;const a=Object.getPrototypeOf(n);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},_v=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function ri(n){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ri(n)}function jv(n,a){if(ri(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var l=r.call(n,a);if(ri(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function Nv(n){var a=jv(n,"string");return ri(a)=="symbol"?a:a+""}function kv(n,a,r){return(a=Nv(a))in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,n}function M0(n,a){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);a&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),r.push.apply(r,l)}return r}function re(n){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?M0(Object(r),!0).forEach(function(l){kv(n,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):M0(Object(r)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(r,l))})}return n}const Bu=n=>{var a;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(a=n.error)===null||a===void 0?void 0:a.message)||JSON.stringify(n)},Sv=async(n,a,r)=>{n instanceof await yv()&&!(r!=null&&r.noResolveJson)?n.json().then(l=>{const c=n.status||500,d=(l==null?void 0:l.statusCode)||c+"";a(new vv(Bu(l),c,d))}).catch(l=>{a(new Qu(Bu(l),l))}):a(new Qu(Bu(n),n))},Ev=(n,a,r,l)=>{const c={method:n,headers:(a==null?void 0:a.headers)||{}};return n==="GET"||!l?c:(wv(l)?(c.headers=re({"Content-Type":"application/json"},a==null?void 0:a.headers),c.body=JSON.stringify(l)):c.body=l,a!=null&&a.duplex&&(c.duplex=a.duplex),re(re({},c),r))};async function _i(n,a,r,l,c,d){return new Promise((f,m)=>{n(r,Ev(a,l,c,d)).then(g=>{if(!g.ok)throw g;return l!=null&&l.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>Sv(g,m,l))})}async function ni(n,a,r,l){return _i(n,"GET",a,r,l)}async function aa(n,a,r,l,c){return _i(n,"POST",a,l,c,r)}async function Wu(n,a,r,l,c){return _i(n,"PUT",a,l,c,r)}async function Av(n,a,r,l){return _i(n,"HEAD",a,re(re({},r),{},{noResolveJson:!0}),l)}async function gd(n,a,r,l,c){return _i(n,"DELETE",a,l,c,r)}var Tv=class{constructor(n,a){this.downloadFn=n,this.shouldThrowOnError=a}then(n,a){return this.execute().then(n,a)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}}};let gg;gg=Symbol.toStringTag;var Ov=class{constructor(n,a){this.downloadFn=n,this.shouldThrowOnError=a,this[gg]="BlobDownloadBuilder",this.promise=null}asStream(){return new Tv(this.downloadFn,this.shouldThrowOnError)}then(n,a){return this.getPromise().then(n,a)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}}};const Cv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},L0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Rv=class{constructor(n,a={},r,l){this.shouldThrowOnError=!1,this.url=n,this.headers=a,this.bucketId=r,this.fetch=md(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,a,r,l){var c=this;try{let d;const f=re(re({},L0),l);let m=re(re({},c.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",c.encodeMetadata(g)),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),g&&!d.has("metadata")&&d.append("metadata",c.encodeMetadata(g))):(d=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,g&&(m["x-metadata"]=c.toBase64(c.encodeMetadata(g))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),l!=null&&l.headers&&(m=re(re({},m),l.headers));const x=c._removeEmptyFolders(a),v=c._getFinalPath(x),y=await(n=="PUT"?Wu:aa)(c.fetch,`${c.url}/object/${v}`,d,re({headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:x,id:y.Id,fullPath:y.Key},error:null}}catch(d){if(c.shouldThrowOnError)throw d;if($e(d))return{data:null,error:d};throw d}}async upload(n,a,r){return this.uploadOrUpdate("POST",n,a,r)}async uploadToSignedUrl(n,a,r,l){var c=this;const d=c._removeEmptyFolders(n),f=c._getFinalPath(d),m=new URL(c.url+`/object/upload/sign/${f}`);m.searchParams.set("token",a);try{let g;const x=re({upsert:L0.upsert},l),v=re(re({},c.headers),{"x-upsert":String(x.upsert)});return typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",x.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",x.cacheControl)):(g=r,v["cache-control"]=`max-age=${x.cacheControl}`,v["content-type"]=x.contentType),{data:{path:d,fullPath:(await Wu(c.fetch,m.toString(),g,{headers:v})).Key},error:null}}catch(g){if(c.shouldThrowOnError)throw g;if($e(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(n,a){var r=this;try{let l=r._getFinalPath(n);const c=re({},r.headers);a!=null&&a.upsert&&(c["x-upsert"]="true");const d=await aa(r.fetch,`${r.url}/object/upload/sign/${l}`,{},{headers:c}),f=new URL(r.url+d.url),m=f.searchParams.get("token");if(!m)throw new oo("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:m},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async update(n,a,r){return this.uploadOrUpdate("PUT",n,a,r)}async move(n,a,r){var l=this;try{return{data:await aa(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:n,destinationKey:a,destinationBucket:r==null?void 0:r.destinationBucket},{headers:l.headers}),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async copy(n,a,r){var l=this;try{return{data:{path:(await aa(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:n,destinationKey:a,destinationBucket:r==null?void 0:r.destinationBucket},{headers:l.headers})).Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async createSignedUrl(n,a,r){var l=this;try{let c=l._getFinalPath(n),d=await aa(l.fetch,`${l.url}/object/sign/${c}`,re({expiresIn:a},r!=null&&r.transform?{transform:r.transform}:{}),{headers:l.headers});const f=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return d={signedUrl:encodeURI(`${l.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async createSignedUrls(n,a,r){var l=this;try{const c=await aa(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:a,paths:n},{headers:l.headers}),d=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:c.map(f=>re(re({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${d}`):null})),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}download(n,a){const r=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),c=l?`?${l}`:"",d=this._getFinalPath(n),f=()=>ni(this.fetch,`${this.url}/${r}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new Ov(f,this.shouldThrowOnError)}async info(n){var a=this;const r=a._getFinalPath(n);try{return{data:Fu(await ni(a.fetch,`${a.url}/object/info/${r}`,{headers:a.headers})),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async exists(n){var a=this;const r=a._getFinalPath(n);try{return await Av(a.fetch,`${a.url}/object/${r}`,{headers:a.headers}),{data:!0,error:null}}catch(l){if(a.shouldThrowOnError)throw l;if($e(l)&&l instanceof Qu){const c=l.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:l}}throw l}}getPublicUrl(n,a){const r=this._getFinalPath(n),l=[],c=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&l.push(c);const d=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});f!==""&&l.push(f);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${m}`)}}}async remove(n){var a=this;try{return{data:await gd(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:n},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async list(n,a,r){var l=this;try{const c=re(re(re({},Cv),a),{},{prefix:n||""});return{data:await aa(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},r),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async listV2(n,a){var r=this;try{const l=re({},n);return{data:await aa(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,l,{headers:r.headers},a),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const a=[];return n.width&&a.push(`width=${n.width}`),n.height&&a.push(`height=${n.height}`),n.resize&&a.push(`resize=${n.resize}`),n.format&&a.push(`format=${n.format}`),n.quality&&a.push(`quality=${n.quality}`),a.join("&")}};const pg="2.90.1",xg={"X-Client-Info":`storage-js/${pg}`};var Dv=class{constructor(n,a={},r,l){this.shouldThrowOnError=!1;const c=new URL(n);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=re(re({},xg),a),this.fetch=md(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var a=this;try{const r=a.listBucketOptionsToQueryString(n);return{data:await ni(a.fetch,`${a.url}/bucket${r}`,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async getBucket(n){var a=this;try{return{data:await ni(a.fetch,`${a.url}/bucket/${n}`,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async createBucket(n,a={public:!1}){var r=this;try{return{data:await aa(r.fetch,`${r.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async updateBucket(n,a){var r=this;try{return{data:await Wu(r.fetch,`${r.url}/bucket/${n}`,{id:n,name:n,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async emptyBucket(n){var a=this;try{return{data:await aa(a.fetch,`${a.url}/bucket/${n}/empty`,{},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async deleteBucket(n){var a=this;try{return{data:await gd(a.fetch,`${a.url}/bucket/${n}`,{},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(n){const a={};return n&&("limit"in n&&(a.limit=String(n.limit)),"offset"in n&&(a.offset=String(n.offset)),n.search&&(a.search=n.search),n.sortColumn&&(a.sortColumn=n.sortColumn),n.sortOrder&&(a.sortOrder=n.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},zv=class{constructor(n,a={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=re(re({},xg),a),this.fetch=md(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var a=this;try{return{data:await aa(a.fetch,`${a.url}/bucket`,{name:n},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async listBuckets(n){var a=this;try{const r=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&r.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&r.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&r.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&r.set("sortOrder",n.sortOrder),n!=null&&n.search&&r.set("search",n.search);const l=r.toString(),c=l?`${a.url}/bucket?${l}`:`${a.url}/bucket`;return{data:await ni(a.fetch,c,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async deleteBucket(n){var a=this;try{return{data:await gd(a.fetch,`${a.url}/bucket/${n}`,{},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}from(n){var a=this;if(!_v(n))throw new oo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new bv({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(r,{get(c,d){const f=c[d];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(c,m),error:null}}catch(g){if(l)throw g;return{data:null,error:g}}}}})}};const pd={"X-Client-Info":`storage-js/${pg}`,"Content-Type":"application/json"};var bg=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Bt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var qu=class extends bg{constructor(n,a,r){super(n),this.name="StorageVectorsApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Uv=class extends bg{constructor(n,a){super(n),this.name="StorageVectorsUnknownError",this.originalError=a}};const xd=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),Mv=n=>{if(typeof n!="object"||n===null)return!1;const a=Object.getPrototypeOf(n);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},B0=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Lv=async(n,a,r)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(r!=null&&r.noResolveJson)){const l=n.status||500,c=n;if(typeof c.json=="function")c.json().then(d=>{const f=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||l+"";a(new qu(B0(d),l,f))}).catch(()=>{const d=l+"";a(new qu(c.statusText||`HTTP ${l} error`,l,d))});else{const d=l+"";a(new qu(c.statusText||`HTTP ${l} error`,l,d))}}else a(new Uv(B0(n),n))},Bv=(n,a,r,l)=>{const c={method:n,headers:(a==null?void 0:a.headers)||{}};return l?(Mv(l)?(c.headers=re({"Content-Type":"application/json"},a==null?void 0:a.headers),c.body=JSON.stringify(l)):c.body=l,re(re({},c),r)):c};async function qv(n,a,r,l,c,d){return new Promise((f,m)=>{n(r,Bv(a,l,c,d)).then(g=>{if(!g.ok)throw g;if(l!=null&&l.noResolveJson)return g;const x=g.headers.get("content-type");return!x||!x.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>Lv(g,m,l))})}async function qt(n,a,r,l,c){return qv(n,"POST",a,l,c,r)}var $v=class{constructor(n,a={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=re(re({},pd),a),this.fetch=xd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var a=this;try{return{data:await qt(a.fetch,`${a.url}/CreateIndex`,n,{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}}async getIndex(n,a){var r=this;try{return{data:await qt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:n,indexName:a},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Bt(l))return{data:null,error:l};throw l}}async listIndexes(n){var a=this;try{return{data:await qt(a.fetch,`${a.url}/ListIndexes`,n,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}}async deleteIndex(n,a){var r=this;try{return{data:await qt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:n,indexName:a},{headers:r.headers})||{},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Bt(l))return{data:null,error:l};throw l}}},Iv=class{constructor(n,a={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=re(re({},pd),a),this.fetch=xd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var a=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await qt(a.fetch,`${a.url}/PutVectors`,n,{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}}async getVectors(n){var a=this;try{return{data:await qt(a.fetch,`${a.url}/GetVectors`,n,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}}async listVectors(n){var a=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await qt(a.fetch,`${a.url}/ListVectors`,n,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}}async queryVectors(n){var a=this;try{return{data:await qt(a.fetch,`${a.url}/QueryVectors`,n,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}}async deleteVectors(n){var a=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await qt(a.fetch,`${a.url}/DeleteVectors`,n,{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}}},Hv=class{constructor(n,a={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=re(re({},pd),a),this.fetch=xd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var a=this;try{return{data:await qt(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}}async getBucket(n){var a=this;try{return{data:await qt(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:n},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}}async listBuckets(n={}){var a=this;try{return{data:await qt(a.fetch,`${a.url}/ListVectorBuckets`,n,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}}async deleteBucket(n){var a=this;try{return{data:await qt(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}}},Vv=class extends Hv{constructor(n,a={}){super(n,a.headers||{},a.fetch)}from(n){return new Gv(this.url,this.headers,n,this.fetch)}async createBucket(n){var a=()=>super.createBucket,r=this;return a().call(r,n)}async getBucket(n){var a=()=>super.getBucket,r=this;return a().call(r,n)}async listBuckets(n={}){var a=()=>super.listBuckets,r=this;return a().call(r,n)}async deleteBucket(n){var a=()=>super.deleteBucket,r=this;return a().call(r,n)}},Gv=class extends $v{constructor(n,a,r,l){super(n,a,l),this.vectorBucketName=r}async createIndex(n){var a=()=>super.createIndex,r=this;return a().call(r,re(re({},n),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(n={}){var a=()=>super.listIndexes,r=this;return a().call(r,re(re({},n),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(n){var a=()=>super.getIndex,r=this;return a().call(r,r.vectorBucketName,n)}async deleteIndex(n){var a=()=>super.deleteIndex,r=this;return a().call(r,r.vectorBucketName,n)}index(n){return new Pv(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},Pv=class extends Iv{constructor(n,a,r,l,c){super(n,a,c),this.vectorBucketName=r,this.indexName=l}async putVectors(n){var a=()=>super.putVectors,r=this;return a().call(r,re(re({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(n){var a=()=>super.getVectors,r=this;return a().call(r,re(re({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(n={}){var a=()=>super.listVectors,r=this;return a().call(r,re(re({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(n){var a=()=>super.queryVectors,r=this;return a().call(r,re(re({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(n){var a=()=>super.deleteVectors,r=this;return a().call(r,re(re({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Zv=class extends Dv{constructor(n,a={},r,l){super(n,a,r,l)}from(n){return new Rv(this.url,this.headers,n,this.fetch)}get vectors(){return new Vv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new zv(this.url+"/iceberg",this.headers,this.fetch)}};const vg="2.90.1",Pr=30*1e3,ed=3,$u=ed*Pr,Yv="http://localhost:9999",Kv="supabase.auth.token",Jv={"X-Client-Info":`gotrue-js/${vg}`},td="X-Supabase-Api-Version",yg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Xv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qv=600*1e3;class ii extends Error{constructor(a,r,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function W(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Fv extends ii{constructor(a,r,l){super(a,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function Wv(n){return W(n)&&n.name==="AuthApiError"}class Ps extends ii{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class Ba extends ii{constructor(a,r,l,c){super(a,l,c),this.name=r,this.status=l}}class Mt extends Ba{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ey(n){return W(n)&&n.name==="AuthSessionMissingError"}class Br extends Ba{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gl extends Ba{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Pl extends Ba{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ty(n){return W(n)&&n.name==="AuthImplicitGrantRedirectError"}class q0 extends Ba{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ay extends Ba{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ad extends Ba{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function Iu(n){return W(n)&&n.name==="AuthRetryableFetchError"}class $0 extends Ba{constructor(a,r,l){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class sd extends Ba{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),I0=` 	
\r=`.split(""),sy=(()=>{const n=new Array(128);for(let a=0;a<n.length;a+=1)n[a]=-1;for(let a=0;a<I0.length;a+=1)n[I0[a].charCodeAt(0)]=-2;for(let a=0;a<Ql.length;a+=1)n[Ql[a].charCodeAt(0)]=a;return n})();function H0(n,a,r){if(n!==null)for(a.queue=a.queue<<8|n,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;r(Ql[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;r(Ql[l]),a.queuedBits-=6}}function wg(n,a,r){const l=sy[n];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function V0(n){const a=[],r=f=>{a.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{iy(f,l,r)};for(let f=0;f<n.length;f+=1)wg(n.charCodeAt(f),c,d);return a.join("")}function ry(n,a){if(n<=127){a(n);return}else if(n<=2047){a(192|n>>6),a(128|n&63);return}else if(n<=65535){a(224|n>>12),a(128|n>>6&63),a(128|n&63);return}else if(n<=1114111){a(240|n>>18),a(128|n>>12&63),a(128|n>>6&63),a(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function ny(n,a){for(let r=0;r<n.length;r+=1){let l=n.charCodeAt(r);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(n.charCodeAt(r+1)-56320&65535|c)+65536,r+=1}ry(l,a)}}function iy(n,a,r){if(a.utf8seq===0){if(n<=127){r(n);return}for(let l=1;l<6;l+=1)if((n>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=n&31;else if(a.utf8seq===3)a.codepoint=n&15;else if(a.utf8seq===4)a.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|n&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function Qr(n){const a=[],r={queue:0,queuedBits:0},l=c=>{a.push(c)};for(let c=0;c<n.length;c+=1)wg(n.charCodeAt(c),r,l);return new Uint8Array(a)}function ly(n){const a=[];return ny(n,r=>a.push(r)),new Uint8Array(a)}function Zs(n){const a=[],r={queue:0,queuedBits:0},l=c=>{a.push(c)};return n.forEach(c=>H0(c,r,l)),H0(null,r,l),a.join("")}function oy(n){return Math.round(Date.now()/1e3)+n}function cy(){return Symbol("auth-callback")}const dt=()=>typeof window<"u"&&typeof document<"u",$s={tested:!1,writable:!1},_g=()=>{if(!dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($s.tested)return $s.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),$s.tested=!0,$s.writable=!0}catch{$s.tested=!0,$s.writable=!1}return $s.writable};function uy(n){const a={},r=new URL(n);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((c,d)=>{a[d]=c})}catch{}return r.searchParams.forEach((l,c)=>{a[c]=l}),a}const jg=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),dy=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Zr=async(n,a,r)=>{await n.setItem(a,JSON.stringify(r))},Is=async(n,a)=>{const r=await n.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ut=async(n,a)=>{await n.removeItem(a)};class co{constructor(){this.promise=new co.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}co.promiseConstructor=Promise;function Hu(n){const a=n.split(".");if(a.length!==3)throw new sd("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!Xv.test(a[l]))throw new sd("JWT not in base64url format");return{header:JSON.parse(V0(a[0])),payload:JSON.parse(V0(a[1])),signature:Qr(a[2]),raw:{header:a[0],payload:a[1]}}}async function hy(n){return await new Promise(a=>{setTimeout(()=>a(null),n)})}function fy(n,a){return new Promise((l,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await n(d);if(!a(d,null,f)){l(f);return}}catch(f){if(!a(d,f)){c(f);return}}})()})}function my(n){return("0"+n.toString(16)).substr(-2)}function gy(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let c="";for(let d=0;d<56;d++)c+=r.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(a),Array.from(a,my).join("")}async function py(n){const r=new TextEncoder().encode(n),l=await crypto.subtle.digest("SHA-256",r),c=new Uint8Array(l);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function xy(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const r=await py(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qr(n,a,r=!1){const l=gy();let c=l;r&&(c+="/PASSWORD_RECOVERY"),await Zr(n,`${a}-code-verifier`,c);const d=await xy(l);return[d,l===d?"plain":"s256"]}const by=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vy(n){const a=n.headers.get(td);if(!a||!a.match(by))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function yy(n){if(!n)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(n<=a)throw new Error("JWT has expired")}function wy(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _y=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $r(n){if(!_y.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vu(){const n={};return new Proxy(n,{get:(a,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jy(n,a){return new Proxy(n,{get:(r,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const d=l.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,c)}return!a.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(r,l,c)}})}function G0(n){return JSON.parse(JSON.stringify(n))}const Vs=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Ny=[502,503,504];async function P0(n){var a;if(!dy(n))throw new ad(Vs(n),0);if(Ny.includes(n.status))throw new ad(Vs(n),n.status);let r;try{r=await n.json()}catch(d){throw new Ps(Vs(d),d)}let l;const c=vy(n);if(c&&c.getTime()>=yg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new $0(Vs(r),n.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new Mt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new $0(Vs(r),n.status,r.weak_password.reasons);throw new Fv(Vs(r),n.status||500,l)}const ky=(n,a,r,l)=>{const c={method:n,headers:(a==null?void 0:a.headers)||{}};return n==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a==null?void 0:a.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),r))};async function se(n,a,r,l){var c;const d=Object.assign({},l==null?void 0:l.headers);d[td]||(d[td]=yg["2024-01-01"].name),l!=null&&l.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const f=(c=l==null?void 0:l.query)!==null&&c!==void 0?c:{};l!=null&&l.redirectTo&&(f.redirect_to=l.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await Sy(n,a,r+m,{headers:d,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(g):{data:Object.assign({},g),error:null}}async function Sy(n,a,r,l,c,d){const f=ky(a,l,c,d);let m;try{m=await n(r,Object.assign({},f))}catch(g){throw console.error(g),new ad(Vs(g),0)}if(m.ok||await P0(m),l!=null&&l.noResolveJson)return m;try{return await m.json()}catch(g){await P0(g)}}function ta(n){var a;let r=null;Ty(n)&&(r=Object.assign({},n),n.expires_at||(r.expires_at=oy(n.expires_in)));const l=(a=n.user)!==null&&a!==void 0?a:n;return{data:{session:r,user:l},error:null}}function Z0(n){const a=ta(n);return!a.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(a.data.weak_password=n.weak_password),a}function fs(n){var a;return{data:{user:(a=n.user)!==null&&a!==void 0?a:n},error:null}}function Ey(n){return{data:n,error:null}}function Ay(n){const{action_link:a,email_otp:r,hashed_token:l,redirect_to:c,verification_type:d}=n,f=lo(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:r,hashed_token:l,redirect_to:c,verification_type:d},g=Object.assign({},f);return{data:{properties:m,user:g},error:null}}function Y0(n){return n}function Ty(n){return n.access_token&&n.refresh_token&&n.expires_in}const Gu=["global","local","others"];class Oy{constructor({url:a="",headers:r={},fetch:l}){this.url=a,this.headers=r,this.fetch=jg(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,r=Gu[0]){if(Gu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gu.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(W(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,r={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:fs})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:r}=a,l=lo(a,["options"]),c=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(c.new_email=l==null?void 0:l.newEmail,delete c.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Ay,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(W(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:fs})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,l,c,d,f,m,g;try{const x={nextPage:null,lastPage:0,total:0},v=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=a==null?void 0:a.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=a==null?void 0:a.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Y0});if(v.error)throw v.error;const y=await v.json(),N=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,j=(g=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return j.length>0&&(j.forEach(A=>{const R=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(A.split(";")[1].split("=")[1]);x[`${L}Page`]=R}),x.total=parseInt(N)),{data:Object.assign(Object.assign({},y),x),error:null}}catch(x){if(W(x))return{data:{users:[]},error:x};throw x}}async getUserById(a){$r(a);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:fs})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){$r(a);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:fs})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,r=!1){$r(a);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:fs})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){$r(a.userId);try{const{data:r,error:l}=await se(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:r,error:l}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteFactor(a){$r(a.userId),$r(a.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _listOAuthClients(a){var r,l,c,d,f,m,g;try{const x={nextPage:null,lastPage:0,total:0},v=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=a==null?void 0:a.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=a==null?void 0:a.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:Y0});if(v.error)throw v.error;const y=await v.json(),N=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,j=(g=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return j.length>0&&(j.forEach(A=>{const R=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(A.split(";")[1].split("=")[1]);x[`${L}Page`]=R}),x.total=parseInt(N)),{data:Object.assign(Object.assign({},y),x),error:null}}catch(x){if(W(x))return{data:{clients:[]},error:x};throw x}}async _createOAuthClient(a){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _getOAuthClient(a){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _updateOAuthClient(a,r){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(W(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(a){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(a){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}}function K0(n={}){return{getItem:a=>n[a]||null,setItem:(a,r)=>{n[a]=r},removeItem:a=>{delete n[a]}}}const Ir={debug:!!(globalThis&&_g()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ng extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Cy extends Ng{}async function Ry(n,a,r){Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,c.name);try{return await r()}finally{Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,c.name)}}else{if(a===0)throw Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Cy(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Ir.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Dy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kg(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function zy(n){return parseInt(n,16)}function Uy(n){const a=new TextEncoder().encode(n);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function My(n){var a;const{chainId:r,domain:l,expirationTime:c,issuedAt:d=new Date,nonce:f,notBefore:m,requestId:g,resources:x,scheme:v,uri:y,version:N}=n;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((a=n.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const j=kg(n.address),A=v?`${v}://${l}`:l,R=n.statement?`${n.statement}
`:"",L=`${A} wants you to sign in with your Ethereum account:
${j}

${R}`;let $=`URI: ${y}
Version: ${N}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(c&&($+=`
Expiration Time: ${c.toISOString()}`),m&&($+=`
Not Before: ${m.toISOString()}`),g&&($+=`
Request ID: ${g}`),x){let I=`
Resources:`;for(const q of x){if(!q||typeof q!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${q}`);I+=`
- ${q}`}$+=I}return`${L}
${$}`}class We extends Error{constructor({message:a,code:r,cause:l,name:c}){var d;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(d=c??(l instanceof Error?l.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=r}}class Fl extends We{constructor(a,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:a}),this.name="WebAuthnUnknownError",this.originalError=r}}function Ly({error:n,options:a}){var r,l,c;const{publicKey:d}=a;if(!d)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(a.signal instanceof AbortSignal)return new We({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((r=d.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new We({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(a.mediation==="conditional"&&((l=d.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new We({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new We({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new We({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new We({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new We({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new We({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const f=window.location.hostname;if(Sg(f)){if(d.rp.id!==f)return new We({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new We({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function By({error:n,options:a}){const{publicKey:r}=a;if(!r)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(a.signal instanceof AbortSignal)return new We({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new We({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(Sg(l)){if(r.rpId!==l)return new We({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class qy{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const $y=new qy;function Iy(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:a,user:r,excludeCredentials:l}=n,c=lo(n,["challenge","user","excludeCredentials"]),d=Qr(a).buffer,f=Object.assign(Object.assign({},r),{id:Qr(r.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:d,user:f});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let g=0;g<l.length;g++){const x=l[g];m.excludeCredentials[g]=Object.assign(Object.assign({},x),{id:Qr(x.id).buffer,type:x.type||"public-key",transports:x.transports})}}return m}function Hy(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:a,allowCredentials:r}=n,l=lo(n,["challenge","allowCredentials"]),c=Qr(a).buffer,d=Object.assign(Object.assign({},l),{challenge:c});if(r&&r.length>0){d.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const m=r[f];d.allowCredentials[f]=Object.assign(Object.assign({},m),{id:Qr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function Vy(n){var a;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n;return{id:n.id,rawId:n.id,response:{attestationObject:Zs(new Uint8Array(n.response.attestationObject)),clientDataJSON:Zs(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Gy(n){var a;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n,l=n.getClientExtensionResults(),c=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Zs(new Uint8Array(c.authenticatorData)),clientDataJSON:Zs(new Uint8Array(c.clientDataJSON)),signature:Zs(new Uint8Array(c.signature)),userHandle:c.userHandle?Zs(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Sg(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function J0(){var n,a;return!!(dt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Py(n){try{const a=await navigator.credentials.create(n);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Fl("Browser returned unexpected credential type",a)}:{data:null,error:new Fl("Empty credential response",a)}}catch(a){return{data:null,error:Ly({error:a,options:n})}}}async function Zy(n){try{const a=await navigator.credentials.get(n);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Fl("Browser returned unexpected credential type",a)}:{data:null,error:new Fl("Empty credential response",a)}}catch(a){return{data:null,error:By({error:a,options:n})}}}const Yy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ky={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Wl(...n){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),r=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of n)if(c)for(const d in c){const f=c[d];if(f!==void 0)if(Array.isArray(f))l[d]=f;else if(r(f))l[d]=f;else if(a(f)){const m=l[d];a(m)?l[d]=Wl(m,f):l[d]=Wl(f)}else l[d]=f}return l}function Jy(n,a){return Wl(Yy,n,a||{})}function Xy(n,a){return Wl(Ky,n,a||{})}class Qy{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:r,friendlyName:l,signal:c},d){try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:r});if(!f)return{data:null,error:m};const g=c??$y.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:x}=f.webauthn.credential_options.publicKey;x.name||(x.name=`${x.id}:${l}`),x.displayName||(x.displayName=x.name)}switch(f.webauthn.type){case"create":{const x=Jy(f.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:v,error:y}=await Py({publicKey:x,signal:g});return v?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const x=Xy(f.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:v,error:y}=await Zy(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:x,signal:g}));return v?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(f){return W(f)?{data:null,error:f}:{data:null,error:new Ps("Unexpected error in challenge",f)}}}async _verify({challengeId:a,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!r)return{data:null,error:new ii("rpId is required for WebAuthn authentication")};try{if(!J0())return{data:null,error:new Ps("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:a,webauthn:{rpId:r,rpOrigins:l},signal:c},{request:d});if(!f)return{data:null,error:m};const{webauthn:g}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:l,credential_response:g.credential_response}})}catch(f){return W(f)?{data:null,error:f}:{data:null,error:new Ps("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!r)return{data:null,error:new ii("rpId is required for WebAuthn registration")};try{if(!J0())return{data:null,error:new Ps("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(N=>N.factor_type==="webauthn"&&N.friendly_name===a&&N.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:m};const{data:g,error:x}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:c},{create:d});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:l,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:x}}catch(f){return W(f)?{data:null,error:f}:{data:null,error:new Ps("Unexpected error in register",f)}}}}Dy();const Fy={url:Yv,storageKey:Kv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function X0(n,a,r){return await r()}const Hr={};class li{get jwks(){var a,r;return(r=(a=Hr[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(a){Hr[this.storageKey]=Object.assign(Object.assign({},Hr[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,r;return(r=(a=Hr[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Hr[this.storageKey]=Object.assign(Object.assign({},Hr[this.storageKey]),{cachedAt:a})}constructor(a){var r,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},Fy),a);if(this.storageKey=d.storageKey,this.instanceID=(r=li.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,li.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&dt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new Oy({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=jg(d.fetch),this.lock=d.lock||X0,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&dt()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=Ry:this.lock=X0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Qy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:_g()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=K0(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=K0(this.memoryStorage)),dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${vg}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let r={},l="none";if(dt()&&(r=uy(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),dt()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:d}=await this._getSessionFromURL(r,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),ty(d)){const g=(a=d.details)===null||a===void 0?void 0:a.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:f,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return W(r)?this._returnResult({error:r}):this._returnResult({error:new Ps("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,l,c;try{const d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=a==null?void 0:a.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=a==null?void 0:a.options)===null||c===void 0?void 0:c.captchaToken}},xform:ta}),{data:f,error:m}=d;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const g=f.session,x=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:x,session:g},error:null})}catch(d){if(W(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(a){var r,l,c;try{let d;if("email"in a){const{email:v,password:y,options:N}=a;let j=null,A=null;this.flowType==="pkce"&&([j,A]=await qr(this.storage,this.storageKey)),d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N==null?void 0:N.emailRedirectTo,body:{email:v,password:y,data:(r=N==null?void 0:N.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken},code_challenge:j,code_challenge_method:A},xform:ta})}else if("phone"in a){const{phone:v,password:y,options:N}=a;d=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(l=N==null?void 0:N.data)!==null&&l!==void 0?l:{},channel:(c=N==null?void 0:N.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken}},xform:ta})}else throw new Gl("You must provide either an email or phone number and a password");const{data:f,error:m}=d;if(m||!f)return await ut(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=f.session,x=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:x,session:g},error:null})}catch(d){if(await ut(this.storage,`${this.storageKey}-code-verifier`),W(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(a){try{let r;if("email"in a){const{email:d,password:f,options:m}=a;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Z0})}else if("phone"in a){const{phone:d,password:f,options:m}=a;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Z0})}else throw new Gl("You must provide either an email or phone number and a password");const{data:l,error:c}=r;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new Br;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(a){var r,l,c,d;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=a.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;switch(r){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(a){var r,l,c,d,f,m,g,x,v,y,N;let j,A;if("message"in a)j=a.message,A=a.signature;else{const{chain:R,wallet:L,statement:$,options:I}=a;let q;if(dt())if(typeof L=="object")q=L;else{const Se=window;if("ethereum"in Se&&typeof Se.ethereum=="object"&&"request"in Se.ethereum&&typeof Se.ethereum.request=="function")q=Se.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=L}const Y=new URL((r=I==null?void 0:I.url)!==null&&r!==void 0?r:window.location.href),ne=await q.request({method:"eth_requestAccounts"}).then(Se=>Se).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ne||ne.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=kg(ne[0]);let V=(l=I==null?void 0:I.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!V){const Se=await q.request({method:"eth_chainId"});V=zy(Se)}const J={domain:Y.host,address:F,statement:$,uri:Y.href,version:"1",chainId:V,nonce:(c=I==null?void 0:I.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(d=I==null?void 0:I.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=I==null?void 0:I.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=I==null?void 0:I.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(x=I==null?void 0:I.signInWithEthereum)===null||x===void 0?void 0:x.requestId,resources:(v=I==null?void 0:I.signInWithEthereum)===null||v===void 0?void 0:v.resources};j=My(J),A=await q.request({method:"personal_sign",params:[Uy(j),F]})}try{const{data:R,error:L}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:A},!((y=a.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(N=a.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:ta});if(L)throw L;if(!R||!R.session||!R.user){const $=new Br;return this._returnResult({data:{user:null,session:null},error:$})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:L})}catch(R){if(W(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(a){var r,l,c,d,f,m,g,x,v,y,N,j;let A,R;if("message"in a)A=a.message,R=a.signature;else{const{chain:L,wallet:$,statement:I,options:q}=a;let Y;if(dt())if(typeof $=="object")Y=$;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))Y=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!(q!=null&&q.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=$}const ne=new URL((r=q==null?void 0:q.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Y&&Y.signIn){const F=await Y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},q==null?void 0:q.signInWithSolana),{version:"1",domain:ne.host,uri:ne.href}),I?{statement:I}:null));let V;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")V=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)V=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)A=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),R=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Y)||typeof Y.signMessage!="function"||!("publicKey"in Y)||typeof Y!="object"||!Y.publicKey||!("toBase58"in Y.publicKey)||typeof Y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${ne.host} wants you to sign in with your Solana account:`,Y.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${ne.href}`,`Issued At: ${(c=(l=q==null?void 0:q.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=q==null?void 0:q.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${q.signInWithSolana.notBefore}`]:[],...!((f=q==null?void 0:q.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${q.signInWithSolana.expirationTime}`]:[],...!((m=q==null?void 0:q.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${q.signInWithSolana.chainId}`]:[],...!((g=q==null?void 0:q.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${q.signInWithSolana.nonce}`]:[],...!((x=q==null?void 0:q.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${q.signInWithSolana.requestId}`]:[],...!((y=(v=q==null?void 0:q.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...q.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const F=await Y.signMessage(new TextEncoder().encode(A),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=F}}try{const{data:L,error:$}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:Zs(R)},!((N=a.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(j=a.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:ta});if($)throw $;if(!L||!L.session||!L.user){const I=new Br;return this._returnResult({data:{user:null,session:null},error:I})}return L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),this._returnResult({data:Object.assign({},L),error:$})}catch(L){if(W(L))return this._returnResult({data:{user:null,session:null},error:L});throw L}}async _exchangeCodeForSession(a){const r=await Is(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(r??"").split("/");try{if(!l&&this.flowType==="pkce")throw new ay;const{data:d,error:f}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:ta});if(await ut(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const m=new Br;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(await ut(this.storage,`${this.storageKey}-code-verifier`),W(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(a){try{const{options:r,provider:l,token:c,access_token:d,nonce:f}=a,m=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ta}),{data:g,error:x}=m;if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!g||!g.session||!g.user){const v=new Br;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:x})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(a){var r,l,c,d,f;try{if("email"in a){const{email:m,options:g}=a;let x=null,v=null;this.flowType==="pkce"&&([x,v]=await qr(this.storage,this.storageKey));const{error:y}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:x,code_challenge_method:v},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in a){const{phone:m,options:g}=a,{data:x,error:v}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=g==null?void 0:g.data)!==null&&c!==void 0?c:{},create_user:(d=g==null?void 0:g.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(f=g==null?void 0:g.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:x==null?void 0:x.message_id},error:v})}throw new Gl("You must provide either an email or phone number.")}catch(m){if(await ut(this.storage,`${this.storageKey}-code-verifier`),W(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var r,l;try{let c,d;"options"in a&&(c=(r=a.options)===null||r===void 0?void 0:r.redirectTo,d=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:m}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:ta});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,x=f.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:x,session:g},error:null})}catch(c){if(W(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var r,l,c,d,f;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await qr(this.storage,this.storageKey));const x=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=a==null?void 0:a.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:Ey});return!((d=x.data)===null||d===void 0)&&d.url&&dt()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(x.data.url),this._returnResult(x)}catch(m){if(await ut(this.storage,`${this.storageKey}-code-verifier`),W(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;if(l)throw l;if(!r)throw new Mt;const{error:c}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(W(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:l,type:c,options:d}=a,{error:f}=await se(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:l,type:c,options:d}=a,{data:f,error:m}=await se(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m})}throw new Gl("You must provide either an email or phone number and a type")}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await Is(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<$u:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const f=await Is(this.userStorage,this.storageKey+"-user");f!=null&&f.user?a.user=f.user:a.user=Vu()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=jy(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(a){try{return a?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:fs}):await this._useSession(async r=>{var l,c,d;const{data:f,error:m}=r;if(m)throw m;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:fs})})}catch(r){if(W(r))return ey(r)&&(await this._removeSession(),await ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async l=>{const{data:c,error:d}=l;if(d)throw d;if(!c.session)throw new Mt;const f=c.session;let m=null,g=null;this.flowType==="pkce"&&a.email!=null&&([m,g]=await qr(this.storage,this.storageKey));const{data:x,error:v}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:g}),jwt:f.access_token,xform:fs});if(v)throw v;return f.user=x.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await ut(this.storage,`${this.storageKey}-code-verifier`),W(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Mt;const r=Date.now()/1e3;let l=r,c=!0,d=null;const{payload:f}=Hu(a.access_token);if(f.exp&&(l=f.exp,c=l<=r),c){const{data:m,error:g}=await this._callRefreshToken(a.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:g}=await this._getUser(a.access_token);if(g)throw g;d={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(r){if(W(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var l;if(!a){const{data:f,error:m}=r;if(m)throw m;a=(l=f.session)!==null&&l!==void 0?l:void 0}if(!(a!=null&&a.refresh_token))throw new Mt;const{data:c,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(a,r){try{if(!dt())throw new Pl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Pl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new q0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new q0("No code detected.");const{data:I,error:q}=await this._exchangeCodeForSession(a.code);if(q)throw q;const Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:m,expires_at:g,token_type:x}=a;if(!d||!m||!f||!x)throw new Pl("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(m);let N=v+y;g&&(N=parseInt(g));const j=N-v;j*1e3<=Pr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${y}s`);const A=N-y;v-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,N,v):v-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,N,v);const{data:R,error:L}=await this._getUser(d);if(L)throw L;const $={provider_token:l,provider_refresh_token:c,access_token:d,expires_in:y,expires_at:N,refresh_token:f,token_type:x,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:$,redirectType:a.type},error:null})}catch(l){if(W(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await Is(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:c,error:d}=r;if(d)return this._returnResult({error:d});const f=(l=c.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:m}=await this.admin.signOut(f,a);if(m&&!(Wv(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const r=cy(),l={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async r=>{var l,c;try{const{data:{session:d},error:f}=r;if(f)throw f;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",d),console.error(d)}})}async resetPasswordForEmail(a,r={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await qr(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(d){if(await ut(this.storage,`${this.storageKey}-code-verifier`),W(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var a;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var r;try{const{data:l,error:c}=await this._useSession(async d=>{var f,m,g,x,v;const{data:y,error:N}=d;if(N)throw N;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=a.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",j,{headers:this.headers,jwt:(v=(x=y.session)===null||x===void 0?void 0:x.access_token)!==null&&v!==void 0?v:void 0})});if(c)throw c;return dt()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),this._returnResult({data:{provider:a.provider,url:l==null?void 0:l.url},error:null})}catch(l){if(W(l))return this._returnResult({data:{provider:a.provider,url:null},error:l});throw l}}async linkIdentityIdToken(a){return await this._useSession(async r=>{var l;try{const{error:c,data:{session:d}}=r;if(c)throw c;const{options:f,provider:m,token:g,access_token:x,nonce:v}=a,y=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=d==null?void 0:d.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:g,access_token:x,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ta}),{data:N,error:j}=y;return j?this._returnResult({data:{user:null,session:null},error:j}):!N||!N.session||!N.user?this._returnResult({data:{user:null,session:null},error:new Br}):(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("USER_UPDATED",N.session)),this._returnResult({data:N,error:j}))}catch(c){if(await ut(this.storage,`${this.storageKey}-code-verifier`),W(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async r=>{var l,c;const{data:d,error:f}=r;if(f)throw f;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await fy(async c=>(c>0&&await hy(200*Math.pow(2,c-1)),this._debug(r,"refreshing attempt",c),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:ta})),(c,d)=>{const f=200*Math.pow(2,c);return d&&Iu(d)&&Date.now()+f-l<Pr})}catch(l){if(this._debug(r,"error",l),W(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",l),dt()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await Is(this.storage,this.storageKey);if(c&&this.userStorage){let f=await Is(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await Zr(this.userStorage,this.storageKey+"-user",f)),c.user=(a=f==null?void 0:f.user)!==null&&a!==void 0?a:Vu()}else if(c&&!c.user&&!c.user){const f=await Is(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(c.user=f.user,await ut(this.storage,this.storageKey+"-user"),await Zr(this.storage,this.storageKey,c)):c.user=Vu()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const d=((r=c.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<$u;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${$u}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),Iu(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(c.access_token);!m&&(f!=null&&f.user)?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var r,l;if(!a)throw new Mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new co;const{data:d,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!d.session)throw new Mt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),W(d)){const f={data:null,error:d};return Iu(d)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,r,l=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:r});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,r)}catch(g){d.push(g)}});if(await Promise.all(f),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await ut(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},a),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await Zr(this.userStorage,this.storageKey+"-user",{user:r.user});const c=Object.assign({},r);delete c.user;const d=G0(c);await Zr(this.storage,this.storageKey,d)}else{const c=G0(r);await Zr(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ut(this.storage,this.storageKey),await ut(this.storage,this.storageKey+"-code-verifier"),await ut(this.storage,this.storageKey+"-user"),this.userStorage&&await ut(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&dt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Pr);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-a)/Pr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Pr}ms, refresh threshold is ${ed} ticks`),c<=ed&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Ng)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,l){const c=[`provider=${encodeURIComponent(r)}`];if(l!=null&&l.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,f]=await qr(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(m.toString())}if(l!=null&&l.queryParams){const d=new URLSearchParams(l.queryParams);c.push(d.toString())}return l!=null&&l.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var l;const{data:c,error:d}=r;return d?this._returnResult({data:null,error:d}):await se(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(a){try{return await this._useSession(async r=>{var l,c;const{data:d,error:f}=r;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:g,error:x}=await se(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=d==null?void 0:d.session)===null||l===void 0?void 0:l.access_token});return x?this._returnResult({data:null,error:x}):(a.factorType==="totp"&&g.type==="totp"&&(!((c=g==null?void 0:g.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:c,error:d}=r;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Vy(a.webauthn.credential_response):Gy(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:g}=await se(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:c,error:d}=r;if(d)return this._returnResult({data:null,error:d});const f=await se(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Iy(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Hy(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(a){const{data:r,error:l}=await this._challenge({factorId:a.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){var a;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(a=r==null?void 0:r.factors)!==null&&a!==void 0?a:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var a,r;const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Hu(l.access_token);let f=null;d.aal&&(f=d.aal);let m=f;((r=(a=l.user.factors)===null||a===void 0?void 0:a.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const x=d.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;return c?this._returnResult({data:null,error:c}):l?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:l.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Mt})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(a,r){try{return await this._useSession(async l=>{const{data:{session:c},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Mt});const f=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&dt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(l){if(W(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(a,r){try{return await this._useSession(async l=>{const{data:{session:c},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Mt});const f=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&dt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(l){if(W(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;return l?this._returnResult({data:null,error:l}):r?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Mt})})}catch(a){if(W(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;return c?this._returnResult({data:null,error:c}):l?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Mt})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(a,r={keys:[]}){let l=r.keys.find(m=>m.kid===a);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(m=>m.kid===a),l&&this.jwks_cached_at+Qv>c)return l;const{data:d,error:f}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,l=d.keys.find(m=>m.kid===a),!l)?null:l}async getClaims(a,r={}){try{let l=a;if(!l){const{data:j,error:A}=await this.getSession();if(A||!j.session)return this._returnResult({data:null,error:A});l=j.session.access_token}const{header:c,payload:d,signature:f,raw:{header:m,payload:g}}=Hu(l);r!=null&&r.allowExpired||yy(d.exp);const x=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!x){const{error:j}=await this.getUser(l);if(j)throw j;return{data:{claims:d,header:c,signature:f},error:null}}const v=wy(c.alg),y=await crypto.subtle.importKey("jwk",x,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,f,ly(`${m}.${g}`)))throw new sd("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(l){if(W(l))return this._returnResult({data:null,error:l});throw l}}}li.nextInstanceID={};const Wy=li,ew="2.90.1";let Fn="";typeof Deno<"u"?Fn="deno":typeof document<"u"?Fn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fn="react-native":Fn="node";const tw={"X-Client-Info":`supabase-js-${Fn}/${ew}`},aw={headers:tw},sw={schema:"public"},rw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nw={};function oi(n){"@babel/helpers - typeof";return oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},oi(n)}function iw(n,a){if(oi(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var l=r.call(n,a);if(oi(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function lw(n){var a=iw(n,"string");return oi(a)=="symbol"?a:a+""}function ow(n,a,r){return(a=lw(a))in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,n}function Q0(n,a){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);a&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),r.push.apply(r,l)}return r}function Ge(n){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Q0(Object(r),!0).forEach(function(l){ow(n,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Q0(Object(r)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(r,l))})}return n}const cw=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),uw=()=>Headers,dw=(n,a,r)=>{const l=cw(r),c=uw();return async(d,f)=>{var m;const g=(m=await a())!==null&&m!==void 0?m:n;let x=new c(f==null?void 0:f.headers);return x.has("apikey")||x.set("apikey",n),x.has("Authorization")||x.set("Authorization",`Bearer ${g}`),l(d,Ge(Ge({},f),{},{headers:x}))}};function hw(n){return n.endsWith("/")?n:n+"/"}function fw(n,a){var r,l;const{db:c,auth:d,realtime:f,global:m}=n,{db:g,auth:x,realtime:v,global:y}=a,N={db:Ge(Ge({},g),c),auth:Ge(Ge({},x),d),realtime:Ge(Ge({},v),f),storage:{},global:Ge(Ge(Ge({},y),m),{},{headers:Ge(Ge({},(r=y==null?void 0:y.headers)!==null&&r!==void 0?r:{}),(l=m==null?void 0:m.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return n.accessToken?N.accessToken=n.accessToken:delete N.accessToken,N}function mw(n){const a=n==null?void 0:n.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hw(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var gw=class extends Wy{constructor(n){super(n)}},pw=class{constructor(n,a,r){var l,c;this.supabaseUrl=n,this.supabaseKey=a;const d=mw(n);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:sw,realtime:nw,auth:Ge(Ge({},rw),{},{storageKey:f}),global:aw},g=fw(r??{},m);if(this.storageKey=(l=g.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=g.global.headers)!==null&&c!==void 0?c:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var x;this.auth=this._initSupabaseAuthClient((x=g.auth)!==null&&x!==void 0?x:{},this.headers,g.global.fetch)}this.fetch=dw(a,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Ge({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new Jb(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new Zv(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new Gb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,a={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,a,r)}channel(n,a={config:{}}){return this.realtime.channel(n,a)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,a,r;if(n.accessToken)return await n.accessToken();const{data:l}=await n.auth.getSession();return(a=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:a,detectSessionInUrl:r,storage:l,userStorage:c,storageKey:d,flowType:f,lock:m,debug:g,throwOnError:x},v,y){const N={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gw({url:this.authUrl.href,headers:Ge(Ge({},N),v),storageKey:d,autoRefreshToken:n,persistSession:a,detectSessionInUrl:r,storage:l,userStorage:c,flowType:f,lock:m,debug:g,throwOnError:x,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new hv(this.realtimeUrl.href,Ge(Ge({},n),{},{params:Ge(Ge({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(n,a,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const xw=(n,a,r)=>new pw(n,a,r);function bw(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const a=n.version;if(a==null)return!1;const r=a.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}bw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const vw="https://rxzphenvgpbitltqrtjw.supabase.co",yw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ4enBoZW52Z3BiaXRsdHFydGp3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg1MjIyMjIsImV4cCI6MjA4NDA5ODIyMn0.lyaCydU7VZnt4SdHGjmvZXsewtYzMqsA8AFIJAiWV5I",Xl=xw(vw,yw),ww=({mode:n,step:a})=>o.jsxs("aside",{className:"hidden md:flex w-80 lg:w-96 flex-col bg-blue-900 relative overflow-hidden shrink-0 z-20 shadow-2xl p-8 justify-between",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900 to-indigo-900"}),o.jsx("div",{className:"absolute -top-24 -left-24 w-64 h-64 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),o.jsx("div",{className:"absolute -bottom-24 -right-24 w-64 h-64 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs(_e,{to:"/",className:"flex items-center gap-3 text-white mb-12 hover:opacity-80 transition-opacity",children:[o.jsx("span",{className:"material-symbols-outlined text-2xl",children:"school"}),o.jsx("span",{className:"font-bold text-xl",children:"TuTesisRD"})]}),n==="register"?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:`flex gap-4 items-center relative step-connector transition-all duration-300 ${a===1?"text-white font-bold opacity-100 scale-105":"text-white/50"}`,children:[o.jsx("div",{className:`size-10 rounded-full flex items-center justify-center font-bold transition-all ${a===1?"bg-white text-blue-900 shadow-lg":"border border-white/30"}`,children:a>1?o.jsx("span",{className:"material-symbols-outlined",children:"check"}):"1"}),o.jsx("span",{className:"text-lg",children:"Datos Personales"})]}),o.jsxs("div",{className:`flex gap-4 items-center relative step-connector transition-all duration-300 ${a===2?"text-white font-bold opacity-100 scale-105":"text-white/50"}`,children:[o.jsx("div",{className:`size-10 rounded-full flex items-center justify-center font-bold transition-all ${a===2?"bg-white text-blue-900 shadow-lg":"border border-white/30"}`,children:a>2?o.jsx("span",{className:"material-symbols-outlined",children:"check"}):"2"}),o.jsx("span",{className:"text-lg",children:"Detalles Proyecto"})]}),o.jsxs("div",{className:`flex gap-4 items-center relative transition-all duration-300 ${a===3?"text-white font-bold opacity-100 scale-105":"text-white/50"}`,children:[o.jsx("div",{className:`size-10 rounded-full flex items-center justify-center font-bold transition-all ${a===3?"bg-white text-blue-900 shadow-lg":"border border-white/30"}`,children:"3"}),o.jsx("span",{className:"text-lg",children:"Finalizar"})]})]}):o.jsxs("div",{className:"text-white",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Centro de Monitoreo"}),o.jsx("p",{className:"opacity-80",children:"Rastrea el progreso de tu tesis en tiempo real con tu cdigo nico."}),o.jsxs("div",{className:"mt-8 bg-white/10 p-4 rounded-xl backdrop-blur-sm border border-white/10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"material-symbols-outlined",children:"secure"}),o.jsx("span",{className:"font-bold",children:"Seguro y Privado"})]}),o.jsx("p",{className:"text-xs opacity-70",children:"Solo t tienes acceso a esta informacin mediante tu cdigo de rastreo."})]})]})]}),o.jsx("div",{className:"text-white/60 text-sm relative z-10",children:" 2023 TuTesisRD"})]}),_w=({formData:n,handleInputChange:a,nextStep:r})=>o.jsxs("div",{className:"animate-fade-in-right",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-black mb-2 text-slate-900 dark:text-white",children:"Empecemos con tus datos"}),o.jsx("p",{className:"text-slate-500 mb-8",children:"Esta informacin nos permite contactarte directamente."}),o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Nombre"}),o.jsx("input",{type:"text",name:"name",value:n.name,onChange:a,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"Tu nombre"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Apellido"}),o.jsx("input",{type:"text",name:"lastname",value:n.lastname,onChange:a,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"Tu apellido"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Correo Electrnico"}),o.jsx("input",{type:"email",name:"email",value:n.email,onChange:a,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"ejemplo@correo.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Telfono / WhatsApp"}),o.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:a,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"(809) 000-0000"})]})]}),o.jsxs("div",{className:"mt-10 flex flex-col-reverse md:flex-row justify-between items-center gap-4",children:[o.jsx(_e,{to:"/",className:"w-full md:w-auto py-3 text-center text-slate-500 hover:text-slate-800 font-medium",children:"Cancelar"}),o.jsxs("button",{onClick:r,className:"w-full md:w-auto px-8 py-4 bg-primary text-white rounded-xl font-bold hover:shadow-lg hover:bg-primary-dark transition-all transform hover:-translate-y-1 flex justify-center items-center",children:["Continuar ",o.jsx("span",{className:"material-icons text-sm ml-1",children:"arrow_forward"})]})]})]}),jw=({formData:n,handleInputChange:a,setFormData:r,nextStep:l,prevStep:c})=>o.jsxs("div",{className:"animate-fade-in-right",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-black mb-2 text-slate-900 dark:text-white",children:"Detalles del Servicio"}),o.jsx("p",{className:"text-slate-500 mb-8",children:"Selecciona el nivel y la modalidad de trabajo acordada."}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Universidad"}),o.jsx("input",{type:"text",name:"university",value:n.university,onChange:a,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"Ej. UASD"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Carrera / Programa"}),o.jsx("input",{type:"text",name:"career",value:n.career,onChange:a,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"Ej. Derecho / Maestra en..."})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Tipo de Proyecto"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[{label:"Tesis de Grado",icon:"school"},{label:"Monogrfico",icon:"article"},{label:"Postgrado/Doctoral",icon:"psychology"},{label:"Tarea",icon:"assignment"},{label:"Artculo Cientfico",icon:"science"},{label:"Presentacin",icon:"co_present"}].map(d=>o.jsxs("div",{onClick:()=>r(f=>({...f,type:d.label})),className:`p-3 border-2 rounded-xl cursor-pointer relative shadow-sm transition-all text-center flex flex-col items-center justify-center gap-2 ${n.type===d.label?"border-primary bg-blue-50 dark:bg-primary/10":"border-slate-200 dark:border-slate-700 hover:border-primary"}`,children:[n.type===d.label&&o.jsx("div",{className:"absolute top-2 right-2 text-primary",children:o.jsx("span",{className:"material-symbols-outlined text-base",children:"check_circle"})}),o.jsx("span",{className:"material-icons text-2xl text-slate-400",children:d.icon}),o.jsx("span",{className:`font-bold text-xs sm:text-sm leading-tight ${n.type===d.label?"text-primary":"text-slate-700 dark:text-slate-300"}`,children:d.label})]},d.label))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Modalidad de Servicio"}),o.jsx("div",{className:"space-y-3",children:[{id:"asesoria",title:"Solo Asesora",desc:"Correcciones y gua metodolgica."},{id:"parcial",title:"Desarrollo Colaborativo",desc:"Usted investiga, nosotros redactamos (50/50)."},{id:"completo",title:"Desarrollo Integral",desc:"Elaboracin completa desde cero."}].map(d=>o.jsxs("div",{onClick:()=>r(f=>({...f,plan:d.id})),className:`p-4 border-2 rounded-xl cursor-pointer flex items-center gap-4 transition-all ${n.plan===d.id?"border-brand-orange bg-orange-50 dark:bg-orange-900/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[o.jsx("div",{className:`size-6 rounded-full border-2 flex items-center justify-center shrink-0 ${n.plan===d.id?"border-brand-orange":"border-slate-300"}`,children:n.plan===d.id&&o.jsx("div",{className:"size-3 rounded-full bg-brand-orange"})}),o.jsxs("div",{children:[o.jsx("div",{className:`font-bold ${n.plan===d.id?"text-brand-orange":"text-slate-800 dark:text-white"}`,children:d.title}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:d.desc})]})]},d.id))})]}),o.jsx("div",{className:"grid grid-cols-1 gap-5",children:o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Normativa"}),o.jsxs("select",{name:"normative",value:n.normative,onChange:a,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",children:[o.jsx("option",{children:"Normas APA (7ma)"}),o.jsx("option",{children:"Normas ISO"}),o.jsx("option",{children:"IEEE"}),o.jsx("option",{children:"Vancouver"})]})]})}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-xl border border-slate-200 dark:border-slate-700 space-y-6",children:[o.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[o.jsx("span",{className:"material-icons text-green-500",children:"payments"})," Detalles Financieros"]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[o.jsxs("div",{className:"sm:col-span-2",children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Fecha Pautada de Entrega"}),o.jsx("input",{type:"date",name:"dueDate",value:n.dueDate,onChange:a,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Monto Total Acordado (DOP)"}),o.jsx("input",{type:"number",name:"totalAmount",value:n.totalAmount,onChange:a,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Monto Abonado (DOP)"}),o.jsx("input",{type:"number",name:"paidAmount",value:n.paidAmount,onChange:a,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"0.00"})]})]}),n.totalAmount&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border border-slate-100 dark:border-slate-700 animate-fade-in",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm text-slate-500",children:"Monto Restante"}),o.jsxs("span",{className:"text-xl font-black text-slate-800 dark:text-white",children:["RD$ ",((parseFloat(n.totalAmount)||0)-(parseFloat(n.paidAmount)||0)).toLocaleString()]})]}),o.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-2.5",children:o.jsx("div",{className:"bg-brand-orange h-2.5 rounded-full transition-all duration-500",style:{width:`${Math.min(100,Math.max(0,(parseFloat(n.paidAmount)||0)/(parseFloat(n.totalAmount)||1)*100))}%`}})}),o.jsx("div",{className:"flex justify-end mt-1",children:o.jsxs("span",{className:"text-xs font-bold text-brand-orange",children:[Math.min(100,Math.max(0,(parseFloat(n.paidAmount)||0)/(parseFloat(n.totalAmount)||1)*100)).toFixed(1),"% Abonado"]})})]})]})]}),o.jsxs("div",{className:"mt-10 flex justify-between gap-4",children:[o.jsx("button",{onClick:c,className:"px-6 py-3 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 font-medium transition-colors",children:" Atrs"}),o.jsx("button",{onClick:l,className:"flex-1 md:flex-none px-8 py-3 bg-brand-orange text-white rounded-xl font-bold hover:shadow-lg hover:bg-orange-600 transition-all transform hover:-translate-y-1",children:"Siguiente"})]})]}),Nw=({isSubmitting:n,prevStep:a,submitRegistration:r})=>o.jsxs("div",{className:"animate-fade-in-right",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-black mb-2 text-slate-900 dark:text-white",children:"Sube tus Archivos"}),o.jsx("p",{className:"text-slate-500 mb-8",children:"Si tienes documentos previos, sbelos aqu. (Opcional)"}),o.jsx("div",{className:"grid grid-cols-1 gap-4 mb-8",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"font-bold text-slate-700 dark:text-white flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-slate-200 dark:bg-slate-700 text-xs flex items-center justify-center",children:"1"})," Anteproyecto"]}),o.jsxs("div",{className:"h-32 border-2 border-dashed border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-800/50 rounded-xl flex flex-col items-center justify-center text-center p-4 cursor-pointer hover:bg-white dark:hover:bg-slate-800 hover:border-brand-orange dark:hover:border-brand-orange transition-all group",children:[o.jsx("span",{className:"material-icons text-3xl text-slate-400 group-hover:text-brand-orange mb-1 transition-colors",children:"cloud_upload"}),o.jsx("span",{className:"text-sm font-bold text-slate-600 dark:text-slate-300 group-hover:text-brand-orange",children:"Subir PDF"})]})]})}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl items-start gap-3 flex mb-8",children:[o.jsx("span",{className:"material-icons text-blue-500 shrink-0",children:"info"}),o.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Si no tienes los archivos a mano, puedes continuar y enviarlos luego por WhatsApp a tu asesor asignado."})]}),o.jsxs("div",{className:"mt-10 flex flex-col-reverse md:flex-row justify-between gap-4",children:[o.jsx("button",{onClick:a,className:"w-full md:w-auto py-3 text-center rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 font-medium transition-colors",children:" Atrs"}),o.jsx("button",{onClick:r,disabled:n,className:"w-full md:w-auto px-8 py-4 bg-[#10b981] text-white rounded-xl font-bold hover:shadow-lg hover:bg-[#059669] transition-all transform hover:-translate-y-1 flex justify-center items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:n?o.jsxs(o.Fragment,{children:["Processing ",o.jsx("span",{className:"material-icons animate-spin",children:"sync"})]}):o.jsxs(o.Fragment,{children:["Finalizar Registro ",o.jsx("span",{className:"material-icons",children:"check_circle"})]})})]})]}),kw=({onSearch:n,searchResult:a})=>{const[r,l]=oe.useState(""),c=d=>{d.preventDefault(),n(r)};return o.jsxs("div",{className:"animate-fade-in-up",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-black mb-2 text-slate-900 dark:text-white",children:"Rastrea tu Proyecto"}),o.jsx("p",{className:"text-slate-500 mb-8",children:"Ingresa el cdigo proporcionado al momento del registro."}),o.jsx("form",{onSubmit:c,className:"mb-10",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsx("input",{type:"text",value:r,onChange:d=>l(d.target.value.toUpperCase()),className:"flex-1 p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none uppercase tracking-widest font-bold placeholder:normal-case placeholder:tracking-normal w-full",placeholder:"Ej. TRX-8492"}),o.jsx("button",{type:"submit",className:"bg-brand-orange text-white px-8 py-4 rounded-xl font-bold hover:bg-orange-600 transition-colors shadow-lg shadow-orange-500/30 w-full md:w-auto",children:"Buscar"})]})}),a&&o.jsxs("div",{className:"bg-white dark:bg-[#1a2230] rounded-2xl p-6 border border-slate-200 dark:border-slate-700 shadow-xl animate-fade-in mb-8",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsxs("div",{children:[o.jsx("span",{className:"inline-block px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-bold mb-2",children:a.status}),o.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white line-clamp-2",children:["Tesis: ",a.university]}),o.jsx("p",{className:"text-sm text-slate-500",children:a.type})]}),o.jsxs("div",{className:"text-right shrink-0 ml-4",children:[o.jsx("div",{className:"text-xs text-slate-400",children:"ltima actualizacin"}),o.jsx("div",{className:"font-medium text-slate-700 dark:text-slate-300",children:a.lastUpdate})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:"Progreso General"}),o.jsxs("span",{className:"text-brand-orange font-bold",children:[a.progress,"%"]})]}),o.jsx("div",{className:"h-3 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-brand-orange rounded-full",style:{width:`${a.progress}%`}})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[o.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Asesor Asignado"}),o.jsx("div",{className:"font-bold text-slate-800 dark:text-white truncate",children:a.advisor})]}),o.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[o.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Prxima Entrega"}),o.jsx("div",{className:"font-bold text-slate-800 dark:text-white truncate",children:"Captulo 1"})]})]})]})]}),o.jsx("div",{className:"text-center",children:o.jsxs(_e,{to:"/",className:"inline-flex items-center text-slate-500 hover:text-brand-orange font-medium transition-colors",children:[o.jsx("span",{className:"material-icons mr-2",children:"arrow_back"})," Volver al inicio"]})})]})},F0=({initialMode:n})=>{const a=ud(),r=dd(),[l,c]=oe.useState("register"),[d,f]=oe.useState(1),[m,g]=oe.useState(!1),[x,v]=oe.useState({name:"",lastname:"",email:"",phone:"",university:"",normative:"Normas APA (7ma)",totalAmount:"",paidAmount:"",dueDate:"",career:"",type:"Tesis de Grado",plan:"asesoria"}),[y,N]=oe.useState(null),[j,A]=oe.useState(null),R=(ne,F="error")=>{N({message:ne,type:F}),setTimeout(()=>N(null),3e3)},L=async()=>{g(!0);try{const{data:ne,error:F}=await Xl.from("students").insert([{name:x.name,lastname:x.lastname,email:x.email,phone:x.phone,university:x.university,career:x.career}]).select().single();if(F)throw F;const{data:V,error:J}=await Xl.from("projects").insert([{student_id:ne.id,type:x.type,description:`Plan: ${x.plan}, Normative: ${x.normative}`,total_amount:parseFloat(x.totalAmount)||0,paid_amount:parseFloat(x.paidAmount)||0,due_date:x.dueDate||null,status:"pending"}]).select("tracking_code").single();if(J)throw J;r("/student/success",{state:{trackingCode:V.tracking_code}})}catch(ne){console.error("Registration Error:",ne),R(ne.message||"Hubo un error al registrar el proyecto.","error")}finally{g(!1)}},$=ne=>{const{name:F,value:V}=ne.target;v(J=>({...J,[F]:V}))};oe.useEffect(()=>{const ne=new URLSearchParams(a.search);n?c(n):ne.get("mode")==="monitor"&&c("monitor")},[a,n]);const I=async ne=>{var V;if(!ne.trim())return;const F=ne.trim().toUpperCase();try{const{data:J,error:Se}=await Xl.from("projects").select(`
                    *,
                    students (
                        university,
                        career,
                        name,
                        lastname
                    )
                `).eq("tracking_code",F).single();if(Se)throw Se;J?A({status:J.status==="pending"?"Pendiente":J.status==="assigned"?"Asignado":J.status==="in_progress"?"En Progreso":J.status,university:((V=J.students)==null?void 0:V.university)||"N/A",type:J.type,progress:J.paid_amount&&J.total_amount?Math.round(J.paid_amount/J.total_amount*100):0,advisor:"Por asignar",lastUpdate:new Date(J.created_at).toLocaleDateString()}):(R("No se encontr ningn proyecto con este cdigo.","error"),A(null))}catch(J){console.error(J),R("No se encontr ningn proyecto con este cdigo.","error"),A(null)}},q=()=>{if(d===1&&(!x.name||!x.lastname||!x.email||!x.phone)){R("Por favor completa todos los campos personales.");return}if(d===2&&(!x.university||!x.career||!x.totalAmount)){R("Por favor completa los detalles del proyecto.");return}f(ne=>ne+1)},Y=()=>f(ne=>ne-1);return o.jsxs("div",{className:"flex h-screen w-full font-display bg-background-light dark:bg-background-dark text-slate-800 dark:text-white transition-colors duration-200",children:[y&&o.jsx("div",{className:"fixed top-20 right-4 z-[100] animate-fade-in-down",children:o.jsxs("div",{className:`px-6 py-4 rounded-xl shadow-2xl flex items-center gap-3 backdrop-blur-md border ${y.type==="error"?"bg-red-500/90 text-white border-red-400":"bg-green-500/90 text-white border-green-400"}`,children:[o.jsx("div",{className:`p-1 rounded-full ${y.type==="error","bg-white/20"}`,children:o.jsx("span",{className:"material-symbols-outlined text-lg block",children:y.type==="error"?"priority_high":"check"})}),o.jsx("span",{className:"font-bold text-sm shadow-sm",children:y.message})]})}),o.jsx(ww,{mode:l,step:d}),o.jsxs("main",{className:"flex-1 overflow-y-auto w-full bg-white dark:bg-slate-900 md:bg-transparent transition-colors custom-scrollbar relative",children:[o.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 border-b border-slate-100 dark:border-slate-800 bg-white/90 dark:bg-slate-900/90 backdrop-blur-sm sticky top-0 z-30",children:[o.jsxs(_e,{to:"/",className:"flex items-center gap-2 text-slate-900 dark:text-white font-bold",children:[o.jsx("span",{className:"material-symbols-outlined text-brand-orange",children:"school"}),o.jsxs("span",{children:["TuTesis",o.jsx("span",{className:"text-brand-orange",children:"RD"})]})]}),l==="register"&&o.jsxs("div",{className:"text-xs font-bold px-3 py-1 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-600 dark:text-slate-400",children:["Paso ",d," de 3"]})]}),o.jsxs("div",{className:"p-4 md:p-8 lg:p-16 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-8 w-full md:w-fit mx-auto md:mx-0 shadow-inner",children:[o.jsx("button",{onClick:()=>c("register"),className:`flex-1 md:flex-none px-4 md:px-6 py-3 rounded-lg text-sm font-bold transition-all ${l==="register"?"bg-white dark:bg-slate-700 text-primary shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Registrar"}),o.jsx("button",{onClick:()=>c("monitor"),className:`flex-1 md:flex-none px-4 md:px-6 py-3 rounded-lg text-sm font-bold transition-all ${l==="monitor"?"bg-white dark:bg-slate-700 text-primary shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Monitorear"})]}),l==="register"?o.jsxs(o.Fragment,{children:[d===1&&o.jsx(_w,{formData:x,handleInputChange:$,nextStep:q}),d===2&&o.jsx(jw,{formData:x,handleInputChange:$,setFormData:v,nextStep:q,prevStep:Y}),d===3&&o.jsx(Nw,{isSubmitting:m,prevStep:Y,submitRegistration:L})]}):o.jsx(kw,{onSearch:I,searchResult:j})]})]})]})};var Zl={},Yl={},W0;function Sw(){if(W0)return Yl;W0=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.confetti=m;var n=["#a864fd","#29cdff","#78ff44","#ff718d","#fdff6a"];function a(g,x,v,y,N){return Array.from({length:x}).map(function(j,A){var R=document.createElement("div"),L=v[A%v.length];return R.style["background-color"]=L,R.style.width=y,R.style.height=N,R.style.position="absolute",R.style.willChange="transform, opacity",R.style.visibility="hidden",g.appendChild(R),R})}function r(g,x,v,y){var N=g*(Math.PI/180),j=x*(Math.PI/180);return{x:0,y:0,z:0,wobble:y()*10,wobbleSpeed:.1+y()*.1,velocity:v*.5+y()*v,angle2D:-N+(.5*j-y()*j),angle3D:-(Math.PI/4)+y()*(Math.PI/2),tiltAngle:y()*Math.PI,tiltAngleSpeed:.1+y()*.3}}function l(g,x,v,y){g.physics.x+=Math.cos(g.physics.angle2D)*g.physics.velocity,g.physics.y+=Math.sin(g.physics.angle2D)*g.physics.velocity,g.physics.z+=Math.sin(g.physics.angle3D)*g.physics.velocity,g.physics.wobble+=g.physics.wobbleSpeed,y?g.physics.velocity*=y:g.physics.velocity-=g.physics.velocity*v,g.physics.y+=3,g.physics.tiltAngle+=g.physics.tiltAngleSpeed;var N=g.physics,j=N.x,A=N.y,R=N.z,L=N.tiltAngle,$=N.wobble,I=j+10*Math.cos($),q=A+10*Math.sin($),Y="translate3d("+I+"px, "+q+"px, "+R+"px) rotate3d(1, 1, 1, "+L+"rad)";g.element.style.visibility="visible",g.element.style.transform=Y,g.element.style.opacity=1-x}function c(g,x,v,y,N,j){var A=void 0;return new Promise(function(R){function L($){A||(A=$);var I=$-A,q=A===$?0:($-A)/N;x.slice(0,Math.ceil(I/j)).forEach(function(Y){l(Y,q,v,y)}),$-A<N?requestAnimationFrame(L):(x.forEach(function(Y){if(Y.element.parentNode===g)return g.removeChild(Y.element)}),R())}requestAnimationFrame(L)})}var d={angle:90,spread:45,startVelocity:45,elementCount:50,width:"10px",height:"10px",perspective:"",colors:n,duration:3e3,stagger:0,dragFriction:.1,random:Math.random};function f(g){return!g.stagger&&g.delay&&(g.stagger=g.delay),g}function m(g){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=Object.assign({},d,f(x)),y=v.elementCount,N=v.colors,j=v.width,A=v.height,R=v.perspective,L=v.angle,$=v.spread,I=v.startVelocity,q=v.decay,Y=v.dragFriction,ne=v.duration,F=v.stagger,V=v.random;g.style.perspective=R;var J=a(g,y,N,j,A),Se=J.map(function(Pe){return{element:Pe,physics:r(L,$,I,V)}});return c(g,Se,Y,q,ne,F)}return Yl}var eg;function Ew(){if(eg)return Zl;eg=1,Object.defineProperty(Zl,"__esModule",{value:!0});var n=(function(){function v(y,N){for(var j=0;j<N.length;j++){var A=N[j];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(y,A.key,A)}}return function(y,N,j){return N&&v(y.prototype,N),j&&v(y,j),y}})(),a=lg(),r=c(a),l=Sw();function c(v){return v&&v.__esModule?v:{default:v}}function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function f(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function m(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var g={position:"relative"},x=(function(v){m(y,v);function y(N){d(this,y);var j=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,N));return j.setRef=j.setRef.bind(j),j}return n(y,[{key:"componentDidUpdate",value:function(j){!j.active&&this.props.active&&(0,l.confetti)(this.container,this.props.config)}},{key:"setRef",value:function(j){this.container=j}},{key:"render",value:function(){return r.default.createElement("div",{className:this.props.className,style:g,ref:this.setRef})}}]),y})(a.Component);return Zl.default=x,Zl}var Aw=Ew();const Tw=cd(Aw),Ow=()=>{var g;const n=ud(),[a,r]=Xr.useState(!1),l=((g=n.state)==null?void 0:g.trackingCode)||"TRX-PENDING";Xr.useEffect(()=>{r(!0)},[]);const[c,d]=Xr.useState(!1),f=()=>{navigator.clipboard.writeText(l),d(!0),setTimeout(()=>d(!1),2e3)},m={angle:90,spread:360,startVelocity:40,elementCount:70,dragFriction:.12,duration:3e3,stagger:3,width:"10px",height:"10px",perspective:"500px",colors:["#a864fd","#29cdff","#78ff44","#ff718d","#fdff6a"]};return o.jsxs("div",{className:"min-h-screen bg-blue-50 dark:bg-[#101922] flex items-center justify-center p-4 font-display transition-colors duration-200",children:[o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none",children:o.jsx(Tw,{active:a,config:m})}),o.jsxs("div",{className:"bg-white dark:bg-[#1a2230] max-w-lg w-full rounded-2xl shadow-2xl overflow-hidden text-center animate-slide-up border border-slate-100 dark:border-slate-800",children:[o.jsxs("div",{className:"pt-10 pb-6 px-8 relative",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-green-400 to-primary"}),o.jsx("div",{className:"size-24 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center text-green-500 mx-auto mb-6 shadow-xl shadow-green-200 dark:shadow-none animate-[bounce_1s_infinite]",children:o.jsx("span",{className:"material-symbols-outlined text-6xl",children:"check_circle"})}),o.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white mb-2",children:"Registro Completado!"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Tu cuenta ha sido creada y tu proyecto registrado exitosamente en la plataforma."})]}),o.jsx("div",{className:"px-8 pb-4",children:o.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 rounded-xl border border-dashed border-slate-300 dark:border-slate-600",children:[o.jsx("p",{className:"text-xs text-slate-500 mb-1 font-bold uppercase tracking-wider",children:"Tu Cdigo de Rastreo"}),o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("span",{className:"text-2xl font-mono font-black text-brand-orange tracking-widest",children:l}),o.jsxs("button",{onClick:f,className:"text-slate-400 hover:text-slate-600 dark:hover:text-white transition-colors relative",title:"Copiar",children:[o.jsx("span",{className:"material-symbols-outlined text-lg",children:c?"check":"content_copy"}),c&&o.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] px-2 py-1 rounded shadow-lg",children:"Copiado!"})]})]}),o.jsx("p",{className:"text-[10px] text-slate-400 mt-2",children:"Guarda este cdigo para monitorear el estado de tu proyecto."})]})}),o.jsxs("div",{className:"bg-slate-50 dark:bg-[#151e29] p-8 text-left space-y-6",children:[o.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest border-b border-slate-200 dark:border-slate-700 pb-2",children:"Prximos Pasos"}),o.jsxs("div",{className:"flex gap-4 group",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"size-8 rounded-full bg-blue-100 dark:bg-blue-900/50 text-primary flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx("span",{className:"material-symbols-outlined text-sm",children:"hourglass_top"})}),o.jsx("div",{className:"w-0.5 h-full bg-slate-200 dark:bg-slate-700 my-1"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Asignacin de Asesor"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Un experto validar tu tema en 24h."})]})]}),o.jsxs("div",{className:"flex gap-4 group",children:[o.jsx("div",{className:"flex flex-col items-center",children:o.jsx("div",{className:"size-8 rounded-full bg-green-100 dark:bg-green-900/50 text-green-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx("span",{className:"material-symbols-outlined text-sm",children:"rocket_launch"})})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Inicio del Proyecto"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Comenzaremos a trabajar segn lo acordado."})]})]})]}),o.jsx("div",{className:"p-6",children:o.jsxs(_e,{to:"/monitoreo",className:"block w-full py-4 bg-primary text-white font-bold rounded-xl hover:bg-blue-600 hover:shadow-lg hover:shadow-blue-500/30 transition-all flex items-center justify-center gap-2",children:[o.jsx("span",{className:"material-icons",children:"travel_explore"})," Monitorear mi Proyecto"]})})]})]})},Lt=({children:n,variant:a="primary",size:r="md",isLoading:l=!1,leftIcon:c,rightIcon:d,className:f="",disabled:m,...g})=>{const x="inline-flex items-center justify-center font-bold transition-all duration-300 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",v={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},y={primary:"bg-brand-orange text-white hover:bg-brand-600 shadow-lg shadow-brand-orange/20 hover:shadow-brand-orange/40 focus:ring-brand-orange/50",secondary:"bg-white dark:bg-slate-800 text-slate-900 dark:text-white border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-slate-700 focus:ring-gray-200",outline:"bg-transparent border-2 border-brand-orange text-brand-orange hover:bg-brand-orange/10 focus:ring-brand-orange/50",ghost:"bg-transparent text-slate-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-white/10 hover:text-brand-orange focus:ring-gray-200",glass:"bg-white/70 dark:bg-black/40 text-slate-900 dark:text-white backdrop-blur-md border border-white/20 hover:bg-white/90 dark:hover:bg-black/60 shadow-glass hover:shadow-glass-sm",gradient:"bg-gradient-to-r from-brand-orange to-amber-500 text-white shadow-glow hover:shadow-glow-lg hover:brightness-110 border-none"};return o.jsxs("button",{className:`${x} ${v[r]} ${y[a]} ${f} ${l?"cursor-wait":""}`,disabled:m||l,...g,children:[l&&o.jsx("span",{className:"material-icons animate-spin mr-2 text-sm",children:"autorenew"}),!l&&c&&o.jsx("span",{className:"mr-2 flex items-center",children:c}),n,!l&&d&&o.jsx("span",{className:"ml-2 flex items-center",children:d})]})},Ks=({children:n,variant:a="default",hoverEffect:r=!1,className:l="",...c})=>{const d="rounded-3xl transition-all duration-300 overflow-hidden",f=r?"hover:-translate-y-1 hover:shadow-xl":"",m={default:"bg-white dark:bg-surface-dark border border-gray-100 dark:border-white/5 shadow-sm",glass:"bg-white/70 dark:bg-black/40 backdrop-blur-xl border border-white/20 shadow-glass",gradient:"bg-gradient-to-br from-brand-orange to-red-500 text-white shadow-glow-lg",outline:"bg-transparent border-2 border-gray-200 dark:border-gray-700 text-slate-900 dark:text-white"};return o.jsx("div",{className:`${d} ${m[a]} ${f} ${l}`,...c,children:n})},Kl=({label:n,error:a,icon:r,className:l="",id:c,...d})=>o.jsxs("div",{className:"w-full",children:[n&&o.jsx("label",{htmlFor:c,className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 ml-1",children:n}),o.jsxs("div",{className:"relative",children:[r&&o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",children:r}),o.jsx("input",{id:c,className:`
                        w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-800/50 
                        border font-medium text-slate-900 dark:text-white placeholder-slate-400
                        transition-all duration-200
                        focus:outline-none focus:ring-2 focus:ring-brand-orange/20 focus:border-brand-orange
                        disabled:opacity-50 disabled:cursor-not-allowed
                        ${r?"pl-12":""}
                        ${a?"border-red-500 focus:ring-red-200 focus:border-red-500":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}
                        ${l}
                    `,...d})]}),a&&o.jsx("p",{className:"mt-1 ml-1 text-sm text-red-500 font-medium animate-fade-in",children:a})]}),Cw=()=>{const[n,a]=oe.useState("colors");return o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-900 dark:text-white transition-colors duration-300",children:[o.jsx(ms,{title:"Design System",description:"TuTesisRD Design System & UI Kit"}),o.jsx(vs,{}),o.jsxs("div",{className:"container mx-auto px-6 pt-32 pb-20",children:[o.jsxs("header",{className:"mb-16 text-center",children:[o.jsx("div",{className:"inline-block p-1 px-3 rounded-full bg-brand-orange/10 text-brand-orange text-xs font-bold uppercase tracking-wider mb-4 animate-fade-in",children:"UI/UX Pro Max"}),o.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-4 animate-fade-in-up",children:"Sistema de Diseo"}),o.jsx("p",{className:"text-xl text-slate-500 max-w-2xl mx-auto animate-slide-up",children:"Documentacin viva de tokens, componentes y patrones de diseo."})]}),o.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-16 animate-fade-in",style:{animationDelay:"0.2s"},children:["colors","typography","components","effects"].map(r=>o.jsx("button",{onClick:()=>a(r),className:`px-6 py-2 rounded-full font-bold transition-all ${n===r?"bg-brand-orange text-white shadow-lg shadow-brand-orange/30 scale-105":"bg-white dark:bg-white/5 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-white/10"}`,children:r.charAt(0).toUpperCase()+r.slice(1)},r))}),o.jsxs("div",{className:"animate-fade-in-up",style:{animationDelay:"0.3s"},children:[n==="colors"&&o.jsxs("div",{className:"space-y-12",children:[o.jsxs("section",{children:[o.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[o.jsx("span",{className:"material-icons text-brand-orange",children:"palette"})," Brand Colors"]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-50 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-brand-950",children:"50"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-100 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-brand-950",children:"100"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-200 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-brand-950",children:"200"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-300 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-brand-950",children:"300"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-400 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"400"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-500 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"500"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-600 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"600"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-700 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"700"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-800 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"800"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-900 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"900"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-950 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"950"})})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Neutral Palette"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[o.jsxs("div",{className:"p-4 bg-background-light rounded-xl border border-gray-200",children:[o.jsx("div",{className:"text-sm font-bold",children:"Background Light"}),o.jsx("div",{className:"text-xs text-slate-500",children:"bg-background-light"})]}),o.jsxs("div",{className:"p-4 bg-background-dark text-white rounded-xl border border-gray-800",children:[o.jsx("div",{className:"text-sm font-bold",children:"Background Dark"}),o.jsx("div",{className:"text-xs text-slate-400",children:"bg-background-dark"})]})]})]})]}),n==="typography"&&o.jsx("div",{className:"space-y-12 max-w-4xl mx-auto",children:o.jsxs("section",{className:"space-y-8",children:[o.jsxs("div",{className:"border-l-4 border-brand-orange pl-6",children:[o.jsx("h1",{className:"text-6xl font-black mb-4",children:"Heading 1"}),o.jsx("p",{className:"text-slate-500",children:"Outfit / Black / 60px"})]}),o.jsxs("div",{className:"border-l-4 border-brand-400 pl-6",children:[o.jsx("h2",{className:"text-5xl font-bold mb-4",children:"Heading 2"}),o.jsx("p",{className:"text-slate-500",children:"Outfit / Bold / 48px"})]}),o.jsxs("div",{className:"border-l-4 border-brand-300 pl-6",children:[o.jsx("h3",{className:"text-3xl font-bold mb-4",children:"Heading 3"}),o.jsx("p",{className:"text-slate-500",children:"Outfit / Bold / 30px"})]}),o.jsx("div",{className:"p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800",children:o.jsx("p",{className:"text-lg leading-relaxed text-slate-600 dark:text-slate-300",children:"Body Text (Leading Relaxed). Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."})})]})}),n==="components"&&o.jsxs("div",{className:"space-y-12",children:[o.jsxs("section",{children:[o.jsx("h3",{className:"text-xl font-bold mb-6",children:"Buttons"}),o.jsxs("div",{className:"flex flex-wrap gap-4 items-center p-8 bg-surface-light dark:bg-surface-dark rounded-3xl border border-gray-100 dark:border-gray-800",children:[o.jsx(Lt,{variant:"primary",children:"Primary Application"}),o.jsx(Lt,{variant:"secondary",children:"Secondary Action"}),o.jsx(Lt,{variant:"outline",children:"Outline"}),o.jsx(Lt,{variant:"ghost",children:"Ghost Option"}),o.jsx(Lt,{variant:"glass",children:"Glass Button"}),o.jsx(Lt,{variant:"gradient",rightIcon:o.jsx("span",{className:"material-icons text-sm",children:"arrow_forward"}),children:"Get Started"}),o.jsx(Lt,{variant:"primary",isLoading:!0,children:"Loading"}),o.jsx(Lt,{variant:"secondary",className:"rounded-full w-12 h-12 !p-0 flex items-center justify-center",children:o.jsx("span",{className:"material-icons",children:"add"})})]})]}),o.jsxs("section",{children:[o.jsx("h3",{className:"text-xl font-bold mb-6",children:"Inputs"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6 p-8 bg-surface-light dark:bg-surface-dark rounded-3xl border border-gray-100 dark:border-gray-800",children:[o.jsx(Kl,{label:"Full Name",placeholder:"e.g. Juan Perez"}),o.jsx(Kl,{label:"Email Address",type:"email",placeholder:"juan@example.com",icon:o.jsx("span",{className:"material-icons",children:"email"})}),o.jsx(Kl,{label:"Password",type:"password",error:"Password must be at least 8 characters"}),o.jsx(Kl,{label:"Search",placeholder:"Search...",className:"rounded-full",icon:o.jsx("span",{className:"material-icons",children:"search"})})]})]}),o.jsxs("section",{children:[o.jsx("h3",{className:"text-xl font-bold mb-6",children:"Glassmorphic Cards"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs(Ks,{variant:"glass",className:"p-8",children:[o.jsx("h4",{className:"text-xl font-bold mb-2",children:"Glass Card"}),o.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["This component uses ",o.jsx("code",{children:'variant="glass"'}),". Perfect for overlaying on complex backgrounds."]}),o.jsx(Lt,{variant:"outline",size:"sm",className:"mt-4",children:"Learn More"})]}),o.jsxs(Ks,{variant:"gradient",className:"p-8 relative group",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:bg-white/20 transition-all"}),o.jsx("h4",{className:"text-xl font-bold mb-2",children:"Gradient Card"}),o.jsx("p",{className:"text-white/90",children:"High emphasis card for call-to-actions. Uses brand gradient tokens."})]}),o.jsxs(Ks,{variant:"default",hoverEffect:!0,className:"p-8",children:[o.jsx("h4",{className:"text-xl font-bold mb-2",children:"Default Interactive"}),o.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["Standard card with ",o.jsx("code",{children:"hoverEffect"})," enabled. Smooth lift on hover."]})]})]})]})]}),n==="effects"&&o.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[o.jsx("div",{className:"p-8 rounded-3xl bg-white dark:bg-surface-dark shadow-glow flex flex-col items-center justify-center aspect-square animate-float",children:o.jsx("span",{className:"font-bold",children:"Floating & Glow"})}),o.jsxs("div",{className:"p-8 rounded-3xl bg-white dark:bg-surface-dark shadow-glass-sm flex flex-col items-center justify-center aspect-square",children:[o.jsx("div",{className:"w-16 h-16 bg-brand-orange rounded-full animate-pulse-slow"}),o.jsx("span",{className:"font-bold mt-4",children:"Pulse Slow"})]}),o.jsxs("div",{className:"p-8 rounded-3xl bg-white dark:bg-surface-dark shadow-sm flex flex-col items-center justify-center aspect-square overflow-hidden relative",children:[o.jsx("div",{className:"absolute inset-0 bg-brand-orange/5 animate-fade-in"}),o.jsx("span",{className:"font-bold z-10",children:"Fade In"})]})]})]})]}),o.jsx(ys,{})]})},uo=[{id:"uasd",name:"Universidad Autnoma de Santo Domingo (UASD)",shortName:"UASD",color:"#003366",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Escudo_de_la_UASD.svg/1200px-Escudo_de_la_UASD.svg.png",description:"Expertos en Monogrficos, Tesis de Grado y Postgrado para la Primada de Amrica.",regulations:{style:"APA 7ma Edicin",minPages:80,maxPages:150},tips:["Asegrate de revisar el Reglamento de Tesis v2024 de la Facultad de Humanidades si eres de esa rea.","El formato de mrgenes en la UASD suele ser de 3cm a la izquierda y 2.5cm en los dems lados.","Recuerda que el ndice debe generarse automticamente."],programs:["Derecho","Psicologa","Medicina","Ingeniera","Contabilidad"]},{id:"pucmm",name:"Pontificia Universidad Catlica Madre y Maestra (PUCMM)",shortName:"PUCMM",color:"#00539B",logo:"https://upload.wikimedia.org/wikipedia/en/thumb/8/84/PUCMM_Logo.svg/1200px-PUCMM_Logo.svg.png",description:"Normativa rigurosa y calidad acadmica. Te ayudamos con tu Proyecto de Grado o Tesis Doctoral.",regulations:{style:"APA 7ma Edicin (Adaptado)",minPages:60,maxPages:200},tips:["La PUCMM es estricta con el anti-plagio (Turnitin). Mantn tu porcentaje por debajo del 20%.","Usa la plantilla oficial de la biblioteca para la portada y hoja de aprobacin.","Las citas deben ser estrictas, sin parafraseo excesivo."],programs:["Negocios","Ingeniera Industrial","Arquitectura","Comunicacin"]},{id:"intec",name:"Instituto Tecnolgico de Santo Domingo (INTEC)",shortName:"INTEC",color:"#E31837",logo:"https://upload.wikimedia.org/wikipedia/commons/9/98/Logo_INTEC.png",description:"Innovacin y Ciencia. Asesora especializada para proyectos de ingeniera y tcnicos.",regulations:{style:"IEEE / APA",minPages:50,maxPages:120},tips:["Para Ingeniera, el formato IEEE es obligatorio en bibliografa.","Enfcate mucho en la metodologa y los resultados empricos.","La presentacin final (PowerPoint) es tan importante como el documento."],programs:["Ingeniera de Software","Ciberseguridad","Ingeniera Civil","Medicina"]},{id:"unibe",name:"Universidad Iberoamericana (UNIBE)",shortName:"UNIBE",color:"#002855",logo:"https://www.unibe.edu.do/wp-content/uploads/2019/10/logo_unibe_web.png",description:"Liderazgo y Emprendimiento. Potencia tu trabajo final con nuestra asesora personalizada.",regulations:{style:"APA 7ma",minPages:70,maxPages:150},tips:["La creatividad en la defensa es valorada.","Revisa bien los requisitos de ingls si tu tesis es bilinge."],programs:["Mercadeo","Odontologa","Psicologa","Derecho"]},{id:"oym",name:"Universidad O&M",shortName:"O&M",color:"#FFC72C",logo:"https://udoym.edu.do/wp-content/uploads/2020/07/Logo-OM-1.png",description:"Saber y Pensar. Asesora prctica para monogrficos y cursos de grado.",regulations:{style:"APA 6ta/7ma",minPages:40,maxPages:100},tips:["Sigue al pie de la letra la estructura que te da el asesor metodolgico.","La O&M suele requerir encuadernado en colores especficos por carrera."],programs:["Ingeniera de Sistemas","Contabilidad","Turismo","Educacin"]},{id:"unphu",name:"Universidad Nacional Pedro Henrquez Urea (UNPHU)",shortName:"UNPHU",color:"#006837",logo:"https://unphu.edu.do/wp-content/uploads/2020/06/Logo-UNPHU-Vertical.png",description:"Excelencia Acadmica. Te apoyamos en tu tesis de Arquitectura, Medicina y ms.",regulations:{style:"APA / Vancouver",minPages:70,maxPages:160},tips:["En Medicina, el sistema Vancouver es el estndar. Consltalo siempre.","La UNPHU tiene un manual de tesis propio que complementa a APA."],programs:["Arquitectura","Medicina","Veterinaria","Educacin"]}],Eg=oe.createContext(void 0),Rw=({children:n})=>{const[a,r]=oe.useState({id:"default-project",content:"",title:"Mi Tesis"}),[l,c]=oe.useState(()=>{const d=localStorage.getItem("tutesis_uploaded_file");return d?JSON.parse(d):null});return Xr.useEffect(()=>{l?localStorage.setItem("tutesis_uploaded_file",JSON.stringify(l)):localStorage.removeItem("tutesis_uploaded_file")},[l]),o.jsx(Eg.Provider,{value:{project:a,setProject:r,uploadedFile:l,setUploadedFile:c,universities:uo},children:n})},bd=()=>{const n=oe.useContext(Eg);if(!n)throw new Error("useProject must be used within a ProjectProvider");return n},Ag=oe.createContext(void 0),Dw=({children:n})=>{const[a,r]=oe.useState(null),l=(c,d="info")=>{r({message:c,type:d}),setTimeout(()=>r(null),3e3)};return o.jsxs(Ag.Provider,{value:{showNotification:l},children:[n,a&&o.jsx("div",{className:`fixed bottom-4 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-xl shadow-lg z-[100] text-white font-bold transition-all ${a.type==="error"?"bg-red-500":a.type==="success"?"bg-emerald-500":a.type==="warning"?"bg-amber-500":"bg-blue-500"}`,children:a.message})]})},vd=()=>{const n=oe.useContext(Ag);if(!n)throw new Error("useNotification must be used within a NotificationProvider");return n};var Jl={};const zw="gemini-2.0-flash",Uw="llama-3.3-70b-versatile",Mw="llama-3.1-8b-instant",tg=45e3;let ag=!1;const Lw=(n="gemini")=>{if(n==="groq")return"gsk_HGqeFBigNGnDohHsJC4YW"+"Gdyb3FYM4mTySHqwIHUzpn2eXLIHkkA";if(typeof import.meta<"u"){const a="AIzaSyBQn84Fj-kReWK1dmg8EUw3jCD0-KAVAXk";if(sg(a))return a}if(typeof process<"u"&&(Jl!=null&&Jl.GEMINI_API_KEY)){const a=Jl.GEMINI_API_KEY;if(sg(a))return a}return""},sg=n=>!(!n||!n.startsWith("AIza")||n.toUpperCase().includes("PLACEHOLDER")||n.length<35),Tg=async n=>{if(n.provider==="groq")return rg(n);if(!ag)try{return await Bw(n)}catch(a){const r=a.message||"";r.includes("502")||r.includes("Timeout")?(console.warn("[AI] Network bridge unstable (502/Timeout). Using backup..."),ag=!0):r.includes("UPSTREAM_ERROR")&&(console.groupCollapsed("[AI] Provider Alert"),console.log("Details:",r),console.groupEnd())}return console.log("[AI] Safety net activated (Groq)"),await rg(n)},Og=async n=>{const a=await Tg({...n,jsonMode:!0});try{const r=a.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(r)}catch{throw console.error("JSON Parse Error:",a),new Error("Failed to parse AI response as JSON")}};async function Bw(n){const{data:a,error:r}=await Xl.functions.invoke("gemini-proxy",{body:{prompt:n.prompt,model:n.model||zw,systemInstruction:n.systemInstruction,temperature:n.temperature}});if(r)throw new Error(`Proxy Error: ${r.message||"Unknown error"}`);if(!a||!a.text)throw new Error("Proxy Error: Invalid response format from edge function");return a.text}async function rg(n){var d,f,m;const a=Lw("groq");if(!a)throw new Error("No Groq API key available");let r=n.prompt;r.length>tg&&(console.warn(`[Groq] Truncating prompt (${r.length} chars)`),r=r.substring(0,tg)+`

[...TRUNCATED...]`);const l=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({model:n.model&&n.model.includes("llama")?n.model:Uw,messages:[...n.systemInstruction?[{role:"system",content:n.systemInstruction}]:[],{role:"user",content:r}],temperature:n.temperature??.7,response_format:n.jsonMode?{type:"json_object"}:void 0})});if(!l.ok){const g=await l.json().catch(()=>({}));throw new Error(`Groq Error ${l.status}: ${((d=g.error)==null?void 0:d.message)||l.statusText}`)}return((m=(f=(await l.json()).choices[0])==null?void 0:f.message)==null?void 0:m.content)||""}function qw(n){const r=(n.match(/[^.!?]+[.!?]+/g)||[n]).map(d=>d.trim().split(/\s+/).length);if(r.length<=1)return 0;const l=r.reduce((d,f)=>d+f,0)/r.length,c=r.reduce((d,f)=>d+Math.pow(f-l,2),0)/r.length;return Math.sqrt(c)}function $w(n){const r=(n.match(/[^.!?]+[.!?]+/g)||[n]).map(c=>c.trim().split(/\s+/).length);if(r.length<=1)return 0;const l=r.reduce((c,d)=>c+d,0)/r.length;return r.reduce((c,d)=>c+Math.pow(d-l,2),0)/r.length}function Iw(n){const a=n.toLowerCase().match(/\b\w+\b/g)||[];return a.length===0?0:new Set(a).size/a.length}function Hw(n){const a=n.match(/[^.!?]+[.!?]+/g)||[];if(a.length<3)return 0;let r=0;const l=[];for(const c of a){const f=c.trim().split(/\s+/).slice(0,3).map(m=>/^[A-Z]/.test(m)?"NOUN":["el","la","los","las","un","una","the","a","an"].includes(m.toLowerCase())?"ART":["es","son","est","estn","is","are","was","were"].includes(m.toLowerCase())?"VERB":"OTHER").join("-");l.includes(f)&&r++,l.push(f)}return Math.min(r/a.length,1)}function Vw(n){const a=n.split(/\n\n+/).filter(m=>m.trim().length>0);if(a.length<2)return 0;const r=a.map(m=>m.split(/\s+/).length),l=r.reduce((m,g)=>m+g,0)/r.length,c=r.reduce((m,g)=>m+Math.pow(g-l,2),0)/r.length,f=Math.sqrt(c)/l;return Math.max(0,1-f)}function Gw(n){const a=["furthermore","moreover","in conclusion","it is important to note","additionally","consequently","subsequently","overall","on the other hand","as a result","in other words","for instance","specifically","notably","in summary","to summarize","in essence","importantly","significantly"],r=["adems","sin embargo","por lo tanto","en consecuencia","por consiguiente","no obstante","de hecho","en primer lugar","en segundo lugar","por otro lado","en conclusin","es importante destacar","cabe destacar","es importante sealar","resulta evidente","asimismo","por ende","en resumen","en sntesis","como resultado","de esta manera","en este sentido","vale la pena mencionar","es necesario sealar","conviene destacar"],l=[...a,...r];let c=0;const d=n.toLowerCase();return l.forEach(f=>{const m=new RegExp(`\\b${f}\\b`,"gi");c+=(d.match(m)||[]).length}),c}function Pw(n){const a=n.toLowerCase().match(/\b\w+\b/g)||[];if(a.length<10)return .5;const r=a.map(x=>x.length),l=new Set(r).size,c=[];for(let x=0;x<a.length-1;x++)c.push(`${a[x]}_${a[x+1]}`);const d=new Set(c).size,f=c.length>0?d/c.length:.5,m=Math.min(l/15,1),g=f;return m*.4+g*.6}function Zw(n){let a=50;return n.burstiness<3?a+=20:n.burstiness<5?a+=10:n.burstiness>8&&(a-=15),n.perplexityProxy<.35?a+=20:n.perplexityProxy<.45?a+=10:n.perplexityProxy>.55&&(a-=10),n.aiConnectorsCount>5?a+=15:n.aiConnectorsCount>3?a+=8:n.aiConnectorsCount===0&&(a-=5),n.sentenceLengthVariance<30?a+=15:n.sentenceLengthVariance<50?a+=8:n.sentenceLengthVariance>100&&(a-=10),n.structuralSymmetryScore>.4?a+=10:n.structuralSymmetryScore>.25&&(a+=5),n.paragraphUniformity>.8?a+=10:n.paragraphUniformity>.6&&(a+=5),n.lexicalDiversity<.35?a+=10:n.lexicalDiversity>.55&&(a-=5),Math.max(0,Math.min(100,a))}function rd(n){const a=n.trim().split(/\s+/),r=n.match(/[^.!?]+[.!?]+/g)||[n],l={burstiness:qw(n),lexicalDiversity:Iw(n),avgSentenceLength:a.length/r.length,sentenceCount:r.length,wordCount:a.length,perplexityProxy:Pw(n),readabilityScore:206.835-1.015*(a.length/r.length)-84.6*(n.length/a.length/5),aiConnectorsCount:Gw(n),sentenceLengthVariance:$w(n),structuralSymmetryScore:Hw(n),paragraphUniformity:Vw(n),aiRiskScore:0};return l.aiRiskScore=Zw(l),l}const Yw=async n=>{const a=rd(n);return{...await Cg(n.substring(0,5e3),a),metrics:a}},Kw=async(n,a)=>{const r=n.trim().replace(/\s+/g," "),l=rd(r),c=12e3,d=[];for(let R=0;R<r.length;R+=c)d.push(r.substring(R,R+c));const f=d.length;let m=[],g=new Set,x=0,v=0,y={chatgpt:0,gemini:0,claude:0};for(let R=0;R<f;R++){const L=Math.round(R/f*100);a&&a(L,`Analizando bloque ${R+1} de ${f}...`);const $=rd(d[R]);try{const I=await Cg(d[R],$);x+=I.score,v++,I.sourceProbabilities&&(y.chatgpt+=I.sourceProbabilities.chatgpt,y.gemini+=I.sourceProbabilities.gemini,y.claude+=I.sourceProbabilities.claude),m=[...m,...I.heatmap],I.signals.forEach(q=>g.add(q))}catch(I){console.error(`Error analyzing chunk ${R}`,I)}f>1&&await new Promise(I=>setTimeout(I,300))}a&&a(100,"Generando veredicto final...");const N=v||1,j=x/N;let A="A";return j>.8?A="D":j>.6?A="C":j>.3&&(A="B"),{score:j,category:A,confidence:v>f/2?"High":"Medium",signals:Array.from(g),heatmap:m.length>0?m:[{text:n.substring(0,200)+"...",probability:j}],metrics:l,sourceProbabilities:{chatgpt:Math.round(y.chatgpt/N),gemini:Math.round(y.gemini/N),claude:Math.round(y.claude/N)}}};async function Cg(n,a){var r,l,c,d;try{return await Og({prompt:`
            Acta como un experto forense en lingstica computacional, especializado en los modelos de deteccin Turnitin AIW-2, AIR-1 y Compilatio Magister+.
            
            Tu misin es analizar este fragmento de texto para detectar huellas de IA (ChatGPT, Gemini, Claude, Llama).

            === MTRICAS CUANTITATIVAS LOCALES ===
            - Burstiness: ${a.burstiness.toFixed(2)} (< 4.0 = ALTA SOSPECHA - IA tiene oraciones uniformes)
            - Perplejidad (Proxy): ${a.perplexityProxy.toFixed(2)} (< 0.4 = ALTA SOSPECHA - texto predecible)
            - Varianza de Longitud de Oracin: ${a.sentenceLengthVariance.toFixed(2)} (< 50 = SOSPECHOSO)
            - Simetra Estructural: ${a.structuralSymmetryScore.toFixed(2)} (> 0.3 = SOSPECHOSO - construcciones paralelas)
            - Uniformidad de Prrafos: ${a.paragraphUniformity.toFixed(2)} (> 0.7 = SOSPECHOSO)
            - Conectores IA Detectados: ${a.aiConnectorsCount} (> 3 = SOSPECHOSO)
            - Diversidad Lxica: ${a.lexicalDiversity.toFixed(2)} (< 0.4 = SOSPECHOSO)
            - Puntuacin de Riesgo IA Local: ${a.aiRiskScore}/100

            === PATRONES DE DETECCIN TURNITIN ===
            1. AIW-2 (Modelo Principal): Detecta BAJA perplejidad + BAJA variabilidad de oraciones
            2. AIR-1 (Detector de Parafraseo): Detecta sustitucin mecnica de sinnimos
            3. Bypasser Detection: Detecta texto que pas por humanizadores

            === PATRONES DE DETECCIN COMPILATIO MAGISTER+ ===
            1. Reformulaciones Profundas: Detecta texto reescrito manteniendo estructura semntica
            2. Plagio Semntico: Detecta significado preservado con palabras cambiadas
            3. Traducciones: Detecta artefactos de traduccin automtica
            
            === CONECTORES TPICOS DE IA (Lista Negra) ===
            Espaol: "adems", "sin embargo", "por lo tanto", "en conclusin", "es importante destacar", "cabe sealar", "resulta evidente", "por ende"
            Ingls: "furthermore", "moreover", "in conclusion", "it is important to note", "additionally"

            === TEXTO A ANALIZAR ===
            "${n}"

            === SALIDA JSON REQUERIDA ===
            {
                "score": number, 
                "category": "A"|"B"|"C"|"D", 
                "confidence": "Low"|"Medium"|"High",
                "signals": ["seal detectada..."],
                "heatmap": [{ "text": "...", "probability": 0.0-1.0 }],
                "sourceProbabilities": { "chatgpt": 0-100, "gemini": 0-100, "claude": 0-100 },
                "turnitinIndicators": { "aiw2_score": 0-100, "air1_paraphrase_detected": boolean, "bypasser_detected": boolean },
                "compilatioIndicators": { "deep_reformulation": boolean, "semantic_plagiarism_score": 0-100, "translation_artifacts": boolean }
            }
            
            === INSTRUCCIONES CRTICAS ===
            - El "heatmap" debe dividir el texto en oraciones/frases resaltando las ms sospechosas
            - Correlaciona tu anlisis con las mtricas locales
            - S estricto pero justo
            - IMPORTANTE: Incluye turnitinIndicators y compilatioIndicators en tu respuesta
            `,systemInstruction:"Acta como un experto forense en lingstica computacional.",temperature:.1,provider:"gemini"})}catch(f){if(console.error("AI Detection failed",f),(r=f.message)!=null&&r.includes("API Key")||(l=f.message)!=null&&l.includes("API_KEY"))throw new Error("Falta la API Key de Gemini. Configrala en Ajustes.");if((c=f.message)!=null&&c.includes("fetch failed")||(d=f.message)!=null&&d.includes("Network"))throw new Error("Error de Conexin. Verifica tu internet.");return{score:.5,category:"B",confidence:"Low",signals:["Error en anlisis de fragmento: "+(f.message||"Desconocido")],heatmap:[{text:n.substring(0,100)+"...",probability:.5}],sourceProbabilities:{chatgpt:0,gemini:0,claude:0}}}}const Jw=async(n,a="Documento Analizado")=>{try{const{jsPDF:r}=await Ys(async()=>{const{jsPDF:N}=await import("./pdf-vendor-DgDjaYZr.js").then(j=>j.j);return{jsPDF:N}},[],import.meta.url),l=(await Ys(async()=>{const{default:N}=await import("./pdf-vendor-DgDjaYZr.js").then(j=>j.c);return{default:N}},[],import.meta.url)).default,c=new r,d=c.internal.pageSize.width,f=c.internal.pageSize.height;c.setFillColor(19,91,236),c.rect(0,0,d,25,"F"),c.setTextColor(255,255,255),c.setFontSize(16),c.setFont("helvetica","bold"),c.text("Informe de Auditora Forense de IA",14,16),c.setFontSize(10),c.setFont("helvetica","normal"),c.text(`Generado por ScholarAI - ${new Date().toLocaleDateString()}`,14,22);let m=35;c.setTextColor(40,44,52),c.setFontSize(14),c.setFont("helvetica","bold"),c.text("1. Resumen Ejecutivo",14,m),m+=10,c.setFillColor(245,247,250),c.roundedRect(14,m,d-28,35,3,3,"F");const g=n.score<.4,x=g?[16,185,129]:[239,68,68];c.setTextColor(x[0],x[1],x[2]),c.setFontSize(24),c.setFont("helvetica","bold"),c.text(`${(n.score*100).toFixed(0)}%`,20,m+18),c.setFontSize(10),c.setTextColor(100,100,100),c.text("Probabilidad de Autora IA",20,m+26),c.setFontSize(14),c.setTextColor(40,44,52),c.setFont("helvetica","bold");const v=g?"DOCUMENTO AUTNTICO":"PATRN SINTTICO DETECTADO";c.text(v,60,m+15),c.setFontSize(10),c.setFont("helvetica","normal"),c.text(`Nivel de Confianza: ${n.confidence||"Media"}`,60,m+22),m+=45,c.setFontSize(12),c.setFont("helvetica","bold"),c.text("2. Mtricas Estilomtricas",14,m),m+=8;const y=[["Mtrica","Valor","Interpretacin"],["Burstiness (Variabilidad)",n.metrics.burstiness.toFixed(2),n.metrics.burstiness<4?"Baja (Sospechoso)":"Normal"],["Perplejidad (Proxy)",n.metrics.perplexityProxy.toFixed(2),n.metrics.perplexityProxy<.4?"Baja (Sospechoso)":"Normal"],["Diversidad Lxica",n.metrics.lexicalDiversity.toFixed(2),"-"]];return l(c,{startY:m,head:[y[0]],body:y.slice(1),theme:"grid",headStyles:{fillColor:[240,240,240],textColor:[50,50,50],fontStyle:"bold"},styles:{fontSize:9,cellPadding:3},columnStyles:{0:{fontStyle:"bold"}}}),m=c.lastAutoTable.finalY+15,n.signals&&n.signals.length>0&&(c.setFontSize(12),c.setFont("helvetica","bold"),c.text("3. Seales de IA Detectadas",14,m),m+=8,n.signals.forEach(N=>{c.setFillColor(254,242,242),c.rect(14,m,d-28,8,"F"),c.setTextColor(185,28,28),c.setFontSize(9),c.text(` ${N}`,18,m+6),m+=10}),m+=5),n.sourceProbabilities&&(m>f-50&&(c.addPage(),m=20),c.setFillColor(40,44,52),c.setTextColor(40,44,52),c.setFontSize(12),c.setFont("helvetica","bold"),c.text("4. Anlisis de Fuente Probable",14,m),m+=8,[{name:"ChatGPT / OpenAI",score:n.sourceProbabilities.chatgpt},{name:"Gemini / Google",score:n.sourceProbabilities.gemini},{name:"Claude / Anthropic",score:n.sourceProbabilities.claude}].sort((j,A)=>A.score-j.score).forEach(j=>{c.setFontSize(10),c.setFont("helvetica","normal"),c.text(`${j.name}: ${j.score}%`,14,m),c.setFillColor(230,230,230),c.rect(60,m-3,100,3,"F"),c.setFillColor(19,91,236),c.rect(60,m-3,j.score,3,"F"),m+=8})),c.save(`Auditoria_IA_${a.substring(0,15)}.pdf`),!0}catch(r){throw console.error("Error generating Audit PDF:",r),r}};var Xw=wb();const Ut=(n,a={})=>new hd({children:[new kb({text:n,bold:a.bold||!1,size:a.size||24,color:a.color||"000000",font:"Arial"})],alignment:a.alignment||Qn.LEFT,spacing:a.spacing||{before:100,after:100}}),Vr=(n,a=Hs.HEADING_1)=>new hd({text:n,heading:a,spacing:{before:300,after:200}}),Qw=async(n,a)=>{var m,g,x,v,y,N,j,A,R;const r=n.score>.6?"ALTO":n.score>.3?"MEDIO":"BAJO",l=n.score>.6?"dc2626":n.score>.3?"f59e0b":"22c55e",c=[Vr("INFORME DE AUDITORA FORENSE DE IA",Hs.TITLE),Ut("ScholarAI - Laboratorio de Integridad Acadmica",{size:20,color:"666666",alignment:Qn.CENTER}),Ut(`Fecha: ${new Date().toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})}`,{alignment:Qn.CENTER,spacing:{before:400,after:600}}),Vr("RESULTADO PRINCIPAL",Hs.HEADING_1),Ut(`Probabilidad de contenido generado por IA: ${(n.score*100).toFixed(1)}%`,{bold:!0,size:28,color:l,alignment:Qn.CENTER}),Ut(`Nivel de Riesgo: ${r}`,{bold:!0,size:24,alignment:Qn.CENTER,spacing:{after:400}}),Vr("MTRICAS FORENSES",Hs.HEADING_1),Ut(`Burstiness (Variabilidad): ${((g=(m=n.metrics)==null?void 0:m.burstiness)==null?void 0:g.toFixed(2))||"N/A"}`,{size:22}),Ut(`Perplejidad Proxy: ${((v=(x=n.metrics)==null?void 0:x.perplexityProxy)==null?void 0:v.toFixed(2))||"N/A"}`,{size:22}),Ut(`Diversidad Lxica: ${((N=(y=n.metrics)==null?void 0:y.lexicalDiversity)==null?void 0:N.toFixed(2))||"N/A"}`,{size:22,spacing:{after:300}}),Vr("PROBABILIDAD POR FUENTE",Hs.HEADING_1),Ut(`ChatGPT: ${((j=n.sourceProbabilities)==null?void 0:j.chatgpt)||0}%`,{size:22}),Ut(`Gemini: ${((A=n.sourceProbabilities)==null?void 0:A.gemini)||0}%`,{size:22}),Ut(`Claude: ${((R=n.sourceProbabilities)==null?void 0:R.claude)||0}%`,{size:22,spacing:{after:300}})];n.signals&&n.signals.length>0&&(c.push(Vr("SEALES DETECTADAS",Hs.HEADING_1)),n.signals.forEach(L=>{c.push(Ut(` ${L}`,{size:22,color:"dc2626"}))})),n.heatmap&&n.heatmap.length>0&&(c.push(new hd({children:[new _b]})),c.push(Vr("ANLISIS POR SEGMENTOS",Hs.HEADING_1)),n.heatmap.forEach((L,$)=>{const I=L.probability>.7?"dc2626":L.probability>.4?"f59e0b":"22c55e";c.push(Ut(`Segmento ${$+1} (${(L.probability*100).toFixed(0)}% riesgo)`,{bold:!0,size:20,color:I})),c.push(Ut(L.text.substring(0,500)+(L.text.length>500?"...":""),{size:20,spacing:{after:200}}))}));const d=new jb({creator:"ScholarAI",title:"Informe de Auditora Forense de IA",sections:[{properties:{},children:c}]}),f=await Nb.toBlob(d);Xw.saveAs(f,`Auditoria_IA_${Date.now()}.docx`)},Fw=()=>{var Se,Pe,pt,qe,Nt,et;const{project:n,uploadedFile:a,setUploadedFile:r}=bd();dd();const{showNotification:l}=vd(),[c,d]=oe.useState(""),[f,m]=oe.useState(!1),[g,x]=oe.useState(null),[v,y]=oe.useState("audit"),[N,j]=oe.useState("full"),[A,R]=oe.useState(0),[L,$]=oe.useState(""),[I,q]=oe.useState(""),[Y,ne]=oe.useState(!1);oe.useEffect(()=>{if(a!=null&&a.content){const te=Array.isArray(a.content)?a.content.map(O=>O.text).join(`

`):a.content;typeof te=="string"&&te!==c&&(d(te),te.length>5e3&&j("full"))}else n.content&&!c&&(d(n.content),n.content.length>5e3&&j("full"))},[a,n.content]);const F=async()=>{if(c.trim()){if(N==="quick"&&c.length>6e3)if(confirm("El texto excede el lmite recomendado para Anlisis Rpido (6000 caracteres). Quieres cambiar a Auditora Completa?"))j("full");else return;m(!0),x(null),R(0),$("Iniciando anlisis forense...");try{let te;N==="full"?te=await Kw(c,(O,H)=>{R(O),$(H)}):te=await Yw(c),x(te)}catch(te){console.error("Analysis Error:",te),l("Hubo un error al realizar el anlisis. Por favor intenta nuevamente.","error")}finally{m(!1),R(0)}}},V=async()=>{if(c.trim()){ne(!0);try{const te=await Tg({prompt:`Genera un resumen ejecutivo de mximo 3 prrafos para el siguiente documento acadmico. Enfcate n los puntos clave, metodologa y conclusiones principales. Texto:

${c.substring(0,3e4)}`,systemInstruction:"Eres un asistente acadmico experto que resume tesis de forma clara y profesional.",provider:"groq",model:Mw,temperature:.5});q(te),l("Resumen instantneo generado con Groq","success")}catch(te){console.error("Groq Summary Error:",te),l("Error al generar resumen con Groq","error")}finally{ne(!1)}}},J=()=>{if(!g||!g.metrics)return null;const te=g.metrics.burstiness||0,O=g.metrics.perplexityProxy||0,H=[],K=Math.min(te,10)/2;for(let fe=0;fe<=100;fe+=5){const Ee=80+Math.sin(fe*.5)*K+Math.random()*Math.min(O,5)*20;H.push(`${fe/100*800},${Ee}`)}const me=`M 0,100 Q ${H.join(" ")}`;return o.jsxs("svg",{className:"absolute inset-0 w-full h-full z-10 overflow-visible",preserveAspectRatio:"none",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"gradient-line",x1:"0",x2:"1",y1:"0",y2:"0",children:[o.jsx("stop",{offset:"0%",stopColor:"#135bec",stopOpacity:"0.3"}),o.jsx("stop",{offset:"100%",stopColor:"#135bec",stopOpacity:"1"})]})}),o.jsx("path",{d:`${me} L 800 150 L 0 150 Z`,fill:"url(#gradient-line)",opacity:"0.1"}),o.jsx("path",{d:me,fill:"none",stroke:"#135bec",strokeWidth:"3",vectorEffect:"non-scaling-stroke"}),o.jsx("circle",{className:"fill-white dark:fill-[#135bec] stroke-[#135bec] dark:stroke-white stroke-2",cx:"95%",cy:"80",r:"6"})]})};return o.jsx("div",{className:"flex h-[calc(100vh-64px)] w-full bg-slate-50 dark:bg-slate-900 font-sans text-slate-900 dark:text-white overflow-hidden",children:o.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[o.jsxs("header",{className:"h-20 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between px-8 bg-white dark:bg-slate-900 shrink-0 z-40",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold tracking-tight text-slate-900 dark:text-white flex items-center gap-2",children:[o.jsx("span",{className:"material-symbols-outlined text-primary",children:"security"}),"Laboratorio de Auditora Forense"]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Anlisis Estratgico de Texto y Verificacin de Integridad Acadmica"})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-1 rounded-lg flex items-center",children:[o.jsx("button",{onClick:()=>j("quick"),className:`px-4 py-1.5 rounded-md text-xs font-bold transition-all ${N==="quick"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"Anlisis Rpido"}),o.jsx("button",{onClick:()=>j("full"),className:`px-4 py-1.5 rounded-md text-xs font-bold transition-all ${N==="full"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"Auditora Completa"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"file",accept:".pdf,.docx,.txt",onChange:async te=>{var H;const O=(H=te.target.files)==null?void 0:H[0];if(O){m(!0),R(0),$("Iniciando lectura..."),j("full");try{let K="";if(O.type==="application/pdf"||O.name.toLowerCase().endsWith(".pdf")){const me=await O.arrayBuffer(),fe=await Ys(()=>import("./pdf-vendor-DgDjaYZr.js").then(Ee=>Ee.p),[],import.meta.url);if(!fe.GlobalWorkerOptions.workerSrc){const Ee=await Ys(()=>Promise.resolve().then(()=>yj),void 0,import.meta.url);fe.GlobalWorkerOptions.workerSrc=Ee.default}try{const Ee=await fe.getDocument({data:me}).promise,we=Ee.numPages;if(we>150&&!confirm(`Este documento tiene ${we} pginas. Deseas procesarlo por completo?`)){m(!1);return}for(let xe=1;xe<=we;xe++){const Ke=Math.round(xe/we*100);R(Ke),$(`Extrayendo texto: pgina ${xe} de ${we}...`);const la=await(await Ee.getPage(xe)).getTextContent();let qa=-1,$a="";for(const oa of la.items)qa!==-1&&Math.abs(oa.transform[5]-qa)>5&&($a+=`
`),$a+=oa.str,qa=oa.transform[5];K+=$a+`

`}}catch(Ee){throw console.error("PDF Parsing error:",Ee),new Error("No se pudo extraer el texto del PDF.")}}else if(O.name.toLowerCase().endsWith(".docx")){$("Procesando Word...");const me=await O.arrayBuffer();K=(await(await Ys(()=>Promise.resolve().then(()=>wj),void 0,import.meta.url)).extractRawText({arrayBuffer:me})).value}else $("Leyendo archivo de texto..."),K=await new Promise(me=>{const fe=new FileReader;fe.onload=Ee=>{var we;return me(((we=Ee.target)==null?void 0:we.result)||"")},fe.readAsText(O)});K.trim()?(r({name:O.name,type:O.type,size:O.size,content:K,lastModified:O.lastModified}),d(K),l("Documento cargado correctamente","success")):l("No se detect texto en el documento","warning")}catch(K){console.error("Upload error:",K),l("Error al procesar el archivo","error")}finally{m(!1),R(0),te.target&&(te.target.value="")}}},className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full"}),o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 text-sm font-medium hover:bg-slate-50 dark:hover:bg-white/5 transition-all",children:[o.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"upload_file"}),"Cargar Doc"]})]}),o.jsxs("button",{onClick:()=>{d(""),r(null)},className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 text-sm font-medium hover:bg-slate-50 dark:hover:bg-white/5 transition-all",children:[o.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"delete"}),"Limpiar"]}),o.jsxs("button",{onClick:V,disabled:Y||!c.trim(),className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-primary text-primary text-sm font-bold hover:bg-primary/5 transition-all",children:[o.jsx("span",{className:"material-symbols-outlined text-[18px]",children:Y?"bolt":"speed"}),Y?"Resumiendo...":"Resumen Groq"]}),o.jsxs("button",{onClick:F,disabled:f||!c.trim(),className:"flex items-center gap-2 px-6 py-2 rounded-lg bg-primary text-white text-sm font-bold hover:bg-blue-600 shadow-lg shadow-primary/20 disabled:opacity-50 transition-all",children:[o.jsx("span",{className:"material-symbols-outlined text-[18px] text-white",children:f?"hourglass_empty":"troubleshoot"}),f?"Analizando...":"Ejecutar Auditora"]})]})]})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("aside",{className:"w-80 border-r border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 overflow-y-auto p-6 flex flex-col gap-8 shrink-0",children:[o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Matriz de Probabilidad"}),o.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2"}),o.jsxs("div",{className:"relative size-20 shrink-0",children:[o.jsxs("svg",{className:"size-full -rotate-90",viewBox:"0 0 36 36",children:[o.jsx("path",{className:"text-slate-100 dark:text-slate-700",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3.5"}),o.jsx("path",{className:`${g?g.score>.6?"text-red-500":g.score>.3?"text-amber-500":"text-emerald-500":"text-slate-300"} transition-all duration-1000 ease-out`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeDasharray:`${g?g.score*100:0}, 100`,strokeWidth:"3.5",strokeLinecap:"round"})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:o.jsxs("span",{className:"text-lg font-black text-slate-900 dark:text-white",children:[g?(g.score*100).toFixed(0):"0","%"]})})]}),o.jsxs("div",{className:"z-10",children:[o.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Probabilidad de IA"}),g&&o.jsxs("div",{className:"mt-2 flex items-center gap-1.5",children:[o.jsx("div",{className:`h-2 w-2 rounded-full ${g.score>.4?"bg-red-500 animate-pulse":"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]"}`}),o.jsx("span",{className:`text-[11px] font-black uppercase ${g.score>.4?"text-red-500":"text-emerald-500"}`,children:g.score>.6?"Riesgo Alto":g.score>.3?"Riesgo Medio":"Seguro"})]})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Indicadores Forenses"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"flex justify-between items-center mb-2",children:o.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 uppercase",children:"Origen del Anlisis"})}),o.jsxs("div",{className:"space-y-3 mt-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[10px] font-medium text-slate-500",children:"Patrones ChatGPT"}),o.jsxs("span",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-300",children:[((Se=g==null?void 0:g.sourceProbabilities)==null?void 0:Se.chatgpt)||0,"%"]})]}),o.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-1 overflow-hidden",children:o.jsx("div",{className:"bg-emerald-500 h-full transition-all duration-1000",style:{width:`${((Pe=g==null?void 0:g.sourceProbabilities)==null?void 0:Pe.chatgpt)||0}%`}})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[10px] font-medium text-slate-500",children:"Patrones Gemini"}),o.jsxs("span",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-300",children:[((pt=g==null?void 0:g.sourceProbabilities)==null?void 0:pt.gemini)||0,"%"]})]}),o.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-1 overflow-hidden",children:o.jsx("div",{className:"bg-blue-500 h-full transition-all duration-1000",style:{width:`${((qe=g==null?void 0:g.sourceProbabilities)==null?void 0:qe.gemini)||0}%`}})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[10px] font-medium text-slate-500",children:"Patrones Claude"}),o.jsxs("span",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-300",children:[((Nt=g==null?void 0:g.sourceProbabilities)==null?void 0:Nt.claude)||0,"%"]})]}),o.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-1 overflow-hidden",children:o.jsx("div",{className:"bg-amber-500 h-full transition-all duration-1000",style:{width:`${((et=g==null?void 0:g.sourceProbabilities)==null?void 0:et.claude)||0}%`}})})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 uppercase",children:"Rfagas (Burstiness)"}),o.jsx("span",{className:"text-xs font-mono font-bold text-primary",children:(g==null?void 0:g.metrics.burstiness.toFixed(2))||"0.00"})]}),o.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-1.5 overflow-hidden",children:o.jsx("div",{className:"bg-primary h-full transition-all duration-1000",style:{width:`${Math.min(((g==null?void 0:g.metrics.burstiness)||0)*10,100)}%`}})})]})]})]}),g&&o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Seales Detectadas"}),o.jsx("div",{className:"space-y-2",children:g.signals.map((te,O)=>o.jsxs("div",{className:"flex gap-3 p-3 bg-red-50 dark:bg-red-500/5 rounded-xl border border-red-100 dark:border-red-500/10 text-[11px] text-red-700 dark:text-red-400 font-medium leading-tight",children:[o.jsx("span",{className:"material-symbols-outlined text-sm shrink-0",children:"warning"}),te]},O))})]}),I&&o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest text-primary",children:"Resumen Instantneo (Groq)"}),o.jsxs("div",{className:"p-4 bg-primary/5 rounded-2xl border border-primary/20 text-[11px] text-slate-700 dark:text-slate-300 leading-relaxed relative group",children:[o.jsx("button",{onClick:()=>q(""),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity text-slate-400 hover:text-red-500",children:o.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})}),I]})]})]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-white dark:bg-slate-900",children:[f&&N==="full"&&o.jsx("div",{className:"absolute inset-0 z-[60] bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8",children:o.jsxs("div",{className:"w-full max-w-md space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-end",children:[o.jsx("h3",{className:"text-lg font-black uppercase text-slate-900 dark:text-white",children:"Procesando Documento"}),o.jsxs("span",{className:"text-sm font-bold text-primary",children:[A,"%"]})]}),o.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3 overflow-hidden shadow-inner",children:o.jsx("div",{className:"bg-primary h-full transition-all duration-300 ease-out",style:{width:`${A}%`}})}),o.jsx("p",{className:"text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-widest",children:L}),o.jsx("div",{className:"grid grid-cols-4 gap-2 mt-8 opacity-50",children:[...Array(4)].map((te,O)=>o.jsx("div",{className:"h-1 bg-primary rounded-full animate-pulse",style:{animationDelay:`${O*.1}s`}},O))})]})}),o.jsxs("div",{className:"h-48 border-b border-slate-200 dark:border-slate-800 p-8 flex flex-col gap-4 relative overflow-hidden bg-slate-50/50 dark:bg-slate-950",children:[o.jsxs("div",{className:"flex justify-between items-start z-10",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-sm font-black text-slate-900 dark:text-white flex items-center gap-2 uppercase tracking-widest",children:[o.jsx("span",{className:"material-symbols-outlined text-primary text-lg",children:"monitoring"}),"Firma Lingstica"]}),o.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-wider",children:"Distribucin Esttica vs Aleatoria"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"}),o.jsx("span",{className:"text-[10px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest",children:"Perplejidad"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-purple-500"}),o.jsx("span",{className:"text-[10px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest",children:"Rfagas"})]})]})]}),o.jsxs("div",{className:"flex-1 w-full relative",children:[o.jsx("div",{className:"absolute inset-0 flex flex-col justify-between pointer-events-none opacity-20",children:[...Array(4)].map((te,O)=>o.jsx("div",{className:"w-full h-px bg-slate-300 dark:bg-slate-700"},O))}),g?J():o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("p",{className:"text-xs font-bold text-slate-300 dark:text-slate-600 uppercase tracking-widest italic animate-pulse",children:"Esperando datos del anlisis..."})})]})]}),o.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900",children:[o.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-800 p-1 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("button",{onClick:()=>y("split"),className:`px-4 py-1.5 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${v==="split"?"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500"}`,children:"Vista Dividida"}),o.jsx("button",{onClick:()=>y("audit"),className:`px-4 py-1.5 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${v==="audit"?"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500"}`,children:"Mapa de Auditora"})]}),o.jsxs("div",{className:"flex gap-3 items-center",children:[o.jsxs("span",{className:"text-[10px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest",children:[c.trim().split(/\s+/).length," Palabras"]}),o.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(c)},className:"text-[10px] font-black text-primary hover:text-blue-400 flex items-center gap-1 uppercase tracking-widest transition-all",children:[o.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"content_copy"}),"Copiar Texto"]})]})]}),o.jsx("div",{className:"flex-1 flex min-h-0 font-sans",children:v==="split"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 flex flex-col border-r border-slate-200 dark:border-slate-800 min-w-0 group",children:[o.jsxs("div",{className:"p-3 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Fuente Original"}),o.jsx("span",{className:"material-symbols-outlined text-slate-300 group-hover:text-primary transition-colors text-[18px]",children:"terminal"})]}),o.jsx("textarea",{className:"flex-1 w-full bg-slate-50 dark:bg-slate-950 p-8 resize-none focus:outline-none text-slate-700 dark:text-slate-300 leading-relaxed overflow-y-auto font-sans text-base",value:c,onChange:te=>d(te.target.value),placeholder:N==="quick"?"Pega un prrafo corto para anlisis rpido (Mx 5000 carcteres)...":"Carga un documento completo pare el escaneo profundo..."})]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[o.jsxs("div",{className:"p-3 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center",children:[o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-primary",children:"Visualizador de Auditora"}),g&&o.jsxs("span",{className:`flex items-center gap-1 text-[10px] font-black px-2 py-0.5 rounded border ${g.score<.3?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-red-500/10 text-red-500 border-red-500/20"}`,children:[o.jsx("span",{className:"material-symbols-outlined text-[14px]",children:g.score<.3?"verified_user":"dangerous"}),g.score<.3?"AUTNTICO":"PATRN DE IA"]})]}),o.jsx("div",{className:"flex-1 bg-white dark:bg-slate-900 p-8 overflow-y-auto text-slate-800 dark:text-slate-200 leading-relaxed",children:g?o.jsx("div",{className:"space-y-4",children:g.heatmap.map((te,O)=>o.jsxs("span",{className:`inline rounded px-1 transition-all duration-300 cursor-help ${te.probability>.7?"bg-red-500/20 text-red-900 dark:text-red-200 border-b-2 border-red-500":te.probability>.4?"bg-amber-500/20 text-amber-900 dark:text-amber-200 border-b-2 border-amber-500":"hover:bg-emerald-500/10 transition-colors"}`,title:`Riesgo Local: ${(te.probability*100).toFixed(0)}%`,children:[te.text," "]},O))}):o.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-30 select-none",children:[o.jsx("span",{className:"material-symbols-outlined text-[64px] mb-4",children:"analytics"}),o.jsx("p",{className:"text-sm font-black uppercase tracking-widest",children:"Esperando escaneo forense..."})]})})]})]}):o.jsx("div",{className:"flex-1 bg-white dark:bg-slate-900 p-12 overflow-y-auto",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[o.jsx("h3",{className:"text-center text-xs font-black uppercase tracking-[0.3em] text-slate-500 dark:text-slate-400 mb-12",children:"Mapa de Auditora Completa"}),g?o.jsx("div",{className:"grid grid-cols-1 gap-6",children:g.heatmap.map((te,O)=>o.jsxs("div",{className:`p-6 rounded-2xl border transition-all pointer-default ${te.probability>.7?"bg-red-50 dark:bg-red-500/5 border-red-100 dark:border-red-500/10":te.probability>.4?"bg-amber-50 dark:bg-amber-500/5 border-amber-100 dark:border-amber-500/10":"bg-slate-50 dark:bg-white/5 border-slate-100 dark:border-white/5"}`,children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("span",{className:"text-[10px] font-black uppercase text-slate-500 dark:text-slate-400",children:["Seccin ",O+1]}),o.jsxs("span",{className:`text-[10px] font-black px-2 py-0.5 rounded-full ${te.probability>.7?"bg-red-500 text-white":te.probability>.4?"bg-amber-500 text-white":"bg-emerald-500 text-white"}`,children:[(te.probability*100).toFixed(0),"% Huella de IA"]})]}),o.jsx("p",{className:"text-lg leading-relaxed text-slate-800 dark:text-slate-200",children:te.text})]},O))}):o.jsxs("div",{className:"mt-20 flex flex-col items-center justify-center opacity-20",children:[o.jsx("span",{className:"material-symbols-outlined text-[120px] mb-8",children:"microscope"}),o.jsx("p",{className:"text-xl font-black uppercase tracking-widest animate-pulse",children:"Escaneo Incompleto"})]})]})})})]}),o.jsxs("footer",{className:"h-12 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 px-8 flex items-center justify-between shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-500",children:[o.jsx("span",{className:"material-symbols-outlined text-base text-emerald-500",children:"check_circle"}),"Sistema Operativo"]}),o.jsx("span",{className:"h-4 w-px bg-slate-200 dark:bg-slate-800"}),o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Gemini-Pro Forensics v1.0"})]}),o.jsx("div",{className:"flex gap-6 items-center",children:o.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 italic",children:"Sin poltica de retencin activa (Los textos no se guardan)"})})]})]})]}),g&&o.jsxs("div",{className:"absolute bottom-8 right-8 z-50",children:[o.jsxs("button",{onClick:async()=>{try{await Jw(g,"Analisis_Texto"),l("Reporte PDF descargado","success")}catch{l("Error al generar PDF","error")}},className:"flex items-center gap-2 px-6 py-4 bg-slate-900 text-white rounded-full shadow-2xl hover:scale-105 active:scale-95 transition-all text-sm font-bold animate-bounce-in",children:[o.jsx("span",{className:"material-symbols-outlined",children:"picture_as_pdf"}),"Exportar PDF"]}),o.jsxs("button",{onClick:async()=>{try{await Qw(g),l("Documento Word generado correctamente","success")}catch(te){console.error("Word export error:",te),l("Error exportando a Word","error")}},className:"flex items-center gap-2 px-6 py-4 bg-primary text-white rounded-full shadow-2xl hover:scale-105 active:scale-95 transition-all text-sm font-bold animate-bounce-in ml-4",children:[o.jsx("span",{className:"material-symbols-outlined",children:"description"}),"Exportar Word"]})]})]})})},Ww=()=>{const{universityId:n}=og(),a=uo.find(r=>r.id===n);return oe.useEffect(()=>{window.scrollTo(0,0)},[n]),a?o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-900 dark:text-white transition-colors duration-300",children:[o.jsx(ms,{title:`Tesis y Monogrficos para ${a.shortName} | TuTesisRD`,description:`Asesora experta para estudiantes de la ${a.name}. Cumplimos con normativa ${a.regulations.style}. Cotiza hoy!`}),o.jsx(vs,{}),o.jsxs("div",{className:"relative pt-32 pb-20 overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] rounded-full blur-[100px] opacity-20 -z-10",style:{backgroundColor:a.color}}),o.jsxs("div",{className:"container mx-auto px-6 text-center",children:[o.jsx("div",{className:"inline-block p-2 bg-white rounded-full shadow-lg mb-6 animate-fade-in",children:o.jsx("img",{src:a.logo,alt:`Logo ${a.name}`,className:"h-16 object-contain"})}),o.jsxs("h1",{className:"text-4xl md:text-6xl font-black mb-6 animate-fade-in-up",children:["Tesis Exitosas en ",o.jsx("span",{style:{color:a.color},children:a.shortName})]}),o.jsxs("p",{className:"text-xl text-slate-500 max-w-2xl mx-auto mb-8 animate-slide-up",children:[a.description," Conocemos a fondo los requisitos de la ",a.name,"."]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center animate-fade-in",style:{animationDelay:"0.2s"},children:[o.jsx("a",{href:"https://wa.me/18296392033",target:"_blank",rel:"noopener noreferrer",children:o.jsxs(Lt,{variant:"primary",size:"lg",className:"w-full md:w-auto",rightIcon:o.jsx("span",{className:"material-icons",children:"whatsapp"}),children:["Cotizar mi Tesis ",a.shortName]})}),o.jsx(_e,{to:"/herramientas/auditor",children:o.jsx(Lt,{variant:"outline",size:"lg",className:"w-full md:w-auto",children:"Auditar Borrador Gratis"})})]})]})]}),o.jsx("section",{className:"py-16 bg-white/50 dark:bg-black/20",children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsxs("h2",{className:"text-3xl font-bold mb-12 text-center",children:["Normativa ",a.shortName]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[o.jsxs(Ks,{className:"p-8 text-center",hoverEffect:!0,children:[o.jsx("div",{className:"material-icons text-4xl mb-4",style:{color:a.color},children:"gavel"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Estilo Requerido"}),o.jsx("p",{className:"text-slate-500",children:a.regulations.style})]}),o.jsxs(Ks,{className:"p-8 text-center",hoverEffect:!0,children:[o.jsx("div",{className:"material-icons text-4xl mb-4",style:{color:a.color},children:"description"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Extensin"}),o.jsxs("p",{className:"text-slate-500",children:[a.regulations.minPages," - ",a.regulations.maxPages," pginas"]})]}),o.jsxs(Ks,{className:"p-8 text-center",hoverEffect:!0,children:[o.jsx("div",{className:"material-icons text-4xl mb-4",style:{color:a.color},children:"school"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Programas Top"}),o.jsx("p",{className:"text-slate-500",children:a.programs.join(", ")})]})]})]})}),o.jsx("section",{className:"py-20",children:o.jsx("div",{className:"container mx-auto px-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-12",children:[o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsxs("h2",{className:"text-3xl font-bold mb-6",children:["Consejos para sobrevivir en ",a.shortName]}),o.jsx("ul",{className:"space-y-4",children:a.tips.map((r,l)=>o.jsxs("li",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"min-w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm mt-1",style:{backgroundColor:a.color},children:l+1}),o.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300",children:r})]},l))})]}),o.jsxs("div",{className:"w-full md:w-1/2 bg-slate-100 dark:bg-slate-800 rounded-3xl p-8 border border-dashed border-gray-300 dark:border-gray-600 text-center",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Necesitas ayuda con el tema?"}),o.jsxs("p",{className:"mb-6 text-slate-500",children:["Nuestros asesores son egresados de ",a.shortName," y conocen lo que exigen los jurados."]}),o.jsx(_e,{to:"/registro",children:o.jsx(Lt,{variant:"gradient",className:"w-full",children:"Agendar Asesora Gratuita"})})]})]})})}),o.jsx(ys,{})]}):o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans flex flex-col items-center justify-center p-4",children:[o.jsx(ms,{title:"Universidad No Encontrada",description:"La universidad que buscas no est en nuestra base de datos."}),o.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Universidad no encontrada"}),o.jsx("p",{className:"mb-4",children:"Lo sentimos, no tenemos informacin especfica para esta universidad todava."}),o.jsx(_e,{to:"/",children:o.jsx(Lt,{variant:"primary",children:"Volver al Inicio"})})]})},e_=()=>o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-900 dark:text-white transition-colors duration-300",children:[o.jsx(ms,{title:"Directorio de Universidades RD | TuTesisRD",description:"Encuentra asesores de tesis especializados por universidad: UASD, PUCMM, INTEC, UNIBE y ms."}),o.jsx(vs,{}),o.jsxs("div",{className:"container mx-auto px-6 pt-32 pb-20",children:[o.jsxs("header",{className:"mb-16 text-center",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-black mb-6 animate-fade-in-up",children:"Tu Universidad, Nuestras Reglas"}),o.jsx("p",{className:"text-xl text-slate-500 max-w-2xl mx-auto animate-slide-up",children:"Selecciona tu universidad para ver recursos, consejos y asesores especializados en tu normativa."})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:uo.map(n=>o.jsx(_e,{to:`/tesis/${n.id}`,className:"group",children:o.jsxs(Ks,{className:"h-full p-8 transition-all hover:-translate-y-2 hover:shadow-xl border-l-4",style:{borderLeftColor:n.color},children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white rounded-full shadow-sm p-2 flex items-center justify-center",children:o.jsx("img",{src:n.logo,alt:n.shortName,className:"max-w-full max-h-full object-contain"})}),o.jsxs("span",{className:"text-xs font-bold px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-500",children:[n.programs.length," Fac."]})]}),o.jsx("h2",{className:"text-2xl font-bold mb-2 group-hover:text-brand-orange transition-colors",children:n.shortName}),o.jsx("p",{className:"text-sm text-slate-500 mb-4 line-clamp-2",children:n.name}),o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-400",children:[o.jsx("span",{className:"material-icons text-base",children:"verified"}),n.regulations.style]})]})},n.id))})]}),o.jsx(ys,{})]}),t_=()=>{const{postId:n}=og(),a=cg.find(r=>r.id===n);return a?o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-800 dark:text-white",children:[o.jsx(ms,{title:a.title,description:a.excerpt,schema:{"@context":"https://schema.org","@type":"BlogPosting",headline:a.title,image:`${window.location.origin}./blog/${a.image}`,datePublished:a.date,author:{"@type":"Organization",name:"TuTesisRD"}}}),o.jsx(vs,{}),o.jsx("article",{className:"pt-32 pb-20",children:o.jsxs("div",{className:"container mx-auto px-6 max-w-4xl",children:[o.jsxs(_e,{to:"/blog",className:"inline-flex items-center text-brand-orange font-bold mb-8 hover:translate-x-[-4px] transition-transform",children:[o.jsx("span",{className:"material-icons mr-2",children:"arrow_back"}),"Volver al Blog"]}),o.jsxs("div",{className:"mb-10",children:[o.jsx("span",{className:"bg-brand-orange text-white text-xs font-black uppercase tracking-widest px-4 py-1 rounded-full shadow-lg mb-6 inline-block",children:a.category}),o.jsx("h1",{className:"text-4xl md:text-5xl font-black text-slate-900 dark:text-white mb-6 leading-tight",children:a.title}),o.jsxs("div",{className:"flex items-center text-slate-500 dark:text-slate-400 text-sm space-x-6",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx("span",{className:"material-icons text-sm mr-2",children:"schedule"}),a.readTime," de lectura"]}),o.jsxs("span",{className:"flex items-center",children:[o.jsx("span",{className:"material-icons text-sm mr-2",children:"calendar_today"}),a.date]})]})]}),o.jsx("div",{className:"rounded-3xl overflow-hidden mb-12 shadow-2xl",children:o.jsx("img",{src:`./blog/${a.image}`,alt:a.title,className:"w-full h-auto object-cover"})}),o.jsx("div",{className:`prose prose-lg dark:prose-invert max-w-none \r
                        prose-headings:text-slate-900 dark:prose-headings:text-white prose-headings:font-black\r
                        prose-p:text-slate-600 dark:prose-p:text-slate-300 prose-p:leading-relaxed\r
                        prose-strong:text-brand-orange\r
                        prose-a:text-brand-orange`,dangerouslySetInnerHTML:{__html:a.content}}),o.jsxs("div",{className:"mt-20 p-8 bg-slate-50 dark:bg-slate-800/50 rounded-3xl border border-slate-100 dark:border-slate-800 flex flex-col md:flex-row items-center gap-8",children:[o.jsxs("div",{className:"flex-grow text-center md:text-left",children:[o.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2",children:"Necesitas ayuda con tu tesis?"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Nuestro equipo de expertos est listo para asesorarte en cada paso de tu investigacin."})]}),o.jsx(_e,{to:"/registro",className:"bg-brand-orange text-white px-8 py-4 rounded-full font-black shadow-glow hover:shadow-glow-lg transition-all transform hover:scale-105 whitespace-nowrap",children:"Empezar Ahora"})]})]})}),o.jsx(ys,{})]}):o.jsx(pb,{to:"/blog",replace:!0})};var je;(function(n){n.assertEqual=c=>c;function a(c){}n.assertIs=a;function r(c){throw new Error}n.assertNever=r,n.arrayToEnum=c=>{const d={};for(const f of c)d[f]=f;return d},n.getValidEnumValues=c=>{const d=n.objectKeys(c).filter(m=>typeof c[c[m]]!="number"),f={};for(const m of d)f[m]=c[m];return n.objectValues(f)},n.objectValues=c=>n.objectKeys(c).map(function(d){return c[d]}),n.objectKeys=typeof Object.keys=="function"?c=>Object.keys(c):c=>{const d=[];for(const f in c)Object.prototype.hasOwnProperty.call(c,f)&&d.push(f);return d},n.find=(c,d)=>{for(const f of c)if(d(f))return f},n.isInteger=typeof Number.isInteger=="function"?c=>Number.isInteger(c):c=>typeof c=="number"&&isFinite(c)&&Math.floor(c)===c;function l(c,d=" | "){return c.map(f=>typeof f=="string"?`'${f}'`:f).join(d)}n.joinValues=l,n.jsonStringifyReplacer=(c,d)=>typeof d=="bigint"?d.toString():d})(je||(je={}));var nd;(function(n){n.mergeShapes=(a,r)=>({...a,...r})})(nd||(nd={}));const P=je.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ma=n=>{switch(typeof n){case"undefined":return P.undefined;case"string":return P.string;case"number":return isNaN(n)?P.nan:P.number;case"boolean":return P.boolean;case"function":return P.function;case"bigint":return P.bigint;case"symbol":return P.symbol;case"object":return Array.isArray(n)?P.array:n===null?P.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?P.promise:typeof Map<"u"&&n instanceof Map?P.map:typeof Set<"u"&&n instanceof Set?P.set:typeof Date<"u"&&n instanceof Date?P.date:P.object;default:return P.unknown}},B=je.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),a_=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class $t extends Error{get errors(){return this.issues}constructor(a){super(),this.issues=[],this.addIssue=l=>{this.issues=[...this.issues,l]},this.addIssues=(l=[])=>{this.issues=[...this.issues,...l]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=a}format(a){const r=a||function(d){return d.message},l={_errors:[]},c=d=>{for(const f of d.issues)if(f.code==="invalid_union")f.unionErrors.map(c);else if(f.code==="invalid_return_type")c(f.returnTypeError);else if(f.code==="invalid_arguments")c(f.argumentsError);else if(f.path.length===0)l._errors.push(r(f));else{let m=l,g=0;for(;g<f.path.length;){const x=f.path[g];g===f.path.length-1?(m[x]=m[x]||{_errors:[]},m[x]._errors.push(r(f))):m[x]=m[x]||{_errors:[]},m=m[x],g++}}};return c(this),l}static assert(a){if(!(a instanceof $t))throw new Error(`Not a ZodError: ${a}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,je.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(a=r=>r.message){const r={},l=[];for(const c of this.issues)c.path.length>0?(r[c.path[0]]=r[c.path[0]]||[],r[c.path[0]].push(a(c))):l.push(a(c));return{formErrors:l,fieldErrors:r}}get formErrors(){return this.flatten()}}$t.create=n=>new $t(n);const Wr=(n,a)=>{let r;switch(n.code){case B.invalid_type:n.received===P.undefined?r="Required":r=`Expected ${n.expected}, received ${n.received}`;break;case B.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(n.expected,je.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:r=`Unrecognized key(s) in object: ${je.joinValues(n.keys,", ")}`;break;case B.invalid_union:r="Invalid input";break;case B.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${je.joinValues(n.options)}`;break;case B.invalid_enum_value:r=`Invalid enum value. Expected ${je.joinValues(n.options)}, received '${n.received}'`;break;case B.invalid_arguments:r="Invalid function arguments";break;case B.invalid_return_type:r="Invalid function return type";break;case B.invalid_date:r="Invalid date";break;case B.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(r=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?r=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?r=`Invalid input: must end with "${n.validation.endsWith}"`:je.assertNever(n.validation):n.validation!=="regex"?r=`Invalid ${n.validation}`:r="Invalid";break;case B.too_small:n.type==="array"?r=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?r=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?r=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?r=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:r="Invalid input";break;case B.too_big:n.type==="array"?r=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?r=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?r=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?r=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?r=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:r="Invalid input";break;case B.custom:r="Invalid input";break;case B.invalid_intersection_types:r="Intersection results could not be merged";break;case B.not_multiple_of:r=`Number must be a multiple of ${n.multipleOf}`;break;case B.not_finite:r="Number must be finite";break;default:r=a.defaultError,je.assertNever(n)}return{message:r}};let Rg=Wr;function s_(n){Rg=n}function eo(){return Rg}const to=n=>{const{data:a,path:r,errorMaps:l,issueData:c}=n,d=[...r,...c.path||[]],f={...c,path:d};if(c.message!==void 0)return{...c,path:d,message:c.message};let m="";const g=l.filter(x=>!!x).slice().reverse();for(const x of g)m=x(f,{data:a,defaultError:m}).message;return{...c,path:d,message:m}},r_=[];function G(n,a){const r=eo(),l=to({issueData:a,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,r,r===Wr?void 0:Wr].filter(c=>!!c)});n.common.issues.push(l)}class ht{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(a,r){const l=[];for(const c of r){if(c.status==="aborted")return le;c.status==="dirty"&&a.dirty(),l.push(c.value)}return{status:a.value,value:l}}static async mergeObjectAsync(a,r){const l=[];for(const c of r){const d=await c.key,f=await c.value;l.push({key:d,value:f})}return ht.mergeObjectSync(a,l)}static mergeObjectSync(a,r){const l={};for(const c of r){const{key:d,value:f}=c;if(d.status==="aborted"||f.status==="aborted")return le;d.status==="dirty"&&a.dirty(),f.status==="dirty"&&a.dirty(),d.value!=="__proto__"&&(typeof f.value<"u"||c.alwaysSet)&&(l[d.value]=f.value)}return{status:a.value,value:l}}}const le=Object.freeze({status:"aborted"}),Jr=n=>({status:"dirty",value:n}),gt=n=>({status:"valid",value:n}),id=n=>n.status==="aborted",ld=n=>n.status==="dirty",Xs=n=>n.status==="valid",ci=n=>typeof Promise<"u"&&n instanceof Promise;function ao(n,a,r,l){if(typeof a=="function"?n!==a||!0:!a.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a.get(n)}function Dg(n,a,r,l,c){if(typeof a=="function"?n!==a||!0:!a.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a.set(n,r),r}var Q;(function(n){n.errToObj=a=>typeof a=="string"?{message:a}:a||{},n.toString=a=>typeof a=="string"?a:a==null?void 0:a.message})(Q||(Q={}));var Wn,ei;class ma{constructor(a,r,l,c){this._cachedPath=[],this.parent=a,this.data=r,this._path=l,this._key=c}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ng=(n,a)=>{if(Xs(a))return{success:!0,data:a.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new $t(n.common.issues);return this._error=r,this._error}}};function ue(n){if(!n)return{};const{errorMap:a,invalid_type_error:r,required_error:l,description:c}=n;if(a&&(r||l))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return a?{errorMap:a,description:c}:{errorMap:(f,m)=>{var g,x;const{message:v}=n;return f.code==="invalid_enum_value"?{message:v??m.defaultError}:typeof m.data>"u"?{message:(g=v??l)!==null&&g!==void 0?g:m.defaultError}:f.code!=="invalid_type"?{message:m.defaultError}:{message:(x=v??r)!==null&&x!==void 0?x:m.defaultError}},description:c}}class he{get description(){return this._def.description}_getType(a){return Ma(a.data)}_getOrReturnCtx(a,r){return r||{common:a.parent.common,data:a.data,parsedType:Ma(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}_processInputParams(a){return{status:new ht,ctx:{common:a.parent.common,data:a.data,parsedType:Ma(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}}_parseSync(a){const r=this._parse(a);if(ci(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(a){const r=this._parse(a);return Promise.resolve(r)}parse(a,r){const l=this.safeParse(a,r);if(l.success)return l.data;throw l.error}safeParse(a,r){var l;const c={common:{issues:[],async:(l=r==null?void 0:r.async)!==null&&l!==void 0?l:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:Ma(a)},d=this._parseSync({data:a,path:c.path,parent:c});return ng(c,d)}"~validate"(a){var r,l;const c={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:Ma(a)};if(!this["~standard"].async)try{const d=this._parseSync({data:a,path:[],parent:c});return Xs(d)?{value:d.value}:{issues:c.common.issues}}catch(d){!((l=(r=d==null?void 0:d.message)===null||r===void 0?void 0:r.toLowerCase())===null||l===void 0)&&l.includes("encountered")&&(this["~standard"].async=!0),c.common={issues:[],async:!0}}return this._parseAsync({data:a,path:[],parent:c}).then(d=>Xs(d)?{value:d.value}:{issues:c.common.issues})}async parseAsync(a,r){const l=await this.safeParseAsync(a,r);if(l.success)return l.data;throw l.error}async safeParseAsync(a,r){const l={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:Ma(a)},c=this._parse({data:a,path:l.path,parent:l}),d=await(ci(c)?c:Promise.resolve(c));return ng(l,d)}refine(a,r){const l=c=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(c):r;return this._refinement((c,d)=>{const f=a(c),m=()=>d.addIssue({code:B.custom,...l(c)});return typeof Promise<"u"&&f instanceof Promise?f.then(g=>g?!0:(m(),!1)):f?!0:(m(),!1)})}refinement(a,r){return this._refinement((l,c)=>a(l)?!0:(c.addIssue(typeof r=="function"?r(l,c):r),!1))}_refinement(a){return new ia({schema:this,typeName:ie.ZodEffects,effect:{type:"refinement",refinement:a}})}superRefine(a){return this._refinement(a)}constructor(a){this.spa=this.safeParseAsync,this._def=a,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return fa.create(this,this._def)}nullable(){return bs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return na.create(this)}promise(){return tn.create(this,this._def)}or(a){return fi.create([this,a],this._def)}and(a){return mi.create(this,a,this._def)}transform(a){return new ia({...ue(this._def),schema:this,typeName:ie.ZodEffects,effect:{type:"transform",transform:a}})}default(a){const r=typeof a=="function"?a:()=>a;return new vi({...ue(this._def),innerType:this,defaultValue:r,typeName:ie.ZodDefault})}brand(){return new yd({typeName:ie.ZodBranded,type:this,...ue(this._def)})}catch(a){const r=typeof a=="function"?a:()=>a;return new yi({...ue(this._def),innerType:this,catchValue:r,typeName:ie.ZodCatch})}describe(a){const r=this.constructor;return new r({...this._def,description:a})}pipe(a){return ji.create(this,a)}readonly(){return wi.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const n_=/^c[^\s-]{8,}$/i,i_=/^[0-9a-z]+$/,l_=/^[0-9A-HJKMNP-TV-Z]{26}$/i,o_=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,c_=/^[a-z0-9_-]{21}$/i,u_=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,d_=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,h_=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,f_="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Pu;const m_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,g_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,p_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,x_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,b_=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,v_=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",y_=new RegExp(`^${zg}$`);function Ug(n){let a="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?a=`${a}\\.\\d{${n.precision}}`:n.precision==null&&(a=`${a}(\\.\\d+)?`),a}function w_(n){return new RegExp(`^${Ug(n)}$`)}function Mg(n){let a=`${zg}T${Ug(n)}`;const r=[];return r.push(n.local?"Z?":"Z"),n.offset&&r.push("([+-]\\d{2}:?\\d{2})"),a=`${a}(${r.join("|")})`,new RegExp(`^${a}$`)}function __(n,a){return!!((a==="v4"||!a)&&m_.test(n)||(a==="v6"||!a)&&p_.test(n))}function j_(n,a){if(!u_.test(n))return!1;try{const[r]=n.split("."),l=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),c=JSON.parse(atob(l));return!(typeof c!="object"||c===null||!c.typ||!c.alg||a&&c.alg!==a)}catch{return!1}}function N_(n,a){return!!((a==="v4"||!a)&&g_.test(n)||(a==="v6"||!a)&&x_.test(n))}class ra extends he{_parse(a){if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==P.string){const d=this._getOrReturnCtx(a);return G(d,{code:B.invalid_type,expected:P.string,received:d.parsedType}),le}const l=new ht;let c;for(const d of this._def.checks)if(d.kind==="min")a.data.length<d.value&&(c=this._getOrReturnCtx(a,c),G(c,{code:B.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),l.dirty());else if(d.kind==="max")a.data.length>d.value&&(c=this._getOrReturnCtx(a,c),G(c,{code:B.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!1,message:d.message}),l.dirty());else if(d.kind==="length"){const f=a.data.length>d.value,m=a.data.length<d.value;(f||m)&&(c=this._getOrReturnCtx(a,c),f?G(c,{code:B.too_big,maximum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}):m&&G(c,{code:B.too_small,minimum:d.value,type:"string",inclusive:!0,exact:!0,message:d.message}),l.dirty())}else if(d.kind==="email")h_.test(a.data)||(c=this._getOrReturnCtx(a,c),G(c,{validation:"email",code:B.invalid_string,message:d.message}),l.dirty());else if(d.kind==="emoji")Pu||(Pu=new RegExp(f_,"u")),Pu.test(a.data)||(c=this._getOrReturnCtx(a,c),G(c,{validation:"emoji",code:B.invalid_string,message:d.message}),l.dirty());else if(d.kind==="uuid")o_.test(a.data)||(c=this._getOrReturnCtx(a,c),G(c,{validation:"uuid",code:B.invalid_string,message:d.message}),l.dirty());else if(d.kind==="nanoid")c_.test(a.data)||(c=this._getOrReturnCtx(a,c),G(c,{validation:"nanoid",code:B.invalid_string,message:d.message}),l.dirty());else if(d.kind==="cuid")n_.test(a.data)||(c=this._getOrReturnCtx(a,c),G(c,{validation:"cuid",code:B.invalid_string,message:d.message}),l.dirty());else if(d.kind==="cuid2")i_.test(a.data)||(c=this._getOrReturnCtx(a,c),G(c,{validation:"cuid2",code:B.invalid_string,message:d.message}),l.dirty());else if(d.kind==="ulid")l_.test(a.data)||(c=this._getOrReturnCtx(a,c),G(c,{validation:"ulid",code:B.invalid_string,message:d.message}),l.dirty());else if(d.kind==="url")try{new URL(a.data)}catch{c=this._getOrReturnCtx(a,c),G(c,{validation:"url",code:B.invalid_string,message:d.message}),l.dirty()}else d.kind==="regex"?(d.regex.lastIndex=0,d.regex.test(a.data)||(c=this._getOrReturnCtx(a,c),G(c,{validation:"regex",code:B.invalid_string,message:d.message}),l.dirty())):d.kind==="trim"?a.data=a.data.trim():d.kind==="includes"?a.data.includes(d.value,d.position)||(c=this._getOrReturnCtx(a,c),G(c,{code:B.invalid_string,validation:{includes:d.value,position:d.position},message:d.message}),l.dirty()):d.kind==="toLowerCase"?a.data=a.data.toLowerCase():d.kind==="toUpperCase"?a.data=a.data.toUpperCase():d.kind==="startsWith"?a.data.startsWith(d.value)||(c=this._getOrReturnCtx(a,c),G(c,{code:B.invalid_string,validation:{startsWith:d.value},message:d.message}),l.dirty()):d.kind==="endsWith"?a.data.endsWith(d.value)||(c=this._getOrReturnCtx(a,c),G(c,{code:B.invalid_string,validation:{endsWith:d.value},message:d.message}),l.dirty()):d.kind==="datetime"?Mg(d).test(a.data)||(c=this._getOrReturnCtx(a,c),G(c,{code:B.invalid_string,validation:"datetime",message:d.message}),l.dirty()):d.kind==="date"?y_.test(a.data)||(c=this._getOrReturnCtx(a,c),G(c,{code:B.invalid_string,validation:"date",message:d.message}),l.dirty()):d.kind==="time"?w_(d).test(a.data)||(c=this._getOrReturnCtx(a,c),G(c,{code:B.invalid_string,validation:"time",message:d.message}),l.dirty()):d.kind==="duration"?d_.test(a.data)||(c=this._getOrReturnCtx(a,c),G(c,{validation:"duration",code:B.invalid_string,message:d.message}),l.dirty()):d.kind==="ip"?__(a.data,d.version)||(c=this._getOrReturnCtx(a,c),G(c,{validation:"ip",code:B.invalid_string,message:d.message}),l.dirty()):d.kind==="jwt"?j_(a.data,d.alg)||(c=this._getOrReturnCtx(a,c),G(c,{validation:"jwt",code:B.invalid_string,message:d.message}),l.dirty()):d.kind==="cidr"?N_(a.data,d.version)||(c=this._getOrReturnCtx(a,c),G(c,{validation:"cidr",code:B.invalid_string,message:d.message}),l.dirty()):d.kind==="base64"?b_.test(a.data)||(c=this._getOrReturnCtx(a,c),G(c,{validation:"base64",code:B.invalid_string,message:d.message}),l.dirty()):d.kind==="base64url"?v_.test(a.data)||(c=this._getOrReturnCtx(a,c),G(c,{validation:"base64url",code:B.invalid_string,message:d.message}),l.dirty()):je.assertNever(d);return{status:l.value,value:a.data}}_regex(a,r,l){return this.refinement(c=>a.test(c),{validation:r,code:B.invalid_string,...Q.errToObj(l)})}_addCheck(a){return new ra({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...Q.errToObj(a)})}url(a){return this._addCheck({kind:"url",...Q.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...Q.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...Q.errToObj(a)})}nanoid(a){return this._addCheck({kind:"nanoid",...Q.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...Q.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...Q.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...Q.errToObj(a)})}base64(a){return this._addCheck({kind:"base64",...Q.errToObj(a)})}base64url(a){return this._addCheck({kind:"base64url",...Q.errToObj(a)})}jwt(a){return this._addCheck({kind:"jwt",...Q.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...Q.errToObj(a)})}cidr(a){return this._addCheck({kind:"cidr",...Q.errToObj(a)})}datetime(a){var r,l;return typeof a=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:a}):this._addCheck({kind:"datetime",precision:typeof(a==null?void 0:a.precision)>"u"?null:a==null?void 0:a.precision,offset:(r=a==null?void 0:a.offset)!==null&&r!==void 0?r:!1,local:(l=a==null?void 0:a.local)!==null&&l!==void 0?l:!1,...Q.errToObj(a==null?void 0:a.message)})}date(a){return this._addCheck({kind:"date",message:a})}time(a){return typeof a=="string"?this._addCheck({kind:"time",precision:null,message:a}):this._addCheck({kind:"time",precision:typeof(a==null?void 0:a.precision)>"u"?null:a==null?void 0:a.precision,...Q.errToObj(a==null?void 0:a.message)})}duration(a){return this._addCheck({kind:"duration",...Q.errToObj(a)})}regex(a,r){return this._addCheck({kind:"regex",regex:a,...Q.errToObj(r)})}includes(a,r){return this._addCheck({kind:"includes",value:a,position:r==null?void 0:r.position,...Q.errToObj(r==null?void 0:r.message)})}startsWith(a,r){return this._addCheck({kind:"startsWith",value:a,...Q.errToObj(r)})}endsWith(a,r){return this._addCheck({kind:"endsWith",value:a,...Q.errToObj(r)})}min(a,r){return this._addCheck({kind:"min",value:a,...Q.errToObj(r)})}max(a,r){return this._addCheck({kind:"max",value:a,...Q.errToObj(r)})}length(a,r){return this._addCheck({kind:"length",value:a,...Q.errToObj(r)})}nonempty(a){return this.min(1,Q.errToObj(a))}trim(){return new ra({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ra({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ra({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(a=>a.kind==="datetime")}get isDate(){return!!this._def.checks.find(a=>a.kind==="date")}get isTime(){return!!this._def.checks.find(a=>a.kind==="time")}get isDuration(){return!!this._def.checks.find(a=>a.kind==="duration")}get isEmail(){return!!this._def.checks.find(a=>a.kind==="email")}get isURL(){return!!this._def.checks.find(a=>a.kind==="url")}get isEmoji(){return!!this._def.checks.find(a=>a.kind==="emoji")}get isUUID(){return!!this._def.checks.find(a=>a.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(a=>a.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(a=>a.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(a=>a.kind==="cuid2")}get isULID(){return!!this._def.checks.find(a=>a.kind==="ulid")}get isIP(){return!!this._def.checks.find(a=>a.kind==="ip")}get isCIDR(){return!!this._def.checks.find(a=>a.kind==="cidr")}get isBase64(){return!!this._def.checks.find(a=>a.kind==="base64")}get isBase64url(){return!!this._def.checks.find(a=>a.kind==="base64url")}get minLength(){let a=null;for(const r of this._def.checks)r.kind==="min"&&(a===null||r.value>a)&&(a=r.value);return a}get maxLength(){let a=null;for(const r of this._def.checks)r.kind==="max"&&(a===null||r.value<a)&&(a=r.value);return a}}ra.create=n=>{var a;return new ra({checks:[],typeName:ie.ZodString,coerce:(a=n==null?void 0:n.coerce)!==null&&a!==void 0?a:!1,...ue(n)})};function k_(n,a){const r=(n.toString().split(".")[1]||"").length,l=(a.toString().split(".")[1]||"").length,c=r>l?r:l,d=parseInt(n.toFixed(c).replace(".","")),f=parseInt(a.toFixed(c).replace(".",""));return d%f/Math.pow(10,c)}class gs extends he{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==P.number){const d=this._getOrReturnCtx(a);return G(d,{code:B.invalid_type,expected:P.number,received:d.parsedType}),le}let l;const c=new ht;for(const d of this._def.checks)d.kind==="int"?je.isInteger(a.data)||(l=this._getOrReturnCtx(a,l),G(l,{code:B.invalid_type,expected:"integer",received:"float",message:d.message}),c.dirty()):d.kind==="min"?(d.inclusive?a.data<d.value:a.data<=d.value)&&(l=this._getOrReturnCtx(a,l),G(l,{code:B.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):d.kind==="max"?(d.inclusive?a.data>d.value:a.data>=d.value)&&(l=this._getOrReturnCtx(a,l),G(l,{code:B.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):d.kind==="multipleOf"?k_(a.data,d.value)!==0&&(l=this._getOrReturnCtx(a,l),G(l,{code:B.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):d.kind==="finite"?Number.isFinite(a.data)||(l=this._getOrReturnCtx(a,l),G(l,{code:B.not_finite,message:d.message}),c.dirty()):je.assertNever(d);return{status:c.value,value:a.data}}gte(a,r){return this.setLimit("min",a,!0,Q.toString(r))}gt(a,r){return this.setLimit("min",a,!1,Q.toString(r))}lte(a,r){return this.setLimit("max",a,!0,Q.toString(r))}lt(a,r){return this.setLimit("max",a,!1,Q.toString(r))}setLimit(a,r,l,c){return new gs({...this._def,checks:[...this._def.checks,{kind:a,value:r,inclusive:l,message:Q.toString(c)}]})}_addCheck(a){return new gs({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:Q.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Q.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Q.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Q.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Q.toString(a)})}multipleOf(a,r){return this._addCheck({kind:"multipleOf",value:a,message:Q.toString(r)})}finite(a){return this._addCheck({kind:"finite",message:Q.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Q.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Q.toString(a)})}get minValue(){let a=null;for(const r of this._def.checks)r.kind==="min"&&(a===null||r.value>a)&&(a=r.value);return a}get maxValue(){let a=null;for(const r of this._def.checks)r.kind==="max"&&(a===null||r.value<a)&&(a=r.value);return a}get isInt(){return!!this._def.checks.find(a=>a.kind==="int"||a.kind==="multipleOf"&&je.isInteger(a.value))}get isFinite(){let a=null,r=null;for(const l of this._def.checks){if(l.kind==="finite"||l.kind==="int"||l.kind==="multipleOf")return!0;l.kind==="min"?(r===null||l.value>r)&&(r=l.value):l.kind==="max"&&(a===null||l.value<a)&&(a=l.value)}return Number.isFinite(r)&&Number.isFinite(a)}}gs.create=n=>new gs({checks:[],typeName:ie.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...ue(n)});class ps extends he{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){if(this._def.coerce)try{a.data=BigInt(a.data)}catch{return this._getInvalidInput(a)}if(this._getType(a)!==P.bigint)return this._getInvalidInput(a);let l;const c=new ht;for(const d of this._def.checks)d.kind==="min"?(d.inclusive?a.data<d.value:a.data<=d.value)&&(l=this._getOrReturnCtx(a,l),G(l,{code:B.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):d.kind==="max"?(d.inclusive?a.data>d.value:a.data>=d.value)&&(l=this._getOrReturnCtx(a,l),G(l,{code:B.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):d.kind==="multipleOf"?a.data%d.value!==BigInt(0)&&(l=this._getOrReturnCtx(a,l),G(l,{code:B.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):je.assertNever(d);return{status:c.value,value:a.data}}_getInvalidInput(a){const r=this._getOrReturnCtx(a);return G(r,{code:B.invalid_type,expected:P.bigint,received:r.parsedType}),le}gte(a,r){return this.setLimit("min",a,!0,Q.toString(r))}gt(a,r){return this.setLimit("min",a,!1,Q.toString(r))}lte(a,r){return this.setLimit("max",a,!0,Q.toString(r))}lt(a,r){return this.setLimit("max",a,!1,Q.toString(r))}setLimit(a,r,l,c){return new ps({...this._def,checks:[...this._def.checks,{kind:a,value:r,inclusive:l,message:Q.toString(c)}]})}_addCheck(a){return new ps({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Q.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Q.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Q.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Q.toString(a)})}multipleOf(a,r){return this._addCheck({kind:"multipleOf",value:a,message:Q.toString(r)})}get minValue(){let a=null;for(const r of this._def.checks)r.kind==="min"&&(a===null||r.value>a)&&(a=r.value);return a}get maxValue(){let a=null;for(const r of this._def.checks)r.kind==="max"&&(a===null||r.value<a)&&(a=r.value);return a}}ps.create=n=>{var a;return new ps({checks:[],typeName:ie.ZodBigInt,coerce:(a=n==null?void 0:n.coerce)!==null&&a!==void 0?a:!1,...ue(n)})};class ui extends he{_parse(a){if(this._def.coerce&&(a.data=!!a.data),this._getType(a)!==P.boolean){const l=this._getOrReturnCtx(a);return G(l,{code:B.invalid_type,expected:P.boolean,received:l.parsedType}),le}return gt(a.data)}}ui.create=n=>new ui({typeName:ie.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...ue(n)});class Qs extends he{_parse(a){if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==P.date){const d=this._getOrReturnCtx(a);return G(d,{code:B.invalid_type,expected:P.date,received:d.parsedType}),le}if(isNaN(a.data.getTime())){const d=this._getOrReturnCtx(a);return G(d,{code:B.invalid_date}),le}const l=new ht;let c;for(const d of this._def.checks)d.kind==="min"?a.data.getTime()<d.value&&(c=this._getOrReturnCtx(a,c),G(c,{code:B.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),l.dirty()):d.kind==="max"?a.data.getTime()>d.value&&(c=this._getOrReturnCtx(a,c),G(c,{code:B.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),l.dirty()):je.assertNever(d);return{status:l.value,value:new Date(a.data.getTime())}}_addCheck(a){return new Qs({...this._def,checks:[...this._def.checks,a]})}min(a,r){return this._addCheck({kind:"min",value:a.getTime(),message:Q.toString(r)})}max(a,r){return this._addCheck({kind:"max",value:a.getTime(),message:Q.toString(r)})}get minDate(){let a=null;for(const r of this._def.checks)r.kind==="min"&&(a===null||r.value>a)&&(a=r.value);return a!=null?new Date(a):null}get maxDate(){let a=null;for(const r of this._def.checks)r.kind==="max"&&(a===null||r.value<a)&&(a=r.value);return a!=null?new Date(a):null}}Qs.create=n=>new Qs({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:ie.ZodDate,...ue(n)});class so extends he{_parse(a){if(this._getType(a)!==P.symbol){const l=this._getOrReturnCtx(a);return G(l,{code:B.invalid_type,expected:P.symbol,received:l.parsedType}),le}return gt(a.data)}}so.create=n=>new so({typeName:ie.ZodSymbol,...ue(n)});class di extends he{_parse(a){if(this._getType(a)!==P.undefined){const l=this._getOrReturnCtx(a);return G(l,{code:B.invalid_type,expected:P.undefined,received:l.parsedType}),le}return gt(a.data)}}di.create=n=>new di({typeName:ie.ZodUndefined,...ue(n)});class hi extends he{_parse(a){if(this._getType(a)!==P.null){const l=this._getOrReturnCtx(a);return G(l,{code:B.invalid_type,expected:P.null,received:l.parsedType}),le}return gt(a.data)}}hi.create=n=>new hi({typeName:ie.ZodNull,...ue(n)});class en extends he{constructor(){super(...arguments),this._any=!0}_parse(a){return gt(a.data)}}en.create=n=>new en({typeName:ie.ZodAny,...ue(n)});class Js extends he{constructor(){super(...arguments),this._unknown=!0}_parse(a){return gt(a.data)}}Js.create=n=>new Js({typeName:ie.ZodUnknown,...ue(n)});class La extends he{_parse(a){const r=this._getOrReturnCtx(a);return G(r,{code:B.invalid_type,expected:P.never,received:r.parsedType}),le}}La.create=n=>new La({typeName:ie.ZodNever,...ue(n)});class ro extends he{_parse(a){if(this._getType(a)!==P.undefined){const l=this._getOrReturnCtx(a);return G(l,{code:B.invalid_type,expected:P.void,received:l.parsedType}),le}return gt(a.data)}}ro.create=n=>new ro({typeName:ie.ZodVoid,...ue(n)});class na extends he{_parse(a){const{ctx:r,status:l}=this._processInputParams(a),c=this._def;if(r.parsedType!==P.array)return G(r,{code:B.invalid_type,expected:P.array,received:r.parsedType}),le;if(c.exactLength!==null){const f=r.data.length>c.exactLength.value,m=r.data.length<c.exactLength.value;(f||m)&&(G(r,{code:f?B.too_big:B.too_small,minimum:m?c.exactLength.value:void 0,maximum:f?c.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:c.exactLength.message}),l.dirty())}if(c.minLength!==null&&r.data.length<c.minLength.value&&(G(r,{code:B.too_small,minimum:c.minLength.value,type:"array",inclusive:!0,exact:!1,message:c.minLength.message}),l.dirty()),c.maxLength!==null&&r.data.length>c.maxLength.value&&(G(r,{code:B.too_big,maximum:c.maxLength.value,type:"array",inclusive:!0,exact:!1,message:c.maxLength.message}),l.dirty()),r.common.async)return Promise.all([...r.data].map((f,m)=>c.type._parseAsync(new ma(r,f,r.path,m)))).then(f=>ht.mergeArray(l,f));const d=[...r.data].map((f,m)=>c.type._parseSync(new ma(r,f,r.path,m)));return ht.mergeArray(l,d)}get element(){return this._def.type}min(a,r){return new na({...this._def,minLength:{value:a,message:Q.toString(r)}})}max(a,r){return new na({...this._def,maxLength:{value:a,message:Q.toString(r)}})}length(a,r){return new na({...this._def,exactLength:{value:a,message:Q.toString(r)}})}nonempty(a){return this.min(1,a)}}na.create=(n,a)=>new na({type:n,minLength:null,maxLength:null,exactLength:null,typeName:ie.ZodArray,...ue(a)});function Yr(n){if(n instanceof Ie){const a={};for(const r in n.shape){const l=n.shape[r];a[r]=fa.create(Yr(l))}return new Ie({...n._def,shape:()=>a})}else return n instanceof na?new na({...n._def,type:Yr(n.element)}):n instanceof fa?fa.create(Yr(n.unwrap())):n instanceof bs?bs.create(Yr(n.unwrap())):n instanceof ga?ga.create(n.items.map(a=>Yr(a))):n}class Ie extends he{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const a=this._def.shape(),r=je.objectKeys(a);return this._cached={shape:a,keys:r}}_parse(a){if(this._getType(a)!==P.object){const x=this._getOrReturnCtx(a);return G(x,{code:B.invalid_type,expected:P.object,received:x.parsedType}),le}const{status:l,ctx:c}=this._processInputParams(a),{shape:d,keys:f}=this._getCached(),m=[];if(!(this._def.catchall instanceof La&&this._def.unknownKeys==="strip"))for(const x in c.data)f.includes(x)||m.push(x);const g=[];for(const x of f){const v=d[x],y=c.data[x];g.push({key:{status:"valid",value:x},value:v._parse(new ma(c,y,c.path,x)),alwaysSet:x in c.data})}if(this._def.catchall instanceof La){const x=this._def.unknownKeys;if(x==="passthrough")for(const v of m)g.push({key:{status:"valid",value:v},value:{status:"valid",value:c.data[v]}});else if(x==="strict")m.length>0&&(G(c,{code:B.unrecognized_keys,keys:m}),l.dirty());else if(x!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const x=this._def.catchall;for(const v of m){const y=c.data[v];g.push({key:{status:"valid",value:v},value:x._parse(new ma(c,y,c.path,v)),alwaysSet:v in c.data})}}return c.common.async?Promise.resolve().then(async()=>{const x=[];for(const v of g){const y=await v.key,N=await v.value;x.push({key:y,value:N,alwaysSet:v.alwaysSet})}return x}).then(x=>ht.mergeObjectSync(l,x)):ht.mergeObjectSync(l,g)}get shape(){return this._def.shape()}strict(a){return Q.errToObj,new Ie({...this._def,unknownKeys:"strict",...a!==void 0?{errorMap:(r,l)=>{var c,d,f,m;const g=(f=(d=(c=this._def).errorMap)===null||d===void 0?void 0:d.call(c,r,l).message)!==null&&f!==void 0?f:l.defaultError;return r.code==="unrecognized_keys"?{message:(m=Q.errToObj(a).message)!==null&&m!==void 0?m:g}:{message:g}}}:{}})}strip(){return new Ie({...this._def,unknownKeys:"strip"})}passthrough(){return new Ie({...this._def,unknownKeys:"passthrough"})}extend(a){return new Ie({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new Ie({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:ie.ZodObject})}setKey(a,r){return this.augment({[a]:r})}catchall(a){return new Ie({...this._def,catchall:a})}pick(a){const r={};return je.objectKeys(a).forEach(l=>{a[l]&&this.shape[l]&&(r[l]=this.shape[l])}),new Ie({...this._def,shape:()=>r})}omit(a){const r={};return je.objectKeys(this.shape).forEach(l=>{a[l]||(r[l]=this.shape[l])}),new Ie({...this._def,shape:()=>r})}deepPartial(){return Yr(this)}partial(a){const r={};return je.objectKeys(this.shape).forEach(l=>{const c=this.shape[l];a&&!a[l]?r[l]=c:r[l]=c.optional()}),new Ie({...this._def,shape:()=>r})}required(a){const r={};return je.objectKeys(this.shape).forEach(l=>{if(a&&!a[l])r[l]=this.shape[l];else{let d=this.shape[l];for(;d instanceof fa;)d=d._def.innerType;r[l]=d}}),new Ie({...this._def,shape:()=>r})}keyof(){return Lg(je.objectKeys(this.shape))}}Ie.create=(n,a)=>new Ie({shape:()=>n,unknownKeys:"strip",catchall:La.create(),typeName:ie.ZodObject,...ue(a)});Ie.strictCreate=(n,a)=>new Ie({shape:()=>n,unknownKeys:"strict",catchall:La.create(),typeName:ie.ZodObject,...ue(a)});Ie.lazycreate=(n,a)=>new Ie({shape:n,unknownKeys:"strip",catchall:La.create(),typeName:ie.ZodObject,...ue(a)});class fi extends he{_parse(a){const{ctx:r}=this._processInputParams(a),l=this._def.options;function c(d){for(const m of d)if(m.result.status==="valid")return m.result;for(const m of d)if(m.result.status==="dirty")return r.common.issues.push(...m.ctx.common.issues),m.result;const f=d.map(m=>new $t(m.ctx.common.issues));return G(r,{code:B.invalid_union,unionErrors:f}),le}if(r.common.async)return Promise.all(l.map(async d=>{const f={...r,common:{...r.common,issues:[]},parent:null};return{result:await d._parseAsync({data:r.data,path:r.path,parent:f}),ctx:f}})).then(c);{let d;const f=[];for(const g of l){const x={...r,common:{...r.common,issues:[]},parent:null},v=g._parseSync({data:r.data,path:r.path,parent:x});if(v.status==="valid")return v;v.status==="dirty"&&!d&&(d={result:v,ctx:x}),x.common.issues.length&&f.push(x.common.issues)}if(d)return r.common.issues.push(...d.ctx.common.issues),d.result;const m=f.map(g=>new $t(g));return G(r,{code:B.invalid_union,unionErrors:m}),le}}get options(){return this._def.options}}fi.create=(n,a)=>new fi({options:n,typeName:ie.ZodUnion,...ue(a)});const za=n=>n instanceof pi?za(n.schema):n instanceof ia?za(n.innerType()):n instanceof xi?[n.value]:n instanceof xs?n.options:n instanceof bi?je.objectValues(n.enum):n instanceof vi?za(n._def.innerType):n instanceof di?[void 0]:n instanceof hi?[null]:n instanceof fa?[void 0,...za(n.unwrap())]:n instanceof bs?[null,...za(n.unwrap())]:n instanceof yd||n instanceof wi?za(n.unwrap()):n instanceof yi?za(n._def.innerType):[];class ho extends he{_parse(a){const{ctx:r}=this._processInputParams(a);if(r.parsedType!==P.object)return G(r,{code:B.invalid_type,expected:P.object,received:r.parsedType}),le;const l=this.discriminator,c=r.data[l],d=this.optionsMap.get(c);return d?r.common.async?d._parseAsync({data:r.data,path:r.path,parent:r}):d._parseSync({data:r.data,path:r.path,parent:r}):(G(r,{code:B.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[l]}),le)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(a,r,l){const c=new Map;for(const d of r){const f=za(d.shape[a]);if(!f.length)throw new Error(`A discriminator value for key \`${a}\` could not be extracted from all schema options`);for(const m of f){if(c.has(m))throw new Error(`Discriminator property ${String(a)} has duplicate value ${String(m)}`);c.set(m,d)}}return new ho({typeName:ie.ZodDiscriminatedUnion,discriminator:a,options:r,optionsMap:c,...ue(l)})}}function od(n,a){const r=Ma(n),l=Ma(a);if(n===a)return{valid:!0,data:n};if(r===P.object&&l===P.object){const c=je.objectKeys(a),d=je.objectKeys(n).filter(m=>c.indexOf(m)!==-1),f={...n,...a};for(const m of d){const g=od(n[m],a[m]);if(!g.valid)return{valid:!1};f[m]=g.data}return{valid:!0,data:f}}else if(r===P.array&&l===P.array){if(n.length!==a.length)return{valid:!1};const c=[];for(let d=0;d<n.length;d++){const f=n[d],m=a[d],g=od(f,m);if(!g.valid)return{valid:!1};c.push(g.data)}return{valid:!0,data:c}}else return r===P.date&&l===P.date&&+n==+a?{valid:!0,data:n}:{valid:!1}}class mi extends he{_parse(a){const{status:r,ctx:l}=this._processInputParams(a),c=(d,f)=>{if(id(d)||id(f))return le;const m=od(d.value,f.value);return m.valid?((ld(d)||ld(f))&&r.dirty(),{status:r.value,value:m.data}):(G(l,{code:B.invalid_intersection_types}),le)};return l.common.async?Promise.all([this._def.left._parseAsync({data:l.data,path:l.path,parent:l}),this._def.right._parseAsync({data:l.data,path:l.path,parent:l})]).then(([d,f])=>c(d,f)):c(this._def.left._parseSync({data:l.data,path:l.path,parent:l}),this._def.right._parseSync({data:l.data,path:l.path,parent:l}))}}mi.create=(n,a,r)=>new mi({left:n,right:a,typeName:ie.ZodIntersection,...ue(r)});class ga extends he{_parse(a){const{status:r,ctx:l}=this._processInputParams(a);if(l.parsedType!==P.array)return G(l,{code:B.invalid_type,expected:P.array,received:l.parsedType}),le;if(l.data.length<this._def.items.length)return G(l,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),le;!this._def.rest&&l.data.length>this._def.items.length&&(G(l,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const d=[...l.data].map((f,m)=>{const g=this._def.items[m]||this._def.rest;return g?g._parse(new ma(l,f,l.path,m)):null}).filter(f=>!!f);return l.common.async?Promise.all(d).then(f=>ht.mergeArray(r,f)):ht.mergeArray(r,d)}get items(){return this._def.items}rest(a){return new ga({...this._def,rest:a})}}ga.create=(n,a)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ga({items:n,typeName:ie.ZodTuple,rest:null,...ue(a)})};class gi extends he{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){const{status:r,ctx:l}=this._processInputParams(a);if(l.parsedType!==P.object)return G(l,{code:B.invalid_type,expected:P.object,received:l.parsedType}),le;const c=[],d=this._def.keyType,f=this._def.valueType;for(const m in l.data)c.push({key:d._parse(new ma(l,m,l.path,m)),value:f._parse(new ma(l,l.data[m],l.path,m)),alwaysSet:m in l.data});return l.common.async?ht.mergeObjectAsync(r,c):ht.mergeObjectSync(r,c)}get element(){return this._def.valueType}static create(a,r,l){return r instanceof he?new gi({keyType:a,valueType:r,typeName:ie.ZodRecord,...ue(l)}):new gi({keyType:ra.create(),valueType:a,typeName:ie.ZodRecord,...ue(r)})}}class no extends he{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){const{status:r,ctx:l}=this._processInputParams(a);if(l.parsedType!==P.map)return G(l,{code:B.invalid_type,expected:P.map,received:l.parsedType}),le;const c=this._def.keyType,d=this._def.valueType,f=[...l.data.entries()].map(([m,g],x)=>({key:c._parse(new ma(l,m,l.path,[x,"key"])),value:d._parse(new ma(l,g,l.path,[x,"value"]))}));if(l.common.async){const m=new Map;return Promise.resolve().then(async()=>{for(const g of f){const x=await g.key,v=await g.value;if(x.status==="aborted"||v.status==="aborted")return le;(x.status==="dirty"||v.status==="dirty")&&r.dirty(),m.set(x.value,v.value)}return{status:r.value,value:m}})}else{const m=new Map;for(const g of f){const x=g.key,v=g.value;if(x.status==="aborted"||v.status==="aborted")return le;(x.status==="dirty"||v.status==="dirty")&&r.dirty(),m.set(x.value,v.value)}return{status:r.value,value:m}}}}no.create=(n,a,r)=>new no({valueType:a,keyType:n,typeName:ie.ZodMap,...ue(r)});class Fs extends he{_parse(a){const{status:r,ctx:l}=this._processInputParams(a);if(l.parsedType!==P.set)return G(l,{code:B.invalid_type,expected:P.set,received:l.parsedType}),le;const c=this._def;c.minSize!==null&&l.data.size<c.minSize.value&&(G(l,{code:B.too_small,minimum:c.minSize.value,type:"set",inclusive:!0,exact:!1,message:c.minSize.message}),r.dirty()),c.maxSize!==null&&l.data.size>c.maxSize.value&&(G(l,{code:B.too_big,maximum:c.maxSize.value,type:"set",inclusive:!0,exact:!1,message:c.maxSize.message}),r.dirty());const d=this._def.valueType;function f(g){const x=new Set;for(const v of g){if(v.status==="aborted")return le;v.status==="dirty"&&r.dirty(),x.add(v.value)}return{status:r.value,value:x}}const m=[...l.data.values()].map((g,x)=>d._parse(new ma(l,g,l.path,x)));return l.common.async?Promise.all(m).then(g=>f(g)):f(m)}min(a,r){return new Fs({...this._def,minSize:{value:a,message:Q.toString(r)}})}max(a,r){return new Fs({...this._def,maxSize:{value:a,message:Q.toString(r)}})}size(a,r){return this.min(a,r).max(a,r)}nonempty(a){return this.min(1,a)}}Fs.create=(n,a)=>new Fs({valueType:n,minSize:null,maxSize:null,typeName:ie.ZodSet,...ue(a)});class Fr extends he{constructor(){super(...arguments),this.validate=this.implement}_parse(a){const{ctx:r}=this._processInputParams(a);if(r.parsedType!==P.function)return G(r,{code:B.invalid_type,expected:P.function,received:r.parsedType}),le;function l(m,g){return to({data:m,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,eo(),Wr].filter(x=>!!x),issueData:{code:B.invalid_arguments,argumentsError:g}})}function c(m,g){return to({data:m,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,eo(),Wr].filter(x=>!!x),issueData:{code:B.invalid_return_type,returnTypeError:g}})}const d={errorMap:r.common.contextualErrorMap},f=r.data;if(this._def.returns instanceof tn){const m=this;return gt(async function(...g){const x=new $t([]),v=await m._def.args.parseAsync(g,d).catch(j=>{throw x.addIssue(l(g,j)),x}),y=await Reflect.apply(f,this,v);return await m._def.returns._def.type.parseAsync(y,d).catch(j=>{throw x.addIssue(c(y,j)),x})})}else{const m=this;return gt(function(...g){const x=m._def.args.safeParse(g,d);if(!x.success)throw new $t([l(g,x.error)]);const v=Reflect.apply(f,this,x.data),y=m._def.returns.safeParse(v,d);if(!y.success)throw new $t([c(v,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...a){return new Fr({...this._def,args:ga.create(a).rest(Js.create())})}returns(a){return new Fr({...this._def,returns:a})}implement(a){return this.parse(a)}strictImplement(a){return this.parse(a)}static create(a,r,l){return new Fr({args:a||ga.create([]).rest(Js.create()),returns:r||Js.create(),typeName:ie.ZodFunction,...ue(l)})}}class pi extends he{get schema(){return this._def.getter()}_parse(a){const{ctx:r}=this._processInputParams(a);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}pi.create=(n,a)=>new pi({getter:n,typeName:ie.ZodLazy,...ue(a)});class xi extends he{_parse(a){if(a.data!==this._def.value){const r=this._getOrReturnCtx(a);return G(r,{received:r.data,code:B.invalid_literal,expected:this._def.value}),le}return{status:"valid",value:a.data}}get value(){return this._def.value}}xi.create=(n,a)=>new xi({value:n,typeName:ie.ZodLiteral,...ue(a)});function Lg(n,a){return new xs({values:n,typeName:ie.ZodEnum,...ue(a)})}class xs extends he{constructor(){super(...arguments),Wn.set(this,void 0)}_parse(a){if(typeof a.data!="string"){const r=this._getOrReturnCtx(a),l=this._def.values;return G(r,{expected:je.joinValues(l),received:r.parsedType,code:B.invalid_type}),le}if(ao(this,Wn)||Dg(this,Wn,new Set(this._def.values)),!ao(this,Wn).has(a.data)){const r=this._getOrReturnCtx(a),l=this._def.values;return G(r,{received:r.data,code:B.invalid_enum_value,options:l}),le}return gt(a.data)}get options(){return this._def.values}get enum(){const a={};for(const r of this._def.values)a[r]=r;return a}get Values(){const a={};for(const r of this._def.values)a[r]=r;return a}get Enum(){const a={};for(const r of this._def.values)a[r]=r;return a}extract(a,r=this._def){return xs.create(a,{...this._def,...r})}exclude(a,r=this._def){return xs.create(this.options.filter(l=>!a.includes(l)),{...this._def,...r})}}Wn=new WeakMap;xs.create=Lg;class bi extends he{constructor(){super(...arguments),ei.set(this,void 0)}_parse(a){const r=je.getValidEnumValues(this._def.values),l=this._getOrReturnCtx(a);if(l.parsedType!==P.string&&l.parsedType!==P.number){const c=je.objectValues(r);return G(l,{expected:je.joinValues(c),received:l.parsedType,code:B.invalid_type}),le}if(ao(this,ei)||Dg(this,ei,new Set(je.getValidEnumValues(this._def.values))),!ao(this,ei).has(a.data)){const c=je.objectValues(r);return G(l,{received:l.data,code:B.invalid_enum_value,options:c}),le}return gt(a.data)}get enum(){return this._def.values}}ei=new WeakMap;bi.create=(n,a)=>new bi({values:n,typeName:ie.ZodNativeEnum,...ue(a)});class tn extends he{unwrap(){return this._def.type}_parse(a){const{ctx:r}=this._processInputParams(a);if(r.parsedType!==P.promise&&r.common.async===!1)return G(r,{code:B.invalid_type,expected:P.promise,received:r.parsedType}),le;const l=r.parsedType===P.promise?r.data:Promise.resolve(r.data);return gt(l.then(c=>this._def.type.parseAsync(c,{path:r.path,errorMap:r.common.contextualErrorMap})))}}tn.create=(n,a)=>new tn({type:n,typeName:ie.ZodPromise,...ue(a)});class ia extends he{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ie.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(a){const{status:r,ctx:l}=this._processInputParams(a),c=this._def.effect||null,d={addIssue:f=>{G(l,f),f.fatal?r.abort():r.dirty()},get path(){return l.path}};if(d.addIssue=d.addIssue.bind(d),c.type==="preprocess"){const f=c.transform(l.data,d);if(l.common.async)return Promise.resolve(f).then(async m=>{if(r.value==="aborted")return le;const g=await this._def.schema._parseAsync({data:m,path:l.path,parent:l});return g.status==="aborted"?le:g.status==="dirty"||r.value==="dirty"?Jr(g.value):g});{if(r.value==="aborted")return le;const m=this._def.schema._parseSync({data:f,path:l.path,parent:l});return m.status==="aborted"?le:m.status==="dirty"||r.value==="dirty"?Jr(m.value):m}}if(c.type==="refinement"){const f=m=>{const g=c.refinement(m,d);if(l.common.async)return Promise.resolve(g);if(g instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return m};if(l.common.async===!1){const m=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});return m.status==="aborted"?le:(m.status==="dirty"&&r.dirty(),f(m.value),{status:r.value,value:m.value})}else return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then(m=>m.status==="aborted"?le:(m.status==="dirty"&&r.dirty(),f(m.value).then(()=>({status:r.value,value:m.value}))))}if(c.type==="transform")if(l.common.async===!1){const f=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});if(!Xs(f))return f;const m=c.transform(f.value,d);if(m instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:m}}else return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then(f=>Xs(f)?Promise.resolve(c.transform(f.value,d)).then(m=>({status:r.value,value:m})):f);je.assertNever(c)}}ia.create=(n,a,r)=>new ia({schema:n,typeName:ie.ZodEffects,effect:a,...ue(r)});ia.createWithPreprocess=(n,a,r)=>new ia({schema:a,effect:{type:"preprocess",transform:n},typeName:ie.ZodEffects,...ue(r)});class fa extends he{_parse(a){return this._getType(a)===P.undefined?gt(void 0):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}fa.create=(n,a)=>new fa({innerType:n,typeName:ie.ZodOptional,...ue(a)});class bs extends he{_parse(a){return this._getType(a)===P.null?gt(null):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}bs.create=(n,a)=>new bs({innerType:n,typeName:ie.ZodNullable,...ue(a)});class vi extends he{_parse(a){const{ctx:r}=this._processInputParams(a);let l=r.data;return r.parsedType===P.undefined&&(l=this._def.defaultValue()),this._def.innerType._parse({data:l,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}vi.create=(n,a)=>new vi({innerType:n,typeName:ie.ZodDefault,defaultValue:typeof a.default=="function"?a.default:()=>a.default,...ue(a)});class yi extends he{_parse(a){const{ctx:r}=this._processInputParams(a),l={...r,common:{...r.common,issues:[]}},c=this._def.innerType._parse({data:l.data,path:l.path,parent:{...l}});return ci(c)?c.then(d=>({status:"valid",value:d.status==="valid"?d.value:this._def.catchValue({get error(){return new $t(l.common.issues)},input:l.data})})):{status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new $t(l.common.issues)},input:l.data})}}removeCatch(){return this._def.innerType}}yi.create=(n,a)=>new yi({innerType:n,typeName:ie.ZodCatch,catchValue:typeof a.catch=="function"?a.catch:()=>a.catch,...ue(a)});class io extends he{_parse(a){if(this._getType(a)!==P.nan){const l=this._getOrReturnCtx(a);return G(l,{code:B.invalid_type,expected:P.nan,received:l.parsedType}),le}return{status:"valid",value:a.data}}}io.create=n=>new io({typeName:ie.ZodNaN,...ue(n)});const S_=Symbol("zod_brand");class yd extends he{_parse(a){const{ctx:r}=this._processInputParams(a),l=r.data;return this._def.type._parse({data:l,path:r.path,parent:r})}unwrap(){return this._def.type}}class ji extends he{_parse(a){const{status:r,ctx:l}=this._processInputParams(a);if(l.common.async)return(async()=>{const d=await this._def.in._parseAsync({data:l.data,path:l.path,parent:l});return d.status==="aborted"?le:d.status==="dirty"?(r.dirty(),Jr(d.value)):this._def.out._parseAsync({data:d.value,path:l.path,parent:l})})();{const c=this._def.in._parseSync({data:l.data,path:l.path,parent:l});return c.status==="aborted"?le:c.status==="dirty"?(r.dirty(),{status:"dirty",value:c.value}):this._def.out._parseSync({data:c.value,path:l.path,parent:l})}}static create(a,r){return new ji({in:a,out:r,typeName:ie.ZodPipeline})}}class wi extends he{_parse(a){const r=this._def.innerType._parse(a),l=c=>(Xs(c)&&(c.value=Object.freeze(c.value)),c);return ci(r)?r.then(c=>l(c)):l(r)}unwrap(){return this._def.innerType}}wi.create=(n,a)=>new wi({innerType:n,typeName:ie.ZodReadonly,...ue(a)});function Bg(n,a={},r){return n?en.create().superRefine((l,c)=>{var d,f;if(!n(l)){const m=typeof a=="function"?a(l):typeof a=="string"?{message:a}:a,g=(f=(d=m.fatal)!==null&&d!==void 0?d:r)!==null&&f!==void 0?f:!0,x=typeof m=="string"?{message:m}:m;c.addIssue({code:"custom",...x,fatal:g})}}):en.create()}const E_={object:Ie.lazycreate};var ie;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(ie||(ie={}));const A_=(n,a={message:`Input not instance of ${n.name}`})=>Bg(r=>r instanceof n,a),qg=ra.create,$g=gs.create,T_=io.create,O_=ps.create,Ig=ui.create,C_=Qs.create,R_=so.create,D_=di.create,z_=hi.create,U_=en.create,M_=Js.create,L_=La.create,B_=ro.create,q_=na.create,$_=Ie.create,I_=Ie.strictCreate,H_=fi.create,V_=ho.create,G_=mi.create,P_=ga.create,Z_=gi.create,Y_=no.create,K_=Fs.create,J_=Fr.create,X_=pi.create,Q_=xi.create,F_=xs.create,W_=bi.create,ej=tn.create,ig=ia.create,tj=fa.create,aj=bs.create,sj=ia.createWithPreprocess,rj=ji.create,nj=()=>qg().optional(),ij=()=>$g().optional(),lj=()=>Ig().optional(),oj={string:(n=>ra.create({...n,coerce:!0})),number:(n=>gs.create({...n,coerce:!0})),boolean:(n=>ui.create({...n,coerce:!0})),bigint:(n=>ps.create({...n,coerce:!0})),date:(n=>Qs.create({...n,coerce:!0}))},cj=le;var z=Object.freeze({__proto__:null,defaultErrorMap:Wr,setErrorMap:s_,getErrorMap:eo,makeIssue:to,EMPTY_PATH:r_,addIssueToContext:G,ParseStatus:ht,INVALID:le,DIRTY:Jr,OK:gt,isAborted:id,isDirty:ld,isValid:Xs,isAsync:ci,get util(){return je},get objectUtil(){return nd},ZodParsedType:P,getParsedType:Ma,ZodType:he,datetimeRegex:Mg,ZodString:ra,ZodNumber:gs,ZodBigInt:ps,ZodBoolean:ui,ZodDate:Qs,ZodSymbol:so,ZodUndefined:di,ZodNull:hi,ZodAny:en,ZodUnknown:Js,ZodNever:La,ZodVoid:ro,ZodArray:na,ZodObject:Ie,ZodUnion:fi,ZodDiscriminatedUnion:ho,ZodIntersection:mi,ZodTuple:ga,ZodRecord:gi,ZodMap:no,ZodSet:Fs,ZodFunction:Fr,ZodLazy:pi,ZodLiteral:xi,ZodEnum:xs,ZodNativeEnum:bi,ZodPromise:tn,ZodEffects:ia,ZodTransformer:ia,ZodOptional:fa,ZodNullable:bs,ZodDefault:vi,ZodCatch:yi,ZodNaN:io,BRAND:S_,ZodBranded:yd,ZodPipeline:ji,ZodReadonly:wi,custom:Bg,Schema:he,ZodSchema:he,late:E_,get ZodFirstPartyTypeKind(){return ie},coerce:oj,any:U_,array:q_,bigint:O_,boolean:Ig,date:C_,discriminatedUnion:V_,effect:ig,enum:F_,function:J_,instanceof:A_,intersection:G_,lazy:X_,literal:Q_,map:Y_,nan:T_,nativeEnum:W_,never:L_,null:z_,nullable:aj,number:$g,object:$_,oboolean:lj,onumber:ij,optional:tj,ostring:nj,pipeline:rj,preprocess:sj,promise:ej,record:Z_,set:K_,strictObject:I_,string:qg,symbol:R_,transformer:ig,tuple:P_,undefined:D_,union:H_,unknown:M_,void:B_,NEVER:cj,ZodIssueCode:B,quotelessJson:a_,ZodError:$t});const uj=`
=== DIMENSIN: REDACCIN ACADMICA Y ESTILO (BASADO EN APA 7MA ED.) ===

1. CITAS EN EL TEXTO:
   - Toda cita textual de >= 40 palabras DEBE estar en bloque separado, sangra 1.27 cm, sin comillas. [Pg. 10]
   - Todo cita textual de < 40 palabras DEBE estar entre comillas dobles. [Pg. 10]
   - Uso de "et al.": Para 3 o ms autores, usar "et al." desde la primera aparicin. [Pg. 14]
   - Fuentes de 2 autores: Citar siempre a ambos. [Pg. 14]
   - Toda cita en texto DEBE tener correspondencia en la lista de referencias. [Pg. 14, 16]

2. LISTA DE REFERENCIAS:
   - Orden alfabtico obligatorio. [Pg. 5]
   - Sangra francesa obligatoria. [Pg. 5]
   - NO incluir ciudad de editorial para libros (ej: Caracas: Panapo -> Sabino, C. (2000). El proceso de investigacin. Panapo.). [Pg. 5]

3. PREVENCIN DEL PLAGIO:
   - "Autoplagio": Presentar un trabajo propio ya publicado como nuevo es falta grave. [Pg. 7]
   - Atribucin rigurosa: Todo hecho o cifra que no sea conocimiento comn DEBE citarse. [Pg. 11]

=== PLANTILLA DE FEEDBACK ACCIONABLE (OBLIGATORIA) ===
Para cada error detectado, usa este formato:
- Hallazgo: Descripcin clara del error.
- Evidencia: Ubicacin exacta [Pg. X].
- Por qu importa: Justificacin normativa (citar APA 7).
- Cmo corregir: Instruccin paso a paso.
- Ejemplo breve: Demostracin visual del cambio.
`,dj=(n,a="Grado")=>`
IDENTIDAD DEL EVALUADOR:
Eres un evaluador acadmico de lite con certificacin en metodologa de investigacin, 
auditora de tesis doctorales, y revisin para revistas indexadas Q1.

MISIN CRTICA:
Realizar una auditora FORENSE del documento acadmico basndote en el MODELO OPERATIVO APA 7.

PERFIL DE EXIGENCIA: Nivel ${a}
(Aplica las ponderaciones de rigor correspondientes a este nivel acadmico).



REGLAS DE ORO (ESTILO APA 7):
${uj}



FASE 1: VERIFICACIN NORMATIVA Y DE FUENTES
${n?`
 NORMATIVA INSTITUCIONAL ADICIONAL:
${n}
`:""}

INSTRUCCIONES DE FUENTES:
1. Extrae TODAS las citas nicas del texto (citationsFound).
2. Verifica si estn en la lista de referencias (inBibliography).
3. Identifica referencias sobrantes (unusedReferences) y faltantes (missingReferences).
4. Genera una "Sub-matriz de Consistencia de Fuentes".

FASE 2: VERIFICACIN ESTRUCTURAL Y METODOLGICA
(Conserva el rigor en la deteccin de "resultados mgicos" y alineacin problema-objetivo).

FASE 3: FEEDBACK ACCIONABLE (OBLIGATORIO)
Debes generar al menos 5-10 items de feedback siguiendo estrictamente la plantilla:
- Hallazgo
- Evidencia [Pg. X]
- Por qu importa
- Cmo corregir
- Ejemplo breve



FORMATO DE SALIDA (JSON ESTRICTO):
{
  "documentType": string,
  "methodologicalApproach": string,
  "disciplinaryArea": string,
  "applicableStandards": string[],
  "structuralVerification": { ... },
  "normativeComplianceDetailed": { ... },
  "consistencyMatrix": [ ... ],
  "sectionEvaluations": [ ... ],
  "methodologicalAnalysis": { ... },
  "normativeCompliance": { 
     "apa7Score": 0-100, 
     "academicWritingScore": 0-100,
     "terminologyConsistencyScore": 0-100,
     ... 
  },
  "sourceConsistencySubMatrix": {
    "citationsFound": [{ "citation": string, "inBibliography": boolean, "page": string }],
    "referencesCiting": [string],
    "unusedReferences": [string],
    "missingReferences": [string]
  },
  "actionableFeedback": [
    { "finding": string, "evidence": string, "whyItMatters": string, "howToFix": string, "example": string }
  ],
  "globalDiagnosis": { ... },
  "prioritizedRecommendations": [ ... ]
}
`,hj={APP_NAME:"TuTesisRD",VERSION:"2.0.0",CONSISTENCY_AI_MODEL:"gemini-1.5-flash",CONSISTENCY_AI_TEMPERATURE:parseFloat("0.1"),CONSISTENCY_MAX_CHARS:parseInt("350000",10)},fj=z.object({element:z.string(),description:z.string(),coherenceLevel:z.union([z.literal("Alta"),z.literal("Media"),z.literal("Baja"),z.literal("Inexistente")]),technicalObservation:z.string(),recommendation:z.string()}),mj=z.object({section:z.string(),strengths:z.array(z.string()),weaknesses:z.array(z.string()),internalIncoherences:z.array(z.string()),methodologicalMisalignments:z.array(z.string())});z.object({level:z.union([z.literal("Excelente"),z.literal("Aceptable"),z.literal("Dbil"),z.literal("Crtico")]),mainRisks:z.array(z.string()),internalConsistencyDegree:z.number().min(0).max(100),publishabilityLevel:z.number().min(0).max(100)});const gj=z.object({documentType:z.string(),methodologicalApproach:z.string(),disciplinaryArea:z.string(),applicableStandards:z.array(z.string()),consistencyMatrix:z.array(fj),sectionEvaluations:z.array(mj),methodologicalAnalysis:z.object({approachCoherent:z.boolean(),designAdequate:z.boolean(),techniquesAppropriate:z.boolean(),resultsDeriveFromMethod:z.boolean(),conclusionsSupportedByResults:z.boolean(),forensicReasoning:z.string().describe("Explanation of the forensic analysis logic"),criticalAlerts:z.array(z.string()),invalidatingIssues:z.array(z.string()).optional()}),normativeCompliance:z.object({apa7Score:z.number().min(0).max(100),academicWritingScore:z.number().min(0).max(100),terminologyConsistencyScore:z.number().min(0).max(100),orthographicErrors:z.array(z.string()),grammaticalErrors:z.array(z.string()),styleIssues:z.array(z.string())}),globalDiagnosis:z.object({level:z.union([z.literal("Excelente"),z.literal("Aceptable"),z.literal("Dbil"),z.literal("Crtico")]),auditSummary:z.string().describe("Executive summary of the forensic audit"),mainRisks:z.array(z.string()),internalConsistencyDegree:z.number().min(0).max(100),publishabilityLevel:z.number().min(0).max(100)}),prioritizedRecommendations:z.array(z.object({priority:z.union([z.literal("Crtica"),z.literal("Alta"),z.literal("Media"),z.literal("Baja")]),what:z.string(),why:z.string(),how:z.string()})),sourceConsistencySubMatrix:z.object({citationsFound:z.array(z.object({citation:z.string(),inBibliography:z.boolean(),page:z.string()})),referencesCiting:z.array(z.string()),unusedReferences:z.array(z.string()),missingReferences:z.array(z.string())}).optional(),actionableFeedback:z.array(z.object({finding:z.string(),evidence:z.string(),whyItMatters:z.string(),howToFix:z.string(),example:z.string()})),structuralVerification:z.object({sectionsFound:z.record(z.string(),z.object({exists:z.boolean(),pages:z.string(),completeness:z.number()})),missingSections:z.array(z.string()),misplacedSections:z.array(z.string())}).optional(),normativeComplianceDetailed:z.object({overallCompliance:z.number(),violations:z.array(z.object({rule:z.string(),severity:z.union([z.literal("Critical"),z.literal("High"),z.literal("Medium"),z.literal("Low")]),evidence:z.string(),impact:z.string()})),compliantItems:z.array(z.object({rule:z.string(),evidence:z.string()}))}).optional()});function pj(n,a){var l,c,d,f,m;if(!n&&!a)return null;let r=n||"";return a&&(r+=`

INFORMACIN ESTRUCTURAL ADICIONAL EXTRADA:
`,(c=(l=a.contentRequirements)==null?void 0:l.mandatorySections)!=null&&c.length&&(r+=`Secciones Obligatorias:
${a.contentRequirements.mandatorySections.map(g=>`- ${g.name} (Obligatoria)`).join(`
`)}

`),a.formattingRules&&(r+=`Reglas de Formato Clave:
- Mrgenes: ${JSON.stringify((d=a.formattingRules.pageSetup)==null?void 0:d.margins)}
- Tipografa: ${(f=a.formattingRules.typography)==null?void 0:f.bodyFont}
- Citacin: ${(m=a.citationRules)==null?void 0:m.style}
`)),r}async function xj(n,a,r="Grado",l){const c=n.replace(/<img[^>]*src="data:[^"]*"[^>]*>/g,"").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim(),{SemanticChunker:d}=await Ys(async()=>{const{SemanticChunker:j}=await import("./chunkingService-DehVIyGE.js");return{SemanticChunker:j}},[],import.meta.url),f=d.chunkBySections(c),m=["INTRODUCCI","PROBLEMA","METODOLOG","RESULTADOS","CONCLUSIONES","DISCUSI","OBJETIVO"],g=f.filter(j=>m.some(A=>j.sectionType.toUpperCase().includes(A))),x=g.length>0?g.map(j=>`[SECCIN: ${j.sectionType}]
${j.content.substring(0,2e4)}`).join(`

`):c.substring(0,1e5),v=pj(a,l),N=dj(v,r)+`

DOCUMENTO A EVALUAR:
`+x;try{const j=await Og({prompt:N,systemInstruction:"Eres un auditor acadmico estricto. Analiza el documento buscando inconsistencias fatales y fallos normativos.",temperature:.1,model:hj.CONSISTENCY_AI_MODEL});return{...gj.parse(j),rawAnalysis:"Anlisis Forense Completado"}}catch(j){throw console.error("Strict Analysis Failed:",j),new Error(`Error en anlisis estricto: ${j.message}`)}}const bj=({result:n})=>{const a=l=>l>=90?"text-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":l>=70?"text-amber-500 bg-amber-50 dark:bg-amber-900/20":"text-red-500 bg-red-50 dark:bg-red-900/20",r={Excelente:"text-emerald-600 bg-emerald-100 dark:bg-emerald-900/30",Aceptable:"text-blue-600 bg-blue-100 dark:bg-blue-900/30",Dbil:"text-amber-600 bg-amber-100 dark:bg-amber-900/30",Crtico:"text-red-600 bg-red-100 dark:bg-red-900/30"};return o.jsxs("div",{className:"space-y-8 animate-fade-in p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[o.jsxs("div",{className:"flex-1 bg-white dark:bg-surface-dark p-8 rounded-[2rem] border border-slate-100 dark:border-surface-border shadow-xl",children:[o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-xs font-black uppercase tracking-[0.2em] text-slate-400",children:"Diagnstico Global"}),o.jsx("h2",{className:`text-4xl font-black mt-2 ${r[n.globalDiagnosis.level].split(" ")[0]}`,children:n.globalDiagnosis.level})]}),o.jsxs("div",{className:`px-4 py-2 rounded-full font-bold text-sm ${r[n.globalDiagnosis.level]}`,children:["Riesgo: ",n.globalDiagnosis.level==="Excelente"?"Bajo":n.globalDiagnosis.level==="Aceptable"?"Medio":"Alto"]})]}),o.jsxs("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed mb-6 border-l-4 border-slate-200 dark:border-slate-700 pl-4 py-1 italic",children:['"',n.globalDiagnosis.auditSummary||"Anlisis completado exitosamente.",'"']}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(Zu,{label:"Consistencia",value:n.globalDiagnosis.internalConsistencyDegree,color:a(n.globalDiagnosis.internalConsistencyDegree)}),o.jsx(Zu,{label:"Publicabilidad",value:n.globalDiagnosis.publishabilityLevel,color:a(n.globalDiagnosis.publishabilityLevel)}),o.jsx(Zu,{label:"Estilo Acadmico",value:n.normativeCompliance.academicWritingScore,color:a(n.normativeCompliance.academicWritingScore)})]})]}),o.jsxs("div",{className:"w-full md:w-1/3 bg-slate-50 dark:bg-[#0d1017] p-6 rounded-[2rem] border border-slate-200 dark:border-surface-border h-full",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/20 text-red-600 rounded-lg",children:o.jsx("span",{className:"material-symbols-outlined",children:"warning"})}),o.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Alertas Crticas"})]}),o.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:n.methodologicalAnalysis.criticalAlerts.length>0?n.methodologicalAnalysis.criticalAlerts.map((l,c)=>o.jsxs("div",{className:"flex gap-3 text-sm p-3 bg-white dark:bg-surface-dark rounded-xl border border-red-100 dark:border-red-900/30",children:[o.jsx("span",{className:"material-symbols-outlined text-red-500 text-xs mt-1 shrink-0",children:"error"}),o.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:l})]},c)):o.jsxs("div",{className:"text-center py-8 text-slate-400",children:[o.jsx("span",{className:"material-symbols-outlined text-4xl mb-2 opacity-50",children:"check_circle"}),o.jsx("p",{className:"text-sm",children:"Sin alertas crticas detectadas"})]})})]})]}),n.methodologicalAnalysis.forensicReasoning&&o.jsxs("div",{className:"bg-slate-900 border-2 border-brand-orange/30 text-slate-300 p-8 rounded-[2rem] relative overflow-hidden shadow-2xl shadow-brand-orange/5",children:[o.jsx("div",{className:"absolute top-0 right-0 p-32 bg-brand-orange/10 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),o.jsxs("div",{className:"flex items-center gap-3 mb-4 relative z-10",children:[o.jsx("span",{className:"material-symbols-outlined text-brand-orange text-3xl",children:"psychology"}),o.jsx("h3",{className:"font-black text-white uppercase tracking-[0.2em] text-sm",children:"Dictamen Forense de IA"})]}),o.jsx("p",{className:"text-xl leading-relaxed relative z-10 font-medium text-slate-200",children:n.methodologicalAnalysis.forensicReasoning})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-2xl font-black text-slate-900 dark:text-white mb-8 flex items-center gap-4",children:[o.jsx("div",{className:"size-10 rounded-xl bg-brand-orange/10 flex items-center justify-center",children:o.jsx("span",{className:"material-symbols-outlined text-brand-orange",children:"app_registration"})}),"Acciones Correctivas Priorizadas"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.prioritizedRecommendations.map((l,c)=>o.jsxs("div",{className:"bg-white dark:bg-slate-800/40 p-8 rounded-[2.5rem] border border-slate-100 dark:border-white/5 hover:border-brand-orange/30 hover:shadow-2xl hover:shadow-brand-orange/5 transition-all duration-500 group",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsxs("span",{className:`text-[10px] font-black uppercase px-4 py-1.5 rounded-full tracking-widest ${l.priority==="Crtica"?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":"bg-brand-orange/10 text-brand-orange"}`,children:["Prioridad ",l.priority]}),o.jsx("span",{className:"text-slate-200 dark:text-slate-700 text-5xl font-black opacity-40 group-hover:opacity-100 transition-opacity",children:String(c+1).padStart(2,"0")})]}),o.jsx("h4",{className:"font-black text-slate-800 dark:text-white mb-3 text-lg leading-tight uppercase tracking-tight",children:l.what}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6 leading-relaxed",children:l.why}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-5 rounded-2xl border border-slate-100 dark:border-white/5",children:[o.jsx("span",{className:"font-black block mb-2 text-brand-orange uppercase tracking-widest text-[10px]",children:"Hoja de Ruta:"}),o.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 font-medium leading-relaxed",children:l.how})]})]},c))})]})]})},Zu=({label:n,value:a,color:r})=>o.jsxs("div",{className:`p-6 rounded-[2rem] border border-transparent shadow-sm ${r.split(" ")[1].replace("/20","/5")}`,children:[o.jsxs("div",{className:`text-4xl font-black ${r.split(" ")[0]} mb-2 tracking-tighter`,children:[a,o.jsx("span",{className:"text-base ml-1 opacity-60",children:"%"})]}),o.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-60 text-slate-500 dark:text-slate-400",children:n})]}),vj=({matrix:n})=>{const[a,r]=oe.useState(null);return o.jsxs("div",{className:"bg-white/60 dark:bg-slate-900/60 rounded-[2.5rem] shadow-xl border border-white dark:border-white/5 overflow-hidden backdrop-blur-xl",children:[o.jsxs("div",{className:"p-10 border-b border-slate-100 dark:border-white/5",children:[o.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white uppercase tracking-tight",children:"Matriz de Consistencia Interactiva"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 text-lg",children:"Explora los hallazgos forenses de cada dimensin metodolgica."})]}),o.jsx("div",{className:"divide-y divide-slate-100 dark:divide-white/5",children:n.map((l,c)=>o.jsxs("div",{className:`group transition-all duration-500 ${a===c?"bg-brand-orange/[0.03] dark:bg-brand-orange/[0.02]":"hover:bg-slate-50/50 dark:hover:bg-white/[0.02]"}`,children:[o.jsxs("div",{className:"p-8 cursor-pointer flex items-center justify-between",onClick:()=>r(a===c?null:c),children:[o.jsxs("div",{className:"flex items-center gap-8",children:[o.jsx("div",{className:`
                                    w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 font-bold text-xl shadow-sm
                                    ${l.coherenceLevel==="Alta"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":l.coherenceLevel==="Media"?"bg-brand-orange/10 text-brand-orange":"bg-red-100 text-red-600 dark:bg-red-900/30"}
                                `,children:a===c?o.jsx("span",{className:"material-symbols-outlined text-3xl",children:"keyboard_arrow_up"}):o.jsx("span",{className:"material-symbols-outlined text-3xl",children:l.coherenceLevel==="Alta"?"verified":l.coherenceLevel==="Media"?"error":"dangerous"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-black text-slate-800 dark:text-white text-xl uppercase tracking-tight",children:l.element}),o.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[o.jsxs("span",{className:`text-[10px] font-black uppercase tracking-[0.15em] px-3 py-1 rounded-full ${l.coherenceLevel==="Alta"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-400":l.coherenceLevel==="Media"?"bg-brand-orange/10 text-brand-orange":"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400"}`,children:["Auditora: ",l.coherenceLevel]}),!l.description&&o.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest text-red-500 flex items-center gap-1 opacity-60",children:[o.jsx("span",{className:"material-symbols-outlined text-xs",children:"block"})," No Hallado"]})]})]})]}),o.jsx("div",{className:"text-right hidden sm:block",children:o.jsx("span",{className:`material-symbols-outlined text-slate-300 group-hover:text-brand-orange transition-all duration-300 ${a===c?"rotate-90 text-brand-orange":""}`,children:"arrow_forward_ios"})})]}),o.jsx("div",{className:`
                            overflow-hidden transition-all duration-500 ease-in-out
                            ${a===c?"max-h-[800px] opacity-100 border-t border-slate-100 dark:border-white/5":"max-h-0 opacity-0"}
                        `,children:o.jsx("div",{className:"p-10 bg-slate-50/30 dark:bg-black/10",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{children:[o.jsx("h5",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-3 ml-1",children:"Hallazgo Textual"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute -left-4 -top-2 text-4xl text-brand-orange/20 font-serif",children:'"'}),o.jsx("p",{className:"text-slate-600 dark:text-slate-300 italic font-medium leading-relaxed bg-white dark:bg-slate-900/50 p-6 rounded-3xl border border-slate-100 dark:border-white/5 shadow-sm",children:l.description||"No se logr extraer contenido directo para esta dimensin."}),o.jsx("span",{className:"absolute -right-2 -bottom-4 text-4xl text-brand-orange/20 font-serif",children:'"'})]})]})}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-900/50 p-6 rounded-3xl border border-slate-100 dark:border-white/5 shadow-sm",children:[o.jsx("h5",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-3",children:"Observacin Tcnica Forense"}),o.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 leading-relaxed font-medium",children:l.technicalObservation})]}),o.jsxs("div",{className:"bg-brand-orange/5 p-6 rounded-3xl border border-brand-orange/10 shadow-sm relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 p-8 bg-brand-orange/10 rounded-full blur-2xl -mr-4 -mt-4"}),o.jsx("h5",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-brand-orange mb-3 relative z-10",children:"Accin Recomendada"}),o.jsxs("div",{className:"flex gap-4 items-start relative z-10",children:[o.jsx("div",{className:"size-8 rounded-lg bg-brand-orange/20 flex items-center justify-center shrink-0",children:o.jsx("span",{className:"material-symbols-outlined text-brand-orange text-lg",children:"auto_fix_high"})}),o.jsx("p",{className:"text-sm text-slate-800 dark:text-slate-200 font-bold leading-relaxed",children:l.recommendation})]})]})]})]})})})]},c))})]})},Hg=""+new URL("pdf.worker.min-LyOxJPrg.mjs",import.meta.url).href,yj=Object.freeze(Object.defineProperty({__proto__:null,default:Hg},Symbol.toStringTag,{value:"Module"}));var Vg=Sb();const Gg=cd(Vg),wj=Eb({__proto__:null,default:Gg},[Vg]);try{vb.workerSrc=Hg}catch(n){console.warn("Could not set PDF worker source",n)}const _j=()=>{const{project:n,uploadedFile:a,setUploadedFile:r}=bd(),{showNotification:l}=vd(),[c,d]=oe.useState(!1),[f,m]=oe.useState(0),[g,x]=oe.useState(null),[v,y]=oe.useState("dashboard"),[N,j]=oe.useState("Grado"),[A,R]=oe.useState(""),[L,$]=oe.useState(!1),[I,q]=oe.useState(!1),Y=oe.useMemo(()=>uo.map(V=>({id:V.id,name:V.name,content:`Normativa: ${V.regulations.style}. Pginas: ${V.regulations.minPages}-${V.regulations.maxPages}. Tips: ${V.tips.join(" ")}`,deepAnalysis:void 0})),[]);oe.useEffect(()=>{Y.length>0},[Y,A]);const ne=async V=>{var Pe,pt;const J=(Pe=V.target.files)==null?void 0:Pe[0];if(!J)return;if(!["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword"].includes(J.type)){l("Formato no soportado. Usa PDF o DOCX","error");return}$(!0);try{let qe="";if(J.type==="application/pdf"){I&&((pt=window.scholar)!=null&&pt.ocr)&&l("Deep Scan activado: Procesando con OCR avanzado...","info");const Nt=await J.arrayBuffer(),te=await yb({data:Nt}).promise,O=[];for(let K=1;K<=te.numPages;K++){const Ee=(await(await te.getPage(K)).getTextContent()).items.map(we=>we.str).join(" ");O.push({page:K,text:Ee})}qe=O;const H=O.reduce((K,me)=>K+me.text.length,0);l(`PDF cargado: ${J.name} (${H} caracteres, ${O.length} pgs)`,"success")}else if(J.name.endsWith(".docx")){const Nt=await J.arrayBuffer(),et=await Gg.extractRawText({arrayBuffer:Nt});qe=et.value.trim(),l(`DOCX cargado: ${J.name} (${et.value.length} caracteres)`,"success")}r({name:J.name,type:J.type,size:J.size,content:qe,lastModified:J.lastModified})}catch(qe){console.error("File parsing error:",qe),l("Error al procesar el archivo","error")}finally{$(!1),V.target.value=""}},F=async()=>{const V=(a==null?void 0:a.content)||n.content,J=Array.isArray(V)?V.reduce((Se,Pe)=>Se+Pe.text.length,0):(V==null?void 0:V.length)||0;if(!V||J<500){l("Necesitas al menos 500 caracteres de contenido para analizar","warning");return}d(!0),m(0);try{const Se=setInterval(()=>{m(et=>Math.min(et+5,90))},500),Pe=Y.find(et=>et.id===A),pt=(Pe==null?void 0:Pe.content)||null,qe=Array.isArray(V)?V.map(et=>`[Pgina ${et.page}]
${et.text}`).join(`

`):V,Nt=await xj(qe,pt,N,Pe==null?void 0:Pe.deepAnalysis);clearInterval(Se),m(100),x(Nt),l("Anlisis de consistencia completado","success")}catch(Se){console.error("Analysis error:",Se),l("Error al analizar la consistencia","error")}finally{d(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 sm:p-8 font-sans text-slate-700 bg-slate-50 dark:bg-slate-900 transition-colors duration-300",children:[o.jsx("input",{type:"file",className:"hidden",accept:".pdf,.docx",onChange:ne,id:"hidden-file-upload"}),o.jsxs("div",{className:"w-full max-w-[1600px] h-[90vh] min-h-[700px] rounded-[2.5rem] flex overflow-hidden relative bg-white/80 dark:bg-slate-900/80 backdrop-blur-2xl shadow-2xl border border-white/50 dark:border-slate-800/50",children:[o.jsxs("aside",{className:"w-20 lg:w-64 flex flex-col p-6 border-r border-slate-200/50 dark:border-slate-700/50 hidden md:flex z-10 bg-white/50 dark:bg-slate-900/50",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-10 pl-1",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-brand-orange to-orange-600 flex items-center justify-center text-white font-bold text-xs shadow-lg shadow-brand-orange/20",children:o.jsx("span",{className:"material-symbols-outlined text-xl",children:"school"})}),o.jsx("span",{className:"text-lg font-black tracking-tight text-slate-800 dark:text-white hidden lg:block",children:"TuTesisRD"})]}),o.jsxs("nav",{className:"flex-1 space-y-2",children:[o.jsxs("a",{className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-brand-orange/10 text-brand-orange font-bold shadow-sm transition-all",href:"#",children:[o.jsx("span",{className:"material-symbols-outlined",children:"grid_view"}),o.jsx("span",{className:"hidden lg:block",children:"Matriz"})]}),o.jsxs("div",{className:"opacity-40 pointer-events-none hidden lg:block",children:[o.jsx("p",{className:"px-4 text-xs font-bold text-slate-400 uppercase tracking-widest mt-6 mb-2",children:"Prximamente"}),o.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 text-slate-500",children:[o.jsx("span",{className:"material-symbols-outlined",children:"folder"}),o.jsx("span",{children:"Mis Proyectos"})]})]})]}),o.jsx("div",{className:"mt-auto pt-6 border-t border-slate-200 dark:border-slate-700 space-y-4",children:o.jsxs("div",{className:"flex items-center gap-3 px-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-white transition-colors cursor-pointer",children:[o.jsx("span",{className:"material-symbols-outlined",children:"settings"}),o.jsx("span",{className:"text-sm font-medium hidden lg:block",children:"Configuracin"})]})})]}),o.jsxs("main",{className:"flex-1 flex flex-col p-4 md:p-8 relative overflow-hidden",children:[o.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4 shrink-0",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl md:text-3xl font-black text-slate-800 dark:text-white tracking-tight",children:"Matriz de Consistencia"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:a?`Archivo: ${a.name}`:n.content?`Analizando: ${n.title||"Proyecto Actual"}`:"Auditora Forense con IA"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[g&&o.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-xl",children:[o.jsx("button",{onClick:()=>y("dashboard"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${v==="dashboard"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:"Dashboard"}),o.jsx("button",{onClick:()=>y("matrix"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${v==="matrix"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:"Matriz"})]}),g&&o.jsxs("button",{onClick:async()=>{try{const{generateConsistencyMatrixPDF:V}=await Ys(async()=>{const{generateConsistencyMatrixPDF:J}=await import("./pdfExport-BDF1vGTz.js");return{generateConsistencyMatrixPDF:J}},__vite__mapDeps([0,1]),import.meta.url);V(g,"Informe_Consistencia_ScholarAI"),l("Informe PDF generado","success")}catch{l("Error al generar PDF","error")}},className:"px-4 py-2 rounded-xl bg-slate-900 dark:bg-white text-white dark:text-slate-900 text-sm font-bold flex items-center gap-2 hover:scale-105 transition-transform",children:[o.jsx("span",{className:"material-symbols-outlined text-lg",children:"picture_as_pdf"}),"PDF"]})]})]}),o.jsxs("div",{className:"flex-1 flex flex-col xl:flex-row gap-6 h-full overflow-hidden",children:[o.jsx("section",{className:"flex-1 bg-white/60 dark:bg-slate-800/60 rounded-[2rem] border border-white/60 dark:border-slate-700/60 backdrop-blur-xl shadow-sm flex flex-col relative overflow-hidden",children:o.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 md:p-10",children:c?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center animate-in fade-in duration-700",children:[o.jsxs("div",{className:"relative mb-8",children:[o.jsx("div",{className:"size-24 rounded-full border-4 border-slate-200 dark:border-slate-700 border-t-brand-orange animate-spin"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("span",{className:"material-symbols-outlined text-4xl text-brand-orange animate-pulse",children:"neurology"})})]}),o.jsx("h3",{className:"text-xl font-black uppercase tracking-tight text-slate-800 dark:text-white mb-2",children:"Analizando Estructura Profunda"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 max-w-md text-center mb-8",children:"Evaluando coherencia metodolgica y normativa..."}),o.jsx("div",{className:"w-64 h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-brand-orange transition-all duration-300",style:{width:`${f}%`}})})]}):g?o.jsx("div",{className:"animate-fade-in pb-10",children:v==="dashboard"?o.jsx(bj,{result:g}):o.jsx(vj,{matrix:g.consistencyMatrix})}):o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"mb-8 w-48 md:w-64 opacity-80 mix-blend-multiply dark:mix-blend-normal",children:o.jsx("span",{className:"material-symbols-outlined text-9xl text-slate-200 dark:text-slate-700",children:"grid_on"})}),o.jsx("h2",{className:"text-xl font-black text-slate-800 dark:text-white uppercase tracking-wide mb-2 opacity-60",children:"No Matrix Generated"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm text-sm leading-relaxed",children:"Carga tu tesis y espera a que nuestros agentes forenses generen tu reporte de consistencia."})]})})}),o.jsxs("section",{className:"flex flex-col gap-4 w-full xl:w-80 shrink-0",children:[o.jsx("button",{onClick:()=>{var V;return(V=document.getElementById("hidden-file-upload"))==null?void 0:V.click()},className:`w-full py-6 px-6 rounded-[2rem] font-bold transition-all hover:shadow-xl border-2 border-dashed group text-left relative overflow-hidden
                                    ${a?"bg-emerald-50 dark:bg-emerald-900/10 border-emerald-500 hover:border-emerald-600":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600 hover:border-brand-orange dark:hover:border-brand-orange"}
                                `,children:o.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center transition-colors
                                        ${a?"bg-emerald-100 dark:bg-emerald-800 text-emerald-600 dark:text-emerald-300":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 group-hover:bg-brand-orange/10 group-hover:text-brand-orange"}
                                    `,children:o.jsx("span",{className:"material-symbols-outlined",children:a?"check_circle":"upload_file"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("span",{className:`block text-sm font-bold truncate ${a?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-white"}`,children:a?a.name:"Cargar Documento"}),o.jsx("span",{className:`block text-xs font-normal truncate ${a?"text-emerald-600/70 dark:text-emerald-400/70":"text-slate-400"}`,children:a?"Clic para cambiar archivo":"PDF o DOCX"})]})]})}),o.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-[2rem] border border-slate-200 dark:border-slate-700",children:[o.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-3 px-1",children:"Nivel Acadmico"}),o.jsx("div",{className:"grid grid-cols-1 gap-2",children:["Grado","Maestra","Doctorado"].map(V=>o.jsxs("button",{onClick:()=>j(V),className:`px-4 py-3 rounded-xl text-sm font-bold border-2 transition-all text-left flex items-center justify-between ${N===V?"border-brand-orange bg-brand-orange/5 text-brand-orange":"border-slate-100 dark:border-slate-700 text-slate-500 dark:text-slate-400 hover:border-slate-200"}`,children:[V,N===V&&o.jsx("span",{className:"material-symbols-outlined text-sm",children:"check_circle"})]},V))}),o.jsx("p",{className:"mt-3 text-[10px] text-slate-400 leading-tight px-1",children:"* Ajusta la severidad de deteccin y pesos de evaluacin segn el rigor del nivel."})]}),o.jsxs("button",{onClick:F,disabled:c||!a&&!n.content,className:`
                                    w-full py-6 px-6 rounded-[2rem] font-bold text-left transition-all relative overflow-hidden shadow-xl
                                    ${c||!a&&!n.content?"bg-slate-100 text-slate-400 cursor-not-allowed dark:bg-slate-800 dark:text-slate-600":"bg-slate-900 dark:bg-white text-white dark:text-slate-900 hover:translate-y-[-2px] hover:shadow-2xl hover:shadow-brand-orange/20"}
                                `,children:[o.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 dark:bg-slate-200/20 flex items-center justify-center backdrop-blur-sm",children:c?o.jsx("span",{className:"material-symbols-outlined animate-spin",children:"sync"}):o.jsx("span",{className:"material-symbols-outlined",children:"neurology"})}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-lg",children:"Ejecutar Anlisis"}),o.jsx("span",{className:"block text-white/60 dark:text-slate-500 text-xs font-normal",children:c?"Procesando...":"Modo Forense Activo"})]})]}),o.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})]}),c&&o.jsx("div",{className:"absolute inset-0 bg-brand-orange/20",style:{width:`${f}%`,transition:"width 0.5s ease"}})]}),o.jsxs("div",{className:"mt-auto bg-slate-100 dark:bg-slate-800 p-6 rounded-[2rem] hidden xl:block",children:[o.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-2 text-sm",children:"Cmo funciona?"}),o.jsxs("ul",{className:"space-y-3",children:[o.jsxs("li",{className:"flex items-start gap-2 text-xs text-slate-500 dark:text-slate-400",children:[o.jsx("span",{className:"text-brand-orange",children:""}),o.jsx("span",{children:"Sube tu borrador de tesis o anteproyecto."})]}),o.jsxs("li",{className:"flex items-start gap-2 text-xs text-slate-500 dark:text-slate-400",children:[o.jsx("span",{className:"text-brand-orange",children:""}),o.jsx("span",{children:"Nuestra IA audita la coherencia lgica interna."})]}),o.jsxs("li",{className:"flex items-start gap-2 text-xs text-slate-500 dark:text-slate-400",children:[o.jsx("span",{className:"text-brand-orange",children:""}),o.jsx("span",{children:"Recibe un reporte de consistencia detallado."})]})]})]})]})]})]})]})]})},jj=()=>{const{uploadedFile:n,setUploadedFile:a}=bd(),r=dd(),{showNotification:l}=vd();return o.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 font-sans text-slate-900 dark:text-white pt-20 px-8 pb-12",children:o.jsxs("div",{className:"max-w-6xl mx-auto space-y-12",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsx("h1",{className:"text-4xl font-black tracking-tight text-slate-900 dark:text-white",children:"Centro de Auditora de Tesis"}),o.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl leading-relaxed",children:"Evaluacin integral de tu investigacin. Verifica la originalidad, consistencia metodolgica y cumplimiento normativo en un solo lugar."})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[o.jsxs("div",{onClick:()=>r("/herramientas/auditor"),className:"group bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm hover:shadow-xl border border-slate-200 dark:border-slate-700 hover:border-primary/50 transition-all cursor-pointer relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 group-hover:bg-primary/10 transition-all"}),o.jsxs("div",{className:"relative z-10 space-y-6",children:[o.jsx("div",{className:"w-14 h-14 bg-primary/10 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-500",children:o.jsx("span",{className:"material-symbols-outlined text-3xl text-primary",children:"security"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-2xl font-bold group-hover:text-primary transition-colors",children:"Auditora Forense (IA)"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed",children:"Detecta patrones de Inteligencia Artificial (ChatGPT, Gemini, Claude) y analiza la originalidad de tu redaccin."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-700 text-xs font-bold text-slate-600 dark:text-slate-300",children:"Anti-Plagio"}),o.jsx("span",{className:"px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-700 text-xs font-bold text-slate-600 dark:text-slate-300",children:"Firmas Lingsticas"})]})]})]}),o.jsxs("div",{onClick:()=>r("/herramientas/matriz"),className:"group bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm hover:shadow-xl border border-slate-200 dark:border-slate-700 hover:border-blue-500/50 transition-all cursor-pointer relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 group-hover:bg-blue-500/10 transition-all"}),o.jsxs("div",{className:"relative z-10 space-y-6",children:[o.jsx("div",{className:"w-14 h-14 bg-blue-500/10 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-500",children:o.jsx("span",{className:"material-symbols-outlined text-3xl text-blue-600",children:"grid_on"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-2xl font-bold group-hover:text-blue-600 transition-colors",children:"Matriz de Consistencia"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed",children:"Valida la coherencia lgica entre el problema, objetivos, hiptesis y variables. Anlisis metodolgico estricto."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-700 text-xs font-bold text-slate-600 dark:text-slate-300",children:"Metodologa"}),o.jsx("span",{className:"px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-700 text-xs font-bold text-slate-600 dark:text-slate-300",children:"Normativa"})]})]})]})]})]})})},Nj=()=>{const[n,a]=oe.useState(()=>{if(typeof window<"u"){const r=localStorage.getItem("theme");return r?r==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}return!1});return oe.useEffect(()=>{const r=window.document.documentElement;n?(r.classList.add("dark"),localStorage.setItem("theme","dark")):(r.classList.remove("dark"),localStorage.setItem("theme","light"))},[n]),o.jsx("button",{onClick:()=>a(!n),className:"fixed bottom-4 right-20 z-[9999] bg-slate-800 dark:bg-slate-200 text-white dark:text-slate-900 p-3 rounded-full shadow-lg hover:scale-110 transition-transform",title:"Toggle Dark Mode",children:o.jsx("span",{className:"material-symbols-outlined",children:n?"light_mode":"dark_mode"})})},kj=()=>(oe.useEffect(()=>{console.log("TuTesisRD App Loaded v1.12 - Gemini 2.x Migration")},[]),o.jsx(xb,{children:o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark",children:[o.jsx(Nj,{}),o.jsxs(bb,{children:[o.jsx(mt,{path:"/",element:o.jsx(Mb,{})}),o.jsx(mt,{path:"/nosotros",element:o.jsx(Lb,{})}),o.jsx(mt,{path:"/servicios",element:o.jsx(Bb,{})}),o.jsx(mt,{path:"/universidades",element:o.jsx(e_,{})}),o.jsx(mt,{path:"/tesis/:universityId",element:o.jsx(Ww,{})}),o.jsx(mt,{path:"/blog",element:o.jsx(qb,{})}),o.jsx(mt,{path:"/blog/:postId",element:o.jsx(t_,{})}),o.jsx(mt,{path:"/registro",element:o.jsx(F0,{initialMode:"register"})}),o.jsx(mt,{path:"/monitoreo",element:o.jsx(F0,{initialMode:"monitor"})}),o.jsx(mt,{path:"/portal",element:o.jsx($b,{})}),o.jsx(mt,{path:"/exito",element:o.jsx(Ow,{})}),o.jsx(mt,{path:"/design",element:o.jsx(Cw,{})}),o.jsx(mt,{path:"/herramientas",element:o.jsx(jj,{})}),o.jsx(mt,{path:"/herramientas/auditor",element:o.jsx(Fw,{})}),o.jsx(mt,{path:"/herramientas/matriz",element:o.jsx(_j,{})})]})]})})),Pg=document.getElementById("root");if(!Pg)throw new Error("Could not find root element to mount to");const Sj=Ub.createRoot(Pg);Sj.render(o.jsx(Xr.StrictMode,{children:o.jsx(Rw,{children:o.jsx(Dw,{children:o.jsx(kj,{})})})}));
