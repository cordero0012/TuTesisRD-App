const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pdfExport-9ci3zs38.js","assets/pdf-vendor-DpgYL85d.js"])))=>i.map(i=>d[i]);
import{r as Ng,a as zb,b as ud,d as ae,u as Ql,L as ge,R as ws,e as Fl,f as kg,N as Ub,H as Lb,h as qb,i as yt}from"./react-vendor-CxjHvgps.js";import{_ as Ha,G as Bb,g as Ib}from"./pdf-vendor-DpgYL85d.js";import{G as $b}from"./ai-vendor-BpRkNtKl.js";import{r as Pb,P as va,A as Fs,H as Nu,T as dd,a as Hb,F as Gb,b as Vb,c as w0,d as _0,e as Zb,B as $n,W as Yb,f as Kb}from"./doc-vendor-DE1ncqha.js";function Jb(n,t){for(var s=0;s<t.length;s++){const i=t[s];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in n)){const u=Object.getOwnPropertyDescriptor(i,c);u&&Object.defineProperty(n,c,u.get?u:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=s(c);fetch(c.href,u)}})();var ku={exports:{}},Qr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function Xb(){if(j0)return Qr;j0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(i,c,u){var f=null;if(u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:n,type:i,key:f,ref:c!==void 0?c:null,props:u}}return Qr.Fragment=t,Qr.jsx=s,Qr.jsxs=s,Qr}var N0;function Qb(){return N0||(N0=1,ku.exports=Xb()),ku.exports}var o=Qb(),Su={exports:{}},Fr={},Au={exports:{}},Eu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function Fb(){return k0||(k0=1,(function(n){function t(T,B){var Q=T.length;T.push(B);e:for(;0<Q;){var me=Q-1>>>1,he=T[me];if(0<c(he,B))T[me]=B,T[Q]=he,Q=me;else break e}}function s(T){return T.length===0?null:T[0]}function i(T){if(T.length===0)return null;var B=T[0],Q=T.pop();if(Q!==B){T[0]=Q;e:for(var me=0,he=T.length,ye=he>>>1;me<ye;){var _e=2*(me+1)-1,pe=T[_e],Ye=_e+1,Rt=T[Ye];if(0>c(pe,Q))Ye<he&&0>c(Rt,pe)?(T[me]=Rt,T[Ye]=Q,me=Ye):(T[me]=pe,T[_e]=Q,me=_e);else if(Ye<he&&0>c(Rt,Q))T[me]=Rt,T[Ye]=Q,me=Ye;else break e}}return B}function c(T,B){var Q=T.sortIndex-B.sortIndex;return Q!==0?Q:T.id-B.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();n.unstable_now=function(){return f.now()-m}}var g=[],x=[],y=1,v=null,j=3,N=!1,E=!1,C=!1,U=!1,q=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function V(T){for(var B=s(x);B!==null;){if(B.callback===null)i(x);else if(B.startTime<=T)i(x),B.sortIndex=B.expirationTime,t(g,B);else break;B=s(x)}}function K(T){if(C=!1,V(T),!E)if(s(g)!==null)E=!0,W||(W=!0,Ge());else{var B=s(x);B!==null&&J(K,B.startTime-T)}}var W=!1,ie=-1,oe=5,Be=-1;function le(){return U?!0:!(n.unstable_now()-Be<oe)}function Le(){if(U=!1,W){var T=n.unstable_now();Be=T;var B=!0;try{e:{E=!1,C&&(C=!1,I(ie),ie=-1),N=!0;var Q=j;try{t:{for(V(T),v=s(g);v!==null&&!(v.expirationTime>T&&le());){var me=v.callback;if(typeof me=="function"){v.callback=null,j=v.priorityLevel;var he=me(v.expirationTime<=T);if(T=n.unstable_now(),typeof he=="function"){v.callback=he,V(T),B=!0;break t}v===s(g)&&i(g),V(T)}else i(g);v=s(g)}if(v!==null)B=!0;else{var ye=s(x);ye!==null&&J(K,ye.startTime-T),B=!1}}break e}finally{v=null,j=Q,N=!1}B=void 0}}finally{B?Ge():W=!1}}}var Ge;if(typeof L=="function")Ge=function(){L(Le)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,Ct=Fe.port2;Fe.port1.onmessage=Le,Ge=function(){Ct.postMessage(null)}}else Ge=function(){q(Le,0)};function J(T,B){ie=q(function(){T(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(T){T.callback=null},n.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<T?Math.floor(1e3/T):5},n.unstable_getCurrentPriorityLevel=function(){return j},n.unstable_next=function(T){switch(j){case 1:case 2:case 3:var B=3;break;default:B=j}var Q=j;j=B;try{return T()}finally{j=Q}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(T,B){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var Q=j;j=T;try{return B()}finally{j=Q}},n.unstable_scheduleCallback=function(T,B,Q){var me=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?me+Q:me):Q=me,T){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Q+he,T={id:y++,callback:B,priorityLevel:T,startTime:Q,expirationTime:he,sortIndex:-1},Q>me?(T.sortIndex=Q,t(x,T),s(g)===null&&T===s(x)&&(C?(I(ie),ie=-1):C=!0,J(K,Q-me))):(T.sortIndex=he,t(g,T),E||N||(E=!0,W||(W=!0,Ge()))),T},n.unstable_shouldYield=le,n.unstable_wrapCallback=function(T){var B=j;return function(){var Q=j;j=B;try{return T.apply(this,arguments)}finally{j=Q}}}})(Eu)),Eu}var S0;function Wb(){return S0||(S0=1,Au.exports=Fb()),Au.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function ey(){if(A0)return Fr;A0=1;var n=Wb(),t=Ng(),s=zb();function i(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)a+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,r=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(r=a.return),e=a.return;while(e)}return a.tag===3?r:null}function f(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function m(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(i(188))}function x(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(i(188));return a!==e?null:e}for(var r=e,l=a;;){var d=r.return;if(d===null)break;var h=d.alternate;if(h===null){if(l=d.return,l!==null){r=l;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===r)return g(d),e;if(h===l)return g(d),a;h=h.sibling}throw Error(i(188))}if(r.return!==l.return)r=d,l=h;else{for(var p=!1,b=d.child;b;){if(b===r){p=!0,r=d,l=h;break}if(b===l){p=!0,l=d,r=h;break}b=b.sibling}if(!p){for(b=h.child;b;){if(b===r){p=!0,r=h,l=d;break}if(b===l){p=!0,l=h,r=d;break}b=b.sibling}if(!p)throw Error(i(189))}}if(r.alternate!==l)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:a}function y(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=y(e),a!==null)return a;e=e.sibling}return null}var v=Object.assign,j=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),Be=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),Le=Symbol.iterator;function Ge(e){return e===null||typeof e!="object"?null:(e=Le&&e[Le]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Symbol.for("react.client.reference");function Ct(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Fe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case q:return"Profiler";case U:return"StrictMode";case K:return"Suspense";case W:return"SuspenseList";case Be:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case L:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case V:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ie:return a=e.displayName||null,a!==null?a:Ct(e.type)||"Memo";case oe:a=e._payload,e=e._init;try{return Ct(e(a))}catch{}}return null}var J=Array.isArray,T=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},me=[],he=-1;function ye(e){return{current:e}}function _e(e){0>he||(e.current=me[he],me[he]=null,he--)}function pe(e,a){he++,me[he]=e.current,e.current=a}var Ye=ye(null),Rt=ye(null),ma=ye(null),Va=ye(null);function Za(e,a){switch(pe(ma,a),pe(Rt,e),pe(Ye,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?Gm(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=Gm(a),e=Vm(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_e(Ye),pe(Ye,e)}function ga(){_e(Ye),_e(Rt),_e(ma)}function no(e){e.memoizedState!==null&&pe(Va,e);var a=Ye.current,r=Vm(a,e.type);a!==r&&(pe(Rt,e),pe(Ye,r))}function gi(e){Rt.current===e&&(_e(Ye),_e(Rt)),Va.current===e&&(_e(Va),Yr._currentValue=Q)}var ro,yd;function Es(e){if(ro===void 0)try{throw Error()}catch(r){var a=r.stack.trim().match(/\n( *(at )?)/);ro=a&&a[1]||"",yd=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ro+e+yd}var io=!1;function lo(e,a){if(!e||io)return"";io=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(R){var O=R}Reflect.construct(e,[],z)}else{try{z.call()}catch(R){O=R}e.call(z.prototype)}}else{try{throw Error()}catch(R){O=R}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(R){if(R&&O&&typeof R.stack=="string")return[R.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),p=h[0],b=h[1];if(p&&b){var w=p.split(`
`),A=b.split(`
`);for(d=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;d<A.length&&!A[d].includes("DetermineComponentFrameRoot");)d++;if(l===w.length||d===A.length)for(l=w.length-1,d=A.length-1;1<=l&&0<=d&&w[l]!==A[d];)d--;for(;1<=l&&0<=d;l--,d--)if(w[l]!==A[d]){if(l!==1||d!==1)do if(l--,d--,0>d||w[l]!==A[d]){var D=`
`+w[l].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=l&&0<=d);break}}}finally{io=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Es(r):""}function hp(e,a){switch(e.tag){case 26:case 27:case 5:return Es(e.type);case 16:return Es("Lazy");case 13:return e.child!==a&&a!==null?Es("Suspense Fallback"):Es("Suspense");case 19:return Es("SuspenseList");case 0:case 15:return lo(e.type,!1);case 11:return lo(e.type.render,!1);case 1:return lo(e.type,!0);case 31:return Es("Activity");default:return""}}function vd(e){try{var a="",r=null;do a+=hp(e,r),r=e,e=e.return;while(e);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var oo=Object.prototype.hasOwnProperty,co=n.unstable_scheduleCallback,uo=n.unstable_cancelCallback,fp=n.unstable_shouldYield,mp=n.unstable_requestPaint,Dt=n.unstable_now,gp=n.unstable_getCurrentPriorityLevel,wd=n.unstable_ImmediatePriority,_d=n.unstable_UserBlockingPriority,pi=n.unstable_NormalPriority,pp=n.unstable_LowPriority,jd=n.unstable_IdlePriority,xp=n.log,bp=n.unstable_setDisableYieldValue,rr=null,Mt=null;function Ya(e){if(typeof xp=="function"&&bp(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(rr,e)}catch{}}var zt=Math.clz32?Math.clz32:wp,yp=Math.log,vp=Math.LN2;function wp(e){return e>>>=0,e===0?32:31-(yp(e)/vp|0)|0}var xi=256,bi=262144,yi=4194304;function Ts(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vi(e,a,r){var l=e.pendingLanes;if(l===0)return 0;var d=0,h=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~h,l!==0?d=Ts(l):(p&=b,p!==0?d=Ts(p):r||(r=b&~e,r!==0&&(d=Ts(r))))):(b=l&~h,b!==0?d=Ts(b):p!==0?d=Ts(p):r||(r=l&~e,r!==0&&(d=Ts(r)))),d===0?0:a!==0&&a!==d&&(a&h)===0&&(h=d&-d,r=a&-a,h>=r||h===32&&(r&4194048)!==0)?a:d}function ir(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function _p(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nd(){var e=yi;return yi<<=1,(yi&62914560)===0&&(yi=4194304),e}function ho(e){for(var a=[],r=0;31>r;r++)a.push(e);return a}function lr(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jp(e,a,r,l,d,h){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var b=e.entanglements,w=e.expirationTimes,A=e.hiddenUpdates;for(r=p&~r;0<r;){var D=31-zt(r),z=1<<D;b[D]=0,w[D]=-1;var O=A[D];if(O!==null)for(A[D]=null,D=0;D<O.length;D++){var R=O[D];R!==null&&(R.lane&=-536870913)}r&=~z}l!==0&&kd(e,l,0),h!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=h&~(p&~a))}function kd(e,a,r){e.pendingLanes|=a,e.suspendedLanes&=~a;var l=31-zt(a);e.entangledLanes|=a,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function Sd(e,a){var r=e.entangledLanes|=a;for(e=e.entanglements;r;){var l=31-zt(r),d=1<<l;d&a|e[l]&a&&(e[l]|=a),r&=~d}}function Ad(e,a){var r=a&-a;return r=(r&42)!==0?1:fo(r),(r&(e.suspendedLanes|a))!==0?0:r}function fo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ed(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:m0(e.type))}function Td(e,a){var r=B.p;try{return B.p=e,a()}finally{B.p=r}}var Ka=Math.random().toString(36).slice(2),dt="__reactFiber$"+Ka,jt="__reactProps$"+Ka,an="__reactContainer$"+Ka,go="__reactEvents$"+Ka,Np="__reactListeners$"+Ka,kp="__reactHandles$"+Ka,Od="__reactResources$"+Ka,or="__reactMarker$"+Ka;function po(e){delete e[dt],delete e[jt],delete e[go],delete e[Np],delete e[kp]}function sn(e){var a=e[dt];if(a)return a;for(var r=e.parentNode;r;){if(a=r[an]||r[dt]){if(r=a.alternate,a.child!==null||r!==null&&r.child!==null)for(e=Fm(e);e!==null;){if(r=e[dt])return r;e=Fm(e)}return a}e=r,r=e.parentNode}return null}function nn(e){if(e=e[dt]||e[an]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function cr(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(i(33))}function rn(e){var a=e[Od];return a||(a=e[Od]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ct(e){e[or]=!0}var Cd=new Set,Rd={};function Os(e,a){ln(e,a),ln(e+"Capture",a)}function ln(e,a){for(Rd[e]=a,e=0;e<a.length;e++)Cd.add(a[e])}var Sp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dd={},Md={};function Ap(e){return oo.call(Md,e)?!0:oo.call(Dd,e)?!1:Sp.test(e)?Md[e]=!0:(Dd[e]=!0,!1)}function wi(e,a,r){if(Ap(a))if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+r)}}function _i(e,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+r)}}function ja(e,a,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(a,r,""+l)}}function Yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zd(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ep(e,a,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,h=l.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return d.call(this)},set:function(p){r=""+p,h.call(this,p)}}),Object.defineProperty(e,a,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function xo(e){if(!e._valueTracker){var a=zd(e)?"checked":"value";e._valueTracker=Ep(e,a,""+e[a])}}function Ud(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var r=a.getValue(),l="";return e&&(l=zd(e)?e.checked?"true":"false":e.value),e=l,e!==r?(a.setValue(e),!0):!1}function ji(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Tp=/[\n"\\]/g;function Kt(e){return e.replace(Tp,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function bo(e,a,r,l,d,h,p,b){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),a!=null?p==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Yt(a)):e.value!==""+Yt(a)&&(e.value=""+Yt(a)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),a!=null?yo(e,p,Yt(a)):r!=null?yo(e,p,Yt(r)):l!=null&&e.removeAttribute("value"),d==null&&h!=null&&(e.defaultChecked=!!h),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Yt(b):e.removeAttribute("name")}function Ld(e,a,r,l,d,h,p,b){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),a!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||a!=null)){xo(e);return}r=r!=null?""+Yt(r):"",a=a!=null?""+Yt(a):r,b||a===e.value||(e.value=a),e.defaultValue=a}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),xo(e)}function yo(e,a,r){a==="number"&&ji(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function on(e,a,r,l){if(e=e.options,a){a={};for(var d=0;d<r.length;d++)a["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=a.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Yt(r),a=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}a!==null||e[d].disabled||(a=e[d])}a!==null&&(a.selected=!0)}}function qd(e,a,r){if(a!=null&&(a=""+Yt(a),a!==e.value&&(e.value=a),r==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=r!=null?""+Yt(r):""}function Bd(e,a,r,l){if(a==null){if(l!=null){if(r!=null)throw Error(i(92));if(J(l)){if(1<l.length)throw Error(i(93));l=l[0]}r=l}r==null&&(r=""),a=r}r=Yt(a),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),xo(e)}function cn(e,a){if(a){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=a;return}}e.textContent=a}var Op=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Id(e,a,r){var l=a.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":l?e.setProperty(a,r):typeof r!="number"||r===0||Op.has(a)?a==="float"?e.cssFloat=r:e[a]=(""+r).trim():e[a]=r+"px"}function $d(e,a,r){if(a!=null&&typeof a!="object")throw Error(i(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var d in a)l=a[d],a.hasOwnProperty(d)&&r[d]!==l&&Id(e,d,l)}else for(var h in a)a.hasOwnProperty(h)&&Id(e,h,a[h])}function vo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ni(e){return Rp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Na(){}var wo=null;function _o(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var un=null,dn=null;function Pd(e){var a=nn(e);if(a&&(e=a.stateNode)){var r=e[jt]||null;e:switch(e=a.stateNode,a.type){case"input":if(bo(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),a=r.name,r.type==="radio"&&a!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Kt(""+a)+'"][type="radio"]'),a=0;a<r.length;a++){var l=r[a];if(l!==e&&l.form===e.form){var d=l[jt]||null;if(!d)throw Error(i(90));bo(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<r.length;a++)l=r[a],l.form===e.form&&Ud(l)}break e;case"textarea":qd(e,r.value,r.defaultValue);break e;case"select":a=r.value,a!=null&&on(e,!!r.multiple,a,!1)}}}var jo=!1;function Hd(e,a,r){if(jo)return e(a,r);jo=!0;try{var l=e(a);return l}finally{if(jo=!1,(un!==null||dn!==null)&&(dl(),un&&(a=un,e=dn,dn=un=null,Pd(a),e)))for(a=0;a<e.length;a++)Pd(e[a])}}function ur(e,a){var r=e.stateNode;if(r===null)return null;var l=r[jt]||null;if(l===null)return null;r=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,a,typeof r));return r}var ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),No=!1;if(ka)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){No=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{No=!1}var Ja=null,ko=null,ki=null;function Gd(){if(ki)return ki;var e,a=ko,r=a.length,l,d="value"in Ja?Ja.value:Ja.textContent,h=d.length;for(e=0;e<r&&a[e]===d[e];e++);var p=r-e;for(l=1;l<=p&&a[r-l]===d[h-l];l++);return ki=d.slice(e,1<l?1-l:void 0)}function Si(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function Vd(){return!1}function Nt(e){function a(r,l,d,h,p){this._reactName=r,this._targetInst=d,this.type=l,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(r=e[b],this[b]=r?r(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ai:Vd,this.isPropagationStopped=Vd,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),a}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Nt(Cs),hr=v({},Cs,{view:0,detail:0}),Dp=Nt(hr),So,Ao,fr,Ti=v({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:To,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fr&&(fr&&e.type==="mousemove"?(So=e.screenX-fr.screenX,Ao=e.screenY-fr.screenY):Ao=So=0,fr=e),So)},movementY:function(e){return"movementY"in e?e.movementY:Ao}}),Zd=Nt(Ti),Mp=v({},Ti,{dataTransfer:0}),zp=Nt(Mp),Up=v({},hr,{relatedTarget:0}),Eo=Nt(Up),Lp=v({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),qp=Nt(Lp),Bp=v({},Cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ip=Nt(Bp),$p=v({},Cs,{data:0}),Yd=Nt($p),Pp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vp(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=Gp[e])?!!a[e]:!1}function To(){return Vp}var Zp=v({},hr,{key:function(e){if(e.key){var a=Pp[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=Si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:To,charCode:function(e){return e.type==="keypress"?Si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yp=Nt(Zp),Kp=v({},Ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kd=Nt(Kp),Jp=v({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:To}),Xp=Nt(Jp),Qp=v({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fp=Nt(Qp),Wp=v({},Ti,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ex=Nt(Wp),tx=v({},Cs,{newState:0,oldState:0}),ax=Nt(tx),sx=[9,13,27,32],Oo=ka&&"CompositionEvent"in window,mr=null;ka&&"documentMode"in document&&(mr=document.documentMode);var nx=ka&&"TextEvent"in window&&!mr,Jd=ka&&(!Oo||mr&&8<mr&&11>=mr),Xd=" ",Qd=!1;function Fd(e,a){switch(e){case"keyup":return sx.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hn=!1;function rx(e,a){switch(e){case"compositionend":return Wd(a);case"keypress":return a.which!==32?null:(Qd=!0,Xd);case"textInput":return e=a.data,e===Xd&&Qd?null:e;default:return null}}function ix(e,a){if(hn)return e==="compositionend"||!Oo&&Fd(e,a)?(e=Gd(),ki=ko=Ja=null,hn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Jd&&a.locale!=="ko"?null:a.data;default:return null}}var lx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eh(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!lx[e.type]:a==="textarea"}function th(e,a,r,l){un?dn?dn.push(l):dn=[l]:un=l,a=bl(a,"onChange"),0<a.length&&(r=new Ei("onChange","change",null,r,l),e.push({event:r,listeners:a}))}var gr=null,pr=null;function ox(e){qm(e,0)}function Oi(e){var a=cr(e);if(Ud(a))return e}function ah(e,a){if(e==="change")return a}var sh=!1;if(ka){var Co;if(ka){var Ro="oninput"in document;if(!Ro){var nh=document.createElement("div");nh.setAttribute("oninput","return;"),Ro=typeof nh.oninput=="function"}Co=Ro}else Co=!1;sh=Co&&(!document.documentMode||9<document.documentMode)}function rh(){gr&&(gr.detachEvent("onpropertychange",ih),pr=gr=null)}function ih(e){if(e.propertyName==="value"&&Oi(pr)){var a=[];th(a,pr,e,_o(e)),Hd(ox,a)}}function cx(e,a,r){e==="focusin"?(rh(),gr=a,pr=r,gr.attachEvent("onpropertychange",ih)):e==="focusout"&&rh()}function ux(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oi(pr)}function dx(e,a){if(e==="click")return Oi(a)}function hx(e,a){if(e==="input"||e==="change")return Oi(a)}function fx(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var Ut=typeof Object.is=="function"?Object.is:fx;function xr(e,a){if(Ut(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var r=Object.keys(e),l=Object.keys(a);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var d=r[l];if(!oo.call(a,d)||!Ut(e[d],a[d]))return!1}return!0}function lh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oh(e,a){var r=lh(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=a&&l>=a)return{node:r,offset:a-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lh(r)}}function ch(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?ch(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function uh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=ji(e.document);a instanceof e.HTMLIFrameElement;){try{var r=typeof a.contentWindow.location.href=="string"}catch{r=!1}if(r)e=a.contentWindow;else break;a=ji(e.document)}return a}function Do(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var mx=ka&&"documentMode"in document&&11>=document.documentMode,fn=null,Mo=null,br=null,zo=!1;function dh(e,a,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zo||fn==null||fn!==ji(l)||(l=fn,"selectionStart"in l&&Do(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),br&&xr(br,l)||(br=l,l=bl(Mo,"onSelect"),0<l.length&&(a=new Ei("onSelect","select",null,a,r),e.push({event:a,listeners:l}),a.target=fn)))}function Rs(e,a){var r={};return r[e.toLowerCase()]=a.toLowerCase(),r["Webkit"+e]="webkit"+a,r["Moz"+e]="moz"+a,r}var mn={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},Uo={},hh={};ka&&(hh=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);function Ds(e){if(Uo[e])return Uo[e];if(!mn[e])return e;var a=mn[e],r;for(r in a)if(a.hasOwnProperty(r)&&r in hh)return Uo[e]=a[r];return e}var fh=Ds("animationend"),mh=Ds("animationiteration"),gh=Ds("animationstart"),gx=Ds("transitionrun"),px=Ds("transitionstart"),xx=Ds("transitioncancel"),ph=Ds("transitionend"),xh=new Map,Lo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lo.push("scrollEnd");function ra(e,a){xh.set(e,a),Os(a,[e])}var Ci=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Jt=[],gn=0,qo=0;function Ri(){for(var e=gn,a=qo=gn=0;a<e;){var r=Jt[a];Jt[a++]=null;var l=Jt[a];Jt[a++]=null;var d=Jt[a];Jt[a++]=null;var h=Jt[a];if(Jt[a++]=null,l!==null&&d!==null){var p=l.pending;p===null?d.next=d:(d.next=p.next,p.next=d),l.pending=d}h!==0&&bh(r,d,h)}}function Di(e,a,r,l){Jt[gn++]=e,Jt[gn++]=a,Jt[gn++]=r,Jt[gn++]=l,qo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Bo(e,a,r,l){return Di(e,a,r,l),Mi(e)}function Ms(e,a){return Di(e,null,null,a),Mi(e)}function bh(e,a,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var d=!1,h=e.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(d=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,d&&a!==null&&(d=31-zt(r),e=h.hiddenUpdates,l=e[d],l===null?e[d]=[a]:l.push(a),a.lane=r|536870912),h):null}function Mi(e){if(50<Ir)throw Ir=0,Kc=null,Error(i(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var pn={};function bx(e,a,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,a,r,l){return new bx(e,a,r,l)}function Io(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sa(e,a){var r=e.alternate;return r===null?(r=Lt(e.tag,a,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=a,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,a=e.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function yh(e,a){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,a=r.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function zi(e,a,r,l,d,h){var p=0;if(l=e,typeof e=="function")Io(e)&&(p=1);else if(typeof e=="string")p=jb(e,r,Ye.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Be:return e=Lt(31,r,a,d),e.elementType=Be,e.lanes=h,e;case C:return zs(r.children,d,h,a);case U:p=8,d|=24;break;case q:return e=Lt(12,r,a,d|2),e.elementType=q,e.lanes=h,e;case K:return e=Lt(13,r,a,d),e.elementType=K,e.lanes=h,e;case W:return e=Lt(19,r,a,d),e.elementType=W,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:p=10;break e;case I:p=9;break e;case V:p=11;break e;case ie:p=14;break e;case oe:p=16,l=null;break e}p=29,r=Error(i(130,e===null?"null":typeof e,"")),l=null}return a=Lt(p,r,a,d),a.elementType=e,a.type=l,a.lanes=h,a}function zs(e,a,r,l){return e=Lt(7,e,l,a),e.lanes=r,e}function $o(e,a,r){return e=Lt(6,e,null,a),e.lanes=r,e}function vh(e){var a=Lt(18,null,null,0);return a.stateNode=e,a}function Po(e,a,r){return a=Lt(4,e.children!==null?e.children:[],e.key,a),a.lanes=r,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var wh=new WeakMap;function Xt(e,a){if(typeof e=="object"&&e!==null){var r=wh.get(e);return r!==void 0?r:(a={value:e,source:a,stack:vd(a)},wh.set(e,a),a)}return{value:e,source:a,stack:vd(a)}}var xn=[],bn=0,Ui=null,yr=0,Qt=[],Ft=0,Xa=null,pa=1,xa="";function Aa(e,a){xn[bn++]=yr,xn[bn++]=Ui,Ui=e,yr=a}function _h(e,a,r){Qt[Ft++]=pa,Qt[Ft++]=xa,Qt[Ft++]=Xa,Xa=e;var l=pa;e=xa;var d=32-zt(l)-1;l&=~(1<<d),r+=1;var h=32-zt(a)+d;if(30<h){var p=d-d%5;h=(l&(1<<p)-1).toString(32),l>>=p,d-=p,pa=1<<32-zt(a)+d|r<<d|l,xa=h+e}else pa=1<<h|r<<d|l,xa=e}function Ho(e){e.return!==null&&(Aa(e,1),_h(e,1,0))}function Go(e){for(;e===Ui;)Ui=xn[--bn],xn[bn]=null,yr=xn[--bn],xn[bn]=null;for(;e===Xa;)Xa=Qt[--Ft],Qt[Ft]=null,xa=Qt[--Ft],Qt[Ft]=null,pa=Qt[--Ft],Qt[Ft]=null}function jh(e,a){Qt[Ft++]=pa,Qt[Ft++]=xa,Qt[Ft++]=Xa,pa=a.id,xa=a.overflow,Xa=e}var ht=null,$e=null,je=!1,Qa=null,Wt=!1,Vo=Error(i(519));function Fa(e){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vr(Xt(a,e)),Vo}function Nh(e){var a=e.stateNode,r=e.type,l=e.memoizedProps;switch(a[dt]=e,a[jt]=l,r){case"dialog":be("cancel",a),be("close",a);break;case"iframe":case"object":case"embed":be("load",a);break;case"video":case"audio":for(r=0;r<Pr.length;r++)be(Pr[r],a);break;case"source":be("error",a);break;case"img":case"image":case"link":be("error",a),be("load",a);break;case"details":be("toggle",a);break;case"input":be("invalid",a),Ld(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":be("invalid",a);break;case"textarea":be("invalid",a),Bd(a,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||a.textContent===""+r||l.suppressHydrationWarning===!0||Pm(a.textContent,r)?(l.popover!=null&&(be("beforetoggle",a),be("toggle",a)),l.onScroll!=null&&be("scroll",a),l.onScrollEnd!=null&&be("scrollend",a),l.onClick!=null&&(a.onclick=Na),a=!0):a=!1,a||Fa(e,!0)}function kh(e){for(ht=e.return;ht;)switch(ht.tag){case 5:case 31:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:ht=ht.return}}function yn(e){if(e!==ht)return!1;if(!je)return kh(e),je=!0,!1;var a=e.tag,r;if((r=a!==3&&a!==27)&&((r=a===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||cu(e.type,e.memoizedProps)),r=!r),r&&$e&&Fa(e),kh(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));$e=Qm(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));$e=Qm(e)}else a===27?(a=$e,hs(e.type)?(e=mu,mu=null,$e=e):$e=a):$e=ht?ta(e.stateNode.nextSibling):null;return!0}function Us(){$e=ht=null,je=!1}function Zo(){var e=Qa;return e!==null&&(Et===null?Et=e:Et.push.apply(Et,e),Qa=null),e}function vr(e){Qa===null?Qa=[e]:Qa.push(e)}var Yo=ye(null),Ls=null,Ea=null;function Wa(e,a,r){pe(Yo,a._currentValue),a._currentValue=r}function Ta(e){e._currentValue=Yo.current,_e(Yo)}function Ko(e,a,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),e===r)break;e=e.return}}function Jo(e,a,r,l){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var h=d.dependencies;if(h!==null){var p=d.child;h=h.firstContext;e:for(;h!==null;){var b=h;h=d;for(var w=0;w<a.length;w++)if(b.context===a[w]){h.lanes|=r,b=h.alternate,b!==null&&(b.lanes|=r),Ko(h.return,r,e),l||(p=null);break e}h=b.next}}else if(d.tag===18){if(p=d.return,p===null)throw Error(i(341));p.lanes|=r,h=p.alternate,h!==null&&(h.lanes|=r),Ko(p,r,e),p=null}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===e){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}}function vn(e,a,r,l){e=null;for(var d=a,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var p=d.alternate;if(p===null)throw Error(i(387));if(p=p.memoizedProps,p!==null){var b=d.type;Ut(d.pendingProps.value,p.value)||(e!==null?e.push(b):e=[b])}}else if(d===Va.current){if(p=d.alternate,p===null)throw Error(i(387));p.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Yr):e=[Yr])}d=d.return}e!==null&&Jo(a,e,r,l),a.flags|=262144}function Li(e){for(e=e.firstContext;e!==null;){if(!Ut(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qs(e){Ls=e,Ea=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return Sh(Ls,e)}function qi(e,a){return Ls===null&&qs(e),Sh(e,a)}function Sh(e,a){var r=a._currentValue;if(a={context:a,memoizedValue:r,next:null},Ea===null){if(e===null)throw Error(i(308));Ea=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else Ea=Ea.next=a;return r}var yx=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){a.aborted=!0,e.forEach(function(r){return r()})}},vx=n.unstable_scheduleCallback,wx=n.unstable_NormalPriority,tt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xo(){return{controller:new yx,data:new Map,refCount:0}}function wr(e){e.refCount--,e.refCount===0&&vx(wx,function(){e.controller.abort()})}var _r=null,Qo=0,wn=0,_n=null;function _x(e,a){if(_r===null){var r=_r=[];Qo=0,wn=eu(),_n={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Qo++,a.then(Ah,Ah),a}function Ah(){if(--Qo===0&&_r!==null){_n!==null&&(_n.status="fulfilled");var e=_r;_r=null,wn=0,_n=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function jx(e,a){var r=[],l={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return e.then(function(){l.status="fulfilled",l.value=a;for(var d=0;d<r.length;d++)(0,r[d])(a)},function(d){for(l.status="rejected",l.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),l}var Eh=T.S;T.S=function(e,a){hm=Dt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&_x(e,a),Eh!==null&&Eh(e,a)};var Bs=ye(null);function Fo(){var e=Bs.current;return e!==null?e:qe.pooledCache}function Bi(e,a){a===null?pe(Bs,Bs.current):pe(Bs,a.pool)}function Th(){var e=Fo();return e===null?null:{parent:tt._currentValue,pool:e}}var jn=Error(i(460)),Wo=Error(i(474)),Ii=Error(i(542)),$i={then:function(){}};function Oh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ch(e,a,r){switch(r=e[r],r===void 0?e.push(a):r!==a&&(a.then(Na,Na),a=r),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Dh(e),e;default:if(typeof a.status=="string")a.then(Na,Na);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=a,e.status="pending",e.then(function(l){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=l}},function(l){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Dh(e),e}throw $s=a,jn}}function Is(e){try{var a=e._init;return a(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?($s=r,jn):r}}var $s=null;function Rh(){if($s===null)throw Error(i(459));var e=$s;return $s=null,e}function Dh(e){if(e===jn||e===Ii)throw Error(i(483))}var Nn=null,jr=0;function Pi(e){var a=jr;return jr+=1,Nn===null&&(Nn=[]),Ch(Nn,e,a)}function Nr(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Hi(e,a){throw a.$$typeof===j?Error(i(525)):(e=Object.prototype.toString.call(a),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function Mh(e){function a(k,_){if(e){var S=k.deletions;S===null?(k.deletions=[_],k.flags|=16):S.push(_)}}function r(k,_){if(!e)return null;for(;_!==null;)a(k,_),_=_.sibling;return null}function l(k){for(var _=new Map;k!==null;)k.key!==null?_.set(k.key,k):_.set(k.index,k),k=k.sibling;return _}function d(k,_){return k=Sa(k,_),k.index=0,k.sibling=null,k}function h(k,_,S){return k.index=S,e?(S=k.alternate,S!==null?(S=S.index,S<_?(k.flags|=67108866,_):S):(k.flags|=67108866,_)):(k.flags|=1048576,_)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function b(k,_,S,M){return _===null||_.tag!==6?(_=$o(S,k.mode,M),_.return=k,_):(_=d(_,S),_.return=k,_)}function w(k,_,S,M){var te=S.type;return te===C?D(k,_,S.props.children,M,S.key):_!==null&&(_.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===oe&&Is(te)===_.type)?(_=d(_,S.props),Nr(_,S),_.return=k,_):(_=zi(S.type,S.key,S.props,null,k.mode,M),Nr(_,S),_.return=k,_)}function A(k,_,S,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Po(S,k.mode,M),_.return=k,_):(_=d(_,S.children||[]),_.return=k,_)}function D(k,_,S,M,te){return _===null||_.tag!==7?(_=zs(S,k.mode,M,te),_.return=k,_):(_=d(_,S),_.return=k,_)}function z(k,_,S){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=$o(""+_,k.mode,S),_.return=k,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case N:return S=zi(_.type,_.key,_.props,null,k.mode,S),Nr(S,_),S.return=k,S;case E:return _=Po(_,k.mode,S),_.return=k,_;case oe:return _=Is(_),z(k,_,S)}if(J(_)||Ge(_))return _=zs(_,k.mode,S,null),_.return=k,_;if(typeof _.then=="function")return z(k,Pi(_),S);if(_.$$typeof===L)return z(k,qi(k,_),S);Hi(k,_)}return null}function O(k,_,S,M){var te=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return te!==null?null:b(k,_,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case N:return S.key===te?w(k,_,S,M):null;case E:return S.key===te?A(k,_,S,M):null;case oe:return S=Is(S),O(k,_,S,M)}if(J(S)||Ge(S))return te!==null?null:D(k,_,S,M,null);if(typeof S.then=="function")return O(k,_,Pi(S),M);if(S.$$typeof===L)return O(k,_,qi(k,S),M);Hi(k,S)}return null}function R(k,_,S,M,te){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return k=k.get(S)||null,b(_,k,""+M,te);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case N:return k=k.get(M.key===null?S:M.key)||null,w(_,k,M,te);case E:return k=k.get(M.key===null?S:M.key)||null,A(_,k,M,te);case oe:return M=Is(M),R(k,_,S,M,te)}if(J(M)||Ge(M))return k=k.get(S)||null,D(_,k,M,te,null);if(typeof M.then=="function")return R(k,_,S,Pi(M),te);if(M.$$typeof===L)return R(k,_,S,qi(_,M),te);Hi(_,M)}return null}function Z(k,_,S,M){for(var te=null,ke=null,X=_,de=_=0,we=null;X!==null&&de<S.length;de++){X.index>de?(we=X,X=null):we=X.sibling;var Se=O(k,X,S[de],M);if(Se===null){X===null&&(X=we);break}e&&X&&Se.alternate===null&&a(k,X),_=h(Se,_,de),ke===null?te=Se:ke.sibling=Se,ke=Se,X=we}if(de===S.length)return r(k,X),je&&Aa(k,de),te;if(X===null){for(;de<S.length;de++)X=z(k,S[de],M),X!==null&&(_=h(X,_,de),ke===null?te=X:ke.sibling=X,ke=X);return je&&Aa(k,de),te}for(X=l(X);de<S.length;de++)we=R(X,k,de,S[de],M),we!==null&&(e&&we.alternate!==null&&X.delete(we.key===null?de:we.key),_=h(we,_,de),ke===null?te=we:ke.sibling=we,ke=we);return e&&X.forEach(function(xs){return a(k,xs)}),je&&Aa(k,de),te}function se(k,_,S,M){if(S==null)throw Error(i(151));for(var te=null,ke=null,X=_,de=_=0,we=null,Se=S.next();X!==null&&!Se.done;de++,Se=S.next()){X.index>de?(we=X,X=null):we=X.sibling;var xs=O(k,X,Se.value,M);if(xs===null){X===null&&(X=we);break}e&&X&&xs.alternate===null&&a(k,X),_=h(xs,_,de),ke===null?te=xs:ke.sibling=xs,ke=xs,X=we}if(Se.done)return r(k,X),je&&Aa(k,de),te;if(X===null){for(;!Se.done;de++,Se=S.next())Se=z(k,Se.value,M),Se!==null&&(_=h(Se,_,de),ke===null?te=Se:ke.sibling=Se,ke=Se);return je&&Aa(k,de),te}for(X=l(X);!Se.done;de++,Se=S.next())Se=R(X,k,de,Se.value,M),Se!==null&&(e&&Se.alternate!==null&&X.delete(Se.key===null?de:Se.key),_=h(Se,_,de),ke===null?te=Se:ke.sibling=Se,ke=Se);return e&&X.forEach(function(Mb){return a(k,Mb)}),je&&Aa(k,de),te}function Ue(k,_,S,M){if(typeof S=="object"&&S!==null&&S.type===C&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case N:e:{for(var te=S.key;_!==null;){if(_.key===te){if(te=S.type,te===C){if(_.tag===7){r(k,_.sibling),M=d(_,S.props.children),M.return=k,k=M;break e}}else if(_.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===oe&&Is(te)===_.type){r(k,_.sibling),M=d(_,S.props),Nr(M,S),M.return=k,k=M;break e}r(k,_);break}else a(k,_);_=_.sibling}S.type===C?(M=zs(S.props.children,k.mode,M,S.key),M.return=k,k=M):(M=zi(S.type,S.key,S.props,null,k.mode,M),Nr(M,S),M.return=k,k=M)}return p(k);case E:e:{for(te=S.key;_!==null;){if(_.key===te)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){r(k,_.sibling),M=d(_,S.children||[]),M.return=k,k=M;break e}else{r(k,_);break}else a(k,_);_=_.sibling}M=Po(S,k.mode,M),M.return=k,k=M}return p(k);case oe:return S=Is(S),Ue(k,_,S,M)}if(J(S))return Z(k,_,S,M);if(Ge(S)){if(te=Ge(S),typeof te!="function")throw Error(i(150));return S=te.call(S),se(k,_,S,M)}if(typeof S.then=="function")return Ue(k,_,Pi(S),M);if(S.$$typeof===L)return Ue(k,_,qi(k,S),M);Hi(k,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,_!==null&&_.tag===6?(r(k,_.sibling),M=d(_,S),M.return=k,k=M):(r(k,_),M=$o(S,k.mode,M),M.return=k,k=M),p(k)):r(k,_)}return function(k,_,S,M){try{jr=0;var te=Ue(k,_,S,M);return Nn=null,te}catch(X){if(X===jn||X===Ii)throw X;var ke=Lt(29,X,null,k.mode);return ke.lanes=M,ke.return=k,ke}finally{}}}var Ps=Mh(!0),zh=Mh(!1),es=!1;function ec(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tc(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ts(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function as(e,a,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ee&2)!==0){var d=l.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),l.pending=a,a=Mi(e),bh(e,null,r),a}return Di(e,l,a,r),Mi(e)}function kr(e,a,r){if(a=a.updateQueue,a!==null&&(a=a.shared,(r&4194048)!==0)){var l=a.lanes;l&=e.pendingLanes,r|=l,a.lanes=r,Sd(e,r)}}function ac(e,a){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var d=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?d=h=p:h=h.next=p,r=r.next}while(r!==null);h===null?d=h=a:h=h.next=a}else d=h=a;r={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=a:e.next=a,r.lastBaseUpdate=a}var sc=!1;function Sr(){if(sc){var e=_n;if(e!==null)throw e}}function Ar(e,a,r,l){sc=!1;var d=e.updateQueue;es=!1;var h=d.firstBaseUpdate,p=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var w=b,A=w.next;w.next=null,p===null?h=A:p.next=A,p=w;var D=e.alternate;D!==null&&(D=D.updateQueue,b=D.lastBaseUpdate,b!==p&&(b===null?D.firstBaseUpdate=A:b.next=A,D.lastBaseUpdate=w))}if(h!==null){var z=d.baseState;p=0,D=A=w=null,b=h;do{var O=b.lane&-536870913,R=O!==b.lane;if(R?(ve&O)===O:(l&O)===O){O!==0&&O===wn&&(sc=!0),D!==null&&(D=D.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Z=e,se=b;O=a;var Ue=r;switch(se.tag){case 1:if(Z=se.payload,typeof Z=="function"){z=Z.call(Ue,z,O);break e}z=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=se.payload,O=typeof Z=="function"?Z.call(Ue,z,O):Z,O==null)break e;z=v({},z,O);break e;case 2:es=!0}}O=b.callback,O!==null&&(e.flags|=64,R&&(e.flags|=8192),R=d.callbacks,R===null?d.callbacks=[O]:R.push(O))}else R={lane:O,tag:b.tag,payload:b.payload,callback:b.callback,next:null},D===null?(A=D=R,w=z):D=D.next=R,p|=O;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;R=b,b=R.next,R.next=null,d.lastBaseUpdate=R,d.shared.pending=null}}while(!0);D===null&&(w=z),d.baseState=w,d.firstBaseUpdate=A,d.lastBaseUpdate=D,h===null&&(d.shared.lanes=0),ls|=p,e.lanes=p,e.memoizedState=z}}function Uh(e,a){if(typeof e!="function")throw Error(i(191,e));e.call(a)}function Lh(e,a){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Uh(r[e],a)}var kn=ye(null),Gi=ye(0);function qh(e,a){e=qa,pe(Gi,e),pe(kn,a),qa=e|a.baseLanes}function nc(){pe(Gi,qa),pe(kn,kn.current)}function rc(){qa=Gi.current,_e(kn),_e(Gi)}var qt=ye(null),ea=null;function ss(e){var a=e.alternate;pe(We,We.current&1),pe(qt,e),ea===null&&(a===null||kn.current!==null||a.memoizedState!==null)&&(ea=e)}function ic(e){pe(We,We.current),pe(qt,e),ea===null&&(ea=e)}function Bh(e){e.tag===22?(pe(We,We.current),pe(qt,e),ea===null&&(ea=e)):ns()}function ns(){pe(We,We.current),pe(qt,qt.current)}function Bt(e){_e(qt),ea===e&&(ea=null),_e(We)}var We=ye(0);function Vi(e){for(var a=e;a!==null;){if(a.tag===13){var r=a.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||hu(r)||fu(r)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Oa=0,ue=null,Me=null,at=null,Zi=!1,Sn=!1,Hs=!1,Yi=0,Er=0,An=null,Nx=0;function Ke(){throw Error(i(321))}function lc(e,a){if(a===null)return!1;for(var r=0;r<a.length&&r<e.length;r++)if(!Ut(e[r],a[r]))return!1;return!0}function oc(e,a,r,l,d,h){return Oa=h,ue=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,T.H=e===null||e.memoizedState===null?jf:jc,Hs=!1,h=r(l,d),Hs=!1,Sn&&(h=$h(a,r,l,d)),Ih(e),h}function Ih(e){T.H=Cr;var a=Me!==null&&Me.next!==null;if(Oa=0,at=Me=ue=null,Zi=!1,Er=0,An=null,a)throw Error(i(300));e===null||st||(e=e.dependencies,e!==null&&Li(e)&&(st=!0))}function $h(e,a,r,l){ue=e;var d=0;do{if(Sn&&(An=null),Er=0,Sn=!1,25<=d)throw Error(i(301));if(d+=1,at=Me=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}T.H=Nf,h=a(r,l)}while(Sn);return h}function kx(){var e=T.H,a=e.useState()[0];return a=typeof a.then=="function"?Tr(a):a,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(ue.flags|=1024),a}function cc(){var e=Yi!==0;return Yi=0,e}function uc(e,a,r){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~r}function dc(e){if(Zi){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}Zi=!1}Oa=0,at=Me=ue=null,Sn=!1,Er=Yi=0,An=null}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?ue.memoizedState=at=e:at=at.next=e,at}function et(){if(Me===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var a=at===null?ue.memoizedState:at.next;if(a!==null)at=a,Me=e;else{if(e===null)throw ue.alternate===null?Error(i(467)):Error(i(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},at===null?ue.memoizedState=at=e:at=at.next=e}return at}function Ki(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tr(e){var a=Er;return Er+=1,An===null&&(An=[]),e=Ch(An,e,a),a=ue,(at===null?a.memoizedState:at.next)===null&&(a=a.alternate,T.H=a===null||a.memoizedState===null?jf:jc),e}function Ji(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Tr(e);if(e.$$typeof===L)return ft(e)}throw Error(i(438,String(e)))}function hc(e){var a=null,r=ue.updateQueue;if(r!==null&&(a=r.memoCache),a==null){var l=ue.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),r===null&&(r=Ki(),ue.updateQueue=r),r.memoCache=a,r=a.data[a.index],r===void 0)for(r=a.data[a.index]=Array(e),l=0;l<e;l++)r[l]=le;return a.index++,r}function Ca(e,a){return typeof a=="function"?a(e):a}function Xi(e){var a=et();return fc(a,Me,e)}function fc(e,a,r){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var d=e.baseQueue,h=l.pending;if(h!==null){if(d!==null){var p=d.next;d.next=h.next,h.next=p}a.baseQueue=d=h,l.pending=null}if(h=e.baseState,d===null)e.memoizedState=h;else{a=d.next;var b=p=null,w=null,A=a,D=!1;do{var z=A.lane&-536870913;if(z!==A.lane?(ve&z)===z:(Oa&z)===z){var O=A.revertLane;if(O===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),z===wn&&(D=!0);else if((Oa&O)===O){A=A.next,O===wn&&(D=!0);continue}else z={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},w===null?(b=w=z,p=h):w=w.next=z,ue.lanes|=O,ls|=O;z=A.action,Hs&&r(h,z),h=A.hasEagerState?A.eagerState:r(h,z)}else O={lane:z,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},w===null?(b=w=O,p=h):w=w.next=O,ue.lanes|=z,ls|=z;A=A.next}while(A!==null&&A!==a);if(w===null?p=h:w.next=b,!Ut(h,e.memoizedState)&&(st=!0,D&&(r=_n,r!==null)))throw r;e.memoizedState=h,e.baseState=p,e.baseQueue=w,l.lastRenderedState=h}return d===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function mc(e){var a=et(),r=a.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var l=r.dispatch,d=r.pending,h=a.memoizedState;if(d!==null){r.pending=null;var p=d=d.next;do h=e(h,p.action),p=p.next;while(p!==d);Ut(h,a.memoizedState)||(st=!0),a.memoizedState=h,a.baseQueue===null&&(a.baseState=h),r.lastRenderedState=h}return[h,l]}function Ph(e,a,r){var l=ue,d=et(),h=je;if(h){if(r===void 0)throw Error(i(407));r=r()}else r=a();var p=!Ut((Me||d).memoizedState,r);if(p&&(d.memoizedState=r,st=!0),d=d.queue,xc(Vh.bind(null,l,d,e),[e]),d.getSnapshot!==a||p||at!==null&&at.memoizedState.tag&1){if(l.flags|=2048,En(9,{destroy:void 0},Gh.bind(null,l,d,r,a),null),qe===null)throw Error(i(349));h||(Oa&127)!==0||Hh(l,a,r)}return r}function Hh(e,a,r){e.flags|=16384,e={getSnapshot:a,value:r},a=ue.updateQueue,a===null?(a=Ki(),ue.updateQueue=a,a.stores=[e]):(r=a.stores,r===null?a.stores=[e]:r.push(e))}function Gh(e,a,r,l){a.value=r,a.getSnapshot=l,Zh(a)&&Yh(e)}function Vh(e,a,r){return r(function(){Zh(a)&&Yh(e)})}function Zh(e){var a=e.getSnapshot;e=e.value;try{var r=a();return!Ut(e,r)}catch{return!0}}function Yh(e){var a=Ms(e,2);a!==null&&Tt(a,e,2)}function gc(e){var a=vt();if(typeof e=="function"){var r=e;if(e=r(),Hs){Ya(!0);try{r()}finally{Ya(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},a}function Kh(e,a,r,l){return e.baseState=r,fc(e,Me,typeof l=="function"?l:Ca)}function Sx(e,a,r,l,d){if(Wi(e))throw Error(i(485));if(e=a.action,e!==null){var h={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){h.listeners.push(p)}};T.T!==null?r(!0):h.isTransition=!1,l(h),r=a.pending,r===null?(h.next=a.pending=h,Jh(a,h)):(h.next=r.next,a.pending=r.next=h)}}function Jh(e,a){var r=a.action,l=a.payload,d=e.state;if(a.isTransition){var h=T.T,p={};T.T=p;try{var b=r(d,l),w=T.S;w!==null&&w(p,b),Xh(e,a,b)}catch(A){pc(e,a,A)}finally{h!==null&&p.types!==null&&(h.types=p.types),T.T=h}}else try{h=r(d,l),Xh(e,a,h)}catch(A){pc(e,a,A)}}function Xh(e,a,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Qh(e,a,l)},function(l){return pc(e,a,l)}):Qh(e,a,r)}function Qh(e,a,r){a.status="fulfilled",a.value=r,Fh(a),e.state=r,a=e.pending,a!==null&&(r=a.next,r===a?e.pending=null:(r=r.next,a.next=r,Jh(e,r)))}function pc(e,a,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=r,Fh(a),a=a.next;while(a!==l)}e.action=null}function Fh(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function Wh(e,a){return a}function ef(e,a){if(je){var r=qe.formState;if(r!==null){e:{var l=ue;if(je){if($e){t:{for(var d=$e,h=Wt;d.nodeType!==8;){if(!h){d=null;break t}if(d=ta(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){$e=ta(d.nextSibling),l=d.data==="F!";break e}}Fa(l)}l=!1}l&&(a=r[0])}}return r=vt(),r.memoizedState=r.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wh,lastRenderedState:a},r.queue=l,r=vf.bind(null,ue,l),l.dispatch=r,l=gc(!1),h=_c.bind(null,ue,!1,l.queue),l=vt(),d={state:a,dispatch:null,action:e,pending:null},l.queue=d,r=Sx.bind(null,ue,d,h,r),d.dispatch=r,l.memoizedState=e,[a,r,!1]}function tf(e){var a=et();return af(a,Me,e)}function af(e,a,r){if(a=fc(e,a,Wh)[0],e=Xi(Ca)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=Tr(a)}catch(p){throw p===jn?Ii:p}else l=a;a=et();var d=a.queue,h=d.dispatch;return r!==a.memoizedState&&(ue.flags|=2048,En(9,{destroy:void 0},Ax.bind(null,d,r),null)),[l,h,e]}function Ax(e,a){e.action=a}function sf(e){var a=et(),r=Me;if(r!==null)return af(a,r,e);et(),a=a.memoizedState,r=et();var l=r.queue.dispatch;return r.memoizedState=e,[a,l,!1]}function En(e,a,r,l){return e={tag:e,create:r,deps:l,inst:a,next:null},a=ue.updateQueue,a===null&&(a=Ki(),ue.updateQueue=a),r=a.lastEffect,r===null?a.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,a.lastEffect=e),e}function nf(){return et().memoizedState}function Qi(e,a,r,l){var d=vt();ue.flags|=e,d.memoizedState=En(1|a,{destroy:void 0},r,l===void 0?null:l)}function Fi(e,a,r,l){var d=et();l=l===void 0?null:l;var h=d.memoizedState.inst;Me!==null&&l!==null&&lc(l,Me.memoizedState.deps)?d.memoizedState=En(a,h,r,l):(ue.flags|=e,d.memoizedState=En(1|a,h,r,l))}function rf(e,a){Qi(8390656,8,e,a)}function xc(e,a){Fi(2048,8,e,a)}function Ex(e){ue.flags|=4;var a=ue.updateQueue;if(a===null)a=Ki(),ue.updateQueue=a,a.events=[e];else{var r=a.events;r===null?a.events=[e]:r.push(e)}}function lf(e){var a=et().memoizedState;return Ex({ref:a,nextImpl:e}),function(){if((Ee&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function of(e,a){return Fi(4,2,e,a)}function cf(e,a){return Fi(4,4,e,a)}function uf(e,a){if(typeof a=="function"){e=e();var r=a(e);return function(){typeof r=="function"?r():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function df(e,a,r){r=r!=null?r.concat([e]):null,Fi(4,4,uf.bind(null,a,e),r)}function bc(){}function hf(e,a){var r=et();a=a===void 0?null:a;var l=r.memoizedState;return a!==null&&lc(a,l[1])?l[0]:(r.memoizedState=[e,a],e)}function ff(e,a){var r=et();a=a===void 0?null:a;var l=r.memoizedState;if(a!==null&&lc(a,l[1]))return l[0];if(l=e(),Hs){Ya(!0);try{e()}finally{Ya(!1)}}return r.memoizedState=[l,a],l}function yc(e,a,r){return r===void 0||(Oa&1073741824)!==0&&(ve&261930)===0?e.memoizedState=a:(e.memoizedState=r,e=mm(),ue.lanes|=e,ls|=e,r)}function mf(e,a,r,l){return Ut(r,a)?r:kn.current!==null?(e=yc(e,r,l),Ut(e,a)||(st=!0),e):(Oa&42)===0||(Oa&1073741824)!==0&&(ve&261930)===0?(st=!0,e.memoizedState=r):(e=mm(),ue.lanes|=e,ls|=e,a)}function gf(e,a,r,l,d){var h=B.p;B.p=h!==0&&8>h?h:8;var p=T.T,b={};T.T=b,_c(e,!1,a,r);try{var w=d(),A=T.S;if(A!==null&&A(b,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var D=jx(w,l);Or(e,a,D,Pt(e))}else Or(e,a,l,Pt(e))}catch(z){Or(e,a,{then:function(){},status:"rejected",reason:z},Pt())}finally{B.p=h,p!==null&&b.types!==null&&(p.types=b.types),T.T=p}}function Tx(){}function vc(e,a,r,l){if(e.tag!==5)throw Error(i(476));var d=pf(e).queue;gf(e,d,a,Q,r===null?Tx:function(){return xf(e),r(l)})}function pf(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:Q},next:null};var r={};return a.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:r},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function xf(e){var a=pf(e);a.next===null&&(a=e.alternate.memoizedState),Or(e,a.next.queue,{},Pt())}function wc(){return ft(Yr)}function bf(){return et().memoizedState}function yf(){return et().memoizedState}function Ox(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var r=Pt();e=ts(r);var l=as(a,e,r);l!==null&&(Tt(l,a,r),kr(l,a,r)),a={cache:Xo()},e.payload=a;return}a=a.return}}function Cx(e,a,r){var l=Pt();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Wi(e)?wf(a,r):(r=Bo(e,a,r,l),r!==null&&(Tt(r,e,l),_f(r,a,l)))}function vf(e,a,r){var l=Pt();Or(e,a,r,l)}function Or(e,a,r,l){var d={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wi(e))wf(a,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=a.lastRenderedReducer,h!==null))try{var p=a.lastRenderedState,b=h(p,r);if(d.hasEagerState=!0,d.eagerState=b,Ut(b,p))return Di(e,a,d,0),qe===null&&Ri(),!1}catch{}finally{}if(r=Bo(e,a,d,l),r!==null)return Tt(r,e,l),_f(r,a,l),!0}return!1}function _c(e,a,r,l){if(l={lane:2,revertLane:eu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wi(e)){if(a)throw Error(i(479))}else a=Bo(e,r,l,2),a!==null&&Tt(a,e,2)}function Wi(e){var a=e.alternate;return e===ue||a!==null&&a===ue}function wf(e,a){Sn=Zi=!0;var r=e.pending;r===null?a.next=a:(a.next=r.next,r.next=a),e.pending=a}function _f(e,a,r){if((r&4194048)!==0){var l=a.lanes;l&=e.pendingLanes,r|=l,a.lanes=r,Sd(e,r)}}var Cr={readContext:ft,use:Ji,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};Cr.useEffectEvent=Ke;var jf={readContext:ft,use:Ji,useCallback:function(e,a){return vt().memoizedState=[e,a===void 0?null:a],e},useContext:ft,useEffect:rf,useImperativeHandle:function(e,a,r){r=r!=null?r.concat([e]):null,Qi(4194308,4,uf.bind(null,a,e),r)},useLayoutEffect:function(e,a){return Qi(4194308,4,e,a)},useInsertionEffect:function(e,a){Qi(4,2,e,a)},useMemo:function(e,a){var r=vt();a=a===void 0?null:a;var l=e();if(Hs){Ya(!0);try{e()}finally{Ya(!1)}}return r.memoizedState=[l,a],l},useReducer:function(e,a,r){var l=vt();if(r!==void 0){var d=r(a);if(Hs){Ya(!0);try{r(a)}finally{Ya(!1)}}}else d=a;return l.memoizedState=l.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},l.queue=e,e=e.dispatch=Cx.bind(null,ue,e),[l.memoizedState,e]},useRef:function(e){var a=vt();return e={current:e},a.memoizedState=e},useState:function(e){e=gc(e);var a=e.queue,r=vf.bind(null,ue,a);return a.dispatch=r,[e.memoizedState,r]},useDebugValue:bc,useDeferredValue:function(e,a){var r=vt();return yc(r,e,a)},useTransition:function(){var e=gc(!1);return e=gf.bind(null,ue,e.queue,!0,!1),vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,r){var l=ue,d=vt();if(je){if(r===void 0)throw Error(i(407));r=r()}else{if(r=a(),qe===null)throw Error(i(349));(ve&127)!==0||Hh(l,a,r)}d.memoizedState=r;var h={value:r,getSnapshot:a};return d.queue=h,rf(Vh.bind(null,l,h,e),[e]),l.flags|=2048,En(9,{destroy:void 0},Gh.bind(null,l,h,r,a),null),r},useId:function(){var e=vt(),a=qe.identifierPrefix;if(je){var r=xa,l=pa;r=(l&~(1<<32-zt(l)-1)).toString(32)+r,a="_"+a+"R_"+r,r=Yi++,0<r&&(a+="H"+r.toString(32)),a+="_"}else r=Nx++,a="_"+a+"r_"+r.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:wc,useFormState:ef,useActionState:ef,useOptimistic:function(e){var a=vt();a.memoizedState=a.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=r,a=_c.bind(null,ue,!0,r),r.dispatch=a,[e,a]},useMemoCache:hc,useCacheRefresh:function(){return vt().memoizedState=Ox.bind(null,ue)},useEffectEvent:function(e){var a=vt(),r={impl:e};return a.memoizedState=r,function(){if((Ee&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},jc={readContext:ft,use:Ji,useCallback:hf,useContext:ft,useEffect:xc,useImperativeHandle:df,useInsertionEffect:of,useLayoutEffect:cf,useMemo:ff,useReducer:Xi,useRef:nf,useState:function(){return Xi(Ca)},useDebugValue:bc,useDeferredValue:function(e,a){var r=et();return mf(r,Me.memoizedState,e,a)},useTransition:function(){var e=Xi(Ca)[0],a=et().memoizedState;return[typeof e=="boolean"?e:Tr(e),a]},useSyncExternalStore:Ph,useId:bf,useHostTransitionStatus:wc,useFormState:tf,useActionState:tf,useOptimistic:function(e,a){var r=et();return Kh(r,Me,e,a)},useMemoCache:hc,useCacheRefresh:yf};jc.useEffectEvent=lf;var Nf={readContext:ft,use:Ji,useCallback:hf,useContext:ft,useEffect:xc,useImperativeHandle:df,useInsertionEffect:of,useLayoutEffect:cf,useMemo:ff,useReducer:mc,useRef:nf,useState:function(){return mc(Ca)},useDebugValue:bc,useDeferredValue:function(e,a){var r=et();return Me===null?yc(r,e,a):mf(r,Me.memoizedState,e,a)},useTransition:function(){var e=mc(Ca)[0],a=et().memoizedState;return[typeof e=="boolean"?e:Tr(e),a]},useSyncExternalStore:Ph,useId:bf,useHostTransitionStatus:wc,useFormState:sf,useActionState:sf,useOptimistic:function(e,a){var r=et();return Me!==null?Kh(r,Me,e,a):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:hc,useCacheRefresh:yf};Nf.useEffectEvent=lf;function Nc(e,a,r,l){a=e.memoizedState,r=r(l,a),r=r==null?a:v({},a,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var kc={enqueueSetState:function(e,a,r){e=e._reactInternals;var l=Pt(),d=ts(l);d.payload=a,r!=null&&(d.callback=r),a=as(e,d,l),a!==null&&(Tt(a,e,l),kr(a,e,l))},enqueueReplaceState:function(e,a,r){e=e._reactInternals;var l=Pt(),d=ts(l);d.tag=1,d.payload=a,r!=null&&(d.callback=r),a=as(e,d,l),a!==null&&(Tt(a,e,l),kr(a,e,l))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var r=Pt(),l=ts(r);l.tag=2,a!=null&&(l.callback=a),a=as(e,l,r),a!==null&&(Tt(a,e,r),kr(a,e,r))}};function kf(e,a,r,l,d,h,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,p):a.prototype&&a.prototype.isPureReactComponent?!xr(r,l)||!xr(d,h):!0}function Sf(e,a,r,l){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(r,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(r,l),a.state!==e&&kc.enqueueReplaceState(a,a.state,null)}function Gs(e,a){var r=a;if("ref"in a){r={};for(var l in a)l!=="ref"&&(r[l]=a[l])}if(e=e.defaultProps){r===a&&(r=v({},r));for(var d in e)r[d]===void 0&&(r[d]=e[d])}return r}function Af(e){Ci(e)}function Ef(e){console.error(e)}function Tf(e){Ci(e)}function el(e,a){try{var r=e.onUncaughtError;r(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function Of(e,a,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Sc(e,a,r){return r=ts(r),r.tag=3,r.payload={element:null},r.callback=function(){el(e,a)},r}function Cf(e){return e=ts(e),e.tag=3,e}function Rf(e,a,r,l){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var h=l.value;e.payload=function(){return d(h)},e.callback=function(){Of(a,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Of(a,r,l),typeof d!="function"&&(os===null?os=new Set([this]):os.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Rx(e,a,r,l,d){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=r.alternate,a!==null&&vn(a,r,d,!0),r=qt.current,r!==null){switch(r.tag){case 31:case 13:return ea===null?hl():r.alternate===null&&Je===0&&(Je=3),r.flags&=-257,r.flags|=65536,r.lanes=d,l===$i?r.flags|=16384:(a=r.updateQueue,a===null?r.updateQueue=new Set([l]):a.add(l),Qc(e,l,d)),!1;case 22:return r.flags|=65536,l===$i?r.flags|=16384:(a=r.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=a):(r=a.retryQueue,r===null?a.retryQueue=new Set([l]):r.add(l)),Qc(e,l,d)),!1}throw Error(i(435,r.tag))}return Qc(e,l,d),hl(),!1}if(je)return a=qt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,l!==Vo&&(e=Error(i(422),{cause:l}),vr(Xt(e,r)))):(l!==Vo&&(a=Error(i(423),{cause:l}),vr(Xt(a,r))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,l=Xt(l,r),d=Sc(e.stateNode,l,d),ac(e,d),Je!==4&&(Je=2)),!1;var h=Error(i(520),{cause:l});if(h=Xt(h,r),Br===null?Br=[h]:Br.push(h),Je!==4&&(Je=2),a===null)return!0;l=Xt(l,r),r=a;do{switch(r.tag){case 3:return r.flags|=65536,e=d&-d,r.lanes|=e,e=Sc(r.stateNode,l,e),ac(r,e),!1;case 1:if(a=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(os===null||!os.has(h))))return r.flags|=65536,d&=-d,r.lanes|=d,d=Cf(d),Rf(d,e,r,l),ac(r,d),!1}r=r.return}while(r!==null);return!1}var Ac=Error(i(461)),st=!1;function mt(e,a,r,l){a.child=e===null?zh(a,null,r,l):Ps(a,e.child,r,l)}function Df(e,a,r,l,d){r=r.render;var h=a.ref;if("ref"in l){var p={};for(var b in l)b!=="ref"&&(p[b]=l[b])}else p=l;return qs(a),l=oc(e,a,r,p,h,d),b=cc(),e!==null&&!st?(uc(e,a,d),Ra(e,a,d)):(je&&b&&Ho(a),a.flags|=1,mt(e,a,l,d),a.child)}function Mf(e,a,r,l,d){if(e===null){var h=r.type;return typeof h=="function"&&!Io(h)&&h.defaultProps===void 0&&r.compare===null?(a.tag=15,a.type=h,zf(e,a,h,l,d)):(e=zi(r.type,null,l,a,a.mode,d),e.ref=a.ref,e.return=a,a.child=e)}if(h=e.child,!zc(e,d)){var p=h.memoizedProps;if(r=r.compare,r=r!==null?r:xr,r(p,l)&&e.ref===a.ref)return Ra(e,a,d)}return a.flags|=1,e=Sa(h,l),e.ref=a.ref,e.return=a,a.child=e}function zf(e,a,r,l,d){if(e!==null){var h=e.memoizedProps;if(xr(h,l)&&e.ref===a.ref)if(st=!1,a.pendingProps=l=h,zc(e,d))(e.flags&131072)!==0&&(st=!0);else return a.lanes=e.lanes,Ra(e,a,d)}return Ec(e,a,r,l,d)}function Uf(e,a,r,l){var d=l.children,h=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((a.flags&128)!==0){if(h=h!==null?h.baseLanes|r:r,e!==null){for(l=a.child=e.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~h}else l=0,a.child=null;return Lf(e,a,h,r,l)}if((r&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bi(a,h!==null?h.cachePool:null),h!==null?qh(a,h):nc(),Bh(a);else return l=a.lanes=536870912,Lf(e,a,h!==null?h.baseLanes|r:r,r,l)}else h!==null?(Bi(a,h.cachePool),qh(a,h),ns(),a.memoizedState=null):(e!==null&&Bi(a,null),nc(),ns());return mt(e,a,d,r),a.child}function Rr(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Lf(e,a,r,l,d){var h=Fo();return h=h===null?null:{parent:tt._currentValue,pool:h},a.memoizedState={baseLanes:r,cachePool:h},e!==null&&Bi(a,null),nc(),Bh(a),e!==null&&vn(e,a,l,!0),a.childLanes=d,null}function tl(e,a){return a=sl({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function qf(e,a,r){return Ps(a,e.child,null,r),e=tl(a,a.pendingProps),e.flags|=2,Bt(a),a.memoizedState=null,e}function Dx(e,a,r){var l=a.pendingProps,d=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(je){if(l.mode==="hidden")return e=tl(a,l),a.lanes=536870912,Rr(null,e);if(ic(a),(e=$e)?(e=Xm(e,Wt),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Xa!==null?{id:pa,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},r=vh(e),r.return=a,a.child=r,ht=a,$e=null)):e=null,e===null)throw Fa(a);return a.lanes=536870912,null}return tl(a,l)}var h=e.memoizedState;if(h!==null){var p=h.dehydrated;if(ic(a),d)if(a.flags&256)a.flags&=-257,a=qf(e,a,r);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(i(558));else if(st||vn(e,a,r,!1),d=(r&e.childLanes)!==0,st||d){if(l=qe,l!==null&&(p=Ad(l,r),p!==0&&p!==h.retryLane))throw h.retryLane=p,Ms(e,p),Tt(l,e,p),Ac;hl(),a=qf(e,a,r)}else e=h.treeContext,$e=ta(p.nextSibling),ht=a,je=!0,Qa=null,Wt=!1,e!==null&&jh(a,e),a=tl(a,l),a.flags|=4096;return a}return e=Sa(e.child,{mode:l.mode,children:l.children}),e.ref=a.ref,a.child=e,e.return=a,e}function al(e,a){var r=a.ref;if(r===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(e===null||e.ref!==r)&&(a.flags|=4194816)}}function Ec(e,a,r,l,d){return qs(a),r=oc(e,a,r,l,void 0,d),l=cc(),e!==null&&!st?(uc(e,a,d),Ra(e,a,d)):(je&&l&&Ho(a),a.flags|=1,mt(e,a,r,d),a.child)}function Bf(e,a,r,l,d,h){return qs(a),a.updateQueue=null,r=$h(a,l,r,d),Ih(e),l=cc(),e!==null&&!st?(uc(e,a,h),Ra(e,a,h)):(je&&l&&Ho(a),a.flags|=1,mt(e,a,r,h),a.child)}function If(e,a,r,l,d){if(qs(a),a.stateNode===null){var h=pn,p=r.contextType;typeof p=="object"&&p!==null&&(h=ft(p)),h=new r(l,h),a.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=kc,a.stateNode=h,h._reactInternals=a,h=a.stateNode,h.props=l,h.state=a.memoizedState,h.refs={},ec(a),p=r.contextType,h.context=typeof p=="object"&&p!==null?ft(p):pn,h.state=a.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Nc(a,r,p,l),h.state=a.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(p=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),p!==h.state&&kc.enqueueReplaceState(h,h.state,null),Ar(a,l,h,d),Sr(),h.state=a.memoizedState),typeof h.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(e===null){h=a.stateNode;var b=a.memoizedProps,w=Gs(r,b);h.props=w;var A=h.context,D=r.contextType;p=pn,typeof D=="object"&&D!==null&&(p=ft(D));var z=r.getDerivedStateFromProps;D=typeof z=="function"||typeof h.getSnapshotBeforeUpdate=="function",b=a.pendingProps!==b,D||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b||A!==p)&&Sf(a,h,l,p),es=!1;var O=a.memoizedState;h.state=O,Ar(a,l,h,d),Sr(),A=a.memoizedState,b||O!==A||es?(typeof z=="function"&&(Nc(a,r,z,l),A=a.memoizedState),(w=es||kf(a,r,w,l,O,A,p))?(D||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(a.flags|=4194308)):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=A),h.props=l,h.state=A,h.context=p,l=w):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{h=a.stateNode,tc(e,a),p=a.memoizedProps,D=Gs(r,p),h.props=D,z=a.pendingProps,O=h.context,A=r.contextType,w=pn,typeof A=="object"&&A!==null&&(w=ft(A)),b=r.getDerivedStateFromProps,(A=typeof b=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==z||O!==w)&&Sf(a,h,l,w),es=!1,O=a.memoizedState,h.state=O,Ar(a,l,h,d),Sr();var R=a.memoizedState;p!==z||O!==R||es||e!==null&&e.dependencies!==null&&Li(e.dependencies)?(typeof b=="function"&&(Nc(a,r,b,l),R=a.memoizedState),(D=es||kf(a,r,D,l,O,R,w)||e!==null&&e.dependencies!==null&&Li(e.dependencies))?(A||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,R,w),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,R,w)),typeof h.componentDidUpdate=="function"&&(a.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=R),h.props=l,h.state=R,h.context=w,l=D):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(a.flags|=1024),l=!1)}return h=l,al(e,a),l=(a.flags&128)!==0,h||l?(h=a.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),a.flags|=1,e!==null&&l?(a.child=Ps(a,e.child,null,d),a.child=Ps(a,null,r,d)):mt(e,a,r,d),a.memoizedState=h.state,e=a.child):e=Ra(e,a,d),e}function $f(e,a,r,l){return Us(),a.flags|=256,mt(e,a,r,l),a.child}var Tc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oc(e){return{baseLanes:e,cachePool:Th()}}function Cc(e,a,r){return e=e!==null?e.childLanes&~r:0,a&&(e|=$t),e}function Pf(e,a,r){var l=a.pendingProps,d=!1,h=(a.flags&128)!==0,p;if((p=h)||(p=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),p&&(d=!0,a.flags&=-129),p=(a.flags&32)!==0,a.flags&=-33,e===null){if(je){if(d?ss(a):ns(),(e=$e)?(e=Xm(e,Wt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Xa!==null?{id:pa,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},r=vh(e),r.return=a,a.child=r,ht=a,$e=null)):e=null,e===null)throw Fa(a);return fu(e)?a.lanes=32:a.lanes=536870912,null}var b=l.children;return l=l.fallback,d?(ns(),d=a.mode,b=sl({mode:"hidden",children:b},d),l=zs(l,d,r,null),b.return=a,l.return=a,b.sibling=l,a.child=b,l=a.child,l.memoizedState=Oc(r),l.childLanes=Cc(e,p,r),a.memoizedState=Tc,Rr(null,l)):(ss(a),Rc(a,b))}var w=e.memoizedState;if(w!==null&&(b=w.dehydrated,b!==null)){if(h)a.flags&256?(ss(a),a.flags&=-257,a=Dc(e,a,r)):a.memoizedState!==null?(ns(),a.child=e.child,a.flags|=128,a=null):(ns(),b=l.fallback,d=a.mode,l=sl({mode:"visible",children:l.children},d),b=zs(b,d,r,null),b.flags|=2,l.return=a,b.return=a,l.sibling=b,a.child=l,Ps(a,e.child,null,r),l=a.child,l.memoizedState=Oc(r),l.childLanes=Cc(e,p,r),a.memoizedState=Tc,a=Rr(null,l));else if(ss(a),fu(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var A=p.dgst;p=A,l=Error(i(419)),l.stack="",l.digest=p,vr({value:l,source:null,stack:null}),a=Dc(e,a,r)}else if(st||vn(e,a,r,!1),p=(r&e.childLanes)!==0,st||p){if(p=qe,p!==null&&(l=Ad(p,r),l!==0&&l!==w.retryLane))throw w.retryLane=l,Ms(e,l),Tt(p,e,l),Ac;hu(b)||hl(),a=Dc(e,a,r)}else hu(b)?(a.flags|=192,a.child=e.child,a=null):(e=w.treeContext,$e=ta(b.nextSibling),ht=a,je=!0,Qa=null,Wt=!1,e!==null&&jh(a,e),a=Rc(a,l.children),a.flags|=4096);return a}return d?(ns(),b=l.fallback,d=a.mode,w=e.child,A=w.sibling,l=Sa(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,A!==null?b=Sa(A,b):(b=zs(b,d,r,null),b.flags|=2),b.return=a,l.return=a,l.sibling=b,a.child=l,Rr(null,l),l=a.child,b=e.child.memoizedState,b===null?b=Oc(r):(d=b.cachePool,d!==null?(w=tt._currentValue,d=d.parent!==w?{parent:w,pool:w}:d):d=Th(),b={baseLanes:b.baseLanes|r,cachePool:d}),l.memoizedState=b,l.childLanes=Cc(e,p,r),a.memoizedState=Tc,Rr(e.child,l)):(ss(a),r=e.child,e=r.sibling,r=Sa(r,{mode:"visible",children:l.children}),r.return=a,r.sibling=null,e!==null&&(p=a.deletions,p===null?(a.deletions=[e],a.flags|=16):p.push(e)),a.child=r,a.memoizedState=null,r)}function Rc(e,a){return a=sl({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function sl(e,a){return e=Lt(22,e,null,a),e.lanes=0,e}function Dc(e,a,r){return Ps(a,e.child,null,r),e=Rc(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function Hf(e,a,r){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a),Ko(e.return,a,r)}function Mc(e,a,r,l,d,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:d,treeForkCount:h}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=d,p.treeForkCount=h)}function Gf(e,a,r){var l=a.pendingProps,d=l.revealOrder,h=l.tail;l=l.children;var p=We.current,b=(p&2)!==0;if(b?(p=p&1|2,a.flags|=128):p&=1,pe(We,p),mt(e,a,l,r),l=je?yr:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hf(e,r,a);else if(e.tag===19)Hf(e,r,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(r=a.child,d=null;r!==null;)e=r.alternate,e!==null&&Vi(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=a.child,a.child=null):(d=r.sibling,r.sibling=null),Mc(a,!1,d,r,h,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=a.child,a.child=null;d!==null;){if(e=d.alternate,e!==null&&Vi(e)===null){a.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}Mc(a,!0,r,null,h,l);break;case"together":Mc(a,!1,null,null,void 0,l);break;default:a.memoizedState=null}return a.child}function Ra(e,a,r){if(e!==null&&(a.dependencies=e.dependencies),ls|=a.lanes,(r&a.childLanes)===0)if(e!==null){if(vn(e,a,r,!1),(r&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(i(153));if(a.child!==null){for(e=a.child,r=Sa(e,e.pendingProps),a.child=r,r.return=a;e.sibling!==null;)e=e.sibling,r=r.sibling=Sa(e,e.pendingProps),r.return=a;r.sibling=null}return a.child}function zc(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&Li(e)))}function Mx(e,a,r){switch(a.tag){case 3:Za(a,a.stateNode.containerInfo),Wa(a,tt,e.memoizedState.cache),Us();break;case 27:case 5:no(a);break;case 4:Za(a,a.stateNode.containerInfo);break;case 10:Wa(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,ic(a),null;break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(ss(a),a.flags|=128,null):(r&a.child.childLanes)!==0?Pf(e,a,r):(ss(a),e=Ra(e,a,r),e!==null?e.sibling:null);ss(a);break;case 19:var d=(e.flags&128)!==0;if(l=(r&a.childLanes)!==0,l||(vn(e,a,r,!1),l=(r&a.childLanes)!==0),d){if(l)return Gf(e,a,r);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),pe(We,We.current),l)break;return null;case 22:return a.lanes=0,Uf(e,a,r,a.pendingProps);case 24:Wa(a,tt,e.memoizedState.cache)}return Ra(e,a,r)}function Vf(e,a,r){if(e!==null)if(e.memoizedProps!==a.pendingProps)st=!0;else{if(!zc(e,r)&&(a.flags&128)===0)return st=!1,Mx(e,a,r);st=(e.flags&131072)!==0}else st=!1,je&&(a.flags&1048576)!==0&&_h(a,yr,a.index);switch(a.lanes=0,a.tag){case 16:e:{var l=a.pendingProps;if(e=Is(a.elementType),a.type=e,typeof e=="function")Io(e)?(l=Gs(e,l),a.tag=1,a=If(null,a,e,l,r)):(a.tag=0,a=Ec(null,a,e,l,r));else{if(e!=null){var d=e.$$typeof;if(d===V){a.tag=11,a=Df(null,a,e,l,r);break e}else if(d===ie){a.tag=14,a=Mf(null,a,e,l,r);break e}}throw a=Ct(e)||e,Error(i(306,a,""))}}return a;case 0:return Ec(e,a,a.type,a.pendingProps,r);case 1:return l=a.type,d=Gs(l,a.pendingProps),If(e,a,l,d,r);case 3:e:{if(Za(a,a.stateNode.containerInfo),e===null)throw Error(i(387));l=a.pendingProps;var h=a.memoizedState;d=h.element,tc(e,a),Ar(a,l,null,r);var p=a.memoizedState;if(l=p.cache,Wa(a,tt,l),l!==h.cache&&Jo(a,[tt],r,!0),Sr(),l=p.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:p.cache},a.updateQueue.baseState=h,a.memoizedState=h,a.flags&256){a=$f(e,a,l,r);break e}else if(l!==d){d=Xt(Error(i(424)),a),vr(d),a=$f(e,a,l,r);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=ta(e.firstChild),ht=a,je=!0,Qa=null,Wt=!0,r=zh(a,null,l,r),a.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Us(),l===d){a=Ra(e,a,r);break e}mt(e,a,l,r)}a=a.child}return a;case 26:return al(e,a),e===null?(r=a0(a.type,null,a.pendingProps,null))?a.memoizedState=r:je||(r=a.type,e=a.pendingProps,l=yl(ma.current).createElement(r),l[dt]=a,l[jt]=e,gt(l,r,e),ct(l),a.stateNode=l):a.memoizedState=a0(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return no(a),e===null&&je&&(l=a.stateNode=Wm(a.type,a.pendingProps,ma.current),ht=a,Wt=!0,d=$e,hs(a.type)?(mu=d,$e=ta(l.firstChild)):$e=d),mt(e,a,a.pendingProps.children,r),al(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&je&&((d=l=$e)&&(l=ub(l,a.type,a.pendingProps,Wt),l!==null?(a.stateNode=l,ht=a,$e=ta(l.firstChild),Wt=!1,d=!0):d=!1),d||Fa(a)),no(a),d=a.type,h=a.pendingProps,p=e!==null?e.memoizedProps:null,l=h.children,cu(d,h)?l=null:p!==null&&cu(d,p)&&(a.flags|=32),a.memoizedState!==null&&(d=oc(e,a,kx,null,null,r),Yr._currentValue=d),al(e,a),mt(e,a,l,r),a.child;case 6:return e===null&&je&&((e=r=$e)&&(r=db(r,a.pendingProps,Wt),r!==null?(a.stateNode=r,ht=a,$e=null,e=!0):e=!1),e||Fa(a)),null;case 13:return Pf(e,a,r);case 4:return Za(a,a.stateNode.containerInfo),l=a.pendingProps,e===null?a.child=Ps(a,null,l,r):mt(e,a,l,r),a.child;case 11:return Df(e,a,a.type,a.pendingProps,r);case 7:return mt(e,a,a.pendingProps,r),a.child;case 8:return mt(e,a,a.pendingProps.children,r),a.child;case 12:return mt(e,a,a.pendingProps.children,r),a.child;case 10:return l=a.pendingProps,Wa(a,a.type,l.value),mt(e,a,l.children,r),a.child;case 9:return d=a.type._context,l=a.pendingProps.children,qs(a),d=ft(d),l=l(d),a.flags|=1,mt(e,a,l,r),a.child;case 14:return Mf(e,a,a.type,a.pendingProps,r);case 15:return zf(e,a,a.type,a.pendingProps,r);case 19:return Gf(e,a,r);case 31:return Dx(e,a,r);case 22:return Uf(e,a,r,a.pendingProps);case 24:return qs(a),l=ft(tt),e===null?(d=Fo(),d===null&&(d=qe,h=Xo(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=r),d=h),a.memoizedState={parent:l,cache:d},ec(a),Wa(a,tt,d)):((e.lanes&r)!==0&&(tc(e,a),Ar(a,null,null,r),Sr()),d=e.memoizedState,h=a.memoizedState,d.parent!==l?(d={parent:l,cache:l},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),Wa(a,tt,l)):(l=h.cache,Wa(a,tt,l),l!==d.cache&&Jo(a,[tt],r,!0))),mt(e,a,a.pendingProps.children,r),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Da(e){e.flags|=4}function Uc(e,a,r,l,d){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(bm())e.flags|=8192;else throw $s=$i,Wo}else e.flags&=-16777217}function Zf(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!l0(a))if(bm())e.flags|=8192;else throw $s=$i,Wo}function nl(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?Nd():536870912,e.lanes|=a,Rn|=a)}function Dr(e,a){if(!je)switch(e.tailMode){case"hidden":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Pe(e){var a=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(a)for(var d=e.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=r,a}function zx(e,a,r){var l=a.pendingProps;switch(Go(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(a),null;case 1:return Pe(a),null;case 3:return r=a.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ta(tt),ga(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(yn(a)?Da(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Zo())),Pe(a),null;case 26:var d=a.type,h=a.memoizedState;return e===null?(Da(a),h!==null?(Pe(a),Zf(a,h)):(Pe(a),Uc(a,d,null,l,r))):h?h!==e.memoizedState?(Da(a),Pe(a),Zf(a,h)):(Pe(a),a.flags&=-16777217):(e=e.memoizedProps,e!==l&&Da(a),Pe(a),Uc(a,d,e,l,r)),null;case 27:if(gi(a),r=ma.current,d=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==l&&Da(a);else{if(!l){if(a.stateNode===null)throw Error(i(166));return Pe(a),null}e=Ye.current,yn(a)?Nh(a):(e=Wm(d,l,r),a.stateNode=e,Da(a))}return Pe(a),null;case 5:if(gi(a),d=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==l&&Da(a);else{if(!l){if(a.stateNode===null)throw Error(i(166));return Pe(a),null}if(h=Ye.current,yn(a))Nh(a);else{var p=yl(ma.current);switch(h){case 1:h=p.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=p.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=p.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=p.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=p.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?p.createElement(d,{is:l.is}):p.createElement(d)}}h[dt]=a,h[jt]=l;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)h.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=h;e:switch(gt(h,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Da(a)}}return Pe(a),Uc(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,r),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==l&&Da(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(i(166));if(e=ma.current,yn(a)){if(e=a.stateNode,r=a.memoizedProps,l=null,d=ht,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}e[dt]=a,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Pm(e.nodeValue,r)),e||Fa(a,!0)}else e=yl(e).createTextNode(l),e[dt]=a,a.stateNode=e}return Pe(a),null;case 31:if(r=a.memoizedState,e===null||e.memoizedState!==null){if(l=yn(a),r!==null){if(e===null){if(!l)throw Error(i(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[dt]=a}else Us(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pe(a),e=!1}else r=Zo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return a.flags&256?(Bt(a),a):(Bt(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Pe(a),null;case 13:if(l=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=yn(a),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(i(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[dt]=a}else Us(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pe(a),d=!1}else d=Zo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(Bt(a),a):(Bt(a),null)}return Bt(a),(a.flags&128)!==0?(a.lanes=r,a):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=a.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==d&&(l.flags|=2048)),r!==e&&r&&(a.child.flags|=8192),nl(a,a.updateQueue),Pe(a),null);case 4:return ga(),e===null&&nu(a.stateNode.containerInfo),Pe(a),null;case 10:return Ta(a.type),Pe(a),null;case 19:if(_e(We),l=a.memoizedState,l===null)return Pe(a),null;if(d=(a.flags&128)!==0,h=l.rendering,h===null)if(d)Dr(l,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(h=Vi(e),h!==null){for(a.flags|=128,Dr(l,!1),e=h.updateQueue,a.updateQueue=e,nl(a,e),a.subtreeFlags=0,e=r,r=a.child;r!==null;)yh(r,e),r=r.sibling;return pe(We,We.current&1|2),je&&Aa(a,l.treeForkCount),a.child}e=e.sibling}l.tail!==null&&Dt()>cl&&(a.flags|=128,d=!0,Dr(l,!1),a.lanes=4194304)}else{if(!d)if(e=Vi(h),e!==null){if(a.flags|=128,d=!0,e=e.updateQueue,a.updateQueue=e,nl(a,e),Dr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!je)return Pe(a),null}else 2*Dt()-l.renderingStartTime>cl&&r!==536870912&&(a.flags|=128,d=!0,Dr(l,!1),a.lanes=4194304);l.isBackwards?(h.sibling=a.child,a.child=h):(e=l.last,e!==null?e.sibling=h:a.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Dt(),e.sibling=null,r=We.current,pe(We,d?r&1|2:r&1),je&&Aa(a,l.treeForkCount),e):(Pe(a),null);case 22:case 23:return Bt(a),rc(),l=a.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(r&536870912)!==0&&(a.flags&128)===0&&(Pe(a),a.subtreeFlags&6&&(a.flags|=8192)):Pe(a),r=a.updateQueue,r!==null&&nl(a,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==r&&(a.flags|=2048),e!==null&&_e(Bs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),Ta(tt),Pe(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Ux(e,a){switch(Go(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return Ta(tt),ga(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return gi(a),null;case 31:if(a.memoizedState!==null){if(Bt(a),a.alternate===null)throw Error(i(340));Us()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(Bt(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Us()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return _e(We),null;case 4:return ga(),null;case 10:return Ta(a.type),null;case 22:case 23:return Bt(a),rc(),e!==null&&_e(Bs),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return Ta(tt),null;case 25:return null;default:return null}}function Yf(e,a){switch(Go(a),a.tag){case 3:Ta(tt),ga();break;case 26:case 27:case 5:gi(a);break;case 4:ga();break;case 31:a.memoizedState!==null&&Bt(a);break;case 13:Bt(a);break;case 19:_e(We);break;case 10:Ta(a.type);break;case 22:case 23:Bt(a),rc(),e!==null&&_e(Bs);break;case 24:Ta(tt)}}function Mr(e,a){try{var r=a.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var d=l.next;r=d;do{if((r.tag&e)===e){l=void 0;var h=r.create,p=r.inst;l=h(),p.destroy=l}r=r.next}while(r!==d)}}catch(b){Ce(a,a.return,b)}}function rs(e,a,r){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var h=d.next;l=h;do{if((l.tag&e)===e){var p=l.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,d=a;var w=r,A=b;try{A()}catch(D){Ce(d,w,D)}}}l=l.next}while(l!==h)}}catch(D){Ce(a,a.return,D)}}function Kf(e){var a=e.updateQueue;if(a!==null){var r=e.stateNode;try{Lh(a,r)}catch(l){Ce(e,e.return,l)}}}function Jf(e,a,r){r.props=Gs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Ce(e,a,l)}}function zr(e,a){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(d){Ce(e,a,d)}}function ba(e,a){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(d){Ce(e,a,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){Ce(e,a,d)}else r.current=null}function Xf(e){var a=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(d){Ce(e,e.return,d)}}function Lc(e,a,r){try{var l=e.stateNode;nb(l,e.type,r,a),l[jt]=a}catch(d){Ce(e,e.return,d)}}function Qf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&hs(e.type)||e.tag===4}function qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&hs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bc(e,a,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,a?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,a):(a=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.appendChild(e),r=r._reactRootContainer,r!=null||a.onclick!==null||(a.onclick=Na));else if(l!==4&&(l===27&&hs(e.type)&&(r=e.stateNode,a=null),e=e.child,e!==null))for(Bc(e,a,r),e=e.sibling;e!==null;)Bc(e,a,r),e=e.sibling}function rl(e,a,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,a?r.insertBefore(e,a):r.appendChild(e);else if(l!==4&&(l===27&&hs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(rl(e,a,r),e=e.sibling;e!==null;)rl(e,a,r),e=e.sibling}function Ff(e){var a=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);gt(a,l,r),a[dt]=e,a[jt]=r}catch(h){Ce(e,e.return,h)}}var Ma=!1,nt=!1,Ic=!1,Wf=typeof WeakSet=="function"?WeakSet:Set,ut=null;function Lx(e,a){if(e=e.containerInfo,lu=Sl,e=uh(e),Do(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var d=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var p=0,b=-1,w=-1,A=0,D=0,z=e,O=null;t:for(;;){for(var R;z!==r||d!==0&&z.nodeType!==3||(b=p+d),z!==h||l!==0&&z.nodeType!==3||(w=p+l),z.nodeType===3&&(p+=z.nodeValue.length),(R=z.firstChild)!==null;)O=z,z=R;for(;;){if(z===e)break t;if(O===r&&++A===d&&(b=p),O===h&&++D===l&&(w=p),(R=z.nextSibling)!==null)break;z=O,O=z.parentNode}z=R}r=b===-1||w===-1?null:{start:b,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(ou={focusedElem:e,selectionRange:r},Sl=!1,ut=a;ut!==null;)if(a=ut,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,ut=e;else for(;ut!==null;){switch(a=ut,h=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)d=e[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,r=a,d=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var Z=Gs(r.type,d);e=l.getSnapshotBeforeUpdate(Z,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(se){Ce(r,r.return,se)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,r=e.nodeType,r===9)du(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":du(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=a.sibling,e!==null){e.return=a.return,ut=e;break}ut=a.return}}function em(e,a,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ua(e,r),l&4&&Mr(5,r);break;case 1:if(Ua(e,r),l&4)if(e=r.stateNode,a===null)try{e.componentDidMount()}catch(p){Ce(r,r.return,p)}else{var d=Gs(r.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(d,a,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ce(r,r.return,p)}}l&64&&Kf(r),l&512&&zr(r,r.return);break;case 3:if(Ua(e,r),l&64&&(e=r.updateQueue,e!==null)){if(a=null,r.child!==null)switch(r.child.tag){case 27:case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}try{Lh(e,a)}catch(p){Ce(r,r.return,p)}}break;case 27:a===null&&l&4&&Ff(r);case 26:case 5:Ua(e,r),a===null&&l&4&&Xf(r),l&512&&zr(r,r.return);break;case 12:Ua(e,r);break;case 31:Ua(e,r),l&4&&sm(e,r);break;case 13:Ua(e,r),l&4&&nm(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Zx.bind(null,r),hb(e,r))));break;case 22:if(l=r.memoizedState!==null||Ma,!l){a=a!==null&&a.memoizedState!==null||nt,d=Ma;var h=nt;Ma=l,(nt=a)&&!h?La(e,r,(r.subtreeFlags&8772)!==0):Ua(e,r),Ma=d,nt=h}break;case 30:break;default:Ua(e,r)}}function tm(e){var a=e.alternate;a!==null&&(e.alternate=null,tm(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&po(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,kt=!1;function za(e,a,r){for(r=r.child;r!==null;)am(e,a,r),r=r.sibling}function am(e,a,r){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(rr,r)}catch{}switch(r.tag){case 26:nt||ba(r,a),za(e,a,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:nt||ba(r,a);var l=Ve,d=kt;hs(r.type)&&(Ve=r.stateNode,kt=!1),za(e,a,r),Gr(r.stateNode),Ve=l,kt=d;break;case 5:nt||ba(r,a);case 6:if(l=Ve,d=kt,Ve=null,za(e,a,r),Ve=l,kt=d,Ve!==null)if(kt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(r.stateNode)}catch(h){Ce(r,a,h)}else try{Ve.removeChild(r.stateNode)}catch(h){Ce(r,a,h)}break;case 18:Ve!==null&&(kt?(e=Ve,Km(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),In(e)):Km(Ve,r.stateNode));break;case 4:l=Ve,d=kt,Ve=r.stateNode.containerInfo,kt=!0,za(e,a,r),Ve=l,kt=d;break;case 0:case 11:case 14:case 15:rs(2,r,a),nt||rs(4,r,a),za(e,a,r);break;case 1:nt||(ba(r,a),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Jf(r,a,l)),za(e,a,r);break;case 21:za(e,a,r);break;case 22:nt=(l=nt)||r.memoizedState!==null,za(e,a,r),nt=l;break;default:za(e,a,r)}}function sm(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{In(e)}catch(r){Ce(a,a.return,r)}}}function nm(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{In(e)}catch(r){Ce(a,a.return,r)}}function qx(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new Wf),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new Wf),a;default:throw Error(i(435,e.tag))}}function il(e,a){var r=qx(e);a.forEach(function(l){if(!r.has(l)){r.add(l);var d=Yx.bind(null,e,l);l.then(d,d)}})}function St(e,a){var r=a.deletions;if(r!==null)for(var l=0;l<r.length;l++){var d=r[l],h=e,p=a,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(hs(b.type)){Ve=b.stateNode,kt=!1;break e}break;case 5:Ve=b.stateNode,kt=!1;break e;case 3:case 4:Ve=b.stateNode.containerInfo,kt=!0;break e}b=b.return}if(Ve===null)throw Error(i(160));am(h,p,d),Ve=null,kt=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)rm(a,e),a=a.sibling}var ia=null;function rm(e,a){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:St(a,e),At(e),l&4&&(rs(3,e,e.return),Mr(3,e),rs(5,e,e.return));break;case 1:St(a,e),At(e),l&512&&(nt||r===null||ba(r,r.return)),l&64&&Ma&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var d=ia;if(St(a,e),At(e),l&512&&(nt||r===null||ba(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":h=d.getElementsByTagName("title")[0],(!h||h[or]||h[dt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(l),d.head.insertBefore(h,d.querySelector("head > title"))),gt(h,l,r),h[dt]=e,ct(h),l=h;break e;case"link":var p=r0("link","href",d).get(l+(r.href||""));if(p){for(var b=0;b<p.length;b++)if(h=p[b],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(b,1);break t}}h=d.createElement(l),gt(h,l,r),d.head.appendChild(h);break;case"meta":if(p=r0("meta","content",d).get(l+(r.content||""))){for(b=0;b<p.length;b++)if(h=p[b],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(b,1);break t}}h=d.createElement(l),gt(h,l,r),d.head.appendChild(h);break;default:throw Error(i(468,l))}h[dt]=e,ct(h),l=h}e.stateNode=l}else i0(d,e.type,e.stateNode);else e.stateNode=n0(d,l,e.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?i0(d,e.type,e.stateNode):n0(d,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Lc(e,e.memoizedProps,r.memoizedProps)}break;case 27:St(a,e),At(e),l&512&&(nt||r===null||ba(r,r.return)),r!==null&&l&4&&Lc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(St(a,e),At(e),l&512&&(nt||r===null||ba(r,r.return)),e.flags&32){d=e.stateNode;try{cn(d,"")}catch(Z){Ce(e,e.return,Z)}}l&4&&e.stateNode!=null&&(d=e.memoizedProps,Lc(e,d,r!==null?r.memoizedProps:d)),l&1024&&(Ic=!0);break;case 6:if(St(a,e),At(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(Z){Ce(e,e.return,Z)}}break;case 3:if(_l=null,d=ia,ia=vl(a.containerInfo),St(a,e),ia=d,At(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{In(a.containerInfo)}catch(Z){Ce(e,e.return,Z)}Ic&&(Ic=!1,im(e));break;case 4:l=ia,ia=vl(e.stateNode.containerInfo),St(a,e),At(e),ia=l;break;case 12:St(a,e),At(e);break;case 31:St(a,e),At(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,il(e,l)));break;case 13:St(a,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ol=Dt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,il(e,l)));break;case 22:d=e.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,A=Ma,D=nt;if(Ma=A||d,nt=D||w,St(a,e),nt=D,Ma=A,At(e),l&8192)e:for(a=e.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(r===null||w||Ma||nt||Vs(e)),r=null,a=e;;){if(a.tag===5||a.tag===26){if(r===null){w=r=a;try{if(h=w.stateNode,d)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=w.stateNode;var z=w.memoizedProps.style,O=z!=null&&z.hasOwnProperty("display")?z.display:null;b.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(Z){Ce(w,w.return,Z)}}}else if(a.tag===6){if(r===null){w=a;try{w.stateNode.nodeValue=d?"":w.memoizedProps}catch(Z){Ce(w,w.return,Z)}}}else if(a.tag===18){if(r===null){w=a;try{var R=w.stateNode;d?Jm(R,!0):Jm(w.stateNode,!1)}catch(Z){Ce(w,w.return,Z)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;r===a&&(r=null),a=a.return}r===a&&(r=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,il(e,r))));break;case 19:St(a,e),At(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,il(e,l)));break;case 30:break;case 21:break;default:St(a,e),At(e)}}function At(e){var a=e.flags;if(a&2){try{for(var r,l=e.return;l!==null;){if(Qf(l)){r=l;break}l=l.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var d=r.stateNode,h=qc(e);rl(e,h,d);break;case 5:var p=r.stateNode;r.flags&32&&(cn(p,""),r.flags&=-33);var b=qc(e);rl(e,b,p);break;case 3:case 4:var w=r.stateNode.containerInfo,A=qc(e);Bc(e,A,w);break;default:throw Error(i(161))}}catch(D){Ce(e,e.return,D)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function im(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;im(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function Ua(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)em(e,a.alternate,a),a=a.sibling}function Vs(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:rs(4,a,a.return),Vs(a);break;case 1:ba(a,a.return);var r=a.stateNode;typeof r.componentWillUnmount=="function"&&Jf(a,a.return,r),Vs(a);break;case 27:Gr(a.stateNode);case 26:case 5:ba(a,a.return),Vs(a);break;case 22:a.memoizedState===null&&Vs(a);break;case 30:Vs(a);break;default:Vs(a)}e=e.sibling}}function La(e,a,r){for(r=r&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,d=e,h=a,p=h.flags;switch(h.tag){case 0:case 11:case 15:La(d,h,r),Mr(4,h);break;case 1:if(La(d,h,r),l=h,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(A){Ce(l,l.return,A)}if(l=h,d=l.updateQueue,d!==null){var b=l.stateNode;try{var w=d.shared.hiddenCallbacks;if(w!==null)for(d.shared.hiddenCallbacks=null,d=0;d<w.length;d++)Uh(w[d],b)}catch(A){Ce(l,l.return,A)}}r&&p&64&&Kf(h),zr(h,h.return);break;case 27:Ff(h);case 26:case 5:La(d,h,r),r&&l===null&&p&4&&Xf(h),zr(h,h.return);break;case 12:La(d,h,r);break;case 31:La(d,h,r),r&&p&4&&sm(d,h);break;case 13:La(d,h,r),r&&p&4&&nm(d,h);break;case 22:h.memoizedState===null&&La(d,h,r),zr(h,h.return);break;case 30:break;default:La(d,h,r)}a=a.sibling}}function $c(e,a){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&wr(r))}function Pc(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&wr(e))}function la(e,a,r,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)lm(e,a,r,l),a=a.sibling}function lm(e,a,r,l){var d=a.flags;switch(a.tag){case 0:case 11:case 15:la(e,a,r,l),d&2048&&Mr(9,a);break;case 1:la(e,a,r,l);break;case 3:la(e,a,r,l),d&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&wr(e)));break;case 12:if(d&2048){la(e,a,r,l),e=a.stateNode;try{var h=a.memoizedProps,p=h.id,b=h.onPostCommit;typeof b=="function"&&b(p,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ce(a,a.return,w)}}else la(e,a,r,l);break;case 31:la(e,a,r,l);break;case 13:la(e,a,r,l);break;case 23:break;case 22:h=a.stateNode,p=a.alternate,a.memoizedState!==null?h._visibility&2?la(e,a,r,l):Ur(e,a):h._visibility&2?la(e,a,r,l):(h._visibility|=2,Tn(e,a,r,l,(a.subtreeFlags&10256)!==0||!1)),d&2048&&$c(p,a);break;case 24:la(e,a,r,l),d&2048&&Pc(a.alternate,a);break;default:la(e,a,r,l)}}function Tn(e,a,r,l,d){for(d=d&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var h=e,p=a,b=r,w=l,A=p.flags;switch(p.tag){case 0:case 11:case 15:Tn(h,p,b,w,d),Mr(8,p);break;case 23:break;case 22:var D=p.stateNode;p.memoizedState!==null?D._visibility&2?Tn(h,p,b,w,d):Ur(h,p):(D._visibility|=2,Tn(h,p,b,w,d)),d&&A&2048&&$c(p.alternate,p);break;case 24:Tn(h,p,b,w,d),d&&A&2048&&Pc(p.alternate,p);break;default:Tn(h,p,b,w,d)}a=a.sibling}}function Ur(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var r=e,l=a,d=l.flags;switch(l.tag){case 22:Ur(r,l),d&2048&&$c(l.alternate,l);break;case 24:Ur(r,l),d&2048&&Pc(l.alternate,l);break;default:Ur(r,l)}a=a.sibling}}var Lr=8192;function On(e,a,r){if(e.subtreeFlags&Lr)for(e=e.child;e!==null;)om(e,a,r),e=e.sibling}function om(e,a,r){switch(e.tag){case 26:On(e,a,r),e.flags&Lr&&e.memoizedState!==null&&Nb(r,ia,e.memoizedState,e.memoizedProps);break;case 5:On(e,a,r);break;case 3:case 4:var l=ia;ia=vl(e.stateNode.containerInfo),On(e,a,r),ia=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Lr,Lr=16777216,On(e,a,r),Lr=l):On(e,a,r));break;default:On(e,a,r)}}function cm(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function qr(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var l=a[r];ut=l,dm(l,e)}cm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)um(e),e=e.sibling}function um(e){switch(e.tag){case 0:case 11:case 15:qr(e),e.flags&2048&&rs(9,e,e.return);break;case 3:qr(e);break;case 12:qr(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,ll(e)):qr(e);break;default:qr(e)}}function ll(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var l=a[r];ut=l,dm(l,e)}cm(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:rs(8,a,a.return),ll(a);break;case 22:r=a.stateNode,r._visibility&2&&(r._visibility&=-3,ll(a));break;default:ll(a)}e=e.sibling}}function dm(e,a){for(;ut!==null;){var r=ut;switch(r.tag){case 0:case 11:case 15:rs(8,r,a);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:wr(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,ut=l;else e:for(r=e;ut!==null;){l=ut;var d=l.sibling,h=l.return;if(tm(l),l===r){ut=null;break e}if(d!==null){d.return=h,ut=d;break e}ut=h}}}var Bx={getCacheForType:function(e){var a=ft(tt),r=a.data.get(e);return r===void 0&&(r=e(),a.data.set(e,r)),r},cacheSignal:function(){return ft(tt).controller.signal}},Ix=typeof WeakMap=="function"?WeakMap:Map,Ee=0,qe=null,xe=null,ve=0,Oe=0,It=null,is=!1,Cn=!1,Hc=!1,qa=0,Je=0,ls=0,Zs=0,Gc=0,$t=0,Rn=0,Br=null,Et=null,Vc=!1,ol=0,hm=0,cl=1/0,ul=null,os=null,lt=0,cs=null,Dn=null,Ba=0,Zc=0,Yc=null,fm=null,Ir=0,Kc=null;function Pt(){return(Ee&2)!==0&&ve!==0?ve&-ve:T.T!==null?eu():Ed()}function mm(){if($t===0)if((ve&536870912)===0||je){var e=bi;bi<<=1,(bi&3932160)===0&&(bi=262144),$t=e}else $t=536870912;return e=qt.current,e!==null&&(e.flags|=32),$t}function Tt(e,a,r){(e===qe&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(Mn(e,0),us(e,ve,$t,!1)),lr(e,r),((Ee&2)===0||e!==qe)&&(e===qe&&((Ee&2)===0&&(Zs|=r),Je===4&&us(e,ve,$t,!1)),ya(e))}function gm(e,a,r){if((Ee&6)!==0)throw Error(i(327));var l=!r&&(a&127)===0&&(a&e.expiredLanes)===0||ir(e,a),d=l?Hx(e,a):Xc(e,a,!0),h=l;do{if(d===0){Cn&&!l&&us(e,a,0,!1);break}else{if(r=e.current.alternate,h&&!$x(r)){d=Xc(e,a,!1),h=!1;continue}if(d===2){if(h=a,e.errorRecoveryDisabledLanes&h)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){a=p;e:{var b=e;d=Br;var w=b.current.memoizedState.isDehydrated;if(w&&(Mn(b,p).flags|=256),p=Xc(b,p,!1),p!==2){if(Hc&&!w){b.errorRecoveryDisabledLanes|=h,Zs|=h,d=4;break e}h=Et,Et=d,h!==null&&(Et===null?Et=h:Et.push.apply(Et,h))}d=p}if(h=!1,d!==2)continue}}if(d===1){Mn(e,0),us(e,a,0,!0);break}e:{switch(l=e,h=d,h){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:us(l,a,$t,!is);break e;case 2:Et=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(d=ol+300-Dt(),10<d)){if(us(l,a,$t,!is),vi(l,0,!0)!==0)break e;Ba=a,l.timeoutHandle=Zm(pm.bind(null,l,r,Et,ul,Vc,a,$t,Zs,Rn,is,h,"Throttled",-0,0),d);break e}pm(l,r,Et,ul,Vc,a,$t,Zs,Rn,is,h,null,-0,0)}}break}while(!0);ya(e)}function pm(e,a,r,l,d,h,p,b,w,A,D,z,O,R){if(e.timeoutHandle=-1,z=a.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Na},om(a,h,z);var Z=(h&62914560)===h?ol-Dt():(h&4194048)===h?hm-Dt():0;if(Z=kb(z,Z),Z!==null){Ba=h,e.cancelPendingCommit=Z(Nm.bind(null,e,a,h,r,l,d,p,b,w,D,z,null,O,R)),us(e,h,p,!A);return}}Nm(e,a,h,r,l,d,p,b,w)}function $x(e){for(var a=e;;){var r=a.tag;if((r===0||r===11||r===15)&&a.flags&16384&&(r=a.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var d=r[l],h=d.getSnapshot;d=d.value;try{if(!Ut(h(),d))return!1}catch{return!1}}if(r=a.child,a.subtreeFlags&16384&&r!==null)r.return=a,a=r;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function us(e,a,r,l){a&=~Gc,a&=~Zs,e.suspendedLanes|=a,e.pingedLanes&=~a,l&&(e.warmLanes|=a),l=e.expirationTimes;for(var d=a;0<d;){var h=31-zt(d),p=1<<h;l[h]=-1,d&=~p}r!==0&&kd(e,r,a)}function dl(){return(Ee&6)===0?($r(0),!1):!0}function Jc(){if(xe!==null){if(Oe===0)var e=xe.return;else e=xe,Ea=Ls=null,dc(e),Nn=null,jr=0,e=xe;for(;e!==null;)Yf(e.alternate,e),e=e.return;xe=null}}function Mn(e,a){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,lb(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ba=0,Jc(),qe=e,xe=r=Sa(e.current,null),ve=a,Oe=0,It=null,is=!1,Cn=ir(e,a),Hc=!1,Rn=$t=Gc=Zs=ls=Je=0,Et=Br=null,Vc=!1,(a&8)!==0&&(a|=a&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=a;0<l;){var d=31-zt(l),h=1<<d;a|=e[d],l&=~h}return qa=a,Ri(),r}function xm(e,a){ue=null,T.H=Cr,a===jn||a===Ii?(a=Rh(),Oe=3):a===Wo?(a=Rh(),Oe=4):Oe=a===Ac?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,It=a,xe===null&&(Je=1,el(e,Xt(a,e.current)))}function bm(){var e=qt.current;return e===null?!0:(ve&4194048)===ve?ea===null:(ve&62914560)===ve||(ve&536870912)!==0?e===ea:!1}function ym(){var e=T.H;return T.H=Cr,e===null?Cr:e}function vm(){var e=T.A;return T.A=Bx,e}function hl(){Je=4,is||(ve&4194048)!==ve&&qt.current!==null||(Cn=!0),(ls&134217727)===0&&(Zs&134217727)===0||qe===null||us(qe,ve,$t,!1)}function Xc(e,a,r){var l=Ee;Ee|=2;var d=ym(),h=vm();(qe!==e||ve!==a)&&(ul=null,Mn(e,a)),a=!1;var p=Je;e:do try{if(Oe!==0&&xe!==null){var b=xe,w=It;switch(Oe){case 8:Jc(),p=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(a=!0);var A=Oe;if(Oe=0,It=null,zn(e,b,w,A),r&&Cn){p=0;break e}break;default:A=Oe,Oe=0,It=null,zn(e,b,w,A)}}Px(),p=Je;break}catch(D){xm(e,D)}while(!0);return a&&e.shellSuspendCounter++,Ea=Ls=null,Ee=l,T.H=d,T.A=h,xe===null&&(qe=null,ve=0,Ri()),p}function Px(){for(;xe!==null;)wm(xe)}function Hx(e,a){var r=Ee;Ee|=2;var l=ym(),d=vm();qe!==e||ve!==a?(ul=null,cl=Dt()+500,Mn(e,a)):Cn=ir(e,a);e:do try{if(Oe!==0&&xe!==null){a=xe;var h=It;t:switch(Oe){case 1:Oe=0,It=null,zn(e,a,h,1);break;case 2:case 9:if(Oh(h)){Oe=0,It=null,_m(a);break}a=function(){Oe!==2&&Oe!==9||qe!==e||(Oe=7),ya(e)},h.then(a,a);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Oh(h)?(Oe=0,It=null,_m(a)):(Oe=0,It=null,zn(e,a,h,7));break;case 5:var p=null;switch(xe.tag){case 26:p=xe.memoizedState;case 5:case 27:var b=xe;if(p?l0(p):b.stateNode.complete){Oe=0,It=null;var w=b.sibling;if(w!==null)xe=w;else{var A=b.return;A!==null?(xe=A,fl(A)):xe=null}break t}}Oe=0,It=null,zn(e,a,h,5);break;case 6:Oe=0,It=null,zn(e,a,h,6);break;case 8:Jc(),Je=6;break e;default:throw Error(i(462))}}Gx();break}catch(D){xm(e,D)}while(!0);return Ea=Ls=null,T.H=l,T.A=d,Ee=r,xe!==null?0:(qe=null,ve=0,Ri(),Je)}function Gx(){for(;xe!==null&&!fp();)wm(xe)}function wm(e){var a=Vf(e.alternate,e,qa);e.memoizedProps=e.pendingProps,a===null?fl(e):xe=a}function _m(e){var a=e,r=a.alternate;switch(a.tag){case 15:case 0:a=Bf(r,a,a.pendingProps,a.type,void 0,ve);break;case 11:a=Bf(r,a,a.pendingProps,a.type.render,a.ref,ve);break;case 5:dc(a);default:Yf(r,a),a=xe=yh(a,qa),a=Vf(r,a,qa)}e.memoizedProps=e.pendingProps,a===null?fl(e):xe=a}function zn(e,a,r,l){Ea=Ls=null,dc(a),Nn=null,jr=0;var d=a.return;try{if(Rx(e,d,a,r,ve)){Je=1,el(e,Xt(r,e.current)),xe=null;return}}catch(h){if(d!==null)throw xe=d,h;Je=1,el(e,Xt(r,e.current)),xe=null;return}a.flags&32768?(je||l===1?e=!0:Cn||(ve&536870912)!==0?e=!1:(is=e=!0,(l===2||l===9||l===3||l===6)&&(l=qt.current,l!==null&&l.tag===13&&(l.flags|=16384))),jm(a,e)):fl(a)}function fl(e){var a=e;do{if((a.flags&32768)!==0){jm(a,is);return}e=a.return;var r=zx(a.alternate,a,qa);if(r!==null){xe=r;return}if(a=a.sibling,a!==null){xe=a;return}xe=a=e}while(a!==null);Je===0&&(Je=5)}function jm(e,a){do{var r=Ux(e.alternate,e);if(r!==null){r.flags&=32767,xe=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!a&&(e=e.sibling,e!==null)){xe=e;return}xe=e=r}while(e!==null);Je=6,xe=null}function Nm(e,a,r,l,d,h,p,b,w){e.cancelPendingCommit=null;do ml();while(lt!==0);if((Ee&6)!==0)throw Error(i(327));if(a!==null){if(a===e.current)throw Error(i(177));if(h=a.lanes|a.childLanes,h|=qo,jp(e,r,h,p,b,w),e===qe&&(xe=qe=null,ve=0),Dn=a,cs=e,Ba=r,Zc=h,Yc=d,fm=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Kx(pi,function(){return Tm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=T.T,T.T=null,d=B.p,B.p=2,p=Ee,Ee|=4;try{Lx(e,a,r)}finally{Ee=p,B.p=d,T.T=l}}lt=1,km(),Sm(),Am()}}function km(){if(lt===1){lt=0;var e=cs,a=Dn,r=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||r){r=T.T,T.T=null;var l=B.p;B.p=2;var d=Ee;Ee|=4;try{rm(a,e);var h=ou,p=uh(e.containerInfo),b=h.focusedElem,w=h.selectionRange;if(p!==b&&b&&b.ownerDocument&&ch(b.ownerDocument.documentElement,b)){if(w!==null&&Do(b)){var A=w.start,D=w.end;if(D===void 0&&(D=A),"selectionStart"in b)b.selectionStart=A,b.selectionEnd=Math.min(D,b.value.length);else{var z=b.ownerDocument||document,O=z&&z.defaultView||window;if(O.getSelection){var R=O.getSelection(),Z=b.textContent.length,se=Math.min(w.start,Z),Ue=w.end===void 0?se:Math.min(w.end,Z);!R.extend&&se>Ue&&(p=Ue,Ue=se,se=p);var k=oh(b,se),_=oh(b,Ue);if(k&&_&&(R.rangeCount!==1||R.anchorNode!==k.node||R.anchorOffset!==k.offset||R.focusNode!==_.node||R.focusOffset!==_.offset)){var S=z.createRange();S.setStart(k.node,k.offset),R.removeAllRanges(),se>Ue?(R.addRange(S),R.extend(_.node,_.offset)):(S.setEnd(_.node,_.offset),R.addRange(S))}}}}for(z=[],R=b;R=R.parentNode;)R.nodeType===1&&z.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<z.length;b++){var M=z[b];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}Sl=!!lu,ou=lu=null}finally{Ee=d,B.p=l,T.T=r}}e.current=a,lt=2}}function Sm(){if(lt===2){lt=0;var e=cs,a=Dn,r=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||r){r=T.T,T.T=null;var l=B.p;B.p=2;var d=Ee;Ee|=4;try{em(e,a.alternate,a)}finally{Ee=d,B.p=l,T.T=r}}lt=3}}function Am(){if(lt===4||lt===3){lt=0,mp();var e=cs,a=Dn,r=Ba,l=fm;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?lt=5:(lt=0,Dn=cs=null,Em(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(os=null),mo(r),a=a.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(rr,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=T.T,d=B.p,B.p=2,T.T=null;try{for(var h=e.onRecoverableError,p=0;p<l.length;p++){var b=l[p];h(b.value,{componentStack:b.stack})}}finally{T.T=a,B.p=d}}(Ba&3)!==0&&ml(),ya(e),d=e.pendingLanes,(r&261930)!==0&&(d&42)!==0?e===Kc?Ir++:(Ir=0,Kc=e):Ir=0,$r(0)}}function Em(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,wr(a)))}function ml(){return km(),Sm(),Am(),Tm()}function Tm(){if(lt!==5)return!1;var e=cs,a=Zc;Zc=0;var r=mo(Ba),l=T.T,d=B.p;try{B.p=32>r?32:r,T.T=null,r=Yc,Yc=null;var h=cs,p=Ba;if(lt=0,Dn=cs=null,Ba=0,(Ee&6)!==0)throw Error(i(331));var b=Ee;if(Ee|=4,um(h.current),lm(h,h.current,p,r),Ee=b,$r(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(rr,h)}catch{}return!0}finally{B.p=d,T.T=l,Em(e,a)}}function Om(e,a,r){a=Xt(r,a),a=Sc(e.stateNode,a,2),e=as(e,a,2),e!==null&&(lr(e,2),ya(e))}function Ce(e,a,r){if(e.tag===3)Om(e,e,r);else for(;a!==null;){if(a.tag===3){Om(a,e,r);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(os===null||!os.has(l))){e=Xt(r,e),r=Cf(2),l=as(a,r,2),l!==null&&(Rf(r,l,a,e),lr(l,2),ya(l));break}}a=a.return}}function Qc(e,a,r){var l=e.pingCache;if(l===null){l=e.pingCache=new Ix;var d=new Set;l.set(a,d)}else d=l.get(a),d===void 0&&(d=new Set,l.set(a,d));d.has(r)||(Hc=!0,d.add(r),e=Vx.bind(null,e,a,r),a.then(e,e))}function Vx(e,a,r){var l=e.pingCache;l!==null&&l.delete(a),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,qe===e&&(ve&r)===r&&(Je===4||Je===3&&(ve&62914560)===ve&&300>Dt()-ol?(Ee&2)===0&&Mn(e,0):Gc|=r,Rn===ve&&(Rn=0)),ya(e)}function Cm(e,a){a===0&&(a=Nd()),e=Ms(e,a),e!==null&&(lr(e,a),ya(e))}function Zx(e){var a=e.memoizedState,r=0;a!==null&&(r=a.retryLane),Cm(e,r)}function Yx(e,a){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(r=d.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(a),Cm(e,r)}function Kx(e,a){return co(e,a)}var gl=null,Un=null,Fc=!1,pl=!1,Wc=!1,ds=0;function ya(e){e!==Un&&e.next===null&&(Un===null?gl=Un=e:Un=Un.next=e),pl=!0,Fc||(Fc=!0,Xx())}function $r(e,a){if(!Wc&&pl){Wc=!0;do for(var r=!1,l=gl;l!==null;){if(e!==0){var d=l.pendingLanes;if(d===0)var h=0;else{var p=l.suspendedLanes,b=l.pingedLanes;h=(1<<31-zt(42|e)+1)-1,h&=d&~(p&~b),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,zm(l,h))}else h=ve,h=vi(l,l===qe?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||ir(l,h)||(r=!0,zm(l,h));l=l.next}while(r);Wc=!1}}function Jx(){Rm()}function Rm(){pl=Fc=!1;var e=0;ds!==0&&ib()&&(e=ds);for(var a=Dt(),r=null,l=gl;l!==null;){var d=l.next,h=Dm(l,a);h===0?(l.next=null,r===null?gl=d:r.next=d,d===null&&(Un=r)):(r=l,(e!==0||(h&3)!==0)&&(pl=!0)),l=d}lt!==0&&lt!==5||$r(e),ds!==0&&(ds=0)}function Dm(e,a){for(var r=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var p=31-zt(h),b=1<<p,w=d[p];w===-1?((b&r)===0||(b&l)!==0)&&(d[p]=_p(b,a)):w<=a&&(e.expiredLanes|=b),h&=~b}if(a=qe,r=ve,r=vi(e,e===a?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===a&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&uo(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||ir(e,r)){if(a=r&-r,a===e.callbackPriority)return a;switch(l!==null&&uo(l),mo(r)){case 2:case 8:r=_d;break;case 32:r=pi;break;case 268435456:r=jd;break;default:r=pi}return l=Mm.bind(null,e),r=co(r,l),e.callbackPriority=a,e.callbackNode=r,a}return l!==null&&l!==null&&uo(l),e.callbackPriority=2,e.callbackNode=null,2}function Mm(e,a){if(lt!==0&&lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ml()&&e.callbackNode!==r)return null;var l=ve;return l=vi(e,e===qe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(gm(e,l,a),Dm(e,Dt()),e.callbackNode!=null&&e.callbackNode===r?Mm.bind(null,e):null)}function zm(e,a){if(ml())return null;gm(e,a,!0)}function Xx(){ob(function(){(Ee&6)!==0?co(wd,Jx):Rm()})}function eu(){if(ds===0){var e=wn;e===0&&(e=xi,xi<<=1,(xi&261888)===0&&(xi=256)),ds=e}return ds}function Um(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ni(""+e)}function Lm(e,a){var r=a.ownerDocument.createElement("input");return r.name=a.name,r.value=a.value,e.id&&r.setAttribute("form",e.id),a.parentNode.insertBefore(r,a),e=new FormData(e),r.parentNode.removeChild(r),e}function Qx(e,a,r,l,d){if(a==="submit"&&r&&r.stateNode===d){var h=Um((d[jt]||null).action),p=l.submitter;p&&(a=(a=p[jt]||null)?Um(a.formAction):p.getAttribute("formAction"),a!==null&&(h=a,p=null));var b=new Ei("action","action",null,l,d);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ds!==0){var w=p?Lm(d,p):new FormData(d);vc(r,{pending:!0,data:w,method:d.method,action:h},null,w)}}else typeof h=="function"&&(b.preventDefault(),w=p?Lm(d,p):new FormData(d),vc(r,{pending:!0,data:w,method:d.method,action:h},h,w))},currentTarget:d}]})}}for(var tu=0;tu<Lo.length;tu++){var au=Lo[tu],Fx=au.toLowerCase(),Wx=au[0].toUpperCase()+au.slice(1);ra(Fx,"on"+Wx)}ra(fh,"onAnimationEnd"),ra(mh,"onAnimationIteration"),ra(gh,"onAnimationStart"),ra("dblclick","onDoubleClick"),ra("focusin","onFocus"),ra("focusout","onBlur"),ra(gx,"onTransitionRun"),ra(px,"onTransitionStart"),ra(xx,"onTransitionCancel"),ra(ph,"onTransitionEnd"),ln("onMouseEnter",["mouseout","mouseover"]),ln("onMouseLeave",["mouseout","mouseover"]),ln("onPointerEnter",["pointerout","pointerover"]),ln("onPointerLeave",["pointerout","pointerover"]),Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Os("onBeforeInput",["compositionend","keypress","textInput","paste"]),Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pr));function qm(e,a){a=(a&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],d=l.event;l=l.listeners;e:{var h=void 0;if(a)for(var p=l.length-1;0<=p;p--){var b=l[p],w=b.instance,A=b.currentTarget;if(b=b.listener,w!==h&&d.isPropagationStopped())break e;h=b,d.currentTarget=A;try{h(d)}catch(D){Ci(D)}d.currentTarget=null,h=w}else for(p=0;p<l.length;p++){if(b=l[p],w=b.instance,A=b.currentTarget,b=b.listener,w!==h&&d.isPropagationStopped())break e;h=b,d.currentTarget=A;try{h(d)}catch(D){Ci(D)}d.currentTarget=null,h=w}}}}function be(e,a){var r=a[go];r===void 0&&(r=a[go]=new Set);var l=e+"__bubble";r.has(l)||(Bm(a,e,2,!1),r.add(l))}function su(e,a,r){var l=0;a&&(l|=4),Bm(r,e,l,a)}var xl="_reactListening"+Math.random().toString(36).slice(2);function nu(e){if(!e[xl]){e[xl]=!0,Cd.forEach(function(r){r!=="selectionchange"&&(eb.has(r)||su(r,!1,e),su(r,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[xl]||(a[xl]=!0,su("selectionchange",!1,a))}}function Bm(e,a,r,l){switch(m0(a)){case 2:var d=Eb;break;case 8:d=Tb;break;default:d=yu}r=d.bind(null,a,r,e),d=void 0,!No||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(a,r,{capture:!0,passive:d}):e.addEventListener(a,r,!0):d!==void 0?e.addEventListener(a,r,{passive:d}):e.addEventListener(a,r,!1)}function ru(e,a,r,l,d){var h=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var b=l.stateNode.containerInfo;if(b===d)break;if(p===4)for(p=l.return;p!==null;){var w=p.tag;if((w===3||w===4)&&p.stateNode.containerInfo===d)return;p=p.return}for(;b!==null;){if(p=sn(b),p===null)return;if(w=p.tag,w===5||w===6||w===26||w===27){l=h=p;continue e}b=b.parentNode}}l=l.return}Hd(function(){var A=h,D=_o(r),z=[];e:{var O=xh.get(e);if(O!==void 0){var R=Ei,Z=e;switch(e){case"keypress":if(Si(r)===0)break e;case"keydown":case"keyup":R=Yp;break;case"focusin":Z="focus",R=Eo;break;case"focusout":Z="blur",R=Eo;break;case"beforeblur":case"afterblur":R=Eo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=zp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Xp;break;case fh:case mh:case gh:R=qp;break;case ph:R=Fp;break;case"scroll":case"scrollend":R=Dp;break;case"wheel":R=ex;break;case"copy":case"cut":case"paste":R=Ip;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Kd;break;case"toggle":case"beforetoggle":R=ax}var se=(a&4)!==0,Ue=!se&&(e==="scroll"||e==="scrollend"),k=se?O!==null?O+"Capture":null:O;se=[];for(var _=A,S;_!==null;){var M=_;if(S=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||S===null||k===null||(M=ur(_,k),M!=null&&se.push(Hr(_,M,S))),Ue)break;_=_.return}0<se.length&&(O=new R(O,Z,null,r,D),z.push({event:O,listeners:se}))}}if((a&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",O&&r!==wo&&(Z=r.relatedTarget||r.fromElement)&&(sn(Z)||Z[an]))break e;if((R||O)&&(O=D.window===D?D:(O=D.ownerDocument)?O.defaultView||O.parentWindow:window,R?(Z=r.relatedTarget||r.toElement,R=A,Z=Z?sn(Z):null,Z!==null&&(Ue=u(Z),se=Z.tag,Z!==Ue||se!==5&&se!==27&&se!==6)&&(Z=null)):(R=null,Z=A),R!==Z)){if(se=Zd,M="onMouseLeave",k="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(se=Kd,M="onPointerLeave",k="onPointerEnter",_="pointer"),Ue=R==null?O:cr(R),S=Z==null?O:cr(Z),O=new se(M,_+"leave",R,r,D),O.target=Ue,O.relatedTarget=S,M=null,sn(D)===A&&(se=new se(k,_+"enter",Z,r,D),se.target=S,se.relatedTarget=Ue,M=se),Ue=M,R&&Z)t:{for(se=tb,k=R,_=Z,S=0,M=k;M;M=se(M))S++;M=0;for(var te=_;te;te=se(te))M++;for(;0<S-M;)k=se(k),S--;for(;0<M-S;)_=se(_),M--;for(;S--;){if(k===_||_!==null&&k===_.alternate){se=k;break t}k=se(k),_=se(_)}se=null}else se=null;R!==null&&Im(z,O,R,se,!1),Z!==null&&Ue!==null&&Im(z,Ue,Z,se,!0)}}e:{if(O=A?cr(A):window,R=O.nodeName&&O.nodeName.toLowerCase(),R==="select"||R==="input"&&O.type==="file")var ke=ah;else if(eh(O))if(sh)ke=hx;else{ke=ux;var X=cx}else R=O.nodeName,!R||R.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?A&&vo(A.elementType)&&(ke=ah):ke=dx;if(ke&&(ke=ke(e,A))){th(z,ke,r,D);break e}X&&X(e,O,A),e==="focusout"&&A&&O.type==="number"&&A.memoizedProps.value!=null&&yo(O,"number",O.value)}switch(X=A?cr(A):window,e){case"focusin":(eh(X)||X.contentEditable==="true")&&(fn=X,Mo=A,br=null);break;case"focusout":br=Mo=fn=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,dh(z,r,D);break;case"selectionchange":if(mx)break;case"keydown":case"keyup":dh(z,r,D)}var de;if(Oo)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else hn?Fd(e,r)&&(we="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(we="onCompositionStart");we&&(Jd&&r.locale!=="ko"&&(hn||we!=="onCompositionStart"?we==="onCompositionEnd"&&hn&&(de=Gd()):(Ja=D,ko="value"in Ja?Ja.value:Ja.textContent,hn=!0)),X=bl(A,we),0<X.length&&(we=new Yd(we,e,null,r,D),z.push({event:we,listeners:X}),de?we.data=de:(de=Wd(r),de!==null&&(we.data=de)))),(de=nx?rx(e,r):ix(e,r))&&(we=bl(A,"onBeforeInput"),0<we.length&&(X=new Yd("onBeforeInput","beforeinput",null,r,D),z.push({event:X,listeners:we}),X.data=de)),Qx(z,e,A,r,D)}qm(z,a)})}function Hr(e,a,r){return{instance:e,listener:a,currentTarget:r}}function bl(e,a){for(var r=a+"Capture",l=[];e!==null;){var d=e,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=ur(e,r),d!=null&&l.unshift(Hr(e,d,h)),d=ur(e,a),d!=null&&l.push(Hr(e,d,h))),e.tag===3)return l;e=e.return}return[]}function tb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Im(e,a,r,l,d){for(var h=a._reactName,p=[];r!==null&&r!==l;){var b=r,w=b.alternate,A=b.stateNode;if(b=b.tag,w!==null&&w===l)break;b!==5&&b!==26&&b!==27||A===null||(w=A,d?(A=ur(r,h),A!=null&&p.unshift(Hr(r,A,w))):d||(A=ur(r,h),A!=null&&p.push(Hr(r,A,w)))),r=r.return}p.length!==0&&e.push({event:a,listeners:p})}var ab=/\r\n?/g,sb=/\u0000|\uFFFD/g;function $m(e){return(typeof e=="string"?e:""+e).replace(ab,`
`).replace(sb,"")}function Pm(e,a){return a=$m(a),$m(e)===a}function ze(e,a,r,l,d,h){switch(r){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||cn(e,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&cn(e,""+l);break;case"className":_i(e,"class",l);break;case"tabIndex":_i(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_i(e,r,l);break;case"style":$d(e,l,h);break;case"data":if(a!=="object"){_i(e,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Ni(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(a!=="input"&&ze(e,a,"name",d.name,d,null),ze(e,a,"formEncType",d.formEncType,d,null),ze(e,a,"formMethod",d.formMethod,d,null),ze(e,a,"formTarget",d.formTarget,d,null)):(ze(e,a,"encType",d.encType,d,null),ze(e,a,"method",d.method,d,null),ze(e,a,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Ni(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Na);break;case"onScroll":l!=null&&be("scroll",e);break;case"onScrollEnd":l!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=Ni(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":be("beforetoggle",e),be("toggle",e),wi(e,"popover",l);break;case"xlinkActuate":ja(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ja(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ja(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ja(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ja(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ja(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ja(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ja(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ja(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Cp.get(r)||r,wi(e,r,l))}}function iu(e,a,r,l,d,h){switch(r){case"style":$d(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"children":typeof l=="string"?cn(e,l):(typeof l=="number"||typeof l=="bigint")&&cn(e,""+l);break;case"onScroll":l!=null&&be("scroll",e);break;case"onScrollEnd":l!=null&&be("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Na);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rd.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),a=r.slice(2,d?r.length-7:void 0),h=e[jt]||null,h=h!=null?h[r]:null,typeof h=="function"&&e.removeEventListener(a,h,d),typeof l=="function")){typeof h!="function"&&h!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(a,l,d);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):wi(e,r,l)}}}function gt(e,a,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var l=!1,d=!1,h;for(h in r)if(r.hasOwnProperty(h)){var p=r[h];if(p!=null)switch(h){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ze(e,a,h,p,r,null)}}d&&ze(e,a,"srcSet",r.srcSet,r,null),l&&ze(e,a,"src",r.src,r,null);return;case"input":be("invalid",e);var b=h=p=d=null,w=null,A=null;for(l in r)if(r.hasOwnProperty(l)){var D=r[l];if(D!=null)switch(l){case"name":d=D;break;case"type":p=D;break;case"checked":w=D;break;case"defaultChecked":A=D;break;case"value":h=D;break;case"defaultValue":b=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(137,a));break;default:ze(e,a,l,D,r,null)}}Ld(e,h,b,w,A,p,d,!1);return;case"select":be("invalid",e),l=p=h=null;for(d in r)if(r.hasOwnProperty(d)&&(b=r[d],b!=null))switch(d){case"value":h=b;break;case"defaultValue":p=b;break;case"multiple":l=b;default:ze(e,a,d,b,r,null)}a=h,r=p,e.multiple=!!l,a!=null?on(e,!!l,a,!1):r!=null&&on(e,!!l,r,!0);return;case"textarea":be("invalid",e),h=d=l=null;for(p in r)if(r.hasOwnProperty(p)&&(b=r[p],b!=null))switch(p){case"value":l=b;break;case"defaultValue":d=b;break;case"children":h=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:ze(e,a,p,b,r,null)}Bd(e,l,d,h);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(l=r[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ze(e,a,w,l,r,null)}return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(l=0;l<Pr.length;l++)be(Pr[l],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in r)if(r.hasOwnProperty(A)&&(l=r[A],l!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ze(e,a,A,l,r,null)}return;default:if(vo(a)){for(D in r)r.hasOwnProperty(D)&&(l=r[D],l!==void 0&&iu(e,a,D,l,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(l=r[b],l!=null&&ze(e,a,b,l,r,null))}function nb(e,a,r,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,p=null,b=null,w=null,A=null,D=null;for(R in r){var z=r[R];if(r.hasOwnProperty(R)&&z!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":w=z;default:l.hasOwnProperty(R)||ze(e,a,R,null,l,z)}}for(var O in l){var R=l[O];if(z=r[O],l.hasOwnProperty(O)&&(R!=null||z!=null))switch(O){case"type":h=R;break;case"name":d=R;break;case"checked":A=R;break;case"defaultChecked":D=R;break;case"value":p=R;break;case"defaultValue":b=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(137,a));break;default:R!==z&&ze(e,a,O,R,l,z)}}bo(e,p,b,w,A,D,h,d);return;case"select":R=p=b=O=null;for(h in r)if(w=r[h],r.hasOwnProperty(h)&&w!=null)switch(h){case"value":break;case"multiple":R=w;default:l.hasOwnProperty(h)||ze(e,a,h,null,l,w)}for(d in l)if(h=l[d],w=r[d],l.hasOwnProperty(d)&&(h!=null||w!=null))switch(d){case"value":O=h;break;case"defaultValue":b=h;break;case"multiple":p=h;default:h!==w&&ze(e,a,d,h,l,w)}a=b,r=p,l=R,O!=null?on(e,!!r,O,!1):!!l!=!!r&&(a!=null?on(e,!!r,a,!0):on(e,!!r,r?[]:"",!1));return;case"textarea":R=O=null;for(b in r)if(d=r[b],r.hasOwnProperty(b)&&d!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ze(e,a,b,null,l,d)}for(p in l)if(d=l[p],h=r[p],l.hasOwnProperty(p)&&(d!=null||h!=null))switch(p){case"value":O=d;break;case"defaultValue":R=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==h&&ze(e,a,p,d,l,h)}qd(e,O,R);return;case"option":for(var Z in r)if(O=r[Z],r.hasOwnProperty(Z)&&O!=null&&!l.hasOwnProperty(Z))switch(Z){case"selected":e.selected=!1;break;default:ze(e,a,Z,null,l,O)}for(w in l)if(O=l[w],R=r[w],l.hasOwnProperty(w)&&O!==R&&(O!=null||R!=null))switch(w){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:ze(e,a,w,O,l,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in r)O=r[se],r.hasOwnProperty(se)&&O!=null&&!l.hasOwnProperty(se)&&ze(e,a,se,null,l,O);for(A in l)if(O=l[A],R=r[A],l.hasOwnProperty(A)&&O!==R&&(O!=null||R!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(137,a));break;default:ze(e,a,A,O,l,R)}return;default:if(vo(a)){for(var Ue in r)O=r[Ue],r.hasOwnProperty(Ue)&&O!==void 0&&!l.hasOwnProperty(Ue)&&iu(e,a,Ue,void 0,l,O);for(D in l)O=l[D],R=r[D],!l.hasOwnProperty(D)||O===R||O===void 0&&R===void 0||iu(e,a,D,O,l,R);return}}for(var k in r)O=r[k],r.hasOwnProperty(k)&&O!=null&&!l.hasOwnProperty(k)&&ze(e,a,k,null,l,O);for(z in l)O=l[z],R=r[z],!l.hasOwnProperty(z)||O===R||O==null&&R==null||ze(e,a,z,O,l,R)}function Hm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var d=r[l],h=d.transferSize,p=d.initiatorType,b=d.duration;if(h&&b&&Hm(p)){for(p=0,b=d.responseEnd,l+=1;l<r.length;l++){var w=r[l],A=w.startTime;if(A>b)break;var D=w.transferSize,z=w.initiatorType;D&&Hm(z)&&(w=w.responseEnd,p+=D*(w<b?1:(b-A)/(w-A)))}if(--l,a+=8*(h+p)/(d.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lu=null,ou=null;function yl(e){return e.nodeType===9?e:e.ownerDocument}function Gm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vm(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function cu(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var uu=null;function ib(){var e=window.event;return e&&e.type==="popstate"?e===uu?!1:(uu=e,!0):(uu=null,!1)}var Zm=typeof setTimeout=="function"?setTimeout:void 0,lb=typeof clearTimeout=="function"?clearTimeout:void 0,Ym=typeof Promise=="function"?Promise:void 0,ob=typeof queueMicrotask=="function"?queueMicrotask:typeof Ym<"u"?function(e){return Ym.resolve(null).then(e).catch(cb)}:Zm;function cb(e){setTimeout(function(){throw e})}function hs(e){return e==="head"}function Km(e,a){var r=a,l=0;do{var d=r.nextSibling;if(e.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(d),In(a);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Gr(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Gr(r);for(var h=r.firstChild;h;){var p=h.nextSibling,b=h.nodeName;h[or]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&h.rel.toLowerCase()==="stylesheet"||r.removeChild(h),h=p}}else r==="body"&&Gr(e.ownerDocument.body);r=d}while(r);In(a)}function Jm(e,a){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?a?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(a?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function du(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var r=a;switch(a=a.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":du(r),po(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function ub(e,a,r,l){for(;e.nodeType===1;){var d=r;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[or])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=ta(e.nextSibling),e===null)break}return null}function db(e,a,r){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=ta(e.nextSibling),e===null))return null;return e}function Xm(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ta(e.nextSibling),e===null))return null;return e}function hu(e){return e.data==="$?"||e.data==="$~"}function fu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function hb(e,a){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||r.readyState!=="loading")a();else{var l=function(){a(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ta(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var mu=null;function Qm(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(a===0)return ta(e.nextSibling);a--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||a++}e=e.nextSibling}return null}function Fm(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(a===0)return e;a--}else r!=="/$"&&r!=="/&"||a++}e=e.previousSibling}return null}function Wm(e,a,r){switch(a=yl(r),e){case"html":if(e=a.documentElement,!e)throw Error(i(452));return e;case"head":if(e=a.head,!e)throw Error(i(453));return e;case"body":if(e=a.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Gr(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);po(e)}var aa=new Map,e0=new Set;function vl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ia=B.d;B.d={f:fb,r:mb,D:gb,C:pb,L:xb,m:bb,X:vb,S:yb,M:wb};function fb(){var e=Ia.f(),a=dl();return e||a}function mb(e){var a=nn(e);a!==null&&a.tag===5&&a.type==="form"?xf(a):Ia.r(e)}var Ln=typeof document>"u"?null:document;function t0(e,a,r){var l=Ln;if(l&&typeof a=="string"&&a){var d=Kt(a);d='link[rel="'+e+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),e0.has(d)||(e0.add(d),e={rel:e,crossOrigin:r,href:a},l.querySelector(d)===null&&(a=l.createElement("link"),gt(a,"link",e),ct(a),l.head.appendChild(a)))}}function gb(e){Ia.D(e),t0("dns-prefetch",e,null)}function pb(e,a){Ia.C(e,a),t0("preconnect",e,a)}function xb(e,a,r){Ia.L(e,a,r);var l=Ln;if(l&&e&&a){var d='link[rel="preload"][as="'+Kt(a)+'"]';a==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+Kt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+Kt(r.imageSizes)+'"]')):d+='[href="'+Kt(e)+'"]';var h=d;switch(a){case"style":h=qn(e);break;case"script":h=Bn(e)}aa.has(h)||(e=v({rel:"preload",href:a==="image"&&r&&r.imageSrcSet?void 0:e,as:a},r),aa.set(h,e),l.querySelector(d)!==null||a==="style"&&l.querySelector(Vr(h))||a==="script"&&l.querySelector(Zr(h))||(a=l.createElement("link"),gt(a,"link",e),ct(a),l.head.appendChild(a)))}}function bb(e,a){Ia.m(e,a);var r=Ln;if(r&&e){var l=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+Kt(l)+'"][href="'+Kt(e)+'"]',h=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Bn(e)}if(!aa.has(h)&&(e=v({rel:"modulepreload",href:e},a),aa.set(h,e),r.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Zr(h)))return}l=r.createElement("link"),gt(l,"link",e),ct(l),r.head.appendChild(l)}}}function yb(e,a,r){Ia.S(e,a,r);var l=Ln;if(l&&e){var d=rn(l).hoistableStyles,h=qn(e);a=a||"default";var p=d.get(h);if(!p){var b={loading:0,preload:null};if(p=l.querySelector(Vr(h)))b.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":a},r),(r=aa.get(h))&&gu(e,r);var w=p=l.createElement("link");ct(w),gt(w,"link",e),w._p=new Promise(function(A,D){w.onload=A,w.onerror=D}),w.addEventListener("load",function(){b.loading|=1}),w.addEventListener("error",function(){b.loading|=2}),b.loading|=4,wl(p,a,l)}p={type:"stylesheet",instance:p,count:1,state:b},d.set(h,p)}}}function vb(e,a){Ia.X(e,a);var r=Ln;if(r&&e){var l=rn(r).hoistableScripts,d=Bn(e),h=l.get(d);h||(h=r.querySelector(Zr(d)),h||(e=v({src:e,async:!0},a),(a=aa.get(d))&&pu(e,a),h=r.createElement("script"),ct(h),gt(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(d,h))}}function wb(e,a){Ia.M(e,a);var r=Ln;if(r&&e){var l=rn(r).hoistableScripts,d=Bn(e),h=l.get(d);h||(h=r.querySelector(Zr(d)),h||(e=v({src:e,async:!0,type:"module"},a),(a=aa.get(d))&&pu(e,a),h=r.createElement("script"),ct(h),gt(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(d,h))}}function a0(e,a,r,l){var d=(d=ma.current)?vl(d):null;if(!d)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(a=qn(r.href),r=rn(d).hoistableStyles,l=r.get(a),l||(l={type:"style",instance:null,count:0,state:null},r.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=qn(r.href);var h=rn(d).hoistableStyles,p=h.get(e);if(p||(d=d.ownerDocument||d,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,p),(h=d.querySelector(Vr(e)))&&!h._p&&(p.instance=h,p.state.loading=5),aa.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},aa.set(e,r),h||_b(d,e,r,p.state))),a&&l===null)throw Error(i(528,""));return p}if(a&&l!==null)throw Error(i(529,""));return null;case"script":return a=r.async,r=r.src,typeof r=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Bn(r),r=rn(d).hoistableScripts,l=r.get(a),l||(l={type:"script",instance:null,count:0,state:null},r.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function qn(e){return'href="'+Kt(e)+'"'}function Vr(e){return'link[rel="stylesheet"]['+e+"]"}function s0(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function _b(e,a,r,l){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=e.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),gt(a,"link",r),ct(a),e.head.appendChild(a))}function Bn(e){return'[src="'+Kt(e)+'"]'}function Zr(e){return"script[async]"+e}function n0(e,a,r){if(a.count++,a.instance===null)switch(a.type){case"style":var l=e.querySelector('style[data-href~="'+Kt(r.href)+'"]');if(l)return a.instance=l,ct(l),l;var d=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ct(l),gt(l,"style",d),wl(l,r.precedence,e),a.instance=l;case"stylesheet":d=qn(r.href);var h=e.querySelector(Vr(d));if(h)return a.state.loading|=4,a.instance=h,ct(h),h;l=s0(r),(d=aa.get(d))&&gu(l,d),h=(e.ownerDocument||e).createElement("link"),ct(h);var p=h;return p._p=new Promise(function(b,w){p.onload=b,p.onerror=w}),gt(h,"link",l),a.state.loading|=4,wl(h,r.precedence,e),a.instance=h;case"script":return h=Bn(r.src),(d=e.querySelector(Zr(h)))?(a.instance=d,ct(d),d):(l=r,(d=aa.get(h))&&(l=v({},r),pu(l,d)),e=e.ownerDocument||e,d=e.createElement("script"),ct(d),gt(d,"link",l),e.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,wl(l,r.precedence,e));return a.instance}function wl(e,a,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,h=d,p=0;p<l.length;p++){var b=l[p];if(b.dataset.precedence===a)h=b;else if(h!==d)break}h?h.parentNode.insertBefore(e,h.nextSibling):(a=r.nodeType===9?r.head:r,a.insertBefore(e,a.firstChild))}function gu(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function pu(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var _l=null;function r0(e,a,r){if(_l===null){var l=new Map,d=_l=new Map;d.set(r,l)}else d=_l,l=d.get(r),l||(l=new Map,d.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),d=0;d<r.length;d++){var h=r[d];if(!(h[or]||h[dt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var p=h.getAttribute(a)||"";p=e+p;var b=l.get(p);b?b.push(h):l.set(p,[h])}}return l}function i0(e,a,r){e=e.ownerDocument||e,e.head.insertBefore(r,a==="title"?e.querySelector("head > title"):null)}function jb(e,a,r){if(r===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function l0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Nb(e,a,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=qn(l.href),h=a.querySelector(Vr(d));if(h){a=h._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=jl.bind(e),a.then(e,e)),r.state.loading|=4,r.instance=h,ct(h);return}h=a.ownerDocument||a,l=s0(l),(d=aa.get(d))&&gu(l,d),h=h.createElement("link"),ct(h);var p=h;p._p=new Promise(function(b,w){p.onload=b,p.onerror=w}),gt(h,"link",l),r.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,a),(a=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=jl.bind(e),a.addEventListener("load",r),a.addEventListener("error",r))}}var xu=0;function kb(e,a){return e.stylesheets&&e.count===0&&kl(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&kl(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+a);0<e.imgBytes&&xu===0&&(xu=62500*rb());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&kl(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>xu?50:800)+a);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function jl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nl=null;function kl(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nl=new Map,a.forEach(Sb,e),Nl=null,jl.call(e))}function Sb(e,a){if(!(a.state.loading&4)){var r=Nl.get(e);if(r)var l=r.get(null);else{r=new Map,Nl.set(e,r);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var p=d[h];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}d=a.instance,p=d.getAttribute("data-precedence"),h=r.get(p)||l,h===l&&r.set(null,d),r.set(p,d),this.count++,l=jl.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),h?h.parentNode.insertBefore(d,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),a.state.loading|=4}}var Yr={$$typeof:L,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function Ab(e,a,r,l,d,h,p,b,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ho(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ho(0),this.hiddenUpdates=ho(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function o0(e,a,r,l,d,h,p,b,w,A,D,z){return e=new Ab(e,a,r,p,w,A,D,z,b),a=1,h===!0&&(a|=24),h=Lt(3,null,null,a),e.current=h,h.stateNode=e,a=Xo(),a.refCount++,e.pooledCache=a,a.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:a},ec(h),e}function c0(e){return e?(e=pn,e):pn}function u0(e,a,r,l,d,h){d=c0(d),l.context===null?l.context=d:l.pendingContext=d,l=ts(a),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=as(e,l,a),r!==null&&(Tt(r,e,a),kr(r,e,a))}function d0(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<a?r:a}}function bu(e,a){d0(e,a),(e=e.alternate)&&d0(e,a)}function h0(e){if(e.tag===13||e.tag===31){var a=Ms(e,67108864);a!==null&&Tt(a,e,67108864),bu(e,67108864)}}function f0(e){if(e.tag===13||e.tag===31){var a=Pt();a=fo(a);var r=Ms(e,a);r!==null&&Tt(r,e,a),bu(e,a)}}var Sl=!0;function Eb(e,a,r,l){var d=T.T;T.T=null;var h=B.p;try{B.p=2,yu(e,a,r,l)}finally{B.p=h,T.T=d}}function Tb(e,a,r,l){var d=T.T;T.T=null;var h=B.p;try{B.p=8,yu(e,a,r,l)}finally{B.p=h,T.T=d}}function yu(e,a,r,l){if(Sl){var d=vu(l);if(d===null)ru(e,a,l,Al,r),g0(e,l);else if(Cb(d,e,a,r,l))l.stopPropagation();else if(g0(e,l),a&4&&-1<Ob.indexOf(e)){for(;d!==null;){var h=nn(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=Ts(h.pendingLanes);if(p!==0){var b=h;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var w=1<<31-zt(p);b.entanglements[1]|=w,p&=~w}ya(h),(Ee&6)===0&&(cl=Dt()+500,$r(0))}}break;case 31:case 13:b=Ms(h,2),b!==null&&Tt(b,h,2),dl(),bu(h,2)}if(h=vu(l),h===null&&ru(e,a,l,Al,r),h===d)break;d=h}d!==null&&l.stopPropagation()}else ru(e,a,l,null,r)}}function vu(e){return e=_o(e),wu(e)}var Al=null;function wu(e){if(Al=null,e=sn(e),e!==null){var a=u(e);if(a===null)e=null;else{var r=a.tag;if(r===13){if(e=f(a),e!==null)return e;e=null}else if(r===31){if(e=m(a),e!==null)return e;e=null}else if(r===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return Al=e,null}function m0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gp()){case wd:return 2;case _d:return 8;case pi:case pp:return 32;case jd:return 268435456;default:return 32}default:return 32}}var _u=!1,fs=null,ms=null,gs=null,Kr=new Map,Jr=new Map,ps=[],Ob="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g0(e,a){switch(e){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Kr.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jr.delete(a.pointerId)}}function Xr(e,a,r,l,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:a,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[d]},a!==null&&(a=nn(a),a!==null&&h0(a)),e):(e.eventSystemFlags|=l,a=e.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),e)}function Cb(e,a,r,l,d){switch(a){case"focusin":return fs=Xr(fs,e,a,r,l,d),!0;case"dragenter":return ms=Xr(ms,e,a,r,l,d),!0;case"mouseover":return gs=Xr(gs,e,a,r,l,d),!0;case"pointerover":var h=d.pointerId;return Kr.set(h,Xr(Kr.get(h)||null,e,a,r,l,d)),!0;case"gotpointercapture":return h=d.pointerId,Jr.set(h,Xr(Jr.get(h)||null,e,a,r,l,d)),!0}return!1}function p0(e){var a=sn(e.target);if(a!==null){var r=u(a);if(r!==null){if(a=r.tag,a===13){if(a=f(r),a!==null){e.blockedOn=a,Td(e.priority,function(){f0(r)});return}}else if(a===31){if(a=m(r),a!==null){e.blockedOn=a,Td(e.priority,function(){f0(r)});return}}else if(a===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function El(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var r=vu(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);wo=l,r.target.dispatchEvent(l),wo=null}else return a=nn(r),a!==null&&h0(a),e.blockedOn=r,!1;a.shift()}return!0}function x0(e,a,r){El(e)&&r.delete(a)}function Rb(){_u=!1,fs!==null&&El(fs)&&(fs=null),ms!==null&&El(ms)&&(ms=null),gs!==null&&El(gs)&&(gs=null),Kr.forEach(x0),Jr.forEach(x0)}function Tl(e,a){e.blockedOn===a&&(e.blockedOn=null,_u||(_u=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Rb)))}var Ol=null;function b0(e){Ol!==e&&(Ol=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ol===e&&(Ol=null);for(var a=0;a<e.length;a+=3){var r=e[a],l=e[a+1],d=e[a+2];if(typeof l!="function"){if(wu(l||r)===null)continue;break}var h=nn(r);h!==null&&(e.splice(a,3),a-=3,vc(h,{pending:!0,data:d,method:r.method,action:l},l,d))}}))}function In(e){function a(w){return Tl(w,e)}fs!==null&&Tl(fs,e),ms!==null&&Tl(ms,e),gs!==null&&Tl(gs,e),Kr.forEach(a),Jr.forEach(a);for(var r=0;r<ps.length;r++){var l=ps[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ps.length&&(r=ps[0],r.blockedOn===null);)p0(r),r.blockedOn===null&&ps.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var d=r[l],h=r[l+1],p=d[jt]||null;if(typeof h=="function")p||b0(r);else if(p){var b=null;if(h&&h.hasAttribute("formAction")){if(d=h,p=h[jt]||null)b=p.formAction;else if(wu(d)!==null)continue}else b=p.action;typeof b=="function"?r[l+1]=b:(r.splice(l,3),l-=3),b0(r)}}}function y0(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(p){return d=p})},focusReset:"manual",scroll:"manual"})}function a(){d!==null&&(d(),d=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),d!==null&&(d(),d=null)}}}function ju(e){this._internalRoot=e}Cl.prototype.render=ju.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(i(409));var r=a.current,l=Pt();u0(r,l,e,a,null,null)},Cl.prototype.unmount=ju.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;u0(e.current,2,null,e,null,null),dl(),a[an]=null}};function Cl(e){this._internalRoot=e}Cl.prototype.unstable_scheduleHydration=function(e){if(e){var a=Ed();e={blockedOn:null,target:e,priority:a};for(var r=0;r<ps.length&&a!==0&&a<ps[r].priority;r++);ps.splice(r,0,e),r===0&&p0(e)}};var v0=t.version;if(v0!=="19.2.3")throw Error(i(527,v0,"19.2.3"));B.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=x(a),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Db={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{rr=Rl.inject(Db),Mt=Rl}catch{}}return Fr.createRoot=function(e,a){if(!c(e))throw Error(i(299));var r=!1,l="",d=Af,h=Ef,p=Tf;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(p=a.onRecoverableError)),a=o0(e,1,!1,null,null,r,l,null,d,h,p,y0),e[an]=a.current,nu(e),new ju(a)},Fr.hydrateRoot=function(e,a,r){if(!c(e))throw Error(i(299));var l=!1,d="",h=Af,p=Ef,b=Tf,w=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(w=r.formState)),a=o0(e,1,!0,a,r??null,l,d,w,h,p,b,y0),a.context=c0(null),r=a.current,l=Pt(),l=fo(l),d=ts(l),d.callback=null,as(r,d,l),r=l,a.current.lanes=r,lr(a,r),ya(a),e[an]=a.current,nu(e),new Cl(a)},Fr.version="19.2.3",Fr}var E0;function ty(){if(E0)return Su.exports;E0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Su.exports=ey(),Su.exports}var ay=ty();const sy=ud(ay),Ss=()=>{const[n,t]=ae.useState(!1),s=Ql(),i=c=>s.pathname===c;return o.jsxs("header",{className:"fixed w-full top-0 z-50 transition-all duration-300 bg-white/70 dark:bg-background-dark/70 backdrop-blur-xl border-b border-gray-100/50 dark:border-white/5 shadow-sm",children:[o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs(ge,{to:"/",className:"text-2xl font-black text-slate-900 dark:text-white tracking-tighter flex items-center group",children:[o.jsx("span",{className:"material-icons mr-2 text-brand-orange group-hover:rotate-12 transition-transform duration-300","aria-hidden":"true",children:"school"}),"TuTesis",o.jsx("span",{className:"text-brand-orange",children:"RD"})]}),o.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors focus:outline-none",onClick:()=>t(!n),children:o.jsx("span",{className:"material-icons text-2xl text-slate-800 dark:text-white",children:"menu"})}),o.jsxs("nav",{className:"hidden md:flex space-x-1 items-center font-medium text-sm",children:[o.jsx(ge,{to:"/",className:`px-4 py-2 rounded-full transition-all duration-300 ${i("/")?"text-brand-orange bg-orange-50 dark:bg-gray-800":"text-slate-600 dark:text-slate-300 hover:text-brand-orange hover:bg-orange-50 dark:hover:bg-gray-800"}`,children:"Inicio"}),o.jsx(ge,{to:"/nosotros",className:`px-4 py-2 rounded-full transition-all duration-300 ${i("/nosotros")?"text-brand-orange bg-orange-50 dark:bg-gray-800":"text-slate-600 dark:text-slate-300 hover:text-brand-orange hover:bg-orange-50 dark:hover:bg-gray-800"}`,children:"Nosotros"}),o.jsx(ge,{to:"/servicios",className:`px-4 py-2 rounded-full transition-all duration-300 ${i("/servicios")?"text-brand-orange bg-orange-50 dark:bg-gray-800":"text-slate-600 dark:text-slate-300 hover:text-brand-orange hover:bg-orange-50 dark:hover:bg-gray-800"}`,children:"Servicios"}),o.jsx(ge,{to:"/herramientas",className:`px-4 py-2 rounded-full transition-all duration-300 ${i("/herramientas")?"text-brand-orange bg-orange-50 dark:bg-gray-800":"text-slate-600 dark:text-slate-300 hover:text-brand-orange hover:bg-orange-50 dark:hover:bg-gray-800"}`,children:"Herramientas"}),o.jsx(ge,{to:"/universidades",className:`px-4 py-2 rounded-full transition-all duration-300 ${i("/universidades")?"text-brand-orange bg-orange-50 dark:bg-gray-800":"text-slate-600 dark:text-slate-300 hover:text-brand-orange hover:bg-orange-50 dark:hover:bg-gray-800"}`,children:"Universidades"}),o.jsx(ge,{to:"/blog",className:`px-4 py-2 rounded-full transition-all duration-300 ${i("/blog")?"text-brand-orange bg-orange-50 dark:bg-gray-800":"text-slate-600 dark:text-slate-300 hover:text-brand-orange hover:bg-orange-50 dark:hover:bg-gray-800"}`,children:"Blog"}),o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",className:"ml-4 px-6 py-2.5 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-full hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300 flex items-center gap-2 font-bold",children:[o.jsx("i",{className:"fab fa-whatsapp text-lg"})," Contactar"]})]})]}),o.jsxs("div",{className:`md:hidden bg-white/95 dark:bg-black/95 backdrop-blur-xl border-t border-gray-100 dark:border-gray-800 absolute w-full ${n?"block":"hidden"}`,children:[o.jsx(ge,{to:"/",onClick:()=>t(!1),className:"block w-full text-left py-4 px-8 font-medium text-slate-800 dark:text-slate-200 border-b border-gray-50 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Inicio"}),o.jsx(ge,{to:"/nosotros",onClick:()=>t(!1),className:"block w-full text-left py-4 px-8 font-medium text-slate-800 dark:text-slate-200 border-b border-gray-50 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Nosotros"}),o.jsx(ge,{to:"/servicios",onClick:()=>t(!1),className:"block w-full text-left py-4 px-8 font-medium text-slate-800 dark:text-slate-200 border-b border-gray-50 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Servicios"}),o.jsx(ge,{to:"/herramientas",onClick:()=>t(!1),className:"block w-full text-left py-4 px-8 font-medium text-slate-800 dark:text-slate-200 border-b border-gray-50 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Herramientas"}),o.jsx(ge,{to:"/universidades",onClick:()=>t(!1),className:"block w-full text-left py-4 px-8 font-medium text-slate-800 dark:text-slate-200 border-b border-gray-50 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Universidades"}),o.jsx(ge,{to:"/blog",onClick:()=>t(!1),className:"block w-full text-left py-4 px-8 font-medium text-slate-800 dark:text-slate-200 border-b border-gray-50 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Blog"}),o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",onClick:()=>t(!1),className:"block py-4 px-8 text-brand-orange font-bold bg-orange-50/50 dark:bg-orange-900/10",children:[o.jsx("i",{className:"fab fa-whatsapp mr-2"})," Contactar por WhatsApp"]})]})]})},As=()=>o.jsx("footer",{id:"contacto",className:"bg-gray-900 text-gray-400 py-16",children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-2xl font-bold text-white block mb-4 flex items-center",children:[o.jsx("span",{className:"material-icons mr-2 text-brand-orange",children:"school"}),"Tu Tesis RD"]}),o.jsx("p",{className:"text-sm mb-6",children:"Tu aliado acadmico nmero uno en Repblica Dominicana. Calidad, confianza y resultados garantizados."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-bold text-lg mb-6",children:"Contacto"}),o.jsxs("ul",{className:"space-y-4",children:[o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"material-icons mt-1 mr-3 text-brand-orange text-sm",children:"location_on"}),o.jsxs("span",{children:["Higey, La Altagracia, Rep. Dom.",o.jsx("br",{}),o.jsx("span",{className:"text-xs text-gray-500",children:"(Servicio a todo el pas)"})]})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"material-icons mr-3 text-brand-orange text-sm",children:"email"}),o.jsx("a",{href:"mailto:ttesisrd@gmail.com",className:"hover:text-white transition",children:"ttesisrd@gmail.com"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"material-icons mr-3 text-brand-orange text-sm",children:"chat"}),o.jsx("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition",children:"Chat WhatsApp"})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-bold text-lg mb-6",children:"Enlaces Rpidos"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(ge,{to:"/",className:"hover:text-brand-orange transition",children:"Inicio"})}),o.jsx("li",{children:o.jsx(ge,{to:"/servicios",className:"hover:text-brand-orange transition",children:"Servicios"})}),o.jsx("li",{children:o.jsx(ge,{to:"/nosotros",className:"hover:text-brand-orange transition",children:"Nosotros"})}),o.jsx("li",{children:o.jsx(ge,{to:"/blog",className:"hover:text-brand-orange transition",children:"Blog"})}),o.jsx("li",{children:o.jsx(ge,{to:"/registro",className:"hover:text-brand-orange transition text-brand-orange font-medium",children:"Registrar Proyecto"})})]})]})]}),o.jsxs("div",{className:"mt-16 pt-8 border-t border-gray-800 flex flex-col md:flex-row justify-between items-center gap-6",children:[o.jsxs("div",{className:"text-sm",children:[" ",new Date().getFullYear()," TuTesisRD. Todos los derechos reservados."]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("a",{href:"#",className:"hover:text-white transition",children:o.jsx("i",{className:"fab fa-instagram text-xl"})}),o.jsx("a",{href:"#",className:"hover:text-white transition",children:o.jsx("i",{className:"fab fa-facebook text-xl"})}),o.jsx("a",{href:"#",className:"hover:text-white transition",children:o.jsx("i",{className:"fab fa-linkedin text-xl"})})]})]})]})}),js=({title:n,description:t,canonical:s,schema:i})=>{const c=`${n} | TuTesisRD - Asesora de Tesis en Repblica Dominicana`,f=t||"Asesora experta en tesis, anteproyectos y monogrficos en Repblica Dominicana. Ms de 7 aos ayudando a estudiantes a graduarse con xito.",m="https://www.tutesisrd.online";return ae.useEffect(()=>{document.title=c;const g=(j,N,E=!1)=>{const C=E?"property":"name";let U=document.querySelector(`meta[${C}="${j}"]`);U||(U=document.createElement("meta"),U.setAttribute(C,j),document.head.appendChild(U)),U.setAttribute("content",N)};g("description",f),g("og:title",c,!0),g("og:description",f,!0),g("og:type","website",!0),g("og:url",window.location.href,!0),g("og:image",`${m}/favicon.png`,!0),g("twitter:card","summary_large_image"),g("twitter:title",c),g("twitter:description",f);let x=document.querySelector('link[rel="canonical"]');const y=s||window.location.href;x||(x=document.createElement("link"),x.setAttribute("rel","canonical"),document.head.appendChild(x)),x.setAttribute("href",y);let v=document.querySelector('script[id="ld-json"]');i?(v||(v=document.createElement("script"),v.setAttribute("type","application/ld+json"),v.setAttribute("id","ld-json"),document.head.appendChild(v)),v.textContent=JSON.stringify(i)):v&&v.remove()},[c,f,s,i]),null},ny=()=>{const[n,t]=ws.useState(null),s=c=>{t(n===c?null:c)},i={"@context":"https://schema.org","@type":"LocalBusiness",name:"TuTesisRD",image:"https://www.tutesisrd.online/favicon.png","@id":"https://www.tutesisrd.online",url:"https://www.tutesisrd.online",telephone:"+18294435985",address:{"@type":"PostalAddress",streetAddress:"Repblica Dominicana",addressLocality:"Santo Domingo",addressCountry:"DO"},geo:{"@type":"GeoCoordinates",latitude:18.4861,longitude:-69.9312},openingHoursSpecification:{"@type":"OpeningHoursSpecification",dayOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday"],opens:"09:00",closes:"18:00"},sameAs:["https://wa.me/message/YESJDSE3MZ3IM1"]};return o.jsxs("div",{className:"font-sans text-gray-800 bg-background-light dark:bg-background-dark dark:text-gray-100 transition-colors duration-200",children:[o.jsx(js,{title:"Inicio",description:"Tu Tesis Aprobada, Sin Estrs. Expertos en redaccin acadmica y metodologa en Repblica Dominicana.",schema:i}),o.jsx(Ss,{}),o.jsxs("section",{id:"inicio",className:"relative pt-32 pb-16 lg:pt-48 lg:pb-32 overflow-hidden bg-background-light dark:bg-background-dark",children:[o.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-[300px] h-[300px] md:w-[600px] md:h-[600px] bg-brand-orange/10 rounded-full blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-[250px] h-[250px] md:w-[500px] md:h-[500px] bg-blue-500/10 rounded-full blur-3xl"}),o.jsx("div",{className:"container mx-auto px-6 relative z-10",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-12 lg:gap-20",children:[o.jsxs("div",{className:"md:w-1/2 animate-fade-in-up text-center md:text-left",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white dark:bg-white/10 border border-gray-200 dark:border-white/10 shadow-sm mb-6 md:mb-8",children:[o.jsx("span",{className:"flex h-2 w-2 rounded-full bg-green-500 animate-pulse"}),o.jsx("span",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-200",children:"Disponible para nuevos proyectos"})]}),o.jsxs("h1",{className:"text-4xl lg:text-7xl font-black text-slate-900 dark:text-white mb-6 leading-[1.1] tracking-tight",children:["Tu Tesis Aprobada,",o.jsx("br",{}),o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-orange to-amber-500",children:"Sin Estrs."})]}),o.jsx("p",{className:"text-lg lg:text-xl text-slate-500 dark:text-slate-400 mb-8 md:mb-10 leading-relaxed max-w-lg mx-auto md:mx-0",children:"Expertos en redaccin acadmica y metodologa. Te acompaamos desde el anteproyecto hasta la defensa final."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center md:justify-start",children:[o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center bg-brand-orange text-white font-bold py-4 px-8 rounded-full shadow-xl shadow-brand-orange/20 hover:shadow-2xl hover:shadow-brand-orange/30 hover:-translate-y-1 transition-all duration-300",children:[o.jsx("span",{className:"material-icons mr-2","aria-hidden":"true",children:"chat"})," Contactar Asesor"]}),o.jsx(ge,{to:"/servicios",className:"inline-flex items-center justify-center bg-white dark:bg-white/5 text-slate-700 dark:text-white font-bold py-4 px-8 rounded-full border border-gray-200 dark:border-white/10 hover:bg-gray-50 dark:hover:bg-white/10 transition-all duration-300",children:"Ver Servicios"})]}),o.jsxs("div",{className:"mt-12 hidden md:inline-flex items-center gap-4 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm p-3 pr-6 rounded-full border border-white/50 dark:border-slate-700/50 shadow-sm",children:[o.jsxs("div",{className:"flex -space-x-3",children:[o.jsx("img",{src:"https://randomuser.me/api/portraits/women/44.jpg",alt:"Estudiante satisfecha",className:"w-10 h-10 rounded-full border-2 border-white dark:border-slate-900 object-cover"}),o.jsx("img",{src:"https://randomuser.me/api/portraits/men/32.jpg",alt:"Estudiante satisfecho",className:"w-10 h-10 rounded-full border-2 border-white dark:border-slate-900 object-cover"}),o.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white dark:border-slate-900 bg-brand-orange flex items-center justify-center text-xs text-white font-bold",children:"+300"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-slate-900 dark:text-white leading-tight",children:"Estudiantes"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:"Graduados exitosamente"})]})]})]}),o.jsxs("div",{className:"md:w-1/2 relative animate-fade-in group perspective-1000 mt-8 md:mt-0",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-brand-orange to-yellow-400 rounded-[2rem] transform rotate-3 scale-105 opacity-20 blur-2xl group-hover:rotate-6 transition-transform duration-500"}),o.jsx("img",{src:"https://images.unsplash.com/photo-1523240795612-9a054b0db644?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",alt:"Estudiante celebrando graduacin con xito",className:"relative rounded-[2rem] shadow-2xl transform transition-transform duration-500 group-hover:scale-[1.02] border border-white/20"}),o.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-xl flex items-center gap-4 animate-bounce-slow border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-full text-green-600",children:o.jsx("span",{className:"material-icons","aria-hidden":"true",children:"check_circle"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:"Resultado"}),o.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"100% Aprobado"})]})]})]})]})})]}),o.jsxs("section",{className:"py-12 bg-slate-50 dark:bg-slate-900/50 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute top-1/2 left-0 w-[500px] h-[500px] bg-slate-200/50 dark:bg-slate-800/30 rounded-full blur-3xl -translate-y-1/2 -translate-x-1/2"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-[300px] h-[300px] bg-brand-orange/5 rounded-full blur-3xl translate-y-1/3 translate-x-1/3"})]}),o.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[o.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-20",children:[o.jsx("span",{className:"text-brand-orange font-black uppercase tracking-[0.2em] text-sm mb-4 block",children:"Nuestra Trayectoria"}),o.jsxs("h2",{className:"text-3xl md:text-5xl font-black text-slate-900 dark:text-white mb-6",children:["Por qu elegir ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-orange to-amber-500",children:"TuTesisRD?"})]}),o.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 leading-relaxed",children:"Ms de 7 aos transformando el estrs acadmico en xito profesional. Nuestra metodologa garantiza resultados aprobados."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:"history_edu",title:"+7 Aos",desc:"Experiencia Acadmica",color:"text-blue-500",bg:"bg-blue-500/10"},{icon:"groups",title:"300+",desc:"Tesis Asesoradas",color:"text-brand-orange",bg:"bg-brand-orange/10"},{icon:"verified",title:"100%",desc:"Tasa de Aprobacin",color:"text-green-500",bg:"bg-green-500/10"},{icon:"language",title:"Nacional",desc:"Cobertura Nacional",color:"text-purple-500",bg:"bg-purple-500/10"}].map((c,u)=>o.jsx("div",{className:"group bg-white dark:bg-slate-900 p-8 rounded-[2rem] border border-slate-100 dark:border-slate-800 hover:border-brand-orange/30 dark:hover:border-brand-orange/30 transition-all duration-300 hover:-translate-y-1",children:o.jsxs("div",{className:"relative z-10 text-center",children:[o.jsx("div",{className:`w-16 h-16 mx-auto ${c.bg} rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300`,children:o.jsx("span",{className:`material-icons text-3xl ${c.color}`,"aria-hidden":"true",children:c.icon})}),o.jsx("h4",{className:"text-3xl font-black text-slate-900 dark:text-white mb-2 tracking-tight",children:c.title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:c.desc})]})},u))})]})]}),o.jsx("section",{id:"servicios",className:"py-12 bg-white dark:bg-black relative overflow-hidden",children:o.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[o.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[o.jsx("span",{className:"text-brand-orange font-black uppercase tracking-[0.2em] text-sm mb-4 block",children:"Soluciones Integrales"}),o.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-slate-900 dark:text-white mb-6 leading-tight",children:["Nuestros Servicios ",o.jsx("span",{className:"text-slate-400 dark:text-slate-600",children:"Premium"})]}),o.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 leading-relaxed mb-8",children:"Diseamos un ecosistema de servicios para cubrir cada etapa de tu investigacin, desde la idea inicial hasta la sustentacin."}),o.jsx("div",{className:"flex justify-center",children:o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",className:"group flex items-center gap-3 px-8 py-4 bg-slate-900 hover:bg-slate-800 dark:bg-white dark:hover:bg-gray-100 text-white dark:text-slate-900 rounded-full font-bold transition-all hover:-translate-y-1 shadow-lg shadow-slate-200/50 dark:shadow-none",children:[o.jsx("span",{className:"uppercase tracking-wider text-sm",children:"Ver Planes"}),o.jsx("span",{className:"material-icons group-hover:translate-x-1 transition-transform text-sm",children:"arrow_forward"})]})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto",children:[{icon:"school",title:"Asesora de Tesis",desc:"Acompaamiento 1 a 1 metodologa y contenido.",details:"Sesiones personalizadas con expertos para definir tu tema, objetivos y estructura. Revisin capitular continua.",color:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/10"},{icon:"fact_check",title:"Correccin de Estilo",desc:"Normas APA, ortografa y redaccin acadmica.",details:"Eliminacin de errores gramaticales, sintcticos y ortogrficos. Ajuste riguroso a normas APA 7ma edicin.",color:"text-emerald-600",bg:"bg-emerald-50 dark:bg-emerald-900/10"},{icon:"analytics",title:"Anlisis Estadstico",desc:"Procesamiento de datos (SPSS, Excel) y resultados.",details:"Anlisis descriptivo e inferencial. Creacin de tablas y grficos interpretados listos para tu informe.",color:"text-violet-600",bg:"bg-violet-50 dark:bg-violet-900/10"},{icon:"menu_book",title:"Investigacin",desc:"Marco terico y bsqueda bibliogrfica.",details:"Bsqueda de fuentes de alto impacto (Scopus, WoS) para fundamentar tu marco terico y estado del arte.",color:"text-brand-orange",bg:"bg-orange-50 dark:bg-orange-900/10"}].map((c,u)=>o.jsx("div",{className:`group relative p-6 rounded-[2rem] bg-white dark:bg-slate-900 border transition-all duration-300 hover:-translate-y-1 cursor-pointer
                                    ${n===u?"border-brand-orange shadow-xl shadow-brand-orange/10 ring-1 ring-brand-orange/20":"border-slate-100 dark:border-slate-800 hover:border-brand-orange/30 dark:hover:border-brand-orange/30 hover:shadow-xl hover:shadow-slate-200/50 dark:hover:shadow-none"}`,onClick:()=>s(u),children:o.jsxs("div",{className:"flex flex-col h-full justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:`w-14 h-14 ${c.bg} ${c.color} rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300`,children:o.jsx("span",{className:"material-icons text-3xl","aria-hidden":"true",children:c.icon})}),o.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3 group-hover:text-brand-orange transition-colors",children:c.title}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed text-sm",children:c.desc}),o.jsx("div",{className:`grid transition-all duration-300 ease-in-out ${n===u?"grid-rows-[1fr] opacity-100 mt-4":"grid-rows-[0fr] opacity-0"}`,children:o.jsx("div",{className:"overflow-hidden",children:o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 border-t border-slate-100 dark:border-slate-800 pt-3",children:c.details})})})]}),o.jsxs("div",{className:"mt-6 flex items-center text-sm font-bold text-slate-900 dark:text-white group-hover:text-brand-orange transition-colors",children:[o.jsx("span",{className:"uppercase tracking-wider text-xs",children:n===u?"Menos detalles":"Ms detalles"}),o.jsx("span",{className:`material-icons text-sm ml-2 transition-transform duration-300 ${n===u?"-rotate-90":"group-hover:translate-x-1"}`,children:n===u?"expand_less":"arrow_forward"})]})]})},u))}),o.jsxs("div",{className:"mt-16 bg-gradient-to-r from-slate-50 to-white dark:from-slate-900 dark:to-black rounded-[2.5rem] p-8 md:p-12 border border-slate-200 dark:border-slate-800 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-brand-orange/5 rounded-full blur-[80px] pointer-events-none"}),o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-12 relative z-10",children:[o.jsxs("div",{className:"md:w-1/3",children:[o.jsxs("h3",{className:"text-3xl font-black text-slate-900 dark:text-white mb-4",children:["Todo Incluido ",o.jsx("span",{className:"text-brand-orange",children:"Premium"})]}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Al contratar cualquiera de nuestros servicios, obtienes beneficios exclusivos que garantizan tu tranquilidad."})]}),o.jsx("div",{className:"md:w-2/3 grid grid-cols-1 sm:grid-cols-3 gap-6 w-full",children:[{icon:"verified_user",title:"Anti-Plagio",text:"Reporte Turnitin Gratis"},{icon:"support_agent",title:"Soporte 24/7",text:"WhatsApp Directo"},{icon:"event_available",title:"Garanta",text:"Cumplimiento de Plazos"}].map((c,u)=>o.jsxs("div",{className:"flex gap-4 items-start p-4 rounded-2xl hover:bg-white dark:hover:bg-white/5 border border-transparent hover:border-slate-100 dark:hover:border-slate-700 transition-colors",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/30 text-green-600 flex items-center justify-center shrink-0",children:o.jsx("span",{className:"material-icons text-sm",children:c.icon})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:c.title}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:c.text})]})]},u))})]})]})]})}),o.jsxs("section",{className:"py-24 bg-slate-900 text-white overflow-hidden relative",children:[o.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-brand-orange/20 rounded-full blur-[120px] -mr-64 -mt-64"}),o.jsx("div",{className:"container mx-auto px-6 relative z-10",children:o.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-16",children:[o.jsxs("div",{className:"lg:w-1/2",children:[o.jsx("span",{className:"text-brand-orange font-black uppercase tracking-[0.2em] text-sm mb-4 block",children:"Herramientas Gratuitas"}),o.jsxs("h2",{className:"text-4xl md:text-5xl font-black mb-8 leading-tight",children:["Auditora de Tesis con ",o.jsx("span",{className:"text-brand-orange",children:"IA"})," Pro"]}),o.jsx("p",{className:"text-lg text-slate-400 mb-10 leading-relaxed",children:"Sube tu borrador y deja que nuestra inteligencia acadmica analice la coherencia de tu investigacin, el cumplimiento de normas APA y la estructura lgica en segundos."}),o.jsxs("ul",{className:"space-y-6 mb-12",children:[o.jsxs("li",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"bg-brand-orange/20 p-2 rounded-lg text-brand-orange",children:o.jsx("span",{className:"material-icons",children:"fact_check"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-white",children:"Validacin de Coherencia"}),o.jsx("p",{className:"text-sm text-slate-400",children:"Verificamos si tu problema, objetivos y metodologa estn alineados."})]})]}),o.jsxs("li",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"bg-brand-orange/20 p-2 rounded-lg text-brand-orange",children:o.jsx("span",{className:"material-icons",children:"format_paint"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-white",children:"Revisin de Formato"}),o.jsx("p",{className:"text-sm text-slate-400",children:"Detectamos errores comunes en portadas, ndices y bibliografa."})]})]})]}),o.jsxs(ge,{to:"/herramientas/auditor",className:"inline-flex items-center bg-brand-orange text-white font-black py-4 px-10 rounded-full shadow-glow-orange hover:shadow-glow-orange-lg hover:scale-105 transition-all",children:["Probar Auditor Gratis ",o.jsx("span",{className:"material-icons ml-2",children:"rocket_launch"})]})]}),o.jsx("div",{className:"lg:w-1/2 relative",children:o.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-950 p-8 rounded-[2.5rem] border border-slate-800 shadow-2xl relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8 pb-4 border-b border-slate-800",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),o.jsx("div",{className:"text-xs font-mono text-slate-500 uppercase tracking-widest",children:"Auditora en proceso..."})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"h-4 bg-slate-800 rounded-full w-3/4 animate-pulse"}),o.jsx("div",{className:"h-4 bg-slate-800 rounded-full w-1/2 animate-pulse delay-75"}),o.jsxs("div",{className:"p-6 bg-brand-orange/10 border border-brand-orange/20 rounded-2xl",children:[o.jsxs("div",{className:"flex items-center gap-3 text-brand-orange mb-2",children:[o.jsx("span",{className:"material-icons text-sm",children:"warning"}),o.jsx("span",{className:"font-bold text-sm tracking-wide uppercase",children:"Hallazgo APA 7"})]}),o.jsx("p",{className:"text-sm text-slate-300",children:"Se detect que el objetivo general no contiene el 'Para qu' de la investigacin."})]}),o.jsx("div",{className:"h-4 bg-slate-800 rounded-full w-2/3 animate-pulse delay-150"})]}),o.jsx("div",{className:"absolute -bottom-6 -right-6 bg-white dark:bg-slate-800 text-slate-900 dark:text-white p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 animate-bounce-slow",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-black text-brand-orange",children:"94%"}),o.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest border-t border-slate-100 dark:border-slate-700 mt-1 pt-1 opacity-60",children:"Puntaje Acadmico"})]})})]})})]})})]}),o.jsx("section",{className:"py-16 bg-brand-orange/5 dark:bg-black/20",children:o.jsx("div",{className:"container mx-auto px-6",children:o.jsx("div",{className:"bg-white dark:bg-background-dark rounded-3xl shadow-xl overflow-hidden border border-gray-100 dark:border-gray-800",children:o.jsxs("div",{className:"flex flex-col lg:flex-row",children:[o.jsxs("div",{className:"lg:w-2/5 bg-gray-100 dark:bg-gray-800 relative min-h-[300px] lg:min-h-full",children:[o.jsx("img",{src:"/miguel-cordero.jpg",alt:"Miguel ngel Cordero Trinidad",className:"absolute inset-0 w-full h-full object-cover object-top"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-6 text-white lg:hidden",children:[o.jsx("h3",{className:"text-2xl font-bold",children:"Miguel ngel Cordero"}),o.jsx("p",{className:"text-brand-orange font-medium",children:"CEO & Especialista Acadmico"})]})]}),o.jsxs("div",{className:"lg:w-3/5 p-8 md:p-12",children:[o.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-orange-100 dark:bg-orange-900/30 text-brand-orange text-sm font-bold mb-4",children:"Sobre el Especialista"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Pasin por la Educacin y la Investigacin"}),o.jsxs("div",{className:"prose prose-gray dark:prose-invert text-gray-600 dark:text-gray-300 mb-8",children:[o.jsx("p",{className:"mb-4 text-justify",children:"Miguel ngel Cordero Trinidad es un educador y asesor acadmico con ms de cinco aos de experiencia en el diseo, desarrollo y acompaamiento de investigaciones cientficas en Repblica Dominicana."}),o.jsxs("p",{className:"mb-4 text-justify",children:["Graduado ",o.jsx("strong",{children:"Summa Cum Laude"})," en Educacin Primaria por la UCE, combina su perfil con formacin avanzada en competencias digitales, innovacin educativa e IA aplicada."]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center bg-gray-50 dark:bg-gray-800/50 p-4 rounded-xl border border-gray-100 dark:border-gray-700",children:[o.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider",children:"Contacto Directo"}),o.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"Higey, La Altagracia"})]}),o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto px-6 py-3 bg-brand-orange text-white rounded-lg font-bold hover:bg-orange-600 transition shadow-md flex items-center justify-center",children:[o.jsx("span",{className:"material-icons mr-2 text-sm","aria-hidden":"true",children:"chat"})," Hablar con Miguel"]})]})]})]})})})}),o.jsx("section",{className:"py-20 bg-brand-orange relative overflow-hidden",children:o.jsxs("div",{className:"container mx-auto px-6 text-center relative z-10",children:[o.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-white mb-6",children:"nete a los cientos de estudiantes satisfechos!"}),o.jsx("p",{className:"text-white text-lg md:text-xl mb-10 max-w-2xl mx-auto font-medium",children:"Han alcanzado el xito acadmico con nuestra ayuda. Qu esperas para ser el prximo?"}),o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-white text-brand-orange font-bold py-5 px-12 rounded-full shadow-xl hover:bg-gray-100 transition duration-300 transform hover:scale-105 group",children:[o.jsx("span",{className:"material-icons mr-3 text-2xl group-hover:rotate-12 transition-transform","aria-hidden":"true",children:"chat"})," ",o.jsx("span",{className:"text-lg",children:"Hablar con un Asesor"})]})]})}),o.jsx("section",{className:"py-16 bg-white dark:bg-background-dark border-t border-slate-100 dark:border-slate-800",children:o.jsxs("div",{className:"container mx-auto px-6 text-center",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-slate-800 dark:text-white mb-6",children:"Prefieres gestionar todo en lnea?"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-8 max-w-2xl mx-auto",children:"Puedes registrar tu proyecto directamente en nuestra plataforma y enviarnos tus archivos para una revisin inicial."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[o.jsxs(ge,{to:"/registro",className:"w-full sm:w-auto px-10 py-4 bg-brand-orange text-white rounded-full font-bold text-lg hover:shadow-xl hover:shadow-brand-orange/30 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2",children:["Registrar Proyecto ",o.jsx("span",{className:"material-icons","aria-hidden":"true",children:"arrow_forward"})]}),o.jsxs(ge,{to:"/monitoreo",className:"w-full sm:w-auto px-10 py-4 bg-transparent text-brand-orange border-2 border-brand-orange rounded-full font-bold text-lg hover:bg-orange-50 dark:hover:bg-orange-900/10 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2",children:[o.jsx("span",{className:"material-icons","aria-hidden":"true",children:"search"})," Monitorear"]})]})]})}),o.jsx(As,{})]})},ry=()=>o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-800 dark:text-white",children:[o.jsx(js,{title:"Sobre Nosotros",description:"Conoce a Miguel ngel Cordero y al equipo de TuTesisRD. Expertos con ms de 7 aos de experiencia en asesora acadmica."}),o.jsx(Ss,{}),o.jsx("section",{className:"pt-32 pb-20",children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Por qu elegir Tu Tesis RD?"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Ms de 7 aos de experiencia y 300+ tesis trabajadas nos respaldan."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-20",children:[{icon:"history_edu",title:"+7 Aos",desc:"Experiencia"},{icon:"groups",title:"300+",desc:"Tesis Asesoradas"},{icon:"verified",title:"100%",desc:"Tasa de Aprobacin"},{icon:"language",title:"Nacional",desc:"Cobertura en todo el pas"}].map((n,t)=>o.jsxs("div",{className:"bg-white dark:bg-white/5 p-6 rounded-2xl border border-gray-100 dark:border-white/5 shadow-sm hover:shadow-md transition-all text-center group",children:[o.jsx("div",{className:"w-12 h-12 bg-orange-50 dark:bg-orange-900/20 rounded-xl flex items-center justify-center mx-auto mb-4 text-brand-orange group-hover:scale-110 transition-transform",children:o.jsx("span",{className:"material-icons",children:n.icon})}),o.jsx("h4",{className:"text-2xl font-black text-slate-900 dark:text-white mb-1",children:n.title}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:n.desc})]},t))}),o.jsx("div",{className:"bg-white dark:bg-background-dark rounded-3xl shadow-xl overflow-hidden border border-gray-100 dark:border-gray-800",children:o.jsxs("div",{className:"flex flex-col lg:flex-row",children:[o.jsxs("div",{className:"lg:w-1/3 bg-gray-100 dark:bg-gray-800 relative min-h-[400px]",children:[o.jsx("img",{src:"/miguel-cordero.jpg",alt:"Miguel ngel Cordero Trinidad",className:"absolute inset-0 w-full h-full object-cover object-top"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 text-white",children:[o.jsx("h3",{className:"text-2xl font-bold",children:"Miguel ngel Cordero"}),o.jsx("p",{className:"text-brand-orange font-medium",children:"CEO & Especialista Acadmico"})]})]}),o.jsxs("div",{className:"lg:w-2/3 p-8 md:p-12",children:[o.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-orange-100 dark:bg-orange-900/30 text-brand-orange text-sm font-bold mb-4",children:"Sobre el Especialista"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Pasin por la Educacin y la Investigacin"}),o.jsxs("div",{className:"prose prose-gray dark:prose-invert text-gray-600 dark:text-gray-300 mb-8",children:[o.jsx("p",{className:"mb-4",children:"Miguel ngel Cordero Trinidad es un educador y asesor acadmico con ms de cinco aos de experiencia en el diseo, desarrollo y acompaamiento de investigaciones cientficas en Repblica Dominicana."}),o.jsxs("p",{className:"mb-4",children:["Graduado ",o.jsx("strong",{children:"Summa Cum Laude"})," en Educacin Primaria por la UCE, combina su perfil con formacin avanzada en competencias digitales, innovacin educativa e IA aplicada."]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center bg-gray-50 dark:bg-gray-800/50 p-4 rounded-xl border border-gray-100 dark:border-gray-700",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider",children:"Contacto Directo"}),o.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"Higey, La Altagracia (Servicio Nacional)"})]}),o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 bg-brand-orange text-white rounded-lg font-bold hover:bg-orange-600 transition shadow-md flex items-center",children:[o.jsx("i",{className:"fab fa-whatsapp mr-2"})," Contactar a Miguel"]})]})]})]})})]})}),o.jsx(As,{})]}),iy=()=>o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-800 dark:text-white",children:[o.jsx(js,{title:"Servicios",description:"Ofrecemos asesora de tesis, correccin de estilo, anlisis estadstico y revisin anti-plagio con Turnitin."}),o.jsx(Ss,{}),o.jsx("section",{className:"pt-32 pb-20 bg-background-light dark:bg-surface-dark relative transition-colors duration-200",children:o.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:"Nuestros Servicios"}),o.jsx("div",{className:"w-20 h-1.5 bg-brand-orange mx-auto rounded-full"}),o.jsx("p",{className:"mt-6 text-lg text-slate-600 dark:text-slate-300 max-w-2xl mx-auto",children:"Ofrecemos un paquete completo de soluciones acadmicas diseadas para garantizar el xito de tu proyecto de grado."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:"book",title:"Asesora de Tesis",desc:"Acompaamiento metodolgico completo desde el anteproyecto hasta la defensa final. Te guiamos en cada captulo."},{icon:"edit",title:"Correccin de Estilo",desc:"Revisin ortotipogrfica y gramatical profesional. Adaptacin estricta a normas APA (6ta y 7ma ed.), Vancouver, o IEEE."},{icon:"analytics",title:"Anlisis Estadstico",desc:"Procesamiento de datos con SPSS, Excel o R. Interpretacin de resultados cuantitativos y cualitativos."},{icon:"science",title:"Investigacin y Desarrollo",desc:"Soporte en la bsqueda de informacin acadmica, construccin del marco terico y validacin de instrumentos."}].map((n,t)=>o.jsxs("div",{className:"bg-white dark:bg-white/5 p-8 rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 hover:-translate-y-2 border border-slate-100 dark:border-white/5 group flex flex-col items-center text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-100 to-orange-50 dark:from-orange-900/40 dark:to-orange-900/10 rounded-full flex items-center justify-center mb-6 text-brand-orange group-hover:scale-110 transition-transform shadow-inner",children:o.jsx("span",{className:"material-icons text-3xl",children:n.icon})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 group-hover:text-brand-orange transition-colors",children:n.title}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed",children:n.desc})]},t))}),o.jsxs("div",{className:"mt-20 bg-slate-50 dark:bg-slate-800/50 rounded-3xl p-8 md:p-12 border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-2xl font-bold text-center mb-8",children:"Qu incluye nuestro servicio Premium?"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"mt-1 bg-green-100 dark:bg-green-900/30 p-2 rounded-full text-green-600",children:o.jsx("span",{className:"material-icons text-sm",children:"check"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-2",children:"Revisin Anti-Plagio"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Garantizamos originalidad con reportes detallados de similitud (Turnitin)."})]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"mt-1 bg-green-100 dark:bg-green-900/30 p-2 rounded-full text-green-600",children:o.jsx("span",{className:"material-icons text-sm",children:"check"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-2",children:"Soporte Continuo"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Comunicacin directa con tu asesor va WhatsApp y Correo."})]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"mt-1 bg-green-100 dark:bg-green-900/30 p-2 rounded-full text-green-600",children:o.jsx("span",{className:"material-icons text-sm",children:"check"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-2",children:"Entrega Puntual"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Cronograma de entregas riguroso para cumplir con las fechas de tu universidad."})]})]})]})]}),o.jsxs("div",{className:"mt-32 text-center mb-16",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-black text-gray-900 dark:text-white mb-4",children:"Planes y Precios"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-xl mx-auto",children:"Elige el nivel de acompaamiento que mejor se adapte a tus necesidades y presupuesto."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 pb-10",children:[o.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-3xl p-8 border border-slate-100 dark:border-slate-800 flex flex-col hover:shadow-2xl transition-all h-full",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Bsico"}),o.jsxs("div",{className:"flex items-baseline gap-1 mb-6",children:[o.jsx("span",{className:"text-3xl font-black text-slate-900 dark:text-white",children:"RD$5,000"}),o.jsx("span",{className:"text-slate-500 text-sm",children:"/ mes"})]}),o.jsxs("ul",{className:"space-y-4 mb-8 flex-grow",children:[o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Asesora Metodolgica"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Correccin de Estilo"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Revisin de Normas APA"]})]}),o.jsx("button",{className:"w-full py-3 rounded-xl border border-brand-orange text-brand-orange font-bold hover:bg-brand-orange hover:text-white transition-colors",children:"Seleccionar Plan"})]}),o.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-3xl p-8 border-2 border-brand-orange flex flex-col shadow-glow h-full relative transform scale-105",children:[o.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-brand-orange text-white text-[10px] font-black uppercase tracking-widest px-4 py-1 rounded-full whitespace-nowrap",children:"Ms Popular"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Profesional"}),o.jsxs("div",{className:"flex items-baseline gap-1 mb-6",children:[o.jsx("span",{className:"text-3xl font-black text-slate-900 dark:text-white",children:"RD$12,000"}),o.jsx("span",{className:"text-slate-500 text-sm",children:"/ mes"})]}),o.jsxs("ul",{className:"space-y-4 mb-8 flex-grow",children:[o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Todo lo del Plan Bsico"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Reporte de Plagio (Turnitin)"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Anlisis Estadstico"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Acceso a la Plataforma"]})]}),o.jsx("button",{className:"w-full py-3 rounded-xl bg-brand-orange text-white font-black shadow-lg hover:shadow-glow transition-all",children:"Empezar Ahora"})]}),o.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-3xl p-8 border border-slate-100 dark:border-slate-800 flex flex-col hover:shadow-2xl transition-all h-full",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Premium"}),o.jsx("div",{className:"flex items-baseline gap-1 mb-6",children:o.jsx("span",{className:"text-3xl font-black text-slate-900 dark:text-white",children:"Custom"})}),o.jsxs("ul",{className:"space-y-4 mb-8 flex-grow",children:[o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Tesis desde cero"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Investigacin de campo"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Defensa simulada"]})]}),o.jsx("button",{className:"w-full py-3 rounded-xl border border-brand-orange text-brand-orange font-bold hover:bg-brand-orange hover:text-white transition-colors",children:"Contactar Expertos"})]})]})]})}),o.jsx(As,{})]}),Sg=[{id:"estructura-anteproyecto-dom",title:"Cmo estructurar tu anteproyecto de tesis segn normas dominicanas",excerpt:"Aprende los elementos clave que exigen las principales universidades de Repblica Dominicana (UASD, PUCMM, UNPHU) para aprobar tu anteproyecto.",category:"Metodologa",date:"2024-03-20",readTime:"8 min",image:"anteproyecto_guide.png",content:"<article><h2>Introduccin</h2><p>El anteproyecto es el mapa de ruta de tu investigacin. En Repblica Dominicana, cada universidad tiene matices, pero todas coinciden en una estructura base que debes dominar para recibir el visto bueno de tu asesor.</p><h3>1. El Problema de Investigacin</h3><p>No se trata simplemente de decir qu est mal. Debes delimitar el espacio, el tiempo y los sujetos. Qu est ocurriendo? A quines afecta? Por qu es relevante investigarlo ahora?</p><h3>2. Objetivos y Justificacin</h3><p>Tus objetivos deben ser alcanzables. Usa verbos en infinitivo (Analizar, Determinar, Evaluar). La justificacin debe responder al 'Para qu sirve?' desde un punto de vista social, metodolgico y prctico.</p><h3>3. Metodologa</h3><p>Ser descriptiva, exploratoria o explicativa? Aqu es donde muchos fallan. Define claramente tu poblacin y muestra.</p></article>"},{id:"errores-apa-7",title:"Los 5 errores ms comunes en el uso de Normas APA 7ma Edicin",excerpt:"Desde las citas en el texto hasta la lista de referencias. Evita estos errores para que tu tesis no sea rechazada por formato.",category:"Formato",date:"2024-03-22",readTime:"6 min",image:"apa_errors.png",content:"<article><h2>El formato APA no es tu enemigo</h2><p>La 7ma edicin de APA trajo cambios significativos que simplifican la vida, pero el hbito nos hace cometer errores del pasado.</p><h3>1. Uso incorrecto de 'et al.'</h3><p>En APA 7, para tres o ms autores, se usa 'et al.' desde la primera cita. Ya no hay que listar a todos la primera vez.</p><h3>2. Lugar de publicacin</h3><p>Ya no es necesario! Solo nombre del autor, editorial y ao. Si es digital, el DOI o URL.</p><h3>3. Formato de las referencias</h3><p>La sangra francesa es obligatoria. Muchos estudiantes usan tabulaciones manuales que se rompen al editar el documento.</p></article>"},{id:"gestion-tiempo-tesis",title:"Gestin del tiempo: Cmo terminar tu tesis en 3 meses",excerpt:"Estrategias de productividad realistas para estudiantes que trabajan. Organiza tu investigacin sin morir en el intento.",category:"Productividad",date:"2024-03-25",readTime:"10 min",image:"time_management.png",content:"<article><h2>La tesis es una maratn, no un sprint</h2><p>Muchos dejan todo para el ltimo mes. El secreto es la constancia dividida en bloques de tiempo de alta intensidad.</p><h3>La tcnica Pomodoro aplicada al marco terico</h3><p>Escribir el marco terico es la parte ms tediosa. Usa bloques de 50 minutos de escritura por 10 de descanso. No revises lo que escribes hasta completar el bloque.</p><h3>Define metas semanales, no semestrales</h3><p>En lugar de decir 'tengo que hacer el captulo 1', di 'esta semana redactar 5 pginas del planteamiento'.</p></article>"}],ly=()=>o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-800 dark:text-white",children:[o.jsx(Ss,{}),o.jsx("section",{className:"pt-32 pb-20",children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-4",children:"Blog Acadmico"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Consejos, guas y recursos para estudiantes universitarios dominicanos."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Sg.map(n=>o.jsxs(ge,{to:`/blog/${n.id}`,className:"bg-white dark:bg-surface-dark border border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden hover:shadow-xl transition-shadow group flex flex-col h-full",children:[o.jsxs("div",{className:"h-48 bg-slate-200 dark:bg-slate-700 relative overflow-hidden",children:[o.jsx("img",{src:`/TuTesisRD-App/blog/${n.image}`,alt:n.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx("span",{className:"bg-brand-orange text-white text-[10px] font-black uppercase tracking-widest px-3 py-1 rounded-full shadow-lg",children:n.category})})]}),o.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[o.jsx("h3",{className:"text-xl font-bold mb-3 text-slate-900 dark:text-white group-hover:text-brand-orange transition-colors",children:n.title}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4 line-clamp-3",children:n.excerpt}),o.jsxs("div",{className:"mt-auto flex items-center justify-between text-xs text-slate-400",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx("span",{className:"material-icons text-sm mr-1",children:"schedule"})," ",n.readTime]}),o.jsx("span",{children:n.date})]})]})]},n.id))}),o.jsx("div",{className:"mt-20 text-center",children:o.jsxs("div",{className:"inline-block p-8 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-dashed border-slate-300 dark:border-slate-700",children:[o.jsx("span",{className:"material-icons text-4xl text-slate-400 mb-2",children:"construction"}),o.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:"Prximamente"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-md mx-auto mt-2",children:"Estamos preparando contenido de alto valor para ayudarte en tu camino acadmico. Vuelve pronto!"})]})})]})}),o.jsx(As,{})]}),oy=()=>o.jsxs("div",{className:"flex h-screen w-full font-display bg-background-light dark:bg-background-dark text-slate-800 dark:text-white overflow-hidden transition-colors duration-200",children:[o.jsxs("aside",{className:"hidden md:flex w-72 flex-col bg-surface-light dark:bg-surface-dark border-r border-slate-200 dark:border-slate-800 h-full p-6 transition-colors duration-200",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-8 cursor-pointer",onClick:()=>window.location.href="/",children:[o.jsx("div",{className:"size-10 bg-primary rounded-xl flex items-center justify-center text-white shadow-lg shadow-blue-500/30",children:o.jsx("span",{className:"material-symbols-outlined",children:"school"})}),o.jsx("h1",{className:"text-xl font-bold",children:"TuTesisRD"})]}),o.jsxs("nav",{className:"flex flex-col gap-2",children:[o.jsxs(ge,{to:"/portal",className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-primary/10 text-primary font-medium",children:[o.jsx("span",{className:"material-symbols-outlined",children:"dashboard"}),"Dashboard"]}),o.jsxs(ge,{to:"/portal/historial",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[o.jsx("span",{className:"material-symbols-outlined",children:"history"}),"Historial de Anlisis"]}),o.jsxs("a",{href:"#",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[o.jsx("span",{className:"material-symbols-outlined",children:"calendar_month"}),"Calendario"]}),o.jsxs("a",{href:"#",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[o.jsx("span",{className:"material-symbols-outlined",children:"chat"}),"Asesora IA"]})]})]}),o.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-y-auto p-8",children:[o.jsxs("header",{className:"flex justify-between items-center mb-8",children:[o.jsxs("h2",{className:"text-3xl font-bold animate-fade-in",children:["Hola, ",o.jsx("span",{className:"text-primary",children:"Carlos!"})," "]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-white dark:bg-slate-700 p-2 rounded-full shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:o.jsx("span",{className:"material-symbols-outlined",children:"notifications"})}),o.jsx("div",{className:"size-10 rounded-full bg-cover ring-2 ring-white dark:ring-slate-700 shadow-md",style:{backgroundImage:"url('https://lh3.googleusercontent.com/aida-public/AB6AXuAVUvIDS3tSZCfS538VxO8VQkD0THkmMPL5yOaZ9q92zMPh1MSxRkbealDVwtxYU-l5ylCUPqB9DGPLW5TOggcHAHdPKmgqR_N3Uv_76hg55A4atJVjpSvxvNi6Hegi03YOcO57qozAl7nGWhyE4HbHVSqQp6W7IMsLe9SqVFP9OzQnhJUmITy_ccdecOB4eSQMEccckgX2zbzXAJr8kHsH6XeeP1YpOJeMx_JTQ_Zrfi_hzR8bW2FZsm46OUzTeLru-2DLDuZIfmAQ')"}})]})]}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8 animate-slide-up",children:[o.jsxs("div",{className:"xl:col-span-2 space-y-8",children:[o.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-3xl p-6 shadow-sm border border-slate-100 dark:border-slate-800",children:[o.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[o.jsx("span",{className:"material-symbols-outlined text-primary",children:"timeline"}),"Lnea de Tiempo"]}),o.jsxs("div",{className:"flex justify-between items-center relative px-2",children:[o.jsx("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-slate-100 dark:bg-slate-700 -z-10 rounded-full"}),o.jsxs("div",{className:"flex flex-col items-center gap-2 group cursor-pointer",children:[o.jsx("div",{className:"size-12 rounded-full bg-green-500 text-white flex items-center justify-center shadow-lg shadow-green-500/30 transform group-hover:scale-110 transition-transform",children:o.jsx("span",{className:"material-symbols-outlined",children:"check"})}),o.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300",children:"Tema"})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2 group cursor-pointer",children:[o.jsx("div",{className:"size-12 rounded-full bg-green-500 text-white flex items-center justify-center shadow-lg shadow-green-500/30 transform group-hover:scale-110 transition-transform",children:o.jsx("span",{className:"material-symbols-outlined",children:"check"})}),o.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300",children:"Propuesta"})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx("div",{className:"size-16 rounded-full bg-white dark:bg-surface-dark border-4 border-primary text-primary flex items-center justify-center shadow-lg shadow-primary/20 animate-pulse",children:o.jsx("span",{className:"material-symbols-outlined text-2xl",children:"edit_document"})}),o.jsx("span",{className:"text-xs font-bold text-primary",children:"Cap. 2"})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2 opacity-50",children:[o.jsx("div",{className:"size-12 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-500",children:o.jsx("span",{className:"material-symbols-outlined",children:"lock"})}),o.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-400",children:"Cap. 3"})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-3xl p-6 shadow-sm border-2 border-dashed border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center h-48 cursor-pointer hover:border-primary hover:bg-slate-50 dark:hover:bg-slate-800 transition-all group",children:[o.jsx("span",{className:"material-symbols-outlined text-4xl text-primary mb-2 group-hover:scale-110 transition-transform",children:"cloud_upload"}),o.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-300",children:"Subir Avance"})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-slate-900 text-white rounded-3xl p-6 shadow-xl relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary blur-3xl opacity-30 rounded-full group-hover:opacity-40 transition-opacity"}),o.jsx("h3",{className:"text-xl font-bold mb-1",children:"Prxima Entrega"}),o.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Captulo 2: Marco Terico"}),o.jsxs("div",{className:"flex justify-between text-center gap-2",children:[o.jsxs("div",{className:"bg-white/10 p-3 rounded-xl flex-1 backdrop-blur-sm",children:[o.jsx("span",{className:"text-3xl font-mono font-bold text-primary-300",children:"03"}),o.jsx("br",{}),o.jsx("span",{className:"text-[10px] tracking-wider opacity-70",children:"DAS"})]}),o.jsxs("div",{className:"bg-white/10 p-3 rounded-xl flex-1 backdrop-blur-sm",children:[o.jsx("span",{className:"text-3xl font-mono font-bold text-primary-300",children:"14"}),o.jsx("br",{}),o.jsx("span",{className:"text-[10px] tracking-wider opacity-70",children:"HORAS"})]})]})]}),o.jsxs("div",{className:"bg-primary/10 rounded-3xl p-6 border border-primary/20",children:[o.jsx("h4",{className:"font-bold text-primary mb-2",children:"Consejo del Da"}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:'"Recuerda revisar las normas APA 7ma edicin para tus citas bibliogrficas. La IA puede ayudarte a formatearlas."'})]})]})]})]})]});function Wl(n,t){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(n);c<i.length;c++)t.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(n,i[c])&&(s[i[c]]=n[i[c]]);return s}function cy(n,t,s,i){function c(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function m(y){try{x(i.next(y))}catch(v){f(v)}}function g(y){try{x(i.throw(y))}catch(v){f(v)}}function x(y){y.done?u(y.value):c(y.value).then(m,g)}x((i=i.apply(n,t||[])).next())})}const uy=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class hd extends Error{constructor(t,s="FunctionsError",i){super(t),this.name=s,this.context=i}}class dy extends hd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class T0 extends hd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class O0 extends hd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hu;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Hu||(Hu={}));class hy{constructor(t,{headers:s={},customFetch:i,region:c=Hu.Any}={}){this.url=t,this.headers=s,this.region=c,this.fetch=uy(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return cy(this,arguments,void 0,function*(s,i={}){var c;let u,f;try{const{headers:m,method:g,body:x,signal:y,timeout:v}=i;let j={},{region:N}=i;N||(N=this.region);const E=new URL(`${this.url}/${s}`);N&&N!=="any"&&(j["x-region"]=N,E.searchParams.set("forceFunctionRegion",N));let C;x&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&x instanceof Blob||x instanceof ArrayBuffer?(j["Content-Type"]="application/octet-stream",C=x):typeof x=="string"?(j["Content-Type"]="text/plain",C=x):typeof FormData<"u"&&x instanceof FormData?C=x:(j["Content-Type"]="application/json",C=JSON.stringify(x)):x&&typeof x!="string"&&!(typeof Blob<"u"&&x instanceof Blob)&&!(x instanceof ArrayBuffer)&&!(typeof FormData<"u"&&x instanceof FormData)?C=JSON.stringify(x):C=x;let U=y;v&&(f=new AbortController,u=setTimeout(()=>f.abort(),v),y?(U=f.signal,y.addEventListener("abort",()=>f.abort())):U=f.signal);const q=yield this.fetch(E.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},j),this.headers),m),body:C,signal:U}).catch(K=>{throw new dy(K)}),I=q.headers.get("x-relay-error");if(I&&I==="true")throw new T0(q);if(!q.ok)throw new O0(q);let L=((c=q.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),V;return L==="application/json"?V=yield q.json():L==="application/octet-stream"||L==="application/pdf"?V=yield q.blob():L==="text/event-stream"?V=q:L==="multipart/form-data"?V=yield q.formData():V=yield q.text(),{data:V,error:null,response:q}}catch(m){return{data:null,error:m,response:m instanceof O0||m instanceof T0?m.context:void 0}}finally{u&&clearTimeout(u)}})}}var fy=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},my=class{constructor(n){var t,s;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let c=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let f=null,m=null,g=null,x=u.status,y=u.statusText;if(u.ok){var v,j;if(s.method!=="HEAD"){var N;const q=await u.text();q===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((N=s.headers.get("Accept"))===null||N===void 0)&&N.includes("application/vnd.pgrst.plan+text"))?m=q:m=JSON.parse(q))}const C=(v=s.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),U=(j=u.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");C&&U&&U.length>1&&(g=parseInt(U[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,x=406,y="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var E;const C=await u.text();try{f=JSON.parse(C),Array.isArray(f)&&u.status===404&&(m=[],f=null,x=200,y="OK")}catch{u.status===404&&C===""?(x=204,y="No Content"):f={message:C}}if(f&&s.isMaybeSingle&&(!(f==null||(E=f.details)===null||E===void 0)&&E.includes("0 rows"))&&(f=null,x=200,y="OK"),f&&s.shouldThrowOnError)throw new fy(f)}return{error:f,data:m,count:g,status:x,statusText:y}});return this.shouldThrowOnError||(c=c.catch(u=>{var f;let m="";const g=u==null?void 0:u.cause;if(g){var x,y,v,j;const E=(x=g==null?void 0:g.message)!==null&&x!==void 0?x:"",C=(y=g==null?void 0:g.code)!==null&&y!==void 0?y:"";m=`${(v=u==null?void 0:u.name)!==null&&v!==void 0?v:"FetchError"}: ${u==null?void 0:u.message}`,m+=`

Caused by: ${(j=g==null?void 0:g.name)!==null&&j!==void 0?j:"Error"}: ${E}`,C&&(m+=` (${C})`),g!=null&&g.stack&&(m+=`
${g.stack}`)}else{var N;m=(N=u==null?void 0:u.stack)!==null&&N!==void 0?N:""}return{error:{message:`${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"FetchError"}: ${u==null?void 0:u.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(n,t)}returns(){return this}overrideTypes(){return this}},gy=class extends my{select(n){let t=!1;const s=(n??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:s,foreignTable:i,referencedTable:c=i}={}){const u=c?`${c}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${n}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:s=t}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,t,{foreignTable:s,referencedTable:i=s}={}){const c=typeof i>"u"?"offset":`${i}.offset`,u=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(c,`${n}`),this.url.searchParams.set(u,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:s=!1,buffers:i=!1,wal:c=!1,format:u="text"}={}){var f;const m=[n?"analyze":null,t?"verbose":null,s?"settings":null,i?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${m};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const C0=new RegExp("[,()]");var Kn=class extends gy{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}regexMatch(n,t){return this.url.searchParams.append(n,`match.${t}`),this}regexIMatch(n,t){return this.url.searchParams.append(n,`imatch.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}isDistinct(n,t){return this.url.searchParams.append(n,`isdistinct.${t}`),this}in(n,t){const s=Array.from(new Set(t)).map(i=>typeof i=="string"&&C0.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${s})`),this}notIn(n,t){const s=Array.from(new Set(t)).map(i=>typeof i=="string"&&C0.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`not.in.(${s})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:s,type:i}={}){let c="";i==="plain"?c="pl":i==="phrase"?c="ph":i==="websearch"&&(c="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(n,`${c}fts${u}.${t}`),this}match(n){return Object.entries(n).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(n,t,s){return this.url.searchParams.append(n,`not.${t}.${s}`),this}or(n,{foreignTable:t,referencedTable:s=t}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,t,s){return this.url.searchParams.append(n,`${t}.${s}`),this}},py=class{constructor(n,{headers:t={},schema:s,fetch:i}){this.url=n,this.headers=new Headers(t),this.schema=s,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,t){const{head:s=!1,count:i}=t??{},c=s?"HEAD":"GET";let u=!1;const f=(n??"*").split("").map(x=>/\s/.test(x)&&!u?"":(x==='"'&&(u=!u),x)).join(""),{url:m,headers:g}=this.cloneRequestState();return m.searchParams.set("select",f),i&&g.append("Prefer",`count=${i}`),new Kn({method:c,url:m,headers:g,schema:this.schema,fetch:this.fetch})}insert(n,{count:t,defaultToNull:s=!0}={}){var i;const c="POST",{url:u,headers:f}=this.cloneRequestState();if(t&&f.append("Prefer",`count=${t}`),s||f.append("Prefer","missing=default"),Array.isArray(n)){const m=n.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(m.length>0){const g=[...new Set(m)].map(x=>`"${x}"`);u.searchParams.set("columns",g.join(","))}}return new Kn({method:c,url:u,headers:f,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(n,{onConflict:t,ignoreDuplicates:s=!1,count:i,defaultToNull:c=!0}={}){var u;const f="POST",{url:m,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&m.searchParams.set("on_conflict",t),i&&g.append("Prefer",`count=${i}`),c||g.append("Prefer","missing=default"),Array.isArray(n)){const x=n.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(x.length>0){const y=[...new Set(x)].map(v=>`"${v}"`);m.searchParams.set("columns",y.join(","))}}return new Kn({method:f,url:m,headers:g,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(n,{count:t}={}){var s;const i="PATCH",{url:c,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new Kn({method:i,url:c,headers:u,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:n}={}){var t;const s="DELETE",{url:i,headers:c}=this.cloneRequestState();return n&&c.append("Prefer",`count=${n}`),new Kn({method:s,url:i,headers:c,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},xy=class Ag{constructor(t,{headers:s={},schema:i,fetch:c}={}){this.url=t,this.headers=new Headers(s),this.schemaName=i,this.fetch=c}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new py(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ag(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:i=!1,get:c=!1,count:u}={}){var f;let m;const g=new URL(`${this.url}/rpc/${t}`);let x;const y=N=>N!==null&&typeof N=="object"&&(!Array.isArray(N)||N.some(y)),v=i&&Object.values(s).some(y);v?(m="POST",x=s):i||c?(m=i?"HEAD":"GET",Object.entries(s).filter(([N,E])=>E!==void 0).map(([N,E])=>[N,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([N,E])=>{g.searchParams.append(N,E)})):(m="POST",x=s);const j=new Headers(this.headers);return v?j.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&j.set("Prefer",`count=${u}`),new Kn({method:m,url:g,headers:j,schema:this.schemaName,body:x,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class by{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const i=s.versions;if(i&&i.node){const c=i.node,u=parseInt(c.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const i=this.getWebSocketConstructor();return new i(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const yy="2.90.1",vy=`realtime-js/${yy}`,Eg="1.0.0",wy="2.0.0",R0=Eg,Gu=1e4,_y=1e3,jy=100;var bs;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(bs||(bs={}));var ot;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ot||(ot={}));var ha;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(ha||(ha={}));var Vu;(function(n){n.websocket="websocket"})(Vu||(Vu={}));var Xs;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Xs||(Xs={}));class Ny{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,i;const c=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(t){var s,i;const c=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(t,s,i){var c,u;const f=t.topic,m=(c=t.ref)!==null&&c!==void 0?c:"",g=(u=t.join_ref)!==null&&u!==void 0?u:"",x=t.payload.event,y=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(y).length===0?"":JSON.stringify(y);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`userEvent length ${x.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const j=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+f.length+x.length+v.length,N=new ArrayBuffer(this.HEADER_LENGTH+j);let E=new DataView(N),C=0;E.setUint8(C++,this.KINDS.userBroadcastPush),E.setUint8(C++,g.length),E.setUint8(C++,m.length),E.setUint8(C++,f.length),E.setUint8(C++,x.length),E.setUint8(C++,v.length),E.setUint8(C++,s),Array.from(g,q=>E.setUint8(C++,q.charCodeAt(0))),Array.from(m,q=>E.setUint8(C++,q.charCodeAt(0))),Array.from(f,q=>E.setUint8(C++,q.charCodeAt(0))),Array.from(x,q=>E.setUint8(C++,q.charCodeAt(0))),Array.from(v,q=>E.setUint8(C++,q.charCodeAt(0)));var U=new Uint8Array(N.byteLength+i.byteLength);return U.set(new Uint8Array(N),0),U.set(new Uint8Array(i),N.byteLength),U.buffer}decode(t,s){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return s(i)}if(typeof t=="string"){const i=JSON.parse(t),[c,u,f,m,g]=i;return s({join_ref:c,ref:u,topic:f,event:m,payload:g})}return s({})}_binaryDecode(t){const s=new DataView(t),i=s.getUint8(0),c=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,s,c)}}_decodeUserBroadcast(t,s,i){const c=s.getUint8(1),u=s.getUint8(2),f=s.getUint8(3),m=s.getUint8(4);let g=this.HEADER_LENGTH+4;const x=i.decode(t.slice(g,g+c));g=g+c;const y=i.decode(t.slice(g,g+u));g=g+u;const v=i.decode(t.slice(g,g+f));g=g+f;const j=t.slice(g,t.byteLength),N=m===this.JSON_ENCODING?JSON.parse(i.decode(j)):j,E={type:this.BROADCAST_EVENT,event:y,payload:N};return f>0&&(E.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:x,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>s.includes(i)))}}class Tg{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ie||(Ie={}));const D0=(n,t,s={})=>{var i;const c=(i=s.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((u,f)=>(u[f]=ky(f,n,t,c),u),{}):{}},ky=(n,t,s,i)=>{const c=t.find(m=>m.name===n),u=c==null?void 0:c.type,f=s[n];return u&&!i.includes(u)?Og(u,f):Zu(f)},Og=(n,t)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return Ty(t,s)}switch(n){case Ie.bool:return Sy(t);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return Ay(t);case Ie.json:case Ie.jsonb:return Ey(t);case Ie.timestamp:return Oy(t);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return Zu(t);default:return Zu(t)}},Zu=n=>n,Sy=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Ay=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},Ey=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},Ty=(n,t)=>{if(typeof n!="string")return n;const s=n.length-1,i=n[s];if(n[0]==="{"&&i==="}"){let u;const f=n.slice(1,s);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(m=>Og(t,m))}return n},Oy=n=>typeof n=="string"?n.replace(" ","T"):n,Cg=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Tu{constructor(t,s,i={},c=Gu){this.channel=t,this.event=s,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var i;return this._hasReceived(t)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var M0;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(M0||(M0={}));class ai{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:u,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ai.syncState(this.state,c,u,f),this.pendingDiffs.forEach(g=>{this.state=ai.syncDiff(this.state,g,u,f)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},c=>{const{onJoin:u,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=ai.syncDiff(this.state,c,u,f),m())}),this.onJoin((c,u,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:f})}),this.onLeave((c,u,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,i,c){const u=this.cloneDeep(t),f=this.transformState(s),m={},g={};return this.map(u,(x,y)=>{f[x]||(g[x]=y)}),this.map(f,(x,y)=>{const v=u[x];if(v){const j=y.map(U=>U.presence_ref),N=v.map(U=>U.presence_ref),E=y.filter(U=>N.indexOf(U.presence_ref)<0),C=v.filter(U=>j.indexOf(U.presence_ref)<0);E.length>0&&(m[x]=E),C.length>0&&(g[x]=C)}else m[x]=y}),this.syncDiff(u,{joins:m,leaves:g},i,c)}static syncDiff(t,s,i,c){const{joins:u,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(u,(m,g)=>{var x;const y=(x=t[m])!==null&&x!==void 0?x:[];if(t[m]=this.cloneDeep(g),y.length>0){const v=t[m].map(N=>N.presence_ref),j=y.filter(N=>v.indexOf(N.presence_ref)<0);t[m].unshift(...j)}i(m,y,g)}),this.map(f,(m,g)=>{let x=t[m];if(!x)return;const y=g.map(v=>v.presence_ref);x=x.filter(v=>y.indexOf(v.presence_ref)<0),t[m]=x,c(m,x,g),x.length===0&&delete t[m]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(i=>s(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,i)=>{const c=t[i];return"metas"in c?s[i]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[i]=c,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var z0;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(z0||(z0={}));var si;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(si||(si={}));var $a;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})($a||($a={}));class Fn{constructor(t,s={config:{}},i){var c,u;if(this.topic=t,this.params=s,this.socket=i,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Tu(this,ha.join,this.params,this.timeout),this.rejoinTimer=new Tg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ha.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new ai(this),this.broadcastEndpointURL=Cg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var i,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:f,presence:m,private:g}}=this.params,x=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(N=>N.filter))!==null&&c!==void 0?c:[],y=!!this.bindings[si.PRESENCE]&&this.bindings[si.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,v={},j={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:x,private:g};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(N=>t==null?void 0:t($a.CHANNEL_ERROR,N)),this._onClose(()=>t==null?void 0:t($a.CLOSED)),this.updateJoinPayload(Object.assign({config:j},v)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:N})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),N===void 0){t==null||t($a.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,U=(E=C==null?void 0:C.length)!==null&&E!==void 0?E:0,q=[];for(let I=0;I<U;I++){const L=C[I],{filter:{event:V,schema:K,table:W,filter:ie}}=L,oe=N&&N[I];if(oe&&oe.event===V&&Fn.isFilterValueEqual(oe.schema,K)&&Fn.isFilterValueEqual(oe.table,W)&&Fn.isFilterValueEqual(oe.filter,ie))q.push(Object.assign(Object.assign({},L),{id:oe.id}));else{this.unsubscribe(),this.state=ot.errored,t==null||t($a.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=q,t&&t($a.SUBSCRIBED);return}}).receive("error",N=>{this.state=ot.errored,t==null||t($a.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($a.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,i){return this.state===ot.joined&&t===si.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,i)}async httpSend(t,s,i={}){var c;if(s==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=i.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const x=await m.json();g=x.error||x.message||g}catch{}return Promise.reject(new Error(g))}async send(t,s={}){var i,c;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:f}=t,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=x.body)===null||c===void 0?void 0:c.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,m,g;const x=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),x.receive("ok",()=>u("ok")),x.receive("error",()=>u("error")),x.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ot.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ha.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new Tu(this,ha.leave,{},t),i.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(t,s,i){const c=new AbortController,u=setTimeout(()=>c.abort(),i),f=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(u),f}_push(t,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Tu(this,t,s,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>jy){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,i){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,i){var c,u;const f=t.toLocaleLowerCase(),{close:m,error:g,leave:x,join:y}=ha;if(i&&[m,g,x,y].indexOf(f)>=0&&i!==this._joinRef())return;let j=this._onMessage(f,s,i);if(s&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(N=>{var E,C,U;return((E=N.filter)===null||E===void 0?void 0:E.event)==="*"||((U=(C=N.filter)===null||C===void 0?void 0:C.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===f}).map(N=>N.callback(j,i)):(u=this.bindings[f])===null||u===void 0||u.filter(N=>{var E,C,U,q,I,L,V,K;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in N){const W=N.id,ie=(E=N.filter)===null||E===void 0?void 0:E.event;return W&&((C=s.ids)===null||C===void 0?void 0:C.includes(W))&&(ie==="*"||(ie==null?void 0:ie.toLocaleLowerCase())===((U=s.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))&&(!(!((q=N.filter)===null||q===void 0)&&q.table)||N.filter.table===((I=s.data)===null||I===void 0?void 0:I.table))}else{const W=(V=(L=N==null?void 0:N.filter)===null||L===void 0?void 0:L.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return W==="*"||W===((K=s==null?void 0:s.event)===null||K===void 0?void 0:K.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===f}).map(N=>{if(typeof j=="object"&&"ids"in j){const E=j.data,{schema:C,table:U,commit_timestamp:q,type:I,errors:L}=E;j=Object.assign(Object.assign({},{schema:C,table:U,commit_timestamp:q,eventType:I,new:{},old:{},errors:L}),this._getPayloadRecords(E))}N.callback(j,i)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,i){const c=t.toLocaleLowerCase(),u={type:c,filter:s,callback:i};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(t,s){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&Fn.isEqual(c.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const i in t)if(t[i]!==s[i])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ha.close,{},t)}_onError(t){this._on(ha.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=D0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=D0(t.columns,t.old_record)),s}}const Ou=()=>{},Dl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Cy=[1e3,2e3,5e3,1e4],Ry=1e4,Dy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class My{constructor(t,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gu,this.transport=null,this.heartbeatIntervalMs=Dl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ou,this.ref=0,this.reconnectTimer=null,this.vsn=R0,this.logger=Ou,this.conn=null,this.sendBuffer=[],this.serializer=new Ny,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((i=s==null?void 0:s.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${Vu.websocket}`,this.httpEndpoint=Cg(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=by.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,i){this.logger(t,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case bs.connecting:return Xs.Connecting;case bs.open:return Xs.Open;case bs.closing:return Xs.Closing;default:return Xs.Closed}}isConnected(){return this.connectionState()===Xs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const i=`realtime:${t}`,c=this.getChannels().find(u=>u.topic===i);if(c)return c;{const u=new Fn(`realtime:${t}`,s,this);return this.channels.push(u),u}}push(t){const{topic:s,event:i,payload:c,ref:u}=t,f=()=>{this.encode(t,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${s} ${i} (${u})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_y,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Dl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const x=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",x)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:c,payload:u,ref:f}=s,m=f?`(${f})`:"",g=u.status||"";this.log("receive",`${g} ${i} ${c} ${m}`.trim(),u),this.channels.filter(x=>x._isMember(i)).forEach(x=>x._trigger(c,u,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===bs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===bs.open||this.conn.readyState===bs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ha.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const i=t.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${t}${i}${c}`}_workerObjectUrl(t){let s;if(t)s=t;else{const i=new Blob([Dy],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,i=!1;if(t)s=t,i=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),s=this.accessTokenValue}else s=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(c=>{const u={access_token:s,version:vy};s&&c.updateJoinPayload(u),c.joinedOnce&&c._isJoined()&&c._push(ha.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(s)}catch(c){this.log("error",`error in ${t} callback`,c)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Tg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Dl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,i,c,u,f,m,g,x,y,v,j,N;switch(this.transport=(s=t==null?void 0:t.transport)!==null&&s!==void 0?s:null,this.timeout=(i=t==null?void 0:t.timeout)!==null&&i!==void 0?i:Gu,this.heartbeatIntervalMs=(c=t==null?void 0:t.heartbeatIntervalMs)!==null&&c!==void 0?c:Dl.HEARTBEAT_INTERVAL,this.worker=(u=t==null?void 0:t.worker)!==null&&u!==void 0?u:!1,this.accessToken=(f=t==null?void 0:t.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=t==null?void 0:t.heartbeatCallback)!==null&&m!==void 0?m:Ou,this.vsn=(g=t==null?void 0:t.vsn)!==null&&g!==void 0?g:R0,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=t==null?void 0:t.reconnectAfterMs)!==null&&x!==void 0?x:(E=>Cy[E-1]||Ry),this.vsn){case Eg:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:((E,C)=>C(JSON.stringify(E))),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:((E,C)=>C(JSON.parse(E)));break;case wy:this.encode=(j=t==null?void 0:t.encode)!==null&&j!==void 0?j:this.serializer.encode.bind(this.serializer),this.decode=(N=t==null?void 0:t.decode)!==null&&N!==void 0?N:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ni=class extends Error{constructor(n,t){var s;super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((s=t.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function zy(n,t,s){const i=new URL(t,n);if(s)for(const[c,u]of Object.entries(s))u!==void 0&&i.searchParams.set(c,u);return i.toString()}async function Uy(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function Ly(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:i,query:c,body:u,headers:f}){const m=zy(n.baseUrl,i,c),g=await Uy(n.auth),x=await t(m,{method:s,headers:{...u?{"Content-Type":"application/json"}:{},...g,...f},body:u?JSON.stringify(u):void 0}),y=await x.text(),v=(x.headers.get("content-type")||"").includes("application/json"),j=v&&y?JSON.parse(y):y;if(!x.ok){const N=v?j:void 0,E=N==null?void 0:N.error;throw new ni((E==null?void 0:E.message)??`Request failed with status ${x.status}`,{status:x.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:N})}return{status:x.status,headers:x.headers,data:j}}}}function Ml(n){return n.join("")}var qy=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:Ml(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(n,t){const s={namespace:n.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ml(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ml(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ml(n.namespace)}`}),!0}catch(t){if(t instanceof ni&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(s){if(s instanceof ni&&s.status===409)return;throw s}}};function Pn(n){return n.join("")}var By=class{constructor(n,t="",s){this.client=n,this.prefix=t,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pn(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pn(n.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(n,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pn(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pn(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pn(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pn(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(s){if(s instanceof ni&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(s){if(s instanceof ni&&s.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw s}}},Iy=class{constructor(n){var i;let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=Ly({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(i=n.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new qy(this.client,t),this.tableOps=new By(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}},eo=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Ze(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var $y=class extends eo{constructor(n,t,s){super(n),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Yu=class extends eo{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};const fd=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Py=()=>Response,Ku=n=>{if(Array.isArray(n))return n.map(s=>Ku(s));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([s,i])=>{const c=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[c]=Ku(i)}),t},Hy=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Gy=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function ri(n){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ri(n)}function Vy(n,t){if(ri(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,t);if(ri(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Zy(n){var t=Vy(n,"string");return ri(t)=="symbol"?t:t+""}function Yy(n,t,s){return(t=Zy(t))in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function U0(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),s.push.apply(s,i)}return s}function re(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?U0(Object(s),!0).forEach(function(i){Yy(n,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):U0(Object(s)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(s,i))})}return n}const Cu=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},Ky=async(n,t,s)=>{n instanceof await Py()&&!(s!=null&&s.noResolveJson)?n.json().then(i=>{const c=n.status||500,u=(i==null?void 0:i.statusCode)||c+"";t(new $y(Cu(i),c,u))}).catch(i=>{t(new Yu(Cu(i),i))}):t(new Yu(Cu(n),n))},Jy=(n,t,s,i)=>{const c={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"||!i?c:(Hy(i)?(c.headers=re({"Content-Type":"application/json"},t==null?void 0:t.headers),c.body=JSON.stringify(i)):c.body=i,t!=null&&t.duplex&&(c.duplex=t.duplex),re(re({},c),s))};async function mi(n,t,s,i,c,u){return new Promise((f,m)=>{n(s,Jy(t,i,c,u)).then(g=>{if(!g.ok)throw g;return i!=null&&i.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>Ky(g,m,i))})}async function ii(n,t,s,i){return mi(n,"GET",t,s,i)}async function da(n,t,s,i,c){return mi(n,"POST",t,i,c,s)}async function Ju(n,t,s,i,c){return mi(n,"PUT",t,i,c,s)}async function Xy(n,t,s,i){return mi(n,"HEAD",t,re(re({},s),{},{noResolveJson:!0}),i)}async function md(n,t,s,i,c){return mi(n,"DELETE",t,i,c,s)}var Qy=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}}};let Rg;Rg=Symbol.toStringTag;var Fy=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[Rg]="BlobDownloadBuilder",this.promise=null}asStream(){return new Qy(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}}};const Wy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},L0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ev=class{constructor(n,t={},s,i){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.bucketId=s,this.fetch=fd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,t,s,i){var c=this;try{let u;const f=re(re({},L0),i);let m=re(re({},c.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),g&&u.append("metadata",c.encodeMetadata(g)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",f.cacheControl),g&&!u.has("metadata")&&u.append("metadata",c.encodeMetadata(g))):(u=s,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,g&&(m["x-metadata"]=c.toBase64(c.encodeMetadata(g))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!f.duplex&&(f.duplex="half")),i!=null&&i.headers&&(m=re(re({},m),i.headers));const x=c._removeEmptyFolders(t),y=c._getFinalPath(x),v=await(n=="PUT"?Ju:da)(c.fetch,`${c.url}/object/${y}`,u,re({headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:x,id:v.Id,fullPath:v.Key},error:null}}catch(u){if(c.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}}async upload(n,t,s){return this.uploadOrUpdate("POST",n,t,s)}async uploadToSignedUrl(n,t,s,i){var c=this;const u=c._removeEmptyFolders(n),f=c._getFinalPath(u),m=new URL(c.url+`/object/upload/sign/${f}`);m.searchParams.set("token",t);try{let g;const x=re({upsert:L0.upsert},i),y=re(re({},c.headers),{"x-upsert":String(x.upsert)});return typeof Blob<"u"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",x.cacheControl),g.append("",s)):typeof FormData<"u"&&s instanceof FormData?(g=s,g.append("cacheControl",x.cacheControl)):(g=s,y["cache-control"]=`max-age=${x.cacheControl}`,y["content-type"]=x.contentType),{data:{path:u,fullPath:(await Ju(c.fetch,m.toString(),g,{headers:y})).Key},error:null}}catch(g){if(c.shouldThrowOnError)throw g;if(Ze(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(n,t){var s=this;try{let i=s._getFinalPath(n);const c=re({},s.headers);t!=null&&t.upsert&&(c["x-upsert"]="true");const u=await da(s.fetch,`${s.url}/object/upload/sign/${i}`,{},{headers:c}),f=new URL(s.url+u.url),m=f.searchParams.get("token");if(!m)throw new eo("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:m},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}}async update(n,t,s){return this.uploadOrUpdate("PUT",n,t,s)}async move(n,t,s){var i=this;try{return{data:await da(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:n,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:i.headers}),error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}}async copy(n,t,s){var i=this;try{return{data:{path:(await da(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:n,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:i.headers})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}}async createSignedUrl(n,t,s){var i=this;try{let c=i._getFinalPath(n),u=await da(i.fetch,`${i.url}/object/sign/${c}`,re({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:i.headers});const f=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return u={signedUrl:encodeURI(`${i.url}${u.signedURL}${f}`)},{data:u,error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}}async createSignedUrls(n,t,s){var i=this;try{const c=await da(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:n},{headers:i.headers}),u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:c.map(f=>re(re({},f),{},{signedUrl:f.signedURL?encodeURI(`${i.url}${f.signedURL}${u}`):null})),error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}}download(n,t){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),c=i?`?${i}`:"",u=this._getFinalPath(n),f=()=>ii(this.fetch,`${this.url}/${s}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new Fy(f,this.shouldThrowOnError)}async info(n){var t=this;const s=t._getFinalPath(n);try{return{data:Ku(await ii(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}}async exists(n){var t=this;const s=t._getFinalPath(n);try{return await Xy(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Ze(i)&&i instanceof Yu){const c=i.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:i}}throw i}}getPublicUrl(n,t){const s=this._getFinalPath(n),i=[],c=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";c!==""&&i.push(c);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});f!==""&&i.push(f);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${m}`)}}}async remove(n){var t=this;try{return{data:await md(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:n},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}async list(n,t,s){var i=this;try{const c=re(re(re({},Wy),t),{},{prefix:n||""});return{data:await da(i.fetch,`${i.url}/object/list/${i.bucketId}`,c,{headers:i.headers},s),error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}}async listV2(n,t){var s=this;try{const i=re({},n);return{data:await da(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,i,{headers:s.headers},t),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};const Dg="2.90.1",Mg={"X-Client-Info":`storage-js/${Dg}`};var tv=class{constructor(n,t={},s,i){this.shouldThrowOnError=!1;const c=new URL(n);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=re(re({},Mg),t),this.fetch=fd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var t=this;try{const s=t.listBucketOptionsToQueryString(n);return{data:await ii(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}async getBucket(n){var t=this;try{return{data:await ii(t.fetch,`${t.url}/bucket/${n}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}async createBucket(n,t={public:!1}){var s=this;try{return{data:await da(s.fetch,`${s.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}}async updateBucket(n,t){var s=this;try{return{data:await Ju(s.fetch,`${s.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}}async emptyBucket(n){var t=this;try{return{data:await da(t.fetch,`${t.url}/bucket/${n}/empty`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}async deleteBucket(n){var t=this;try{return{data:await md(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(n){const t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},av=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=re(re({},Mg),t),this.fetch=fd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await da(t.fetch,`${t.url}/bucket`,{name:n},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}async listBuckets(n){var t=this;try{const s=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&s.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&s.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&s.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&s.set("sortOrder",n.sortOrder),n!=null&&n.search&&s.set("search",n.search);const i=s.toString(),c=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return{data:await ii(t.fetch,c,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}async deleteBucket(n){var t=this;try{return{data:await md(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}from(n){var t=this;if(!Gy(n))throw new eo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Iy({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(s,{get(c,u){const f=c[u];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(c,m),error:null}}catch(g){if(i)throw g;return{data:null,error:g}}}}})}};const gd={"X-Client-Info":`storage-js/${Dg}`,"Content-Type":"application/json"};var zg=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Vt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Ru=class extends zg{constructor(n,t,s){super(n),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},sv=class extends zg{constructor(n,t){super(n),this.name="StorageVectorsUnknownError",this.originalError=t}};const pd=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),nv=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},q0=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),rv=async(n,t,s)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(s!=null&&s.noResolveJson)){const i=n.status||500,c=n;if(typeof c.json=="function")c.json().then(u=>{const f=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||i+"";t(new Ru(q0(u),i,f))}).catch(()=>{const u=i+"";t(new Ru(c.statusText||`HTTP ${i} error`,i,u))});else{const u=i+"";t(new Ru(c.statusText||`HTTP ${i} error`,i,u))}}else t(new sv(q0(n),n))},iv=(n,t,s,i)=>{const c={method:n,headers:(t==null?void 0:t.headers)||{}};return i?(nv(i)?(c.headers=re({"Content-Type":"application/json"},t==null?void 0:t.headers),c.body=JSON.stringify(i)):c.body=i,re(re({},c),s)):c};async function lv(n,t,s,i,c,u){return new Promise((f,m)=>{n(s,iv(t,i,c,u)).then(g=>{if(!g.ok)throw g;if(i!=null&&i.noResolveJson)return g;const x=g.headers.get("content-type");return!x||!x.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>rv(g,m,i))})}async function Zt(n,t,s,i,c){return lv(n,"POST",t,i,c,s)}var ov=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=re(re({},gd),t),this.fetch=pd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var t=this;try{return{data:await Zt(t.fetch,`${t.url}/CreateIndex`,n,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}}async getIndex(n,t){var s=this;try{return{data:await Zt(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}}async listIndexes(n){var t=this;try{return{data:await Zt(t.fetch,`${t.url}/ListIndexes`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}}async deleteIndex(n,t){var s=this;try{return{data:await Zt(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:s.headers})||{},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}}},cv=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=re(re({},gd),t),this.fetch=pd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var t=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Zt(t.fetch,`${t.url}/PutVectors`,n,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}}async getVectors(n){var t=this;try{return{data:await Zt(t.fetch,`${t.url}/GetVectors`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}}async listVectors(n){var t=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await Zt(t.fetch,`${t.url}/ListVectors`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}}async queryVectors(n){var t=this;try{return{data:await Zt(t.fetch,`${t.url}/QueryVectors`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}}async deleteVectors(n){var t=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Zt(t.fetch,`${t.url}/DeleteVectors`,n,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}}},uv=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=re(re({},gd),t),this.fetch=pd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await Zt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}}async getBucket(n){var t=this;try{return{data:await Zt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:n},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}}async listBuckets(n={}){var t=this;try{return{data:await Zt(t.fetch,`${t.url}/ListVectorBuckets`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}}async deleteBucket(n){var t=this;try{return{data:await Zt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}}},dv=class extends uv{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new hv(this.url,this.headers,n,this.fetch)}async createBucket(n){var t=()=>super.createBucket,s=this;return t().call(s,n)}async getBucket(n){var t=()=>super.getBucket,s=this;return t().call(s,n)}async listBuckets(n={}){var t=()=>super.listBuckets,s=this;return t().call(s,n)}async deleteBucket(n){var t=()=>super.deleteBucket,s=this;return t().call(s,n)}},hv=class extends ov{constructor(n,t,s,i){super(n,t,i),this.vectorBucketName=s}async createIndex(n){var t=()=>super.createIndex,s=this;return t().call(s,re(re({},n),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(n={}){var t=()=>super.listIndexes,s=this;return t().call(s,re(re({},n),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(n){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,n)}async deleteIndex(n){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,n)}index(n){return new fv(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},fv=class extends cv{constructor(n,t,s,i,c){super(n,t,c),this.vectorBucketName=s,this.indexName=i}async putVectors(n){var t=()=>super.putVectors,s=this;return t().call(s,re(re({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(n){var t=()=>super.getVectors,s=this;return t().call(s,re(re({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(n={}){var t=()=>super.listVectors,s=this;return t().call(s,re(re({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(n){var t=()=>super.queryVectors,s=this;return t().call(s,re(re({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(n){var t=()=>super.deleteVectors,s=this;return t().call(s,re(re({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},mv=class extends tv{constructor(n,t={},s,i){super(n,t,s,i)}from(n){return new ev(this.url,this.headers,n,this.fetch)}get vectors(){return new dv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new av(this.url+"/iceberg",this.headers,this.fetch)}};const Ug="2.90.1",Jn=30*1e3,Xu=3,Du=Xu*Jn,gv="http://localhost:9999",pv="supabase.auth.token",xv={"X-Client-Info":`gotrue-js/${Ug}`},Qu="X-Supabase-Api-Version",Lg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yv=600*1e3;class li extends Error{constructor(t,s,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function ee(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class vv extends li{constructor(t,s,i){super(t,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function wv(n){return ee(n)&&n.name==="AuthApiError"}class Qs extends li{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Ga extends li{constructor(t,s,i,c){super(t,i,c),this.name=s,this.status=i}}class Ht extends Ga{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _v(n){return ee(n)&&n.name==="AuthSessionMissingError"}class Hn extends Ga{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zl extends Ga{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ul extends Ga{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jv(n){return ee(n)&&n.name==="AuthImplicitGrantRedirectError"}class B0 extends Ga{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nv extends Ga{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Fu extends Ga{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Mu(n){return ee(n)&&n.name==="AuthRetryableFetchError"}class I0 extends Ga{constructor(t,s,i){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class Wu extends Ga{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$0=` 	
\r=`.split(""),kv=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<$0.length;t+=1)n[$0[t].charCodeAt(0)]=-2;for(let t=0;t<$l.length;t+=1)n[$l[t].charCodeAt(0)]=t;return n})();function P0(n,t,s){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;s($l[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;s($l[i]),t.queuedBits-=6}}function qg(n,t,s){const i=kv[n];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function H0(n){const t=[],s=f=>{t.push(String.fromCodePoint(f))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=f=>{Ev(f,i,s)};for(let f=0;f<n.length;f+=1)qg(n.charCodeAt(f),c,u);return t.join("")}function Sv(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Av(n,t){for(let s=0;s<n.length;s+=1){let i=n.charCodeAt(s);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(n.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}Sv(i,t)}}function Ev(n,t,s){if(t.utf8seq===0){if(n<=127){s(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Wn(n){const t=[],s={queue:0,queuedBits:0},i=c=>{t.push(c)};for(let c=0;c<n.length;c+=1)qg(n.charCodeAt(c),s,i);return new Uint8Array(t)}function Tv(n){const t=[];return Av(n,s=>t.push(s)),new Uint8Array(t)}function Ws(n){const t=[],s={queue:0,queuedBits:0},i=c=>{t.push(c)};return n.forEach(c=>P0(c,s,i)),P0(null,s,i),t.join("")}function Ov(n){return Math.round(Date.now()/1e3)+n}function Cv(){return Symbol("auth-callback")}const xt=()=>typeof window<"u"&&typeof document<"u",Ys={tested:!1,writable:!1},Bg=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ys.tested)return Ys.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ys.tested=!0,Ys.writable=!0}catch{Ys.tested=!0,Ys.writable=!1}return Ys.writable};function Rv(n){const t={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,u)=>{t[u]=c})}catch{}return s.searchParams.forEach((i,c)=>{t[c]=i}),t}const Ig=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Dv=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Xn=async(n,t,s)=>{await n.setItem(t,JSON.stringify(s))},Ks=async(n,t)=>{const s=await n.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},pt=async(n,t)=>{await n.removeItem(t)};class to{constructor(){this.promise=new to.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}to.promiseConstructor=Promise;function zu(n){const t=n.split(".");if(t.length!==3)throw new Wu("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!bv.test(t[i]))throw new Wu("JWT not in base64url format");return{header:JSON.parse(H0(t[0])),payload:JSON.parse(H0(t[1])),signature:Wn(t[2]),raw:{header:t[0],payload:t[1]}}}async function Mv(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function zv(n,t){return new Promise((i,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await n(u);if(!t(u,null,f)){i(f);return}}catch(f){if(!t(u,f)){c(f);return}}})()})}function Uv(n){return("0"+n.toString(16)).substr(-2)}function Lv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let c="";for(let u=0;u<56;u++)c+=s.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(t),Array.from(t,Uv).join("")}async function qv(n){const s=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(i);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function Bv(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await qv(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gn(n,t,s=!1){const i=Lv();let c=i;s&&(c+="/PASSWORD_RECOVERY"),await Xn(n,`${t}-code-verifier`,c);const u=await Bv(i);return[u,i===u?"plain":"s256"]}const Iv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $v(n){const t=n.headers.get(Qu);if(!t||!t.match(Iv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Pv(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function Hv(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Gv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vn(n){if(!Gv.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Uu(){const n={};return new Proxy(n,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vv(n,t){return new Proxy(n,{get:(s,i,c)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const u=i.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,c)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,i,c)}})}function G0(n){return JSON.parse(JSON.stringify(n))}const Js=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Zv=[502,503,504];async function V0(n){var t;if(!Dv(n))throw new Fu(Js(n),0);if(Zv.includes(n.status))throw new Fu(Js(n),n.status);let s;try{s=await n.json()}catch(u){throw new Qs(Js(u),u)}let i;const c=$v(n);if(c&&c.getTime()>=Lg["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new I0(Js(s),n.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Ht}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new I0(Js(s),n.status,s.weak_password.reasons);throw new vv(Js(s),n.status||500,i)}const Yv=(n,t,s,i)=>{const c={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),s))};async function ne(n,t,s,i){var c;const u=Object.assign({},i==null?void 0:i.headers);u[Qu]||(u[Qu]=Lg["2024-01-01"].name),i!=null&&i.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const f=(c=i==null?void 0:i.query)!==null&&c!==void 0?c:{};i!=null&&i.redirectTo&&(f.redirect_to=i.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await Kv(n,t,s+m,{headers:u,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(g):{data:Object.assign({},g),error:null}}async function Kv(n,t,s,i,c,u){const f=Yv(t,i,c,u);let m;try{m=await n(s,Object.assign({},f))}catch(g){throw console.error(g),new Fu(Js(g),0)}if(m.ok||await V0(m),i!=null&&i.noResolveJson)return m;try{return await m.json()}catch(g){await V0(g)}}function ua(n){var t;let s=null;Qv(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=Ov(n.expires_in)));const i=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:s,user:i},error:null}}function Z0(n){const t=ua(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(t.data.weak_password=n.weak_password),t}function vs(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function Jv(n){return{data:n,error:null}}function Xv(n){const{action_link:t,email_otp:s,hashed_token:i,redirect_to:c,verification_type:u}=n,f=Wl(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:t,email_otp:s,hashed_token:i,redirect_to:c,verification_type:u},g=Object.assign({},f);return{data:{properties:m,user:g},error:null}}function Y0(n){return n}function Qv(n){return n.access_token&&n.refresh_token&&n.expires_in}const Lu=["global","local","others"];class Fv{constructor({url:t="",headers:s={},fetch:i}){this.url=t,this.headers=s,this.fetch=Ig(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=Lu[0]){if(Lu.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lu.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ee(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,s={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:vs})}catch(i){if(ee(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:s}=t,i=Wl(t,["options"]),c=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(c.new_email=i==null?void 0:i.newEmail,delete c.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Xv,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ee(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vs})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,i,c,u,f,m,g;try{const x={nextPage:null,lastPage:0,total:0},y=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(u=(c=t==null?void 0:t.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Y0});if(y.error)throw y.error;const v=await y.json(),j=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,N=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return N.length>0&&(N.forEach(E=>{const C=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(E.split(";")[1].split("=")[1]);x[`${U}Page`]=C}),x.total=parseInt(j)),{data:Object.assign(Object.assign({},v),x),error:null}}catch(x){if(ee(x))return{data:{users:[]},error:x};throw x}}async getUserById(t){Vn(t);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vs})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Vn(t);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:vs})}catch(i){if(ee(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,s=!1){Vn(t);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:vs})}catch(i){if(ee(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Vn(t.userId);try{const{data:s,error:i}=await ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:i}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Vn(t.userId),Vn(t.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,i,c,u,f,m,g;try{const x={nextPage:null,lastPage:0,total:0},y=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(u=(c=t==null?void 0:t.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Y0});if(y.error)throw y.error;const v=await y.json(),j=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,N=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return N.length>0&&(N.forEach(E=>{const C=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(E.split(";")[1].split("=")[1]);x[`${U}Page`]=C}),x.total=parseInt(j)),{data:Object.assign(Object.assign({},v),x),error:null}}catch(x){if(ee(x))return{data:{clients:[]},error:x};throw x}}async _createOAuthClient(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ee(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}}function K0(n={}){return{getItem:t=>n[t]||null,setItem:(t,s)=>{n[t]=s},removeItem:t=>{delete n[t]}}}const Zn={debug:!!(globalThis&&Bg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $g extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Wv extends $g{}async function ew(n,t,s){Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,c.name);try{return await s()}finally{Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,c.name)}}else{if(t===0)throw Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Wv(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Zn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function tw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Pg(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function aw(n){return parseInt(n,16)}function sw(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function nw(n){var t;const{chainId:s,domain:i,expirationTime:c,issuedAt:u=new Date,nonce:f,notBefore:m,requestId:g,resources:x,scheme:y,uri:v,version:j}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const N=Pg(n.address),E=y?`${y}://${i}`:i,C=n.statement?`${n.statement}
`:"",U=`${E} wants you to sign in with your Ethereum account:
${N}

${C}`;let q=`URI: ${v}
Version: ${j}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${u.toISOString()}`;if(c&&(q+=`
Expiration Time: ${c.toISOString()}`),m&&(q+=`
Not Before: ${m.toISOString()}`),g&&(q+=`
Request ID: ${g}`),x){let I=`
Resources:`;for(const L of x){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);I+=`
- ${L}`}q+=I}return`${U}
${q}`}class rt extends Error{constructor({message:t,code:s,cause:i,name:c}){var u;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(u=c??(i instanceof Error?i.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class Pl extends rt{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function rw({error:n,options:t}){var s,i,c;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((i=u.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new rt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const f=window.location.hostname;if(Hg(f)){if(u.rp.id!==f)return new rt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function iw({error:n,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new rt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(Hg(i)){if(s.rpId!==i)return new rt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class lw{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const ow=new lw;function cw(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:s,excludeCredentials:i}=n,c=Wl(n,["challenge","user","excludeCredentials"]),u=Wn(t).buffer,f=Object.assign(Object.assign({},s),{id:Wn(s.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:u,user:f});if(i&&i.length>0){m.excludeCredentials=new Array(i.length);for(let g=0;g<i.length;g++){const x=i[g];m.excludeCredentials[g]=Object.assign(Object.assign({},x),{id:Wn(x.id).buffer,type:x.type||"public-key",transports:x.transports})}}return m}function uw(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:s}=n,i=Wl(n,["challenge","allowCredentials"]),c=Wn(t).buffer,u=Object.assign(Object.assign({},i),{challenge:c});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const m=s[f];u.allowCredentials[f]=Object.assign(Object.assign({},m),{id:Wn(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function dw(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:Ws(new Uint8Array(n.response.attestationObject)),clientDataJSON:Ws(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hw(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,i=n.getClientExtensionResults(),c=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Ws(new Uint8Array(c.authenticatorData)),clientDataJSON:Ws(new Uint8Array(c.clientDataJSON)),signature:Ws(new Uint8Array(c.signature)),userHandle:c.userHandle?Ws(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Hg(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function J0(){var n,t;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function fw(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pl("Browser returned unexpected credential type",t)}:{data:null,error:new Pl("Empty credential response",t)}}catch(t){return{data:null,error:rw({error:t,options:n})}}}async function mw(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pl("Browser returned unexpected credential type",t)}:{data:null,error:new Pl("Empty credential response",t)}}catch(t){return{data:null,error:iw({error:t,options:n})}}}const gw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},pw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hl(...n){const t=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),i={};for(const c of n)if(c)for(const u in c){const f=c[u];if(f!==void 0)if(Array.isArray(f))i[u]=f;else if(s(f))i[u]=f;else if(t(f)){const m=i[u];t(m)?i[u]=Hl(m,f):i[u]=Hl(f)}else i[u]=f}return i}function xw(n,t){return Hl(gw,n,t||{})}function bw(n,t){return Hl(pw,n,t||{})}class yw{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:i,signal:c},u){try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!f)return{data:null,error:m};const g=c??ow.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:x}=f.webauthn.credential_options.publicKey;x.name||(x.name=`${x.id}:${i}`),x.displayName||(x.displayName=x.name)}switch(f.webauthn.type){case"create":{const x=xw(f.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:y,error:v}=await fw({publicKey:x,signal:g});return y?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const x=bw(f.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:y,error:v}=await mw(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:x,signal:g}));return y?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(f){return ee(f)?{data:null,error:f}:{data:null,error:new Qs("Unexpected error in challenge",f)}}}async _verify({challengeId:t,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!s)return{data:null,error:new li("rpId is required for WebAuthn authentication")};try{if(!J0())return{data:null,error:new Qs("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:i},signal:c},{request:u});if(!f)return{data:null,error:m};const{webauthn:g}=f;return this._verify({factorId:t,challengeId:f.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:i,credential_response:g.credential_response}})}catch(f){return ee(f)?{data:null,error:f}:{data:null,error:new Qs("Unexpected error in authenticate",f)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!s)return{data:null,error:new li("rpId is required for WebAuthn registration")};try{if(!J0())return{data:null,error:new Qs("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:t});if(!f)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(j=>j.factor_type==="webauthn"&&j.friendly_name===t&&j.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:m};const{data:g,error:x}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:c},{create:u});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:i,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:x}}catch(f){return ee(f)?{data:null,error:f}:{data:null,error:new Qs("Unexpected error in register",f)}}}}tw();const vw={url:gv,storageKey:pv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function X0(n,t,s){return await s()}const Yn={};class oi{get jwks(){var t,s;return(s=(t=Yn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){Yn[this.storageKey]=Object.assign(Object.assign({},Yn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=Yn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Yn[this.storageKey]=Object.assign(Object.assign({},Yn[this.storageKey]),{cachedAt:t})}constructor(t){var s,i,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},vw),t);if(this.storageKey=u.storageKey,this.instanceID=(s=oi.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,oi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&xt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Fv({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Ig(u.fetch),this.lock=u.lock||X0,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&xt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=ew:this.lock=X0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Bg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=K0(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=K0(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ug}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},i="none";if(xt()&&(s=Rv(window.location.href),this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce")),xt()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:u}=await this._getSessionFromURL(s,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),jv(u)){const g=(t=u.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:f,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ee(s)?this._returnResult({error:s}):this._returnResult({error:new Qs("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,i,c;try{const u=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=t==null?void 0:t.options)===null||c===void 0?void 0:c.captchaToken}},xform:ua}),{data:f,error:m}=u;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const g=f.session,x=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:x,session:g},error:null})}catch(u){if(ee(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var s,i,c;try{let u;if("email"in t){const{email:y,password:v,options:j}=t;let N=null,E=null;this.flowType==="pkce"&&([N,E]=await Gn(this.storage,this.storageKey)),u=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j==null?void 0:j.emailRedirectTo,body:{email:y,password:v,data:(s=j==null?void 0:j.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:N,code_challenge_method:E},xform:ua})}else if("phone"in t){const{phone:y,password:v,options:j}=t;u=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=j==null?void 0:j.data)!==null&&i!==void 0?i:{},channel:(c=j==null?void 0:j.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken}},xform:ua})}else throw new zl("You must provide either an email or phone number and a password");const{data:f,error:m}=u;if(m||!f)return await pt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=f.session,x=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:x,session:g},error:null})}catch(u){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ee(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let s;if("email"in t){const{email:u,password:f,options:m}=t;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Z0})}else if("phone"in t){const{phone:u,password:f,options:m}=t;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Z0})}else throw new zl("You must provide either an email or phone number and a password");const{data:i,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!i||!i.session||!i.user){const u=new Hn;return this._returnResult({data:{user:null,session:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(s){if(ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,i,c,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,i,c,u,f,m,g,x,y,v,j;let N,E;if("message"in t)N=t.message,E=t.signature;else{const{chain:C,wallet:U,statement:q,options:I}=t;let L;if(xt())if(typeof U=="object")L=U;else{const Be=window;if("ethereum"in Be&&typeof Be.ethereum=="object"&&"request"in Be.ethereum&&typeof Be.ethereum.request=="function")L=Be.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=U}const V=new URL((s=I==null?void 0:I.url)!==null&&s!==void 0?s:window.location.href),K=await L.request({method:"eth_requestAccounts"}).then(Be=>Be).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const W=Pg(K[0]);let ie=(i=I==null?void 0:I.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!ie){const Be=await L.request({method:"eth_chainId"});ie=aw(Be)}const oe={domain:V.host,address:W,statement:q,uri:V.href,version:"1",chainId:ie,nonce:(c=I==null?void 0:I.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(u=I==null?void 0:I.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=I==null?void 0:I.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=I==null?void 0:I.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(x=I==null?void 0:I.signInWithEthereum)===null||x===void 0?void 0:x.requestId,resources:(y=I==null?void 0:I.signInWithEthereum)===null||y===void 0?void 0:y.resources};N=nw(oe),E=await L.request({method:"personal_sign",params:[sw(N),W]})}try{const{data:C,error:U}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:E},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(j=t.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:ua});if(U)throw U;if(!C||!C.session||!C.user){const q=new Hn;return this._returnResult({data:{user:null,session:null},error:q})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:U})}catch(C){if(ee(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(t){var s,i,c,u,f,m,g,x,y,v,j,N;let E,C;if("message"in t)E=t.message,C=t.signature;else{const{chain:U,wallet:q,statement:I,options:L}=t;let V;if(xt())if(typeof q=="object")V=q;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))V=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=q}const K=new URL((s=L==null?void 0:L.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in V&&V.signIn){const W=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L==null?void 0:L.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),I?{statement:I}:null));let ie;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")ie=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)ie=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ie&&"signature"in ie&&(typeof ie.signedMessage=="string"||ie.signedMessage instanceof Uint8Array)&&ie.signature instanceof Uint8Array)E=typeof ie.signedMessage=="string"?ie.signedMessage:new TextDecoder().decode(ie.signedMessage),C=ie.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${K.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(c=(i=L==null?void 0:L.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=L==null?void 0:L.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((f=L==null?void 0:L.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((m=L==null?void 0:L.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((g=L==null?void 0:L.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((x=L==null?void 0:L.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((v=(y=L==null?void 0:L.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...L.signInWithSolana.resources.map(ie=>`- ${ie}`)]:[]].join(`
`);const W=await V.signMessage(new TextEncoder().encode(E),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=W}}try{const{data:U,error:q}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Ws(C)},!((j=t.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(N=t.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:ua});if(q)throw q;if(!U||!U.session||!U.user){const I=new Hn;return this._returnResult({data:{user:null,session:null},error:I})}return U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),this._returnResult({data:Object.assign({},U),error:q})}catch(U){if(ee(U))return this._returnResult({data:{user:null,session:null},error:U});throw U}}async _exchangeCodeForSession(t){const s=await Ks(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(s??"").split("/");try{if(!i&&this.flowType==="pkce")throw new Nv;const{data:u,error:f}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:ua});if(await pt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!u||!u.session||!u.user){const m=new Hn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:f})}catch(u){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ee(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:s,provider:i,token:c,access_token:u,nonce:f}=t,m=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ua}),{data:g,error:x}=m;if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!g||!g.session||!g.user){const y=new Hn;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:x})}catch(s){if(ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,i,c,u,f;try{if("email"in t){const{email:m,options:g}=t;let x=null,y=null;this.flowType==="pkce"&&([x,y]=await Gn(this.storage,this.storageKey));const{error:v}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(i=g==null?void 0:g.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:x,code_challenge_method:y},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:m,options:g}=t,{data:x,error:y}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=g==null?void 0:g.data)!==null&&c!==void 0?c:{},create_user:(u=g==null?void 0:g.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(f=g==null?void 0:g.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:x==null?void 0:x.message_id},error:y})}throw new zl("You must provide either an email or phone number.")}catch(m){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ee(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(t){var s,i;try{let c,u;"options"in t&&(c=(s=t.options)===null||s===void 0?void 0:s.redirectTo,u=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:f,error:m}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:ua});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,x=f.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:x,session:g},error:null})}catch(c){if(ee(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(t){var s,i,c,u,f;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Gn(this.storage,this.storageKey));const x=await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=t==null?void 0:t.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:Jv});return!((u=x.data)===null||u===void 0)&&u.url&&xt()&&!(!((f=t.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(x.data.url),this._returnResult(x)}catch(m){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ee(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:i}=t;if(i)throw i;if(!s)throw new Ht;const{error:c}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(t){if(ee(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:i,type:c,options:u}=t,{error:f}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in t){const{phone:i,type:c,options:u}=t,{data:f,error:m}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m})}throw new zl("You must provide either an email or phone number and a type")}catch(s){if(ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Ks(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Du:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const f=await Ks(this.userStorage,this.storageKey+"-user");f!=null&&f.user?t.user=f.user:t.user=Uu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};t.user=Vv(t.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vs}):await this._useSession(async s=>{var i,c,u;const{data:f,error:m}=s;if(m)throw m;return!(!((i=f.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:vs})})}catch(s){if(ee(s))return _v(s)&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async i=>{const{data:c,error:u}=i;if(u)throw u;if(!c.session)throw new Ht;const f=c.session;let m=null,g=null;this.flowType==="pkce"&&t.email!=null&&([m,g]=await Gn(this.storage,this.storageKey));const{data:x,error:y}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:m,code_challenge_method:g}),jwt:f.access_token,xform:vs});if(y)throw y;return f.user=x.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(i){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ee(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ht;const s=Date.now()/1e3;let i=s,c=!0,u=null;const{payload:f}=zu(t.access_token);if(f.exp&&(i=f.exp,c=i<=s),c){const{data:m,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:g}=await this._getUser(t.access_token);if(g)throw g;u={access_token:t.access_token,refresh_token:t.refresh_token,user:m.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(ee(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var i;if(!t){const{data:f,error:m}=s;if(m)throw m;t=(i=f.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new Ht;const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!xt())throw new Ul("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ul(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new B0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ul("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new B0("No code detected.");const{data:I,error:L}=await this._exchangeCodeForSession(t.code);if(L)throw L;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:u,refresh_token:f,expires_in:m,expires_at:g,token_type:x}=t;if(!u||!m||!f||!x)throw new Ul("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(m);let j=y+v;g&&(j=parseInt(g));const N=j-y;N*1e3<=Jn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${v}s`);const E=j-v;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,j,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,j,y);const{data:C,error:U}=await this._getUser(u);if(U)throw U;const q={provider_token:i,provider_refresh_token:c,access_token:u,expires_in:v,expires_at:j,refresh_token:f,token_type:x,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:q,redirectType:t.type},error:null})}catch(i){if(ee(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Ks(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:c,error:u}=s;if(u)return this._returnResult({error:u});const f=(i=c.session)===null||i===void 0?void 0:i.access_token;if(f){const{error:m}=await this.admin.signOut(f,t);if(m&&!(wv(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return t!=="others"&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=Cv(),i={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async s=>{var i,c;try{const{data:{session:u},error:f}=s;if(f)throw f;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(t))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,s={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await Gn(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ee(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:i,error:c}=await this._useSession(async u=>{var f,m,g,x,y;const{data:v,error:j}=u;if(j)throw j;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(f=t.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=t.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",N,{headers:this.headers,jwt:(y=(x=v.session)===null||x===void 0?void 0:x.access_token)!==null&&y!==void 0?y:void 0})});if(c)throw c;return xt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:t.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(ee(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var i;try{const{error:c,data:{session:u}}=s;if(c)throw c;const{options:f,provider:m,token:g,access_token:x,nonce:y}=t,v=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=u==null?void 0:u.access_token)!==null&&i!==void 0?i:void 0,body:{provider:m,id_token:g,access_token:x,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ua}),{data:j,error:N}=v;return N?this._returnResult({data:{user:null,session:null},error:N}):!j||!j.session||!j.user?this._returnResult({data:{user:null,session:null},error:new Hn}):(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("USER_UPDATED",j.session)),this._returnResult({data:j,error:N}))}catch(c){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ee(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var i,c;const{data:u,error:f}=s;if(f)throw f;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(c=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await zv(async c=>(c>0&&await Mv(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ua})),(c,u)=>{const f=200*Math.pow(2,c);return u&&Mu(u)&&Date.now()+f-i<Jn})}catch(i){if(this._debug(s,"error",i),ee(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",i),xt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await Ks(this.storage,this.storageKey);if(c&&this.userStorage){let f=await Ks(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await Xn(this.userStorage,this.storageKey+"-user",f)),c.user=(t=f==null?void 0:f.user)!==null&&t!==void 0?t:Uu()}else if(c&&!c.user&&!c.user){const f=await Ks(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(c.user=f.user,await pt(this.storage,this.storageKey+"-user"),await Xn(this.storage,this.storageKey,c)):c.user=Uu()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const u=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Du;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${Du}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),Mu(f)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(c.access_token);!m&&(f!=null&&f.user)?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(i,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var s,i;if(!t)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new to;const{data:u,error:f}=await this._refreshAccessToken(t);if(f)throw f;if(!u.session)throw new Ht;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={data:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(c,"error",u),ee(u)){const f={data:null,error:u};return Mu(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(t,s,i=!0){const c=`#_notifyAllSubscribers(${t})`;this._debug(c,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:s});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(t,s)}catch(g){u.push(g)}});if(await Promise.all(f),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Xn(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const u=G0(c);await Xn(this.storage,this.storageKey,u)}else{const c=G0(s);await Xn(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pt(this.storage,this.storageKey),await pt(this.storage,this.storageKey+"-code-verifier"),await pt(this.storage,this.storageKey+"-user"),this.userStorage&&await pt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Jn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-t)/Jn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Jn}ms, refresh threshold is ${Xu} ticks`),c<=Xu&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $g)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,i){const c=[`provider=${encodeURIComponent(s)}`];if(i!=null&&i.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,f]=await Gn(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(m.toString())}if(i!=null&&i.queryParams){const u=new URLSearchParams(i.queryParams);c.push(u.toString())}return i!=null&&i.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${c.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var i;const{data:c,error:u}=s;return u?this._returnResult({data:null,error:u}):await ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var i,c;const{data:u,error:f}=s;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:g,error:x}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});return x?this._returnResult({data:null,error:x}):(t.factorType==="totp"&&g.type==="totp"&&(!((c=g==null?void 0:g.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:u}=s;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?dw(t.webauthn.credential_response):hw(t.webauthn.credential_response)})}:{code:t.code}),{data:m,error:g}=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:f,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:u}=s;if(u)return this._returnResult({data:null,error:u});const f=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:cw(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:uw(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=s==null?void 0:s.factors)!==null&&t!==void 0?t:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var t,s;const{data:{session:i},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=zu(i.access_token);let f=null;u.aal&&(f=u.aal);let m=f;((s=(t=i.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const x=u.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:i},error:c}=s;return c?this._returnResult({data:null,error:c}):i?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async i=>{const{data:{session:c},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Ht});const f=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&xt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(i){if(ee(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,s){try{return await this._useSession(async i=>{const{data:{session:c},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Ht});const f=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&xt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(i){if(ee(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:i}=t;return i?this._returnResult({data:null,error:i}):s?await ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(t){if(ee(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:i},error:c}=s;return c?this._returnResult({data:null,error:c}):i?(await ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ht})})}catch(s){if(ee(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let i=s.keys.find(m=>m.kid===t);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(m=>m.kid===t),i&&this.jwks_cached_at+yv>c)return i;const{data:u,error:f}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,i=u.keys.find(m=>m.kid===t),!i)?null:i}async getClaims(t,s={}){try{let i=t;if(!i){const{data:N,error:E}=await this.getSession();if(E||!N.session)return this._returnResult({data:null,error:E});i=N.session.access_token}const{header:c,payload:u,signature:f,raw:{header:m,payload:g}}=zu(i);s!=null&&s.allowExpired||Pv(u.exp);const x=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!x){const{error:N}=await this.getUser(i);if(N)throw N;return{data:{claims:u,header:c,signature:f},error:null}}const y=Hv(c.alg),v=await crypto.subtle.importKey("jwk",x,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,f,Tv(`${m}.${g}`)))throw new Wu("Invalid JWT signature");return{data:{claims:u,header:c,signature:f},error:null}}catch(i){if(ee(i))return this._returnResult({data:null,error:i});throw i}}}oi.nextInstanceID={};const ww=oi,_w="2.90.1";let ei="";typeof Deno<"u"?ei="deno":typeof document<"u"?ei="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ei="react-native":ei="node";const jw={"X-Client-Info":`supabase-js-${ei}/${_w}`},Nw={headers:jw},kw={schema:"public"},Sw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Aw={};function ci(n){"@babel/helpers - typeof";return ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ci(n)}function Ew(n,t){if(ci(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,t);if(ci(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Tw(n){var t=Ew(n,"string");return ci(t)=="symbol"?t:t+""}function Ow(n,t,s){return(t=Tw(t))in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function Q0(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),s.push.apply(s,i)}return s}function Xe(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Q0(Object(s),!0).forEach(function(i){Ow(n,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Q0(Object(s)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(s,i))})}return n}const Cw=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Rw=()=>Headers,Dw=(n,t,s)=>{const i=Cw(s),c=Rw();return async(u,f)=>{var m;const g=(m=await t())!==null&&m!==void 0?m:n;let x=new c(f==null?void 0:f.headers);return x.has("apikey")||x.set("apikey",n),x.has("Authorization")||x.set("Authorization",`Bearer ${g}`),i(u,Xe(Xe({},f),{},{headers:x}))}};function Mw(n){return n.endsWith("/")?n:n+"/"}function zw(n,t){var s,i;const{db:c,auth:u,realtime:f,global:m}=n,{db:g,auth:x,realtime:y,global:v}=t,j={db:Xe(Xe({},g),c),auth:Xe(Xe({},x),u),realtime:Xe(Xe({},y),f),storage:{},global:Xe(Xe(Xe({},v),m),{},{headers:Xe(Xe({},(s=v==null?void 0:v.headers)!==null&&s!==void 0?s:{}),(i=m==null?void 0:m.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return n.accessToken?j.accessToken=n.accessToken:delete j.accessToken,j}function Uw(n){const t=n==null?void 0:n.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Mw(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Lw=class extends ww{constructor(n){super(n)}},qw=class{constructor(n,t,s){var i,c;this.supabaseUrl=n,this.supabaseKey=t;const u=Uw(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,m={db:kw,realtime:Aw,auth:Xe(Xe({},Sw),{},{storageKey:f}),global:Nw},g=zw(s??{},m);if(this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(c=g.global.headers)!==null&&c!==void 0?c:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var x;this.auth=this._initSupabaseAuthClient((x=g.auth)!==null&&x!==void 0?x:{},this.headers,g.global.fetch)}this.fetch=Dw(t,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new xy(new URL("rest/v1",u).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new mv(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new hy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,s)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,t,s;if(n.accessToken)return await n.accessToken();const{data:i}=await n.auth.getSession();return(t=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:s,storage:i,userStorage:c,storageKey:u,flowType:f,lock:m,debug:g,throwOnError:x},y,v){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lw({url:this.authUrl.href,headers:Xe(Xe({},j),y),storageKey:u,autoRefreshToken:n,persistSession:t,detectSessionInUrl:s,storage:i,userStorage:c,flowType:f,lock:m,debug:g,throwOnError:x,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new My(this.realtimeUrl.href,Xe(Xe({},n),{},{params:Xe(Xe({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,t)=>{this._handleTokenChanged(n,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(n,t,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Bw=(n,t,s)=>new qw(n,t,s);function Iw(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const t=n.version;if(t==null)return!1;const s=t.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Iw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $w="https://rxzphenvgpbitltqrtjw.supabase.co",Pw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ4enBoZW52Z3BiaXRsdHFydGp3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg1MjIyMjIsImV4cCI6MjA4NDA5ODIyMn0.lyaCydU7VZnt4SdHGjmvZXsewtYzMqsA8AFIJAiWV5I",bt=Bw($w,Pw),Hw=({mode:n,step:t})=>o.jsxs("aside",{className:"hidden md:flex w-80 lg:w-96 flex-col bg-blue-900 relative overflow-hidden shrink-0 z-20 shadow-2xl p-8 justify-between",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900 to-indigo-900"}),o.jsx("div",{className:"absolute -top-24 -left-24 w-64 h-64 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),o.jsx("div",{className:"absolute -bottom-24 -right-24 w-64 h-64 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs(ge,{to:"/",className:"flex items-center gap-3 text-white mb-12 hover:opacity-80 transition-opacity",children:[o.jsx("span",{className:"material-symbols-outlined text-2xl",children:"school"}),o.jsx("span",{className:"font-bold text-xl",children:"TuTesisRD"})]}),n==="register"?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:`flex gap-4 items-center relative step-connector transition-all duration-300 ${t===1?"text-white font-bold opacity-100 scale-105":"text-white/50"}`,children:[o.jsx("div",{className:`size-10 rounded-full flex items-center justify-center font-bold transition-all ${t===1?"bg-white text-blue-900 shadow-lg":"border border-white/30"}`,children:t>1?o.jsx("span",{className:"material-symbols-outlined",children:"check"}):"1"}),o.jsx("span",{className:"text-lg",children:"Datos Personales"})]}),o.jsxs("div",{className:`flex gap-4 items-center relative step-connector transition-all duration-300 ${t===2?"text-white font-bold opacity-100 scale-105":"text-white/50"}`,children:[o.jsx("div",{className:`size-10 rounded-full flex items-center justify-center font-bold transition-all ${t===2?"bg-white text-blue-900 shadow-lg":"border border-white/30"}`,children:t>2?o.jsx("span",{className:"material-symbols-outlined",children:"check"}):"2"}),o.jsx("span",{className:"text-lg",children:"Detalles Proyecto"})]}),o.jsxs("div",{className:`flex gap-4 items-center relative transition-all duration-300 ${t===3?"text-white font-bold opacity-100 scale-105":"text-white/50"}`,children:[o.jsx("div",{className:`size-10 rounded-full flex items-center justify-center font-bold transition-all ${t===3?"bg-white text-blue-900 shadow-lg":"border border-white/30"}`,children:"3"}),o.jsx("span",{className:"text-lg",children:"Finalizar"})]})]}):o.jsxs("div",{className:"text-white",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Centro de Monitoreo"}),o.jsx("p",{className:"opacity-80",children:"Rastrea el progreso de tu tesis en tiempo real con tu cdigo nico."}),o.jsxs("div",{className:"mt-8 bg-white/10 p-4 rounded-xl backdrop-blur-sm border border-white/10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"material-symbols-outlined",children:"secure"}),o.jsx("span",{className:"font-bold",children:"Seguro y Privado"})]}),o.jsx("p",{className:"text-xs opacity-70",children:"Solo t tienes acceso a esta informacin mediante tu cdigo de rastreo."})]})]})]}),o.jsx("div",{className:"text-white/60 text-sm relative z-10",children:" 2023 TuTesisRD"})]}),Gw=({formData:n,handleInputChange:t,nextStep:s})=>o.jsxs("div",{className:"animate-fade-in-right",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-black mb-2 text-slate-900 dark:text-white",children:"Empecemos con tus datos"}),o.jsx("p",{className:"text-slate-500 mb-8",children:"Esta informacin nos permite contactarte directamente."}),o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Nombre"}),o.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"Tu nombre"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Apellido"}),o.jsx("input",{type:"text",name:"lastname",value:n.lastname,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"Tu apellido"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Correo Electrnico"}),o.jsx("input",{type:"email",name:"email",value:n.email,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"ejemplo@correo.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Telfono / WhatsApp"}),o.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"(809) 000-0000"})]})]}),o.jsxs("div",{className:"mt-10 flex flex-col-reverse md:flex-row justify-between items-center gap-4",children:[o.jsx(ge,{to:"/",className:"w-full md:w-auto py-3 text-center text-slate-500 hover:text-slate-800 font-medium",children:"Cancelar"}),o.jsxs("button",{onClick:s,className:"w-full md:w-auto px-8 py-4 bg-primary text-white rounded-xl font-bold hover:shadow-lg hover:bg-primary-dark transition-all transform hover:-translate-y-1 flex justify-center items-center",children:["Continuar ",o.jsx("span",{className:"material-icons text-sm ml-1",children:"arrow_forward"})]})]})]}),Vw=({formData:n,handleInputChange:t,setFormData:s,nextStep:i,prevStep:c})=>o.jsxs("div",{className:"animate-fade-in-right",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-black mb-2 text-slate-900 dark:text-white",children:"Detalles del Servicio"}),o.jsx("p",{className:"text-slate-500 mb-8",children:"Selecciona el nivel y la modalidad de trabajo acordada."}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Universidad"}),o.jsx("input",{type:"text",name:"university",value:n.university,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"Ej. UASD"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Carrera / Programa"}),o.jsx("input",{type:"text",name:"career",value:n.career,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"Ej. Derecho / Maestra en..."})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Tipo de Proyecto"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[{label:"Tesis de Grado",icon:"school"},{label:"Monogrfico",icon:"article"},{label:"Postgrado/Doctoral",icon:"psychology"},{label:"Tarea",icon:"assignment"},{label:"Artculo Cientfico",icon:"science"},{label:"Presentacin",icon:"co_present"}].map(u=>o.jsxs("div",{onClick:()=>s(f=>({...f,type:u.label})),className:`p-3 border-2 rounded-xl cursor-pointer relative shadow-sm transition-all text-center flex flex-col items-center justify-center gap-2 ${n.type===u.label?"border-primary bg-blue-50 dark:bg-primary/10":"border-slate-200 dark:border-slate-700 hover:border-primary"}`,children:[n.type===u.label&&o.jsx("div",{className:"absolute top-2 right-2 text-primary",children:o.jsx("span",{className:"material-symbols-outlined text-base",children:"check_circle"})}),o.jsx("span",{className:"material-icons text-2xl text-slate-400",children:u.icon}),o.jsx("span",{className:`font-bold text-xs sm:text-sm leading-tight ${n.type===u.label?"text-primary":"text-slate-700 dark:text-slate-300"}`,children:u.label})]},u.label))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Modalidad de Servicio"}),o.jsx("div",{className:"space-y-3",children:[{id:"asesoria",title:"Solo Asesora",desc:"Correcciones y gua metodolgica."},{id:"parcial",title:"Desarrollo Colaborativo",desc:"Usted investiga, nosotros redactamos (50/50)."},{id:"completo",title:"Desarrollo Integral",desc:"Elaboracin completa desde cero."}].map(u=>o.jsxs("div",{onClick:()=>s(f=>({...f,plan:u.id})),className:`p-4 border-2 rounded-xl cursor-pointer flex items-center gap-4 transition-all ${n.plan===u.id?"border-brand-orange bg-orange-50 dark:bg-orange-900/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[o.jsx("div",{className:`size-6 rounded-full border-2 flex items-center justify-center shrink-0 ${n.plan===u.id?"border-brand-orange":"border-slate-300"}`,children:n.plan===u.id&&o.jsx("div",{className:"size-3 rounded-full bg-brand-orange"})}),o.jsxs("div",{children:[o.jsx("div",{className:`font-bold ${n.plan===u.id?"text-brand-orange":"text-slate-800 dark:text-white"}`,children:u.title}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:u.desc})]})]},u.id))})]}),o.jsx("div",{className:"grid grid-cols-1 gap-5",children:o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Normativa"}),o.jsxs("select",{name:"normative",value:n.normative,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",children:[o.jsx("option",{children:"Normas APA (7ma)"}),o.jsx("option",{children:"Normas ISO"}),o.jsx("option",{children:"IEEE"}),o.jsx("option",{children:"Vancouver"})]})]})}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-xl border border-slate-200 dark:border-slate-700 space-y-6",children:[o.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[o.jsx("span",{className:"material-icons text-green-500",children:"payments"})," Detalles Financieros"]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[o.jsxs("div",{className:"sm:col-span-2",children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Fecha Pautada de Entrega"}),o.jsx("input",{type:"date",name:"dueDate",value:n.dueDate,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Monto Total Acordado (DOP)"}),o.jsx("input",{type:"number",name:"totalAmount",value:n.totalAmount,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Monto Abonado (DOP)"}),o.jsx("input",{type:"number",name:"paidAmount",value:n.paidAmount,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"0.00"})]})]}),n.totalAmount&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border border-slate-100 dark:border-slate-700 animate-fade-in",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm text-slate-500",children:"Monto Restante"}),o.jsxs("span",{className:"text-xl font-black text-slate-800 dark:text-white",children:["RD$ ",((parseFloat(n.totalAmount)||0)-(parseFloat(n.paidAmount)||0)).toLocaleString()]})]}),o.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-2.5",children:o.jsx("div",{className:"bg-brand-orange h-2.5 rounded-full transition-all duration-500",style:{width:`${Math.min(100,Math.max(0,(parseFloat(n.paidAmount)||0)/(parseFloat(n.totalAmount)||1)*100))}%`}})}),o.jsx("div",{className:"flex justify-end mt-1",children:o.jsxs("span",{className:"text-xs font-bold text-brand-orange",children:[Math.min(100,Math.max(0,(parseFloat(n.paidAmount)||0)/(parseFloat(n.totalAmount)||1)*100)).toFixed(1),"% Abonado"]})})]})]})]}),o.jsxs("div",{className:"mt-10 flex justify-between gap-4",children:[o.jsx("button",{onClick:c,className:"px-6 py-3 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 font-medium transition-colors",children:" Atrs"}),o.jsx("button",{onClick:i,className:"flex-1 md:flex-none px-8 py-3 bg-brand-orange text-white rounded-xl font-bold hover:shadow-lg hover:bg-orange-600 transition-all transform hover:-translate-y-1",children:"Siguiente"})]})]}),Zw=({isSubmitting:n,prevStep:t,submitRegistration:s})=>o.jsxs("div",{className:"animate-fade-in-right",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-black mb-2 text-slate-900 dark:text-white",children:"Sube tus Archivos"}),o.jsx("p",{className:"text-slate-500 mb-8",children:"Si tienes documentos previos, sbelos aqu. (Opcional)"}),o.jsx("div",{className:"grid grid-cols-1 gap-4 mb-8",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"font-bold text-slate-700 dark:text-white flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-slate-200 dark:bg-slate-700 text-xs flex items-center justify-center",children:"1"})," Anteproyecto"]}),o.jsxs("div",{className:"h-32 border-2 border-dashed border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-800/50 rounded-xl flex flex-col items-center justify-center text-center p-4 cursor-pointer hover:bg-white dark:hover:bg-slate-800 hover:border-brand-orange dark:hover:border-brand-orange transition-all group",children:[o.jsx("span",{className:"material-icons text-3xl text-slate-400 group-hover:text-brand-orange mb-1 transition-colors",children:"cloud_upload"}),o.jsx("span",{className:"text-sm font-bold text-slate-600 dark:text-slate-300 group-hover:text-brand-orange",children:"Subir PDF"})]})]})}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl items-start gap-3 flex mb-8",children:[o.jsx("span",{className:"material-icons text-blue-500 shrink-0",children:"info"}),o.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Si no tienes los archivos a mano, puedes continuar y enviarlos luego por WhatsApp a tu asesor asignado."})]}),o.jsxs("div",{className:"mt-10 flex flex-col-reverse md:flex-row justify-between gap-4",children:[o.jsx("button",{onClick:t,className:"w-full md:w-auto py-3 text-center rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 font-medium transition-colors",children:" Atrs"}),o.jsx("button",{onClick:s,disabled:n,className:"w-full md:w-auto px-8 py-4 bg-[#10b981] text-white rounded-xl font-bold hover:shadow-lg hover:bg-[#059669] transition-all transform hover:-translate-y-1 flex justify-center items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:n?o.jsxs(o.Fragment,{children:["Processing ",o.jsx("span",{className:"material-icons animate-spin",children:"sync"})]}):o.jsxs(o.Fragment,{children:["Finalizar Registro ",o.jsx("span",{className:"material-icons",children:"check_circle"})]})})]})]}),Yw=({onSearch:n,searchResult:t})=>{const[s,i]=ae.useState(""),c=u=>{u.preventDefault(),n(s)};return o.jsxs("div",{className:"animate-fade-in-up",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-black mb-2 text-slate-900 dark:text-white",children:"Rastrea tu Proyecto"}),o.jsx("p",{className:"text-slate-500 mb-8",children:"Ingresa el cdigo proporcionado al momento del registro."}),o.jsx("form",{onSubmit:c,className:"mb-10",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsx("input",{type:"text",value:s,onChange:u=>i(u.target.value.toUpperCase()),className:"flex-1 p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none uppercase tracking-widest font-bold placeholder:normal-case placeholder:tracking-normal w-full",placeholder:"Ej. TRX-8492"}),o.jsx("button",{type:"submit",className:"bg-brand-orange text-white px-8 py-4 rounded-xl font-bold hover:bg-orange-600 transition-colors shadow-lg shadow-orange-500/30 w-full md:w-auto",children:"Buscar"})]})}),t&&o.jsxs("div",{className:"bg-white dark:bg-[#1a2230] rounded-2xl p-6 border border-slate-200 dark:border-slate-700 shadow-xl animate-fade-in mb-8",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsxs("div",{children:[o.jsx("span",{className:"inline-block px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-bold mb-2",children:t.status}),o.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white line-clamp-2",children:["Tesis: ",t.university]}),o.jsx("p",{className:"text-sm text-slate-500",children:t.type})]}),o.jsxs("div",{className:"text-right shrink-0 ml-4",children:[o.jsx("div",{className:"text-xs text-slate-400",children:"ltima actualizacin"}),o.jsx("div",{className:"font-medium text-slate-700 dark:text-slate-300",children:t.lastUpdate})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:"Progreso General"}),o.jsxs("span",{className:"text-brand-orange font-bold",children:[t.progress,"%"]})]}),o.jsx("div",{className:"h-3 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-brand-orange rounded-full",style:{width:`${t.progress}%`}})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[o.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Asesor Asignado"}),o.jsx("div",{className:"font-bold text-slate-800 dark:text-white truncate",children:t.advisor})]}),o.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[o.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Prxima Entrega"}),o.jsx("div",{className:"font-bold text-slate-800 dark:text-white truncate",children:"Captulo 1"})]})]})]})]}),o.jsx("div",{className:"text-center",children:o.jsxs(ge,{to:"/",className:"inline-flex items-center text-slate-500 hover:text-brand-orange font-medium transition-colors",children:[o.jsx("span",{className:"material-icons mr-2",children:"arrow_back"})," Volver al inicio"]})})]})},F0=({initialMode:n})=>{const t=Ql(),s=Fl(),[i,c]=ae.useState("register"),[u,f]=ae.useState(1),[m,g]=ae.useState(!1),[x,y]=ae.useState({name:"",lastname:"",email:"",phone:"",university:"",normative:"Normas APA (7ma)",totalAmount:"",paidAmount:"",dueDate:"",career:"",type:"Tesis de Grado",plan:"asesoria"}),[v,j]=ae.useState(null),[N,E]=ae.useState(null),C=(K,W="error")=>{j({message:K,type:W}),setTimeout(()=>j(null),3e3)},U=async()=>{g(!0);try{const{data:K,error:W}=await bt.from("students").insert([{name:x.name,lastname:x.lastname,email:x.email,phone:x.phone,university:x.university,career:x.career}]).select().single();if(W)throw W;const{data:ie,error:oe}=await bt.from("projects").insert([{student_id:K.id,type:x.type,description:`Plan: ${x.plan}, Normative: ${x.normative}`,total_amount:parseFloat(x.totalAmount)||0,paid_amount:parseFloat(x.paidAmount)||0,due_date:x.dueDate||null,status:"pending"}]).select("tracking_code").single();if(oe)throw oe;s("/student/success",{state:{trackingCode:ie.tracking_code}})}catch(K){console.error("Registration Error:",K),C(K.message||"Hubo un error al registrar el proyecto.","error")}finally{g(!1)}},q=K=>{const{name:W,value:ie}=K.target;y(oe=>({...oe,[W]:ie}))};ae.useEffect(()=>{const K=new URLSearchParams(t.search);n?c(n):K.get("mode")==="monitor"&&c("monitor")},[t,n]);const I=async K=>{var ie;if(!K.trim())return;const W=K.trim().toUpperCase();try{const{data:oe,error:Be}=await bt.from("projects").select(`
                    *,
                    students (
                        university,
                        career,
                        name,
                        lastname
                    )
                `).eq("tracking_code",W).single();if(Be)throw Be;oe?E({status:oe.status==="pending"?"Pendiente":oe.status==="assigned"?"Asignado":oe.status==="in_progress"?"En Progreso":oe.status,university:((ie=oe.students)==null?void 0:ie.university)||"N/A",type:oe.type,progress:oe.paid_amount&&oe.total_amount?Math.round(oe.paid_amount/oe.total_amount*100):0,advisor:"Por asignar",lastUpdate:new Date(oe.created_at).toLocaleDateString()}):(C("No se encontr ningn proyecto con este cdigo.","error"),E(null))}catch(oe){console.error(oe),C("No se encontr ningn proyecto con este cdigo.","error"),E(null)}},L=()=>{if(u===1&&(!x.name||!x.lastname||!x.email||!x.phone)){C("Por favor completa todos los campos personales.");return}if(u===2&&(!x.university||!x.career||!x.totalAmount)){C("Por favor completa los detalles del proyecto.");return}f(K=>K+1)},V=()=>f(K=>K-1);return o.jsxs("div",{className:"flex h-screen w-full font-display bg-background-light dark:bg-background-dark text-slate-800 dark:text-white transition-colors duration-200",children:[v&&o.jsx("div",{className:"fixed top-20 right-4 z-[100] animate-fade-in-down",children:o.jsxs("div",{className:`px-6 py-4 rounded-xl shadow-2xl flex items-center gap-3 backdrop-blur-md border ${v.type==="error"?"bg-red-500/90 text-white border-red-400":"bg-green-500/90 text-white border-green-400"}`,children:[o.jsx("div",{className:`p-1 rounded-full ${v.type==="error","bg-white/20"}`,children:o.jsx("span",{className:"material-symbols-outlined text-lg block",children:v.type==="error"?"priority_high":"check"})}),o.jsx("span",{className:"font-bold text-sm shadow-sm",children:v.message})]})}),o.jsx(Hw,{mode:i,step:u}),o.jsxs("main",{className:"flex-1 overflow-y-auto w-full bg-white dark:bg-slate-900 md:bg-transparent transition-colors custom-scrollbar relative",children:[o.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 border-b border-slate-100 dark:border-slate-800 bg-white/90 dark:bg-slate-900/90 backdrop-blur-sm sticky top-0 z-30",children:[o.jsxs(ge,{to:"/",className:"flex items-center gap-2 text-slate-900 dark:text-white font-bold",children:[o.jsx("span",{className:"material-symbols-outlined text-brand-orange",children:"school"}),o.jsxs("span",{children:["TuTesis",o.jsx("span",{className:"text-brand-orange",children:"RD"})]})]}),i==="register"&&o.jsxs("div",{className:"text-xs font-bold px-3 py-1 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-600 dark:text-slate-400",children:["Paso ",u," de 3"]})]}),o.jsxs("div",{className:"p-4 md:p-8 lg:p-16 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-8 w-full md:w-fit mx-auto md:mx-0 shadow-inner",children:[o.jsx("button",{onClick:()=>c("register"),className:`flex-1 md:flex-none px-4 md:px-6 py-3 rounded-lg text-sm font-bold transition-all ${i==="register"?"bg-white dark:bg-slate-700 text-primary shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Registrar"}),o.jsx("button",{onClick:()=>c("monitor"),className:`flex-1 md:flex-none px-4 md:px-6 py-3 rounded-lg text-sm font-bold transition-all ${i==="monitor"?"bg-white dark:bg-slate-700 text-primary shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Monitorear"})]}),i==="register"?o.jsxs(o.Fragment,{children:[u===1&&o.jsx(Gw,{formData:x,handleInputChange:q,nextStep:L}),u===2&&o.jsx(Vw,{formData:x,handleInputChange:q,setFormData:y,nextStep:L,prevStep:V}),u===3&&o.jsx(Zw,{isSubmitting:m,prevStep:V,submitRegistration:U})]}):o.jsx(Yw,{onSearch:I,searchResult:N})]})]})]})};var Ll={},ql={},W0;function Kw(){if(W0)return ql;W0=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.confetti=m;var n=["#a864fd","#29cdff","#78ff44","#ff718d","#fdff6a"];function t(g,x,y,v,j){return Array.from({length:x}).map(function(N,E){var C=document.createElement("div"),U=y[E%y.length];return C.style["background-color"]=U,C.style.width=v,C.style.height=j,C.style.position="absolute",C.style.willChange="transform, opacity",C.style.visibility="hidden",g.appendChild(C),C})}function s(g,x,y,v){var j=g*(Math.PI/180),N=x*(Math.PI/180);return{x:0,y:0,z:0,wobble:v()*10,wobbleSpeed:.1+v()*.1,velocity:y*.5+v()*y,angle2D:-j+(.5*N-v()*N),angle3D:-(Math.PI/4)+v()*(Math.PI/2),tiltAngle:v()*Math.PI,tiltAngleSpeed:.1+v()*.3}}function i(g,x,y,v){g.physics.x+=Math.cos(g.physics.angle2D)*g.physics.velocity,g.physics.y+=Math.sin(g.physics.angle2D)*g.physics.velocity,g.physics.z+=Math.sin(g.physics.angle3D)*g.physics.velocity,g.physics.wobble+=g.physics.wobbleSpeed,v?g.physics.velocity*=v:g.physics.velocity-=g.physics.velocity*y,g.physics.y+=3,g.physics.tiltAngle+=g.physics.tiltAngleSpeed;var j=g.physics,N=j.x,E=j.y,C=j.z,U=j.tiltAngle,q=j.wobble,I=N+10*Math.cos(q),L=E+10*Math.sin(q),V="translate3d("+I+"px, "+L+"px, "+C+"px) rotate3d(1, 1, 1, "+U+"rad)";g.element.style.visibility="visible",g.element.style.transform=V,g.element.style.opacity=1-x}function c(g,x,y,v,j,N){var E=void 0;return new Promise(function(C){function U(q){E||(E=q);var I=q-E,L=E===q?0:(q-E)/j;x.slice(0,Math.ceil(I/N)).forEach(function(V){i(V,L,y,v)}),q-E<j?requestAnimationFrame(U):(x.forEach(function(V){if(V.element.parentNode===g)return g.removeChild(V.element)}),C())}requestAnimationFrame(U)})}var u={angle:90,spread:45,startVelocity:45,elementCount:50,width:"10px",height:"10px",perspective:"",colors:n,duration:3e3,stagger:0,dragFriction:.1,random:Math.random};function f(g){return!g.stagger&&g.delay&&(g.stagger=g.delay),g}function m(g){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=Object.assign({},u,f(x)),v=y.elementCount,j=y.colors,N=y.width,E=y.height,C=y.perspective,U=y.angle,q=y.spread,I=y.startVelocity,L=y.decay,V=y.dragFriction,K=y.duration,W=y.stagger,ie=y.random;g.style.perspective=C;var oe=t(g,v,j,N,E),Be=oe.map(function(le){return{element:le,physics:s(U,q,I,ie)}});return c(g,Be,V,L,K,W)}return ql}var eg;function Jw(){if(eg)return Ll;eg=1,Object.defineProperty(Ll,"__esModule",{value:!0});var n=(function(){function y(v,j){for(var N=0;N<j.length;N++){var E=j[N];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}return function(v,j,N){return j&&y(v.prototype,j),N&&y(v,N),v}})(),t=Ng(),s=c(t),i=Kw();function c(y){return y&&y.__esModule?y:{default:y}}function u(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function f(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var g={position:"relative"},x=(function(y){m(v,y);function v(j){u(this,v);var N=f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,j));return N.setRef=N.setRef.bind(N),N}return n(v,[{key:"componentDidUpdate",value:function(N){!N.active&&this.props.active&&(0,i.confetti)(this.container,this.props.config)}},{key:"setRef",value:function(N){this.container=N}},{key:"render",value:function(){return s.default.createElement("div",{className:this.props.className,style:g,ref:this.setRef})}}]),v})(t.Component);return Ll.default=x,Ll}var Xw=Jw();const Qw=ud(Xw),Fw=()=>{var g;const n=Ql(),[t,s]=ws.useState(!1),i=((g=n.state)==null?void 0:g.trackingCode)||"TRX-PENDING";ws.useEffect(()=>{s(!0)},[]);const[c,u]=ws.useState(!1),f=()=>{navigator.clipboard.writeText(i),u(!0),setTimeout(()=>u(!1),2e3)},m={angle:90,spread:360,startVelocity:40,elementCount:70,dragFriction:.12,duration:3e3,stagger:3,width:"10px",height:"10px",perspective:"500px",colors:["#a864fd","#29cdff","#78ff44","#ff718d","#fdff6a"]};return o.jsxs("div",{className:"min-h-screen bg-blue-50 dark:bg-[#101922] flex items-center justify-center p-4 font-display transition-colors duration-200",children:[o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none",children:o.jsx(Qw,{active:t,config:m})}),o.jsxs("div",{className:"bg-white dark:bg-[#1a2230] max-w-lg w-full rounded-2xl shadow-2xl overflow-hidden text-center animate-slide-up border border-slate-100 dark:border-slate-800",children:[o.jsxs("div",{className:"pt-10 pb-6 px-8 relative",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-green-400 to-primary"}),o.jsx("div",{className:"size-24 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center text-green-500 mx-auto mb-6 shadow-xl shadow-green-200 dark:shadow-none animate-[bounce_1s_infinite]",children:o.jsx("span",{className:"material-symbols-outlined text-6xl",children:"check_circle"})}),o.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white mb-2",children:"Registro Completado!"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Tu cuenta ha sido creada y tu proyecto registrado exitosamente en la plataforma."})]}),o.jsx("div",{className:"px-8 pb-4",children:o.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 rounded-xl border border-dashed border-slate-300 dark:border-slate-600",children:[o.jsx("p",{className:"text-xs text-slate-500 mb-1 font-bold uppercase tracking-wider",children:"Tu Cdigo de Rastreo"}),o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("span",{className:"text-2xl font-mono font-black text-brand-orange tracking-widest",children:i}),o.jsxs("button",{onClick:f,className:"text-slate-400 hover:text-slate-600 dark:hover:text-white transition-colors relative",title:"Copiar",children:[o.jsx("span",{className:"material-symbols-outlined text-lg",children:c?"check":"content_copy"}),c&&o.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] px-2 py-1 rounded shadow-lg",children:"Copiado!"})]})]}),o.jsx("p",{className:"text-[10px] text-slate-400 mt-2",children:"Guarda este cdigo para monitorear el estado de tu proyecto."})]})}),o.jsxs("div",{className:"bg-slate-50 dark:bg-[#151e29] p-8 text-left space-y-6",children:[o.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest border-b border-slate-200 dark:border-slate-700 pb-2",children:"Prximos Pasos"}),o.jsxs("div",{className:"flex gap-4 group",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"size-8 rounded-full bg-blue-100 dark:bg-blue-900/50 text-primary flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx("span",{className:"material-symbols-outlined text-sm",children:"hourglass_top"})}),o.jsx("div",{className:"w-0.5 h-full bg-slate-200 dark:bg-slate-700 my-1"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Asignacin de Asesor"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Un experto validar tu tema en 24h."})]})]}),o.jsxs("div",{className:"flex gap-4 group",children:[o.jsx("div",{className:"flex flex-col items-center",children:o.jsx("div",{className:"size-8 rounded-full bg-green-100 dark:bg-green-900/50 text-green-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx("span",{className:"material-symbols-outlined text-sm",children:"rocket_launch"})})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Inicio del Proyecto"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Comenzaremos a trabajar segn lo acordado."})]})]})]}),o.jsx("div",{className:"p-6",children:o.jsxs(ge,{to:"/monitoreo",className:"block w-full py-4 bg-primary text-white font-bold rounded-xl hover:bg-blue-600 hover:shadow-lg hover:shadow-blue-500/30 transition-all flex items-center justify-center gap-2",children:[o.jsx("span",{className:"material-icons",children:"travel_explore"})," Monitorear mi Proyecto"]})})]})]})},Gt=({children:n,variant:t="primary",size:s="md",isLoading:i=!1,leftIcon:c,rightIcon:u,className:f="",disabled:m,...g})=>{const x="inline-flex items-center justify-center font-bold transition-all duration-300 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",y={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},v={primary:"bg-brand-orange text-white hover:bg-brand-600 shadow-lg shadow-brand-orange/20 hover:shadow-brand-orange/40 focus:ring-brand-orange/50",secondary:"bg-white dark:bg-slate-800 text-slate-900 dark:text-white border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-slate-700 focus:ring-gray-200",outline:"bg-transparent border-2 border-brand-orange text-brand-orange hover:bg-brand-orange/10 focus:ring-brand-orange/50",ghost:"bg-transparent text-slate-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-white/10 hover:text-brand-orange focus:ring-gray-200",glass:"bg-white/70 dark:bg-black/40 text-slate-900 dark:text-white backdrop-blur-md border border-white/20 hover:bg-white/90 dark:hover:bg-black/60 shadow-glass hover:shadow-glass-sm",gradient:"bg-gradient-to-r from-brand-orange to-amber-500 text-white shadow-glow hover:shadow-glow-lg hover:brightness-110 border-none"};return o.jsxs("button",{className:`${x} ${y[s]} ${v[t]} ${f} ${i?"cursor-wait":""}`,disabled:m||i,...g,children:[i&&o.jsx("span",{className:"material-icons animate-spin mr-2 text-sm",children:"autorenew"}),!i&&c&&o.jsx("span",{className:"mr-2 flex items-center",children:c}),n,!i&&u&&o.jsx("span",{className:"ml-2 flex items-center",children:u})]})},en=({children:n,variant:t="default",hoverEffect:s=!1,className:i="",...c})=>{const u="rounded-3xl transition-all duration-300 overflow-hidden",f=s?"hover:-translate-y-1 hover:shadow-xl":"",m={default:"bg-white dark:bg-surface-dark border border-gray-100 dark:border-white/5 shadow-sm",glass:"bg-white/70 dark:bg-black/40 backdrop-blur-xl border border-white/20 shadow-glass",gradient:"bg-gradient-to-br from-brand-orange to-red-500 text-white shadow-glow-lg",outline:"bg-transparent border-2 border-gray-200 dark:border-gray-700 text-slate-900 dark:text-white"};return o.jsx("div",{className:`${u} ${m[t]} ${f} ${i}`,...c,children:n})},Bl=({label:n,error:t,icon:s,className:i="",id:c,...u})=>o.jsxs("div",{className:"w-full",children:[n&&o.jsx("label",{htmlFor:c,className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 ml-1",children:n}),o.jsxs("div",{className:"relative",children:[s&&o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",children:s}),o.jsx("input",{id:c,className:`
                        w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-800/50 
                        border font-medium text-slate-900 dark:text-white placeholder-slate-400
                        transition-all duration-200
                        focus:outline-none focus:ring-2 focus:ring-brand-orange/20 focus:border-brand-orange
                        disabled:opacity-50 disabled:cursor-not-allowed
                        ${s?"pl-12":""}
                        ${t?"border-red-500 focus:ring-red-200 focus:border-red-500":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}
                        ${i}
                    `,...u})]}),t&&o.jsx("p",{className:"mt-1 ml-1 text-sm text-red-500 font-medium animate-fade-in",children:t})]}),Ww=()=>{const[n,t]=ae.useState("colors");return o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-900 dark:text-white transition-colors duration-300",children:[o.jsx(js,{title:"Design System",description:"TuTesisRD Design System & UI Kit"}),o.jsx(Ss,{}),o.jsxs("div",{className:"container mx-auto px-6 pt-32 pb-20",children:[o.jsxs("header",{className:"mb-16 text-center",children:[o.jsx("div",{className:"inline-block p-1 px-3 rounded-full bg-brand-orange/10 text-brand-orange text-xs font-bold uppercase tracking-wider mb-4 animate-fade-in",children:"UI/UX Pro Max"}),o.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-4 animate-fade-in-up",children:"Sistema de Diseo"}),o.jsx("p",{className:"text-xl text-slate-500 max-w-2xl mx-auto animate-slide-up",children:"Documentacin viva de tokens, componentes y patrones de diseo."})]}),o.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-16 animate-fade-in",style:{animationDelay:"0.2s"},children:["colors","typography","components","effects"].map(s=>o.jsx("button",{onClick:()=>t(s),className:`px-6 py-2 rounded-full font-bold transition-all ${n===s?"bg-brand-orange text-white shadow-lg shadow-brand-orange/30 scale-105":"bg-white dark:bg-white/5 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-white/10"}`,children:s.charAt(0).toUpperCase()+s.slice(1)},s))}),o.jsxs("div",{className:"animate-fade-in-up",style:{animationDelay:"0.3s"},children:[n==="colors"&&o.jsxs("div",{className:"space-y-12",children:[o.jsxs("section",{children:[o.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[o.jsx("span",{className:"material-icons text-brand-orange",children:"palette"})," Brand Colors"]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-50 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-brand-950",children:"50"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-100 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-brand-950",children:"100"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-200 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-brand-950",children:"200"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-300 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-brand-950",children:"300"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-400 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"400"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-500 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"500"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-600 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"600"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-700 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"700"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-800 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"800"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-900 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"900"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-950 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"950"})})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Neutral Palette"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[o.jsxs("div",{className:"p-4 bg-background-light rounded-xl border border-gray-200",children:[o.jsx("div",{className:"text-sm font-bold",children:"Background Light"}),o.jsx("div",{className:"text-xs text-slate-500",children:"bg-background-light"})]}),o.jsxs("div",{className:"p-4 bg-background-dark text-white rounded-xl border border-gray-800",children:[o.jsx("div",{className:"text-sm font-bold",children:"Background Dark"}),o.jsx("div",{className:"text-xs text-slate-400",children:"bg-background-dark"})]})]})]})]}),n==="typography"&&o.jsx("div",{className:"space-y-12 max-w-4xl mx-auto",children:o.jsxs("section",{className:"space-y-8",children:[o.jsxs("div",{className:"border-l-4 border-brand-orange pl-6",children:[o.jsx("h1",{className:"text-6xl font-black mb-4",children:"Heading 1"}),o.jsx("p",{className:"text-slate-500",children:"Outfit / Black / 60px"})]}),o.jsxs("div",{className:"border-l-4 border-brand-400 pl-6",children:[o.jsx("h2",{className:"text-5xl font-bold mb-4",children:"Heading 2"}),o.jsx("p",{className:"text-slate-500",children:"Outfit / Bold / 48px"})]}),o.jsxs("div",{className:"border-l-4 border-brand-300 pl-6",children:[o.jsx("h3",{className:"text-3xl font-bold mb-4",children:"Heading 3"}),o.jsx("p",{className:"text-slate-500",children:"Outfit / Bold / 30px"})]}),o.jsx("div",{className:"p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800",children:o.jsx("p",{className:"text-lg leading-relaxed text-slate-600 dark:text-slate-300",children:"Body Text (Leading Relaxed). Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."})})]})}),n==="components"&&o.jsxs("div",{className:"space-y-12",children:[o.jsxs("section",{children:[o.jsx("h3",{className:"text-xl font-bold mb-6",children:"Buttons"}),o.jsxs("div",{className:"flex flex-wrap gap-4 items-center p-8 bg-surface-light dark:bg-surface-dark rounded-3xl border border-gray-100 dark:border-gray-800",children:[o.jsx(Gt,{variant:"primary",children:"Primary Application"}),o.jsx(Gt,{variant:"secondary",children:"Secondary Action"}),o.jsx(Gt,{variant:"outline",children:"Outline"}),o.jsx(Gt,{variant:"ghost",children:"Ghost Option"}),o.jsx(Gt,{variant:"glass",children:"Glass Button"}),o.jsx(Gt,{variant:"gradient",rightIcon:o.jsx("span",{className:"material-icons text-sm",children:"arrow_forward"}),children:"Get Started"}),o.jsx(Gt,{variant:"primary",isLoading:!0,children:"Loading"}),o.jsx(Gt,{variant:"secondary",className:"rounded-full w-12 h-12 !p-0 flex items-center justify-center",children:o.jsx("span",{className:"material-icons",children:"add"})})]})]}),o.jsxs("section",{children:[o.jsx("h3",{className:"text-xl font-bold mb-6",children:"Inputs"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6 p-8 bg-surface-light dark:bg-surface-dark rounded-3xl border border-gray-100 dark:border-gray-800",children:[o.jsx(Bl,{label:"Full Name",placeholder:"e.g. Juan Perez"}),o.jsx(Bl,{label:"Email Address",type:"email",placeholder:"juan@example.com",icon:o.jsx("span",{className:"material-icons",children:"email"})}),o.jsx(Bl,{label:"Password",type:"password",error:"Password must be at least 8 characters"}),o.jsx(Bl,{label:"Search",placeholder:"Search...",className:"rounded-full",icon:o.jsx("span",{className:"material-icons",children:"search"})})]})]}),o.jsxs("section",{children:[o.jsx("h3",{className:"text-xl font-bold mb-6",children:"Glassmorphic Cards"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs(en,{variant:"glass",className:"p-8",children:[o.jsx("h4",{className:"text-xl font-bold mb-2",children:"Glass Card"}),o.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["This component uses ",o.jsx("code",{children:'variant="glass"'}),". Perfect for overlaying on complex backgrounds."]}),o.jsx(Gt,{variant:"outline",size:"sm",className:"mt-4",children:"Learn More"})]}),o.jsxs(en,{variant:"gradient",className:"p-8 relative group",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:bg-white/20 transition-all"}),o.jsx("h4",{className:"text-xl font-bold mb-2",children:"Gradient Card"}),o.jsx("p",{className:"text-white/90",children:"High emphasis card for call-to-actions. Uses brand gradient tokens."})]}),o.jsxs(en,{variant:"default",hoverEffect:!0,className:"p-8",children:[o.jsx("h4",{className:"text-xl font-bold mb-2",children:"Default Interactive"}),o.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["Standard card with ",o.jsx("code",{children:"hoverEffect"})," enabled. Smooth lift on hover."]})]})]})]})]}),n==="effects"&&o.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[o.jsx("div",{className:"p-8 rounded-3xl bg-white dark:bg-surface-dark shadow-glow flex flex-col items-center justify-center aspect-square animate-float",children:o.jsx("span",{className:"font-bold",children:"Floating & Glow"})}),o.jsxs("div",{className:"p-8 rounded-3xl bg-white dark:bg-surface-dark shadow-glass-sm flex flex-col items-center justify-center aspect-square",children:[o.jsx("div",{className:"w-16 h-16 bg-brand-orange rounded-full animate-pulse-slow"}),o.jsx("span",{className:"font-bold mt-4",children:"Pulse Slow"})]}),o.jsxs("div",{className:"p-8 rounded-3xl bg-white dark:bg-surface-dark shadow-sm flex flex-col items-center justify-center aspect-square overflow-hidden relative",children:[o.jsx("div",{className:"absolute inset-0 bg-brand-orange/5 animate-fade-in"}),o.jsx("span",{className:"font-bold z-10",children:"Fade In"})]})]})]})]}),o.jsx(As,{})]})},ao=[{id:"uasd",name:"Universidad Autnoma de Santo Domingo (UASD)",shortName:"UASD",color:"#003366",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Escudo_de_la_UASD.svg/1200px-Escudo_de_la_UASD.svg.png",description:"Expertos en Monogrficos, Tesis de Grado y Postgrado para la Primada de Amrica.",regulations:{style:"APA 7ma Edicin",minPages:80,maxPages:150},tips:["Asegrate de revisar el Reglamento de Tesis v2024 de la Facultad de Humanidades si eres de esa rea.","El formato de mrgenes en la UASD suele ser de 3cm a la izquierda y 2.5cm en los dems lados.","Recuerda que el ndice debe generarse automticamente."],programs:["Derecho","Psicologa","Medicina","Ingeniera","Contabilidad"]},{id:"pucmm",name:"Pontificia Universidad Catlica Madre y Maestra (PUCMM)",shortName:"PUCMM",color:"#00539B",logo:"https://upload.wikimedia.org/wikipedia/en/thumb/8/84/PUCMM_Logo.svg/1200px-PUCMM_Logo.svg.png",description:"Normativa rigurosa y calidad acadmica. Te ayudamos con tu Proyecto de Grado o Tesis Doctoral.",regulations:{style:"APA 7ma Edicin (Adaptado)",minPages:60,maxPages:200},tips:["La PUCMM es estricta con el anti-plagio (Turnitin). Mantn tu porcentaje por debajo del 20%.","Usa la plantilla oficial de la biblioteca para la portada y hoja de aprobacin.","Las citas deben ser estrictas, sin parafraseo excesivo."],programs:["Negocios","Ingeniera Industrial","Arquitectura","Comunicacin"]},{id:"intec",name:"Instituto Tecnolgico de Santo Domingo (INTEC)",shortName:"INTEC",color:"#E31837",logo:"https://upload.wikimedia.org/wikipedia/commons/9/98/Logo_INTEC.png",description:"Innovacin y Ciencia. Asesora especializada para proyectos de ingeniera y tcnicos.",regulations:{style:"IEEE / APA",minPages:50,maxPages:120},tips:["Para Ingeniera, el formato IEEE es obligatorio en bibliografa.","Enfcate mucho en la metodologa y los resultados empricos.","La presentacin final (PowerPoint) es tan importante como el documento."],programs:["Ingeniera de Software","Ciberseguridad","Ingeniera Civil","Medicina"]},{id:"unibe",name:"Universidad Iberoamericana (UNIBE)",shortName:"UNIBE",color:"#002855",logo:"https://www.unibe.edu.do/wp-content/uploads/2019/10/logo_unibe_web.png",description:"Liderazgo y Emprendimiento. Potencia tu trabajo final con nuestra asesora personalizada.",regulations:{style:"APA 7ma",minPages:70,maxPages:150},tips:["La creatividad en la defensa es valorada.","Revisa bien los requisitos de ingls si tu tesis es bilinge."],programs:["Mercadeo","Odontologa","Psicologa","Derecho"]},{id:"oym",name:"Universidad O&M",shortName:"O&M",color:"#FFC72C",logo:"https://udoym.edu.do/wp-content/uploads/2020/07/Logo-OM-1.png",description:"Saber y Pensar. Asesora prctica para monogrficos y cursos de grado.",regulations:{style:"APA 6ta/7ma",minPages:40,maxPages:100},tips:["Sigue al pie de la letra la estructura que te da el asesor metodolgico.","La O&M suele requerir encuadernado en colores especficos por carrera."],programs:["Ingeniera de Sistemas","Contabilidad","Turismo","Educacin"]},{id:"unphu",name:"Universidad Nacional Pedro Henrquez Urea (UNPHU)",shortName:"UNPHU",color:"#006837",logo:"https://unphu.edu.do/wp-content/uploads/2020/06/Logo-UNPHU-Vertical.png",description:"Excelencia Acadmica. Te apoyamos en tu tesis de Arquitectura, Medicina y ms.",regulations:{style:"APA / Vancouver",minPages:70,maxPages:160},tips:["En Medicina, el sistema Vancouver es el estndar. Consltalo siempre.","La UNPHU tiene un manual de tesis propio que complementa a APA."],programs:["Arquitectura","Medicina","Veterinaria","Educacin"]}],Gg=ae.createContext(void 0),e_=({children:n})=>{const[t,s]=ae.useState({id:"",content:"",title:"Mi Tesis"}),[i,c]=ae.useState(()=>{if(typeof window>"u")return null;const x=localStorage.getItem("tutesis_uploaded_file");return x?JSON.parse(x):null}),[u,f]=ae.useState(null),m=ws.useRef(!1),g=async x=>{if(!m.current){m.current=!0;try{const y=localStorage.getItem("tutesis_project_uuid");if(!x){console.log("[ProjectContext] No session. Initializing Mode."),s(y==="offline-demo"||!y?{id:"offline-demo",title:"Mi Tesis (Offline)",content:""}:{id:"offline-demo",title:"Mi Tesis (Offline)",content:""});return}let v="",j=null;if(y&&y!=="offline-demo"){const{data:N}=await bt.from("scholar_projects").select("*").eq("id",y).single();if(N){if(x&&!N.owner_id){const{error:E}=await bt.from("scholar_projects").update({owner_id:x.user.id}).eq("id",y);E||(console.log("Project claimed by user:",y),N.owner_id=x.user.id)}v=N.id,j=N}}if(!v){const{data:N}=await bt.from("scholar_projects").select("*").eq("owner_id",x.user.id).order("created_at",{ascending:!1}).limit(1).single();N&&(v=N.id,j=N,localStorage.setItem("tutesis_project_uuid",N.id))}if(!v){const{data:N,error:E}=await bt.from("scholar_projects").insert({title:"Nuevo Proyecto",content:"",owner_id:x.user.id}).select().single();if(N&&!E)v=N.id,j=N,localStorage.setItem("tutesis_project_uuid",N.id);else{console.error("Failed to create project",E),s(C=>({...C,id:"offline-demo"}));return}}s({id:v,title:j.title||"Mi Tesis",content:j.content||"",owner_id:j.owner_id})}finally{m.current=!1}}};return ws.useEffect(()=>{bt.auth.getSession().then(({data:{session:y}})=>{f(y),y||g(null)});const{data:{subscription:x}}=bt.auth.onAuthStateChange(async(y,v)=>{f(v),await g(v)});return()=>x.unsubscribe()},[]),ws.useEffect(()=>{i?localStorage.setItem("tutesis_uploaded_file",JSON.stringify(i)):localStorage.removeItem("tutesis_uploaded_file")},[i]),o.jsx(Gg.Provider,{value:{project:t,setProject:s,uploadedFile:i,setUploadedFile:c,universities:ao,session:u},children:n})},so=()=>{const n=ae.useContext(Gg);if(!n)throw new Error("useProject must be used within a ProjectProvider");return n},Vg=ae.createContext(void 0),t_=({children:n})=>{const[t,s]=ae.useState(null),i=(c,u="info")=>{s({message:c,type:u}),setTimeout(()=>s(null),3e3)};return o.jsxs(Vg.Provider,{value:{showNotification:i},children:[n,t&&o.jsx("div",{className:`fixed bottom-4 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-xl shadow-lg z-[100] text-white font-bold transition-all ${t.type==="error"?"bg-red-500":t.type==="success"?"bg-emerald-500":t.type==="warning"?"bg-amber-500":"bg-blue-500"}`,children:t.message})]})},xd=()=>{const n=ae.useContext(Vg);if(!n)throw new Error("useNotification must be used within a NotificationProvider");return n};var Ae;(function(n){n.assertEqual=c=>{};function t(c){}n.assertIs=t;function s(c){throw new Error}n.assertNever=s,n.arrayToEnum=c=>{const u={};for(const f of c)u[f]=f;return u},n.getValidEnumValues=c=>{const u=n.objectKeys(c).filter(m=>typeof c[c[m]]!="number"),f={};for(const m of u)f[m]=c[m];return n.objectValues(f)},n.objectValues=c=>n.objectKeys(c).map(function(u){return c[u]}),n.objectKeys=typeof Object.keys=="function"?c=>Object.keys(c):c=>{const u=[];for(const f in c)Object.prototype.hasOwnProperty.call(c,f)&&u.push(f);return u},n.find=(c,u)=>{for(const f of c)if(u(f))return f},n.isInteger=typeof Number.isInteger=="function"?c=>Number.isInteger(c):c=>typeof c=="number"&&Number.isFinite(c)&&Math.floor(c)===c;function i(c,u=" | "){return c.map(f=>typeof f=="string"?`'${f}'`:f).join(u)}n.joinValues=i,n.jsonStringifyReplacer=(c,u)=>typeof u=="bigint"?u.toString():u})(Ae||(Ae={}));var tg;(function(n){n.mergeShapes=(t,s)=>({...t,...s})})(tg||(tg={}));const Y=Ae.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ys=n=>{switch(typeof n){case"undefined":return Y.undefined;case"string":return Y.string;case"number":return Number.isNaN(n)?Y.nan:Y.number;case"boolean":return Y.boolean;case"function":return Y.function;case"bigint":return Y.bigint;case"symbol":return Y.symbol;case"object":return Array.isArray(n)?Y.array:n===null?Y.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Y.promise:typeof Map<"u"&&n instanceof Map?Y.map:typeof Set<"u"&&n instanceof Set?Y.set:typeof Date<"u"&&n instanceof Date?Y.date:Y.object;default:return Y.unknown}},$=Ae.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class sa extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(u){return u.message},i={_errors:[]},c=u=>{for(const f of u.issues)if(f.code==="invalid_union")f.unionErrors.map(c);else if(f.code==="invalid_return_type")c(f.returnTypeError);else if(f.code==="invalid_arguments")c(f.argumentsError);else if(f.path.length===0)i._errors.push(s(f));else{let m=i,g=0;for(;g<f.path.length;){const x=f.path[g];g===f.path.length-1?(m[x]=m[x]||{_errors:[]},m[x]._errors.push(s(f))):m[x]=m[x]||{_errors:[]},m=m[x],g++}}};return c(this),i}static assert(t){if(!(t instanceof sa))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ae.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},i=[];for(const c of this.issues)if(c.path.length>0){const u=c.path[0];s[u]=s[u]||[],s[u].push(t(c))}else i.push(t(c));return{formErrors:i,fieldErrors:s}}get formErrors(){return this.flatten()}}sa.create=n=>new sa(n);const ed=(n,t)=>{let s;switch(n.code){case $.invalid_type:n.received===Y.undefined?s="Required":s=`Expected ${n.expected}, received ${n.received}`;break;case $.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(n.expected,Ae.jsonStringifyReplacer)}`;break;case $.unrecognized_keys:s=`Unrecognized key(s) in object: ${Ae.joinValues(n.keys,", ")}`;break;case $.invalid_union:s="Invalid input";break;case $.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${Ae.joinValues(n.options)}`;break;case $.invalid_enum_value:s=`Invalid enum value. Expected ${Ae.joinValues(n.options)}, received '${n.received}'`;break;case $.invalid_arguments:s="Invalid function arguments";break;case $.invalid_return_type:s="Invalid function return type";break;case $.invalid_date:s="Invalid date";break;case $.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(s=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?s=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?s=`Invalid input: must end with "${n.validation.endsWith}"`:Ae.assertNever(n.validation):n.validation!=="regex"?s=`Invalid ${n.validation}`:s="Invalid";break;case $.too_small:n.type==="array"?s=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?s=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?s=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?s=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?s=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:s="Invalid input";break;case $.too_big:n.type==="array"?s=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?s=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?s=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?s=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?s=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:s="Invalid input";break;case $.custom:s="Invalid input";break;case $.invalid_intersection_types:s="Intersection results could not be merged";break;case $.not_multiple_of:s=`Number must be a multiple of ${n.multipleOf}`;break;case $.not_finite:s="Number must be finite";break;default:s=t.defaultError,Ae.assertNever(n)}return{message:s}};let a_=ed;function s_(){return a_}const n_=n=>{const{data:t,path:s,errorMaps:i,issueData:c}=n,u=[...s,...c.path||[]],f={...c,path:u};if(c.message!==void 0)return{...c,path:u,message:c.message};let m="";const g=i.filter(x=>!!x).slice().reverse();for(const x of g)m=x(f,{data:t,defaultError:m}).message;return{...c,path:u,message:m}};function H(n,t){const s=s_(),i=n_({issueData:t,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,s,s===ed?void 0:ed].filter(c=>!!c)});n.common.issues.push(i)}class _t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const i=[];for(const c of s){if(c.status==="aborted")return ce;c.status==="dirty"&&t.dirty(),i.push(c.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,s){const i=[];for(const c of s){const u=await c.key,f=await c.value;i.push({key:u,value:f})}return _t.mergeObjectSync(t,i)}static mergeObjectSync(t,s){const i={};for(const c of s){const{key:u,value:f}=c;if(u.status==="aborted"||f.status==="aborted")return ce;u.status==="dirty"&&t.dirty(),f.status==="dirty"&&t.dirty(),u.value!=="__proto__"&&(typeof f.value<"u"||c.alwaysSet)&&(i[u.value]=f.value)}return{status:t.value,value:i}}}const ce=Object.freeze({status:"aborted"}),ti=n=>({status:"dirty",value:n}),na=n=>({status:"valid",value:n}),ag=n=>n.status==="aborted",sg=n=>n.status==="dirty",er=n=>n.status==="valid",Gl=n=>typeof Promise<"u"&&n instanceof Promise;var F;(function(n){n.errToObj=t=>typeof t=="string"?{message:t}:t||{},n.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(F||(F={}));class _a{constructor(t,s,i,c){this._cachedPath=[],this.parent=t,this.data=s,this._path=i,this._key=c}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ng=(n,t)=>{if(er(t))return{success:!0,data:t.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new sa(n.common.issues);return this._error=s,this._error}}};function fe(n){if(!n)return{};const{errorMap:t,invalid_type_error:s,required_error:i,description:c}=n;if(t&&(s||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:c}:{errorMap:(f,m)=>{const{message:g}=n;return f.code==="invalid_enum_value"?{message:g??m.defaultError}:typeof m.data>"u"?{message:g??i??m.defaultError}:f.code!=="invalid_type"?{message:m.defaultError}:{message:g??s??m.defaultError}},description:c}}class Ne{get description(){return this._def.description}_getType(t){return ys(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:ys(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new _t,ctx:{common:t.parent.common,data:t.data,parsedType:ys(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(Gl(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const i=this.safeParse(t,s);if(i.success)return i.data;throw i.error}safeParse(t,s){const i={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ys(t)},c=this._parseSync({data:t,path:i.path,parent:i});return ng(i,c)}"~validate"(t){var i,c;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ys(t)};if(!this["~standard"].async)try{const u=this._parseSync({data:t,path:[],parent:s});return er(u)?{value:u.value}:{issues:s.common.issues}}catch(u){(c=(i=u==null?void 0:u.message)==null?void 0:i.toLowerCase())!=null&&c.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(u=>er(u)?{value:u.value}:{issues:s.common.issues})}async parseAsync(t,s){const i=await this.safeParseAsync(t,s);if(i.success)return i.data;throw i.error}async safeParseAsync(t,s){const i={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ys(t)},c=this._parse({data:t,path:i.path,parent:i}),u=await(Gl(c)?c:Promise.resolve(c));return ng(i,u)}refine(t,s){const i=c=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(c):s;return this._refinement((c,u)=>{const f=t(c),m=()=>u.addIssue({code:$.custom,...i(c)});return typeof Promise<"u"&&f instanceof Promise?f.then(g=>g?!0:(m(),!1)):f?!0:(m(),!1)})}refinement(t,s){return this._refinement((i,c)=>t(i)?!0:(c.addIssue(typeof s=="function"?s(i,c):s),!1))}_refinement(t){return new sr({schema:this,typeName:P.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return _s.create(this,this._def)}nullable(){return nr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wa.create(this)}promise(){return Jl.create(this,this._def)}or(t){return Zl.create([this,t],this._def)}and(t){return Yl.create(this,t,this._def)}transform(t){return new sr({...fe(this._def),schema:this,typeName:P.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new nd({...fe(this._def),innerType:this,defaultValue:s,typeName:P.ZodDefault})}brand(){return new A_({typeName:P.ZodBranded,type:this,...fe(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new rd({...fe(this._def),innerType:this,catchValue:s,typeName:P.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return bd.create(this,t)}readonly(){return id.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const r_=/^c[^\s-]{8,}$/i,i_=/^[0-9a-z]+$/,l_=/^[0-9A-HJKMNP-TV-Z]{26}$/i,o_=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,c_=/^[a-z0-9_-]{21}$/i,u_=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,d_=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,h_=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,f_="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let qu;const m_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,g_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,p_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,x_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,b_=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,y_=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Zg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",v_=new RegExp(`^${Zg}$`);function Yg(n){let t="[0-5]\\d";n.precision?t=`${t}\\.\\d{${n.precision}}`:n.precision==null&&(t=`${t}(\\.\\d+)?`);const s=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${s}`}function w_(n){return new RegExp(`^${Yg(n)}$`)}function __(n){let t=`${Zg}T${Yg(n)}`;const s=[];return s.push(n.local?"Z?":"Z"),n.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function j_(n,t){return!!((t==="v4"||!t)&&m_.test(n)||(t==="v6"||!t)&&p_.test(n))}function N_(n,t){if(!u_.test(n))return!1;try{const[s]=n.split(".");if(!s)return!1;const i=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),c=JSON.parse(atob(i));return!(typeof c!="object"||c===null||"typ"in c&&(c==null?void 0:c.typ)!=="JWT"||!c.alg||t&&c.alg!==t)}catch{return!1}}function k_(n,t){return!!((t==="v4"||!t)&&g_.test(n)||(t==="v6"||!t)&&x_.test(n))}class Pa extends Ne{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Y.string){const u=this._getOrReturnCtx(t);return H(u,{code:$.invalid_type,expected:Y.string,received:u.parsedType}),ce}const i=new _t;let c;for(const u of this._def.checks)if(u.kind==="min")t.data.length<u.value&&(c=this._getOrReturnCtx(t,c),H(c,{code:$.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),i.dirty());else if(u.kind==="max")t.data.length>u.value&&(c=this._getOrReturnCtx(t,c),H(c,{code:$.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),i.dirty());else if(u.kind==="length"){const f=t.data.length>u.value,m=t.data.length<u.value;(f||m)&&(c=this._getOrReturnCtx(t,c),f?H(c,{code:$.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):m&&H(c,{code:$.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),i.dirty())}else if(u.kind==="email")h_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"email",code:$.invalid_string,message:u.message}),i.dirty());else if(u.kind==="emoji")qu||(qu=new RegExp(f_,"u")),qu.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"emoji",code:$.invalid_string,message:u.message}),i.dirty());else if(u.kind==="uuid")o_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"uuid",code:$.invalid_string,message:u.message}),i.dirty());else if(u.kind==="nanoid")c_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"nanoid",code:$.invalid_string,message:u.message}),i.dirty());else if(u.kind==="cuid")r_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"cuid",code:$.invalid_string,message:u.message}),i.dirty());else if(u.kind==="cuid2")i_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"cuid2",code:$.invalid_string,message:u.message}),i.dirty());else if(u.kind==="ulid")l_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"ulid",code:$.invalid_string,message:u.message}),i.dirty());else if(u.kind==="url")try{new URL(t.data)}catch{c=this._getOrReturnCtx(t,c),H(c,{validation:"url",code:$.invalid_string,message:u.message}),i.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"regex",code:$.invalid_string,message:u.message}),i.dirty())):u.kind==="trim"?t.data=t.data.trim():u.kind==="includes"?t.data.includes(u.value,u.position)||(c=this._getOrReturnCtx(t,c),H(c,{code:$.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),i.dirty()):u.kind==="toLowerCase"?t.data=t.data.toLowerCase():u.kind==="toUpperCase"?t.data=t.data.toUpperCase():u.kind==="startsWith"?t.data.startsWith(u.value)||(c=this._getOrReturnCtx(t,c),H(c,{code:$.invalid_string,validation:{startsWith:u.value},message:u.message}),i.dirty()):u.kind==="endsWith"?t.data.endsWith(u.value)||(c=this._getOrReturnCtx(t,c),H(c,{code:$.invalid_string,validation:{endsWith:u.value},message:u.message}),i.dirty()):u.kind==="datetime"?__(u).test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{code:$.invalid_string,validation:"datetime",message:u.message}),i.dirty()):u.kind==="date"?v_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{code:$.invalid_string,validation:"date",message:u.message}),i.dirty()):u.kind==="time"?w_(u).test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{code:$.invalid_string,validation:"time",message:u.message}),i.dirty()):u.kind==="duration"?d_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"duration",code:$.invalid_string,message:u.message}),i.dirty()):u.kind==="ip"?j_(t.data,u.version)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"ip",code:$.invalid_string,message:u.message}),i.dirty()):u.kind==="jwt"?N_(t.data,u.alg)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"jwt",code:$.invalid_string,message:u.message}),i.dirty()):u.kind==="cidr"?k_(t.data,u.version)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"cidr",code:$.invalid_string,message:u.message}),i.dirty()):u.kind==="base64"?b_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"base64",code:$.invalid_string,message:u.message}),i.dirty()):u.kind==="base64url"?y_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"base64url",code:$.invalid_string,message:u.message}),i.dirty()):Ae.assertNever(u);return{status:i.value,value:t.data}}_regex(t,s,i){return this.refinement(c=>t.test(c),{validation:s,code:$.invalid_string,...F.errToObj(i)})}_addCheck(t){return new Pa({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...F.errToObj(t)})}url(t){return this._addCheck({kind:"url",...F.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...F.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...F.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...F.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...F.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...F.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...F.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...F.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...F.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...F.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...F.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...F.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...F.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...F.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...F.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...F.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s==null?void 0:s.position,...F.errToObj(s==null?void 0:s.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...F.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...F.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...F.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...F.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...F.errToObj(s)})}nonempty(t){return this.min(1,F.errToObj(t))}trim(){return new Pa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Pa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Pa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}Pa.create=n=>new Pa({checks:[],typeName:P.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...fe(n)});function S_(n,t){const s=(n.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,c=s>i?s:i,u=Number.parseInt(n.toFixed(c).replace(".","")),f=Number.parseInt(t.toFixed(c).replace(".",""));return u%f/10**c}class tr extends Ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Y.number){const u=this._getOrReturnCtx(t);return H(u,{code:$.invalid_type,expected:Y.number,received:u.parsedType}),ce}let i;const c=new _t;for(const u of this._def.checks)u.kind==="int"?Ae.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{code:$.invalid_type,expected:"integer",received:"float",message:u.message}),c.dirty()):u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(i=this._getOrReturnCtx(t,i),H(i,{code:$.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),c.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(i=this._getOrReturnCtx(t,i),H(i,{code:$.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),c.dirty()):u.kind==="multipleOf"?S_(t.data,u.value)!==0&&(i=this._getOrReturnCtx(t,i),H(i,{code:$.not_multiple_of,multipleOf:u.value,message:u.message}),c.dirty()):u.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{code:$.not_finite,message:u.message}),c.dirty()):Ae.assertNever(u);return{status:c.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,F.toString(s))}gt(t,s){return this.setLimit("min",t,!1,F.toString(s))}lte(t,s){return this.setLimit("max",t,!0,F.toString(s))}lt(t,s){return this.setLimit("max",t,!1,F.toString(s))}setLimit(t,s,i,c){return new tr({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:i,message:F.toString(c)}]})}_addCheck(t){return new tr({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:F.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:F.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:F.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:F.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:F.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:F.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:F.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:F.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:F.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ae.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(s===null||i.value>s)&&(s=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(s)&&Number.isFinite(t)}}tr.create=n=>new tr({checks:[],typeName:P.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...fe(n)});class ui extends Ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Y.bigint)return this._getInvalidInput(t);let i;const c=new _t;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(i=this._getOrReturnCtx(t,i),H(i,{code:$.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),c.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(i=this._getOrReturnCtx(t,i),H(i,{code:$.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),c.dirty()):u.kind==="multipleOf"?t.data%u.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),H(i,{code:$.not_multiple_of,multipleOf:u.value,message:u.message}),c.dirty()):Ae.assertNever(u);return{status:c.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return H(s,{code:$.invalid_type,expected:Y.bigint,received:s.parsedType}),ce}gte(t,s){return this.setLimit("min",t,!0,F.toString(s))}gt(t,s){return this.setLimit("min",t,!1,F.toString(s))}lte(t,s){return this.setLimit("max",t,!0,F.toString(s))}lt(t,s){return this.setLimit("max",t,!1,F.toString(s))}setLimit(t,s,i,c){return new ui({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:i,message:F.toString(c)}]})}_addCheck(t){return new ui({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:F.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:F.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:F.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:F.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:F.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}ui.create=n=>new ui({checks:[],typeName:P.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...fe(n)});class td extends Ne{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Y.boolean){const i=this._getOrReturnCtx(t);return H(i,{code:$.invalid_type,expected:Y.boolean,received:i.parsedType}),ce}return na(t.data)}}td.create=n=>new td({typeName:P.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...fe(n)});class Vl extends Ne{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Y.date){const u=this._getOrReturnCtx(t);return H(u,{code:$.invalid_type,expected:Y.date,received:u.parsedType}),ce}if(Number.isNaN(t.data.getTime())){const u=this._getOrReturnCtx(t);return H(u,{code:$.invalid_date}),ce}const i=new _t;let c;for(const u of this._def.checks)u.kind==="min"?t.data.getTime()<u.value&&(c=this._getOrReturnCtx(t,c),H(c,{code:$.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),i.dirty()):u.kind==="max"?t.data.getTime()>u.value&&(c=this._getOrReturnCtx(t,c),H(c,{code:$.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),i.dirty()):Ae.assertNever(u);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Vl({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:F.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:F.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}Vl.create=n=>new Vl({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:P.ZodDate,...fe(n)});class rg extends Ne{_parse(t){if(this._getType(t)!==Y.symbol){const i=this._getOrReturnCtx(t);return H(i,{code:$.invalid_type,expected:Y.symbol,received:i.parsedType}),ce}return na(t.data)}}rg.create=n=>new rg({typeName:P.ZodSymbol,...fe(n)});class ig extends Ne{_parse(t){if(this._getType(t)!==Y.undefined){const i=this._getOrReturnCtx(t);return H(i,{code:$.invalid_type,expected:Y.undefined,received:i.parsedType}),ce}return na(t.data)}}ig.create=n=>new ig({typeName:P.ZodUndefined,...fe(n)});class lg extends Ne{_parse(t){if(this._getType(t)!==Y.null){const i=this._getOrReturnCtx(t);return H(i,{code:$.invalid_type,expected:Y.null,received:i.parsedType}),ce}return na(t.data)}}lg.create=n=>new lg({typeName:P.ZodNull,...fe(n)});class ad extends Ne{constructor(){super(...arguments),this._any=!0}_parse(t){return na(t.data)}}ad.create=n=>new ad({typeName:P.ZodAny,...fe(n)});class og extends Ne{constructor(){super(...arguments),this._unknown=!0}_parse(t){return na(t.data)}}og.create=n=>new og({typeName:P.ZodUnknown,...fe(n)});class Ns extends Ne{_parse(t){const s=this._getOrReturnCtx(t);return H(s,{code:$.invalid_type,expected:Y.never,received:s.parsedType}),ce}}Ns.create=n=>new Ns({typeName:P.ZodNever,...fe(n)});class cg extends Ne{_parse(t){if(this._getType(t)!==Y.undefined){const i=this._getOrReturnCtx(t);return H(i,{code:$.invalid_type,expected:Y.void,received:i.parsedType}),ce}return na(t.data)}}cg.create=n=>new cg({typeName:P.ZodVoid,...fe(n)});class wa extends Ne{_parse(t){const{ctx:s,status:i}=this._processInputParams(t),c=this._def;if(s.parsedType!==Y.array)return H(s,{code:$.invalid_type,expected:Y.array,received:s.parsedType}),ce;if(c.exactLength!==null){const f=s.data.length>c.exactLength.value,m=s.data.length<c.exactLength.value;(f||m)&&(H(s,{code:f?$.too_big:$.too_small,minimum:m?c.exactLength.value:void 0,maximum:f?c.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:c.exactLength.message}),i.dirty())}if(c.minLength!==null&&s.data.length<c.minLength.value&&(H(s,{code:$.too_small,minimum:c.minLength.value,type:"array",inclusive:!0,exact:!1,message:c.minLength.message}),i.dirty()),c.maxLength!==null&&s.data.length>c.maxLength.value&&(H(s,{code:$.too_big,maximum:c.maxLength.value,type:"array",inclusive:!0,exact:!1,message:c.maxLength.message}),i.dirty()),s.common.async)return Promise.all([...s.data].map((f,m)=>c.type._parseAsync(new _a(s,f,s.path,m)))).then(f=>_t.mergeArray(i,f));const u=[...s.data].map((f,m)=>c.type._parseSync(new _a(s,f,s.path,m)));return _t.mergeArray(i,u)}get element(){return this._def.type}min(t,s){return new wa({...this._def,minLength:{value:t,message:F.toString(s)}})}max(t,s){return new wa({...this._def,maxLength:{value:t,message:F.toString(s)}})}length(t,s){return new wa({...this._def,exactLength:{value:t,message:F.toString(s)}})}nonempty(t){return this.min(1,t)}}wa.create=(n,t)=>new wa({type:n,minLength:null,maxLength:null,exactLength:null,typeName:P.ZodArray,...fe(t)});function Qn(n){if(n instanceof it){const t={};for(const s in n.shape){const i=n.shape[s];t[s]=_s.create(Qn(i))}return new it({...n._def,shape:()=>t})}else return n instanceof wa?new wa({...n._def,type:Qn(n.element)}):n instanceof _s?_s.create(Qn(n.unwrap())):n instanceof nr?nr.create(Qn(n.unwrap())):n instanceof tn?tn.create(n.items.map(t=>Qn(t))):n}class it extends Ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=Ae.objectKeys(t);return this._cached={shape:t,keys:s},this._cached}_parse(t){if(this._getType(t)!==Y.object){const x=this._getOrReturnCtx(t);return H(x,{code:$.invalid_type,expected:Y.object,received:x.parsedType}),ce}const{status:i,ctx:c}=this._processInputParams(t),{shape:u,keys:f}=this._getCached(),m=[];if(!(this._def.catchall instanceof Ns&&this._def.unknownKeys==="strip"))for(const x in c.data)f.includes(x)||m.push(x);const g=[];for(const x of f){const y=u[x],v=c.data[x];g.push({key:{status:"valid",value:x},value:y._parse(new _a(c,v,c.path,x)),alwaysSet:x in c.data})}if(this._def.catchall instanceof Ns){const x=this._def.unknownKeys;if(x==="passthrough")for(const y of m)g.push({key:{status:"valid",value:y},value:{status:"valid",value:c.data[y]}});else if(x==="strict")m.length>0&&(H(c,{code:$.unrecognized_keys,keys:m}),i.dirty());else if(x!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const x=this._def.catchall;for(const y of m){const v=c.data[y];g.push({key:{status:"valid",value:y},value:x._parse(new _a(c,v,c.path,y)),alwaysSet:y in c.data})}}return c.common.async?Promise.resolve().then(async()=>{const x=[];for(const y of g){const v=await y.key,j=await y.value;x.push({key:v,value:j,alwaysSet:y.alwaysSet})}return x}).then(x=>_t.mergeObjectSync(i,x)):_t.mergeObjectSync(i,g)}get shape(){return this._def.shape()}strict(t){return F.errToObj,new it({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,i)=>{var u,f;const c=((f=(u=this._def).errorMap)==null?void 0:f.call(u,s,i).message)??i.defaultError;return s.code==="unrecognized_keys"?{message:F.errToObj(t).message??c}:{message:c}}}:{}})}strip(){return new it({...this._def,unknownKeys:"strip"})}passthrough(){return new it({...this._def,unknownKeys:"passthrough"})}extend(t){return new it({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new it({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:P.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new it({...this._def,catchall:t})}pick(t){const s={};for(const i of Ae.objectKeys(t))t[i]&&this.shape[i]&&(s[i]=this.shape[i]);return new it({...this._def,shape:()=>s})}omit(t){const s={};for(const i of Ae.objectKeys(this.shape))t[i]||(s[i]=this.shape[i]);return new it({...this._def,shape:()=>s})}deepPartial(){return Qn(this)}partial(t){const s={};for(const i of Ae.objectKeys(this.shape)){const c=this.shape[i];t&&!t[i]?s[i]=c:s[i]=c.optional()}return new it({...this._def,shape:()=>s})}required(t){const s={};for(const i of Ae.objectKeys(this.shape))if(t&&!t[i])s[i]=this.shape[i];else{let u=this.shape[i];for(;u instanceof _s;)u=u._def.innerType;s[i]=u}return new it({...this._def,shape:()=>s})}keyof(){return Kg(Ae.objectKeys(this.shape))}}it.create=(n,t)=>new it({shape:()=>n,unknownKeys:"strip",catchall:Ns.create(),typeName:P.ZodObject,...fe(t)});it.strictCreate=(n,t)=>new it({shape:()=>n,unknownKeys:"strict",catchall:Ns.create(),typeName:P.ZodObject,...fe(t)});it.lazycreate=(n,t)=>new it({shape:n,unknownKeys:"strip",catchall:Ns.create(),typeName:P.ZodObject,...fe(t)});class Zl extends Ne{_parse(t){const{ctx:s}=this._processInputParams(t),i=this._def.options;function c(u){for(const m of u)if(m.result.status==="valid")return m.result;for(const m of u)if(m.result.status==="dirty")return s.common.issues.push(...m.ctx.common.issues),m.result;const f=u.map(m=>new sa(m.ctx.common.issues));return H(s,{code:$.invalid_union,unionErrors:f}),ce}if(s.common.async)return Promise.all(i.map(async u=>{const f={...s,common:{...s.common,issues:[]},parent:null};return{result:await u._parseAsync({data:s.data,path:s.path,parent:f}),ctx:f}})).then(c);{let u;const f=[];for(const g of i){const x={...s,common:{...s.common,issues:[]},parent:null},y=g._parseSync({data:s.data,path:s.path,parent:x});if(y.status==="valid")return y;y.status==="dirty"&&!u&&(u={result:y,ctx:x}),x.common.issues.length&&f.push(x.common.issues)}if(u)return s.common.issues.push(...u.ctx.common.issues),u.result;const m=f.map(g=>new sa(g));return H(s,{code:$.invalid_union,unionErrors:m}),ce}}get options(){return this._def.options}}Zl.create=(n,t)=>new Zl({options:n,typeName:P.ZodUnion,...fe(t)});function sd(n,t){const s=ys(n),i=ys(t);if(n===t)return{valid:!0,data:n};if(s===Y.object&&i===Y.object){const c=Ae.objectKeys(t),u=Ae.objectKeys(n).filter(m=>c.indexOf(m)!==-1),f={...n,...t};for(const m of u){const g=sd(n[m],t[m]);if(!g.valid)return{valid:!1};f[m]=g.data}return{valid:!0,data:f}}else if(s===Y.array&&i===Y.array){if(n.length!==t.length)return{valid:!1};const c=[];for(let u=0;u<n.length;u++){const f=n[u],m=t[u],g=sd(f,m);if(!g.valid)return{valid:!1};c.push(g.data)}return{valid:!0,data:c}}else return s===Y.date&&i===Y.date&&+n==+t?{valid:!0,data:n}:{valid:!1}}class Yl extends Ne{_parse(t){const{status:s,ctx:i}=this._processInputParams(t),c=(u,f)=>{if(ag(u)||ag(f))return ce;const m=sd(u.value,f.value);return m.valid?((sg(u)||sg(f))&&s.dirty(),{status:s.value,value:m.data}):(H(i,{code:$.invalid_intersection_types}),ce)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([u,f])=>c(u,f)):c(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Yl.create=(n,t,s)=>new Yl({left:n,right:t,typeName:P.ZodIntersection,...fe(s)});class tn extends Ne{_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.parsedType!==Y.array)return H(i,{code:$.invalid_type,expected:Y.array,received:i.parsedType}),ce;if(i.data.length<this._def.items.length)return H(i,{code:$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&i.data.length>this._def.items.length&&(H(i,{code:$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const u=[...i.data].map((f,m)=>{const g=this._def.items[m]||this._def.rest;return g?g._parse(new _a(i,f,i.path,m)):null}).filter(f=>!!f);return i.common.async?Promise.all(u).then(f=>_t.mergeArray(s,f)):_t.mergeArray(s,u)}get items(){return this._def.items}rest(t){return new tn({...this._def,rest:t})}}tn.create=(n,t)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new tn({items:n,typeName:P.ZodTuple,rest:null,...fe(t)})};class Kl extends Ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.parsedType!==Y.object)return H(i,{code:$.invalid_type,expected:Y.object,received:i.parsedType}),ce;const c=[],u=this._def.keyType,f=this._def.valueType;for(const m in i.data)c.push({key:u._parse(new _a(i,m,i.path,m)),value:f._parse(new _a(i,i.data[m],i.path,m)),alwaysSet:m in i.data});return i.common.async?_t.mergeObjectAsync(s,c):_t.mergeObjectSync(s,c)}get element(){return this._def.valueType}static create(t,s,i){return s instanceof Ne?new Kl({keyType:t,valueType:s,typeName:P.ZodRecord,...fe(i)}):new Kl({keyType:Pa.create(),valueType:t,typeName:P.ZodRecord,...fe(s)})}}class ug extends Ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.parsedType!==Y.map)return H(i,{code:$.invalid_type,expected:Y.map,received:i.parsedType}),ce;const c=this._def.keyType,u=this._def.valueType,f=[...i.data.entries()].map(([m,g],x)=>({key:c._parse(new _a(i,m,i.path,[x,"key"])),value:u._parse(new _a(i,g,i.path,[x,"value"]))}));if(i.common.async){const m=new Map;return Promise.resolve().then(async()=>{for(const g of f){const x=await g.key,y=await g.value;if(x.status==="aborted"||y.status==="aborted")return ce;(x.status==="dirty"||y.status==="dirty")&&s.dirty(),m.set(x.value,y.value)}return{status:s.value,value:m}})}else{const m=new Map;for(const g of f){const x=g.key,y=g.value;if(x.status==="aborted"||y.status==="aborted")return ce;(x.status==="dirty"||y.status==="dirty")&&s.dirty(),m.set(x.value,y.value)}return{status:s.value,value:m}}}}ug.create=(n,t,s)=>new ug({valueType:t,keyType:n,typeName:P.ZodMap,...fe(s)});class di extends Ne{_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.parsedType!==Y.set)return H(i,{code:$.invalid_type,expected:Y.set,received:i.parsedType}),ce;const c=this._def;c.minSize!==null&&i.data.size<c.minSize.value&&(H(i,{code:$.too_small,minimum:c.minSize.value,type:"set",inclusive:!0,exact:!1,message:c.minSize.message}),s.dirty()),c.maxSize!==null&&i.data.size>c.maxSize.value&&(H(i,{code:$.too_big,maximum:c.maxSize.value,type:"set",inclusive:!0,exact:!1,message:c.maxSize.message}),s.dirty());const u=this._def.valueType;function f(g){const x=new Set;for(const y of g){if(y.status==="aborted")return ce;y.status==="dirty"&&s.dirty(),x.add(y.value)}return{status:s.value,value:x}}const m=[...i.data.values()].map((g,x)=>u._parse(new _a(i,g,i.path,x)));return i.common.async?Promise.all(m).then(g=>f(g)):f(m)}min(t,s){return new di({...this._def,minSize:{value:t,message:F.toString(s)}})}max(t,s){return new di({...this._def,maxSize:{value:t,message:F.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}di.create=(n,t)=>new di({valueType:n,minSize:null,maxSize:null,typeName:P.ZodSet,...fe(t)});class dg extends Ne{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}dg.create=(n,t)=>new dg({getter:n,typeName:P.ZodLazy,...fe(t)});class hg extends Ne{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return H(s,{received:s.data,code:$.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:t.data}}get value(){return this._def.value}}hg.create=(n,t)=>new hg({value:n,typeName:P.ZodLiteral,...fe(t)});function Kg(n,t){return new ar({values:n,typeName:P.ZodEnum,...fe(t)})}class ar extends Ne{_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),i=this._def.values;return H(s,{expected:Ae.joinValues(i),received:s.parsedType,code:$.invalid_type}),ce}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const s=this._getOrReturnCtx(t),i=this._def.values;return H(s,{received:s.data,code:$.invalid_enum_value,options:i}),ce}return na(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return ar.create(t,{...this._def,...s})}exclude(t,s=this._def){return ar.create(this.options.filter(i=>!t.includes(i)),{...this._def,...s})}}ar.create=Kg;class fg extends Ne{_parse(t){const s=Ae.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==Y.string&&i.parsedType!==Y.number){const c=Ae.objectValues(s);return H(i,{expected:Ae.joinValues(c),received:i.parsedType,code:$.invalid_type}),ce}if(this._cache||(this._cache=new Set(Ae.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const c=Ae.objectValues(s);return H(i,{received:i.data,code:$.invalid_enum_value,options:c}),ce}return na(t.data)}get enum(){return this._def.values}}fg.create=(n,t)=>new fg({values:n,typeName:P.ZodNativeEnum,...fe(t)});class Jl extends Ne{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==Y.promise&&s.common.async===!1)return H(s,{code:$.invalid_type,expected:Y.promise,received:s.parsedType}),ce;const i=s.parsedType===Y.promise?s.data:Promise.resolve(s.data);return na(i.then(c=>this._def.type.parseAsync(c,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Jl.create=(n,t)=>new Jl({type:n,typeName:P.ZodPromise,...fe(t)});class sr extends Ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===P.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:i}=this._processInputParams(t),c=this._def.effect||null,u={addIssue:f=>{H(i,f),f.fatal?s.abort():s.dirty()},get path(){return i.path}};if(u.addIssue=u.addIssue.bind(u),c.type==="preprocess"){const f=c.transform(i.data,u);if(i.common.async)return Promise.resolve(f).then(async m=>{if(s.value==="aborted")return ce;const g=await this._def.schema._parseAsync({data:m,path:i.path,parent:i});return g.status==="aborted"?ce:g.status==="dirty"||s.value==="dirty"?ti(g.value):g});{if(s.value==="aborted")return ce;const m=this._def.schema._parseSync({data:f,path:i.path,parent:i});return m.status==="aborted"?ce:m.status==="dirty"||s.value==="dirty"?ti(m.value):m}}if(c.type==="refinement"){const f=m=>{const g=c.refinement(m,u);if(i.common.async)return Promise.resolve(g);if(g instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return m};if(i.common.async===!1){const m=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return m.status==="aborted"?ce:(m.status==="dirty"&&s.dirty(),f(m.value),{status:s.value,value:m.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(m=>m.status==="aborted"?ce:(m.status==="dirty"&&s.dirty(),f(m.value).then(()=>({status:s.value,value:m.value}))))}if(c.type==="transform")if(i.common.async===!1){const f=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!er(f))return ce;const m=c.transform(f.value,u);if(m instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:m}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(f=>er(f)?Promise.resolve(c.transform(f.value,u)).then(m=>({status:s.value,value:m})):ce);Ae.assertNever(c)}}sr.create=(n,t,s)=>new sr({schema:n,typeName:P.ZodEffects,effect:t,...fe(s)});sr.createWithPreprocess=(n,t,s)=>new sr({schema:t,effect:{type:"preprocess",transform:n},typeName:P.ZodEffects,...fe(s)});class _s extends Ne{_parse(t){return this._getType(t)===Y.undefined?na(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_s.create=(n,t)=>new _s({innerType:n,typeName:P.ZodOptional,...fe(t)});class nr extends Ne{_parse(t){return this._getType(t)===Y.null?na(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}nr.create=(n,t)=>new nr({innerType:n,typeName:P.ZodNullable,...fe(t)});class nd extends Ne{_parse(t){const{ctx:s}=this._processInputParams(t);let i=s.data;return s.parsedType===Y.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}nd.create=(n,t)=>new nd({innerType:n,typeName:P.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...fe(t)});class rd extends Ne{_parse(t){const{ctx:s}=this._processInputParams(t),i={...s,common:{...s.common,issues:[]}},c=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Gl(c)?c.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new sa(i.common.issues)},input:i.data})})):{status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new sa(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}rd.create=(n,t)=>new rd({innerType:n,typeName:P.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...fe(t)});class mg extends Ne{_parse(t){if(this._getType(t)!==Y.nan){const i=this._getOrReturnCtx(t);return H(i,{code:$.invalid_type,expected:Y.nan,received:i.parsedType}),ce}return{status:"valid",value:t.data}}}mg.create=n=>new mg({typeName:P.ZodNaN,...fe(n)});class A_ extends Ne{_parse(t){const{ctx:s}=this._processInputParams(t),i=s.data;return this._def.type._parse({data:i,path:s.path,parent:s})}unwrap(){return this._def.type}}class bd extends Ne{_parse(t){const{status:s,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?ce:u.status==="dirty"?(s.dirty(),ti(u.value)):this._def.out._parseAsync({data:u.value,path:i.path,parent:i})})();{const c=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return c.status==="aborted"?ce:c.status==="dirty"?(s.dirty(),{status:"dirty",value:c.value}):this._def.out._parseSync({data:c.value,path:i.path,parent:i})}}static create(t,s){return new bd({in:t,out:s,typeName:P.ZodPipeline})}}class id extends Ne{_parse(t){const s=this._def.innerType._parse(t),i=c=>(er(c)&&(c.value=Object.freeze(c.value)),c);return Gl(s)?s.then(c=>i(c)):i(s)}unwrap(){return this._def.innerType}}id.create=(n,t)=>new id({innerType:n,typeName:P.ZodReadonly,...fe(t)});var P;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(P||(P={}));const G=Pa.create,Qe=tr.create,fa=td.create,Jg=ad.create;Ns.create;const De=wa.create,He=it.create;Zl.create;Yl.create;tn.create;const E_=Kl.create,ks=ar.create;Jl.create;_s.create;nr.create;const T_=Symbol("Let zodToJsonSchema decide on which parser to use"),gg={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},O_=n=>typeof n=="string"?{...gg,name:n}:{...gg,...n},C_=n=>{const t=O_(n),s=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:s,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([i,c])=>[c._def,{def:c._def,path:[...t.basePath,t.definitionPath,i],jsonSchema:void 0}]))}};function Xg(n,t,s,i){i!=null&&i.errorMessages&&s&&(n.errorMessage={...n.errorMessage,[t]:s})}function Re(n,t,s,i,c){n[t]=s,Xg(n,t,i,c)}const Qg=(n,t)=>{let s=0;for(;s<n.length&&s<t.length&&n[s]===t[s];s++);return[(n.length-s).toString(),...t.slice(s)].join("/")};function Ot(n){if(n.target!=="openAi")return{};const t=[...n.basePath,n.definitionPath,n.openAiAnyTypeName];return n.flags.hasReferencedOpenAiAnyType=!0,{$ref:n.$refStrategy==="relative"?Qg(t,n.currentPath):t.join("/")}}function R_(n,t){var i,c,u;const s={type:"array"};return(i=n.type)!=null&&i._def&&((u=(c=n.type)==null?void 0:c._def)==null?void 0:u.typeName)!==P.ZodAny&&(s.items=Te(n.type._def,{...t,currentPath:[...t.currentPath,"items"]})),n.minLength&&Re(s,"minItems",n.minLength.value,n.minLength.message,t),n.maxLength&&Re(s,"maxItems",n.maxLength.value,n.maxLength.message,t),n.exactLength&&(Re(s,"minItems",n.exactLength.value,n.exactLength.message,t),Re(s,"maxItems",n.exactLength.value,n.exactLength.message,t)),s}function D_(n,t){const s={type:"integer",format:"int64"};if(!n.checks)return s;for(const i of n.checks)switch(i.kind){case"min":t.target==="jsonSchema7"?i.inclusive?Re(s,"minimum",i.value,i.message,t):Re(s,"exclusiveMinimum",i.value,i.message,t):(i.inclusive||(s.exclusiveMinimum=!0),Re(s,"minimum",i.value,i.message,t));break;case"max":t.target==="jsonSchema7"?i.inclusive?Re(s,"maximum",i.value,i.message,t):Re(s,"exclusiveMaximum",i.value,i.message,t):(i.inclusive||(s.exclusiveMaximum=!0),Re(s,"maximum",i.value,i.message,t));break;case"multipleOf":Re(s,"multipleOf",i.value,i.message,t);break}return s}function M_(){return{type:"boolean"}}function Fg(n,t){return Te(n.type._def,t)}const z_=(n,t)=>Te(n.innerType._def,t);function Wg(n,t,s){const i=s??t.dateStrategy;if(Array.isArray(i))return{anyOf:i.map((c,u)=>Wg(n,t,c))};switch(i){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return U_(n,t)}}const U_=(n,t)=>{const s={type:"integer",format:"unix-time"};if(t.target==="openApi3")return s;for(const i of n.checks)switch(i.kind){case"min":Re(s,"minimum",i.value,i.message,t);break;case"max":Re(s,"maximum",i.value,i.message,t);break}return s};function L_(n,t){return{...Te(n.innerType._def,t),default:n.defaultValue()}}function q_(n,t){return t.effectStrategy==="input"?Te(n.schema._def,t):Ot(t)}function B_(n){return{type:"string",enum:Array.from(n.values)}}const I_=n=>"type"in n&&n.type==="string"?!1:"allOf"in n;function $_(n,t){const s=[Te(n.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Te(n.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(u=>!!u);let i=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const c=[];return s.forEach(u=>{if(I_(u))c.push(...u.allOf),u.unevaluatedProperties===void 0&&(i=void 0);else{let f=u;if("additionalProperties"in u&&u.additionalProperties===!1){const{additionalProperties:m,...g}=u;f=g}else i=void 0;c.push(f)}}),c.length?{allOf:c,...i}:void 0}function P_(n,t){const s=typeof n.value;return s!=="bigint"&&s!=="number"&&s!=="boolean"&&s!=="string"?{type:Array.isArray(n.value)?"array":"object"}:t.target==="openApi3"?{type:s==="bigint"?"integer":s,enum:[n.value]}:{type:s==="bigint"?"integer":s,const:n.value}}let Bu;const oa={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Bu===void 0&&(Bu=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Bu),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function ep(n,t){const s={type:"string"};if(n.checks)for(const i of n.checks)switch(i.kind){case"min":Re(s,"minLength",typeof s.minLength=="number"?Math.max(s.minLength,i.value):i.value,i.message,t);break;case"max":Re(s,"maxLength",typeof s.maxLength=="number"?Math.min(s.maxLength,i.value):i.value,i.message,t);break;case"email":switch(t.emailStrategy){case"format:email":ca(s,"email",i.message,t);break;case"format:idn-email":ca(s,"idn-email",i.message,t);break;case"pattern:zod":wt(s,oa.email,i.message,t);break}break;case"url":ca(s,"uri",i.message,t);break;case"uuid":ca(s,"uuid",i.message,t);break;case"regex":wt(s,i.regex,i.message,t);break;case"cuid":wt(s,oa.cuid,i.message,t);break;case"cuid2":wt(s,oa.cuid2,i.message,t);break;case"startsWith":wt(s,RegExp(`^${Iu(i.value,t)}`),i.message,t);break;case"endsWith":wt(s,RegExp(`${Iu(i.value,t)}$`),i.message,t);break;case"datetime":ca(s,"date-time",i.message,t);break;case"date":ca(s,"date",i.message,t);break;case"time":ca(s,"time",i.message,t);break;case"duration":ca(s,"duration",i.message,t);break;case"length":Re(s,"minLength",typeof s.minLength=="number"?Math.max(s.minLength,i.value):i.value,i.message,t),Re(s,"maxLength",typeof s.maxLength=="number"?Math.min(s.maxLength,i.value):i.value,i.message,t);break;case"includes":{wt(s,RegExp(Iu(i.value,t)),i.message,t);break}case"ip":{i.version!=="v6"&&ca(s,"ipv4",i.message,t),i.version!=="v4"&&ca(s,"ipv6",i.message,t);break}case"base64url":wt(s,oa.base64url,i.message,t);break;case"jwt":wt(s,oa.jwt,i.message,t);break;case"cidr":{i.version!=="v6"&&wt(s,oa.ipv4Cidr,i.message,t),i.version!=="v4"&&wt(s,oa.ipv6Cidr,i.message,t);break}case"emoji":wt(s,oa.emoji(),i.message,t);break;case"ulid":{wt(s,oa.ulid,i.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{ca(s,"binary",i.message,t);break}case"contentEncoding:base64":{Re(s,"contentEncoding","base64",i.message,t);break}case"pattern:zod":{wt(s,oa.base64,i.message,t);break}}break}case"nanoid":wt(s,oa.nanoid,i.message,t)}return s}function Iu(n,t){return t.patternStrategy==="escape"?G_(n):n}const H_=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function G_(n){let t="";for(let s=0;s<n.length;s++)H_.has(n[s])||(t+="\\"),t+=n[s];return t}function ca(n,t,s,i){var c;n.format||(c=n.anyOf)!=null&&c.some(u=>u.format)?(n.anyOf||(n.anyOf=[]),n.format&&(n.anyOf.push({format:n.format,...n.errorMessage&&i.errorMessages&&{errorMessage:{format:n.errorMessage.format}}}),delete n.format,n.errorMessage&&(delete n.errorMessage.format,Object.keys(n.errorMessage).length===0&&delete n.errorMessage)),n.anyOf.push({format:t,...s&&i.errorMessages&&{errorMessage:{format:s}}})):Re(n,"format",t,s,i)}function wt(n,t,s,i){var c;n.pattern||(c=n.allOf)!=null&&c.some(u=>u.pattern)?(n.allOf||(n.allOf=[]),n.pattern&&(n.allOf.push({pattern:n.pattern,...n.errorMessage&&i.errorMessages&&{errorMessage:{pattern:n.errorMessage.pattern}}}),delete n.pattern,n.errorMessage&&(delete n.errorMessage.pattern,Object.keys(n.errorMessage).length===0&&delete n.errorMessage)),n.allOf.push({pattern:pg(t,i),...s&&i.errorMessages&&{errorMessage:{pattern:s}}})):Re(n,"pattern",pg(t,i),s,i)}function pg(n,t){var g;if(!t.applyRegexFlags||!n.flags)return n.source;const s={i:n.flags.includes("i"),m:n.flags.includes("m"),s:n.flags.includes("s")},i=s.i?n.source.toLowerCase():n.source;let c="",u=!1,f=!1,m=!1;for(let x=0;x<i.length;x++){if(u){c+=i[x],u=!1;continue}if(s.i){if(f){if(i[x].match(/[a-z]/)){m?(c+=i[x],c+=`${i[x-2]}-${i[x]}`.toUpperCase(),m=!1):i[x+1]==="-"&&((g=i[x+2])!=null&&g.match(/[a-z]/))?(c+=i[x],m=!0):c+=`${i[x]}${i[x].toUpperCase()}`;continue}}else if(i[x].match(/[a-z]/)){c+=`[${i[x]}${i[x].toUpperCase()}]`;continue}}if(s.m){if(i[x]==="^"){c+=`(^|(?<=[\r
]))`;continue}else if(i[x]==="$"){c+=`($|(?=[\r
]))`;continue}}if(s.s&&i[x]==="."){c+=f?`${i[x]}\r
`:`[${i[x]}\r
]`;continue}c+=i[x],i[x]==="\\"?u=!0:f&&i[x]==="]"?f=!1:!f&&i[x]==="["&&(f=!0)}try{new RegExp(c)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),n.source}return c}function tp(n,t){var i,c,u,f,m,g;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((i=n.keyType)==null?void 0:i._def.typeName)===P.ZodEnum)return{type:"object",required:n.keyType._def.values,properties:n.keyType._def.values.reduce((x,y)=>({...x,[y]:Te(n.valueType._def,{...t,currentPath:[...t.currentPath,"properties",y]})??Ot(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};const s={type:"object",additionalProperties:Te(n.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return s;if(((c=n.keyType)==null?void 0:c._def.typeName)===P.ZodString&&((u=n.keyType._def.checks)!=null&&u.length)){const{type:x,...y}=ep(n.keyType._def,t);return{...s,propertyNames:y}}else{if(((f=n.keyType)==null?void 0:f._def.typeName)===P.ZodEnum)return{...s,propertyNames:{enum:n.keyType._def.values}};if(((m=n.keyType)==null?void 0:m._def.typeName)===P.ZodBranded&&n.keyType._def.type._def.typeName===P.ZodString&&((g=n.keyType._def.type._def.checks)!=null&&g.length)){const{type:x,...y}=Fg(n.keyType._def,t);return{...s,propertyNames:y}}}return s}function V_(n,t){if(t.mapStrategy==="record")return tp(n,t);const s=Te(n.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Ot(t),i=Te(n.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Ot(t);return{type:"array",maxItems:125,items:{type:"array",items:[s,i],minItems:2,maxItems:2}}}function Z_(n){const t=n.values,i=Object.keys(n.values).filter(u=>typeof t[t[u]]!="number").map(u=>t[u]),c=Array.from(new Set(i.map(u=>typeof u)));return{type:c.length===1?c[0]==="string"?"string":"number":["string","number"],enum:i}}function Y_(n){return n.target==="openAi"?void 0:{not:Ot({...n,currentPath:[...n.currentPath,"not"]})}}function K_(n){return n.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Xl={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function J_(n,t){if(t.target==="openApi3")return xg(n,t);const s=n.options instanceof Map?Array.from(n.options.values()):n.options;if(s.every(i=>i._def.typeName in Xl&&(!i._def.checks||!i._def.checks.length))){const i=s.reduce((c,u)=>{const f=Xl[u._def.typeName];return f&&!c.includes(f)?[...c,f]:c},[]);return{type:i.length>1?i:i[0]}}else if(s.every(i=>i._def.typeName==="ZodLiteral"&&!i.description)){const i=s.reduce((c,u)=>{const f=typeof u._def.value;switch(f){case"string":case"number":case"boolean":return[...c,f];case"bigint":return[...c,"integer"];case"object":if(u._def.value===null)return[...c,"null"];case"symbol":case"undefined":case"function":default:return c}},[]);if(i.length===s.length){const c=i.filter((u,f,m)=>m.indexOf(u)===f);return{type:c.length>1?c:c[0],enum:s.reduce((u,f)=>u.includes(f._def.value)?u:[...u,f._def.value],[])}}}else if(s.every(i=>i._def.typeName==="ZodEnum"))return{type:"string",enum:s.reduce((i,c)=>[...i,...c._def.values.filter(u=>!i.includes(u))],[])};return xg(n,t)}const xg=(n,t)=>{const s=(n.options instanceof Map?Array.from(n.options.values()):n.options).map((i,c)=>Te(i._def,{...t,currentPath:[...t.currentPath,"anyOf",`${c}`]})).filter(i=>!!i&&(!t.strictUnions||typeof i=="object"&&Object.keys(i).length>0));return s.length?{anyOf:s}:void 0};function X_(n,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(n.innerType._def.typeName)&&(!n.innerType._def.checks||!n.innerType._def.checks.length))return t.target==="openApi3"?{type:Xl[n.innerType._def.typeName],nullable:!0}:{type:[Xl[n.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const i=Te(n.innerType._def,{...t,currentPath:[...t.currentPath]});return i&&"$ref"in i?{allOf:[i],nullable:!0}:i&&{...i,nullable:!0}}const s=Te(n.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return s&&{anyOf:[s,{type:"null"}]}}function Q_(n,t){const s={type:"number"};if(!n.checks)return s;for(const i of n.checks)switch(i.kind){case"int":s.type="integer",Xg(s,"type",i.message,t);break;case"min":t.target==="jsonSchema7"?i.inclusive?Re(s,"minimum",i.value,i.message,t):Re(s,"exclusiveMinimum",i.value,i.message,t):(i.inclusive||(s.exclusiveMinimum=!0),Re(s,"minimum",i.value,i.message,t));break;case"max":t.target==="jsonSchema7"?i.inclusive?Re(s,"maximum",i.value,i.message,t):Re(s,"exclusiveMaximum",i.value,i.message,t):(i.inclusive||(s.exclusiveMaximum=!0),Re(s,"maximum",i.value,i.message,t));break;case"multipleOf":Re(s,"multipleOf",i.value,i.message,t);break}return s}function F_(n,t){const s=t.target==="openAi",i={type:"object",properties:{}},c=[],u=n.shape();for(const m in u){let g=u[m];if(g===void 0||g._def===void 0)continue;let x=ej(g);x&&s&&(g._def.typeName==="ZodOptional"&&(g=g._def.innerType),g.isNullable()||(g=g.nullable()),x=!1);const y=Te(g._def,{...t,currentPath:[...t.currentPath,"properties",m],propertyPath:[...t.currentPath,"properties",m]});y!==void 0&&(i.properties[m]=y,x||c.push(m))}c.length&&(i.required=c);const f=W_(n,t);return f!==void 0&&(i.additionalProperties=f),i}function W_(n,t){if(n.catchall._def.typeName!=="ZodNever")return Te(n.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(n.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function ej(n){try{return n.isOptional()}catch{return!0}}const tj=(n,t)=>{var i;if(t.currentPath.toString()===((i=t.propertyPath)==null?void 0:i.toString()))return Te(n.innerType._def,t);const s=Te(n.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return s?{anyOf:[{not:Ot(t)},s]}:Ot(t)},aj=(n,t)=>{if(t.pipeStrategy==="input")return Te(n.in._def,t);if(t.pipeStrategy==="output")return Te(n.out._def,t);const s=Te(n.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),i=Te(n.out._def,{...t,currentPath:[...t.currentPath,"allOf",s?"1":"0"]});return{allOf:[s,i].filter(c=>c!==void 0)}};function sj(n,t){return Te(n.type._def,t)}function nj(n,t){const i={type:"array",uniqueItems:!0,items:Te(n.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return n.minSize&&Re(i,"minItems",n.minSize.value,n.minSize.message,t),n.maxSize&&Re(i,"maxItems",n.maxSize.value,n.maxSize.message,t),i}function rj(n,t){return n.rest?{type:"array",minItems:n.items.length,items:n.items.map((s,i)=>Te(s._def,{...t,currentPath:[...t.currentPath,"items",`${i}`]})).reduce((s,i)=>i===void 0?s:[...s,i],[]),additionalItems:Te(n.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:n.items.length,maxItems:n.items.length,items:n.items.map((s,i)=>Te(s._def,{...t,currentPath:[...t.currentPath,"items",`${i}`]})).reduce((s,i)=>i===void 0?s:[...s,i],[])}}function ij(n){return{not:Ot(n)}}function lj(n){return Ot(n)}const oj=(n,t)=>Te(n.innerType._def,t),cj=(n,t,s)=>{switch(t){case P.ZodString:return ep(n,s);case P.ZodNumber:return Q_(n,s);case P.ZodObject:return F_(n,s);case P.ZodBigInt:return D_(n,s);case P.ZodBoolean:return M_();case P.ZodDate:return Wg(n,s);case P.ZodUndefined:return ij(s);case P.ZodNull:return K_(s);case P.ZodArray:return R_(n,s);case P.ZodUnion:case P.ZodDiscriminatedUnion:return J_(n,s);case P.ZodIntersection:return $_(n,s);case P.ZodTuple:return rj(n,s);case P.ZodRecord:return tp(n,s);case P.ZodLiteral:return P_(n,s);case P.ZodEnum:return B_(n);case P.ZodNativeEnum:return Z_(n);case P.ZodNullable:return X_(n,s);case P.ZodOptional:return tj(n,s);case P.ZodMap:return V_(n,s);case P.ZodSet:return nj(n,s);case P.ZodLazy:return()=>n.getter()._def;case P.ZodPromise:return sj(n,s);case P.ZodNaN:case P.ZodNever:return Y_(s);case P.ZodEffects:return q_(n,s);case P.ZodAny:return Ot(s);case P.ZodUnknown:return lj(s);case P.ZodDefault:return L_(n,s);case P.ZodBranded:return Fg(n,s);case P.ZodReadonly:return oj(n,s);case P.ZodCatch:return z_(n,s);case P.ZodPipeline:return aj(n,s);case P.ZodFunction:case P.ZodVoid:case P.ZodSymbol:return;default:return(i=>{})()}};function Te(n,t,s=!1){var m;const i=t.seen.get(n);if(t.override){const g=(m=t.override)==null?void 0:m.call(t,n,t,i,s);if(g!==T_)return g}if(i&&!s){const g=uj(i,t);if(g!==void 0)return g}const c={def:n,path:t.currentPath,jsonSchema:void 0};t.seen.set(n,c);const u=cj(n,n.typeName,t),f=typeof u=="function"?Te(u(),t):u;if(f&&dj(n,t,f),t.postProcess){const g=t.postProcess(f,n,t);return c.jsonSchema=f,g}return c.jsonSchema=f,f}const uj=(n,t)=>{switch(t.$refStrategy){case"root":return{$ref:n.path.join("/")};case"relative":return{$ref:Qg(t.currentPath,n.path)};case"none":case"seen":return n.path.length<t.currentPath.length&&n.path.every((s,i)=>t.currentPath[i]===s)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Ot(t)):t.$refStrategy==="seen"?Ot(t):void 0}},dj=(n,t,s)=>(n.description&&(s.description=n.description,t.markdownDescription&&(s.markdownDescription=n.description)),s),hj=(n,t)=>{const s=C_(t);let i=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((g,[x,y])=>({...g,[x]:Te(y._def,{...s,currentPath:[...s.basePath,s.definitionPath,x]},!0)??Ot(s)}),{}):void 0;const c=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,u=Te(n._def,c===void 0?s:{...s,currentPath:[...s.basePath,s.definitionPath,c]},!1)??Ot(s),f=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;f!==void 0&&(u.title=f),s.flags.hasReferencedOpenAiAnyType&&(i||(i={}),i[s.openAiAnyTypeName]||(i[s.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:s.$refStrategy==="relative"?"1":[...s.basePath,s.definitionPath,s.openAiAnyTypeName].join("/")}}));const m=c===void 0?i?{...u,[s.definitionPath]:i}:u:{$ref:[...s.$refStrategy==="relative"?[]:s.basePath,s.definitionPath,c].join("/"),[s.definitionPath]:{...i,[c]:u}};return s.target==="jsonSchema7"?m.$schema="http://json-schema.org/draft-07/schema#":(s.target==="jsonSchema2019-09"||s.target==="openAi")&&(m.$schema="https://json-schema.org/draft/2019-09/schema#"),s.target==="openAi"&&("anyOf"in m||"oneOf"in m||"allOf"in m||"type"in m&&Array.isArray(m.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),m};var Il={};const hi="gemini-1.5-flash",fj="llama-3.3-70b-versatile",mj="llama-3.1-8b-instant",bg=45e3;let fi=!1,yg=!1,ld=0;const gj=()=>Date.now()<ld,ap=(n="gemini")=>{if(n==="groq")return"gsk_HGqeFBigNGnDohHsJC4YW"+"Gdyb3FYM4mTySHqwIHUzpn2eXLIHkkA";if(fi)return"";if(typeof import.meta<"u"){const t="AIzaSyBQn84Fj-kReWK1dmg8EUw3jCD0-KAVAXk";if(vg(t))return t}if(typeof process<"u"&&(Il!=null&&Il.GEMINI_API_KEY)){const t=Il.GEMINI_API_KEY;if(vg(t))return t}return""},vg=n=>!(!n||!n.startsWith("AIza")||n.toUpperCase().includes("PLACEHOLDER")||n.length<35);let $u=null;const pj=()=>{if(fi)return null;const n=ap("gemini");return n?($u||($u=new $b(n)),$u):null},sp=async n=>{var t;if(console.log(`[AI Request] Provider: ${n.provider||"default (gemini)"}, Model: ${n.model||hi}`),n.provider==="groq")return _g(n);if(!fi){const s=pj();if(s)try{return await bj(s,n)}catch(i){((t=i.message)!=null&&t.includes("404")||i.status===404)&&(console.warn("[AI] Model restricted or invalid key. Switching to network bridge..."),fi=!0)}}if(!yg)try{return await yj(n)}catch(s){const i=s.message||"";i.includes("502")||i.includes("Timeout")?(console.warn("[AI] Network bridge unstable (502/Timeout). Using backup..."),yg=!0):i.includes("UPSTREAM_ERROR")&&(console.groupCollapsed("[AI] Provider Alert"),console.log("Details:",i),console.groupEnd())}return console.log("[AI] Safety net activated (Groq)"),await _g(n)},xj=async(n,t)=>{const s=Date.now();let i=null,c="";const u=n.provider!=="groq"&&!fi;let f={...n,jsonMode:!0};if(u){const g=hj(t,{target:"jsonSchema7"});f.responseSchema=g}const m=async(g=!1,x)=>{try{let y={...f};if(g&&x){console.warn(`[AI Client] Attempting self-repair. Error: ${x}`);const E=`

CRITICAL: Your previous response was invalid JSON or missed schema requirements. 
Validation Error: ${x}
Fix the structure to match the schema exactly.`;y.systemInstruction=(y.systemInstruction||"")+E}c=await sp(y);const v=c.replace(/^```(?:json)?|```$/gi,"").trim(),j=JSON.parse(v),N=t.parse(j);return wg({provider:n.provider||"gemini",model:n.model||hi,durationMs:Date.now()-s,success:!0,timestamp:Date.now(),inputTokens:0,outputTokens:c.length/4}),g&&console.log("[AI Client] Self-repair COMPLETE."),N}catch(y){if(!g){let v="Invalid JSON format";return y instanceof sa?v=y.errors.map(j=>`Field '${j.path.join(".")}' is invalid: ${j.message}`).join("; "):y instanceof SyntaxError&&(v="JSON Syntax Error: "+y.message),await m(!0,v)}throw i=y,console.error("Structured Generation Error (Final). Raw Text Preview:",c.substring(0,200)),y instanceof sa?new Error(`AI Schema Validation Failed after repair: ${y.errors.map(v=>`${v.path.join(".")}: ${v.message}`).join(", ")}`):new Error("Failed to parse or validate AI response after retries.")}};try{return await m(!1)}finally{i&&wg({provider:n.provider||"gemini",model:n.model||hi,durationMs:Date.now()-s,success:!1,errorCode:i.message||"Unknown Error",timestamp:Date.now()})}},np=async n=>xj(n,Jg()),wg=n=>{console.debug(`[TELEMETRY] ${JSON.stringify(n)}`)};async function bj(n,t){return(await n.getGenerativeModel({model:t.model||hi,systemInstruction:t.systemInstruction}).generateContent({contents:[{role:"user",parts:[{text:t.prompt}]}],generationConfig:{temperature:t.temperature??.7,responseMimeType:t.jsonMode?"application/json":"text/plain"}})).response.text()}async function yj(n){const{data:t,error:s}=await bt.functions.invoke("gemini-proxy",{body:{prompt:n.prompt,model:n.model||hi,systemInstruction:n.systemInstruction,temperature:n.temperature,jsonMode:n.jsonMode}});if(s)throw new Error(`Proxy Error: ${s.message||"Unknown error"}`);if(!t||!t.text)throw new Error("Proxy Error: Invalid response format from edge function");return t.text}async function _g(n){var u,f,m;if(gj()){const g=Math.ceil((ld-Date.now())/1e3);throw new Error(`Groq temporalmente bloqueado (Rate Limit). Reintenta en ${g}s.`)}const t=ap("groq");if(!t)throw new Error("No Groq API key available");let s=n.prompt;s.length>bg&&(console.warn(`[Groq] Truncating prompt (${s.length} chars)`),s=s.substring(0,bg)+`

[...TRUNCATED...]`);const i=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:n.model&&n.model.includes("llama")?n.model:fj,messages:[...n.systemInstruction?[{role:"system",content:n.systemInstruction}]:[],{role:"user",content:s}],temperature:n.temperature??.7,response_format:n.jsonMode?{type:"json_object"}:void 0})});if(!i.ok){i.status===429&&(console.error("[Groq] Rate limit hit. Pausing service for 30s..."),ld=Date.now()+3e4);const g=await i.json().catch(()=>({}));throw new Error(`Groq Error ${i.status}: ${((u=g.error)==null?void 0:u.message)||i.statusText}`)}return((m=(f=(await i.json()).choices[0])==null?void 0:f.message)==null?void 0:m.content)||""}function vj(n){const s=(n.match(/[^.!?]+[.!?]+/g)||[n]).map(u=>u.trim().split(/\s+/).length);if(s.length<=1)return 0;const i=s.reduce((u,f)=>u+f,0)/s.length,c=s.reduce((u,f)=>u+Math.pow(f-i,2),0)/s.length;return Math.sqrt(c)}function wj(n){const s=(n.match(/[^.!?]+[.!?]+/g)||[n]).map(c=>c.trim().split(/\s+/).length);if(s.length<=1)return 0;const i=s.reduce((c,u)=>c+u,0)/s.length;return s.reduce((c,u)=>c+Math.pow(u-i,2),0)/s.length}function _j(n){const t=n.toLowerCase().match(/\b\w+\b/g)||[];return t.length===0?0:new Set(t).size/t.length}function jj(n){const t=n.match(/[^.!?]+[.!?]+/g)||[];if(t.length<3)return 0;let s=0;const i=[];for(const c of t){const f=c.trim().split(/\s+/).slice(0,3).map(m=>/^[A-Z]/.test(m)?"NOUN":["el","la","los","las","un","una","the","a","an"].includes(m.toLowerCase())?"ART":["es","son","est","estn","is","are","was","were"].includes(m.toLowerCase())?"VERB":"OTHER").join("-");i.includes(f)&&s++,i.push(f)}return Math.min(s/t.length,1)}function Nj(n){const t=n.split(/\n\n+/).filter(m=>m.trim().length>0);if(t.length<2)return 0;const s=t.map(m=>m.split(/\s+/).length),i=s.reduce((m,g)=>m+g,0)/s.length,c=s.reduce((m,g)=>m+Math.pow(g-i,2),0)/s.length,f=Math.sqrt(c)/i;return Math.max(0,1-f)}function kj(n){const t=["furthermore","moreover","in conclusion","it is important to note","additionally","consequently","subsequently","overall","on the other hand","as a result","in other words","for instance","specifically","notably","in summary","to summarize","in essence","importantly","significantly"],s=["adems","sin embargo","por lo tanto","en consecuencia","por consiguiente","no obstante","de hecho","en primer lugar","en segundo lugar","por otro lado","en conclusin","es importante destacar","cabe destacar","es importante sealar","resulta evidente","asimismo","por ende","en resumen","en sntesis","como resultado","de esta manera","en este sentido","vale la pena mencionar","es necesario sealar","conviene destacar"],i=[...t,...s];let c=0;const u=n.toLowerCase();return i.forEach(f=>{const m=new RegExp(`\\b${f}\\b`,"gi");c+=(u.match(m)||[]).length}),c}function Sj(n){const t=n.toLowerCase().match(/\b\w+\b/g)||[];if(t.length<10)return .5;const s=t.map(x=>x.length),i=new Set(s).size,c=[];for(let x=0;x<t.length-1;x++)c.push(`${t[x]}_${t[x+1]}`);const u=new Set(c).size,f=c.length>0?u/c.length:.5,m=Math.min(i/15,1),g=f;return m*.4+g*.6}function Aj(n){let t=50;return n.burstiness<3?t+=20:n.burstiness<5?t+=10:n.burstiness>8&&(t-=15),n.perplexityProxy<.35?t+=20:n.perplexityProxy<.45?t+=10:n.perplexityProxy>.55&&(t-=10),n.aiConnectorsCount>5?t+=15:n.aiConnectorsCount>3?t+=8:n.aiConnectorsCount===0&&(t-=5),n.sentenceLengthVariance<30?t+=15:n.sentenceLengthVariance<50?t+=8:n.sentenceLengthVariance>100&&(t-=10),n.structuralSymmetryScore>.4?t+=10:n.structuralSymmetryScore>.25&&(t+=5),n.paragraphUniformity>.8?t+=10:n.paragraphUniformity>.6&&(t+=5),n.lexicalDiversity<.35?t+=10:n.lexicalDiversity>.55&&(t-=5),Math.max(0,Math.min(100,t))}function od(n){const t=n.trim().split(/\s+/),s=n.match(/[^.!?]+[.!?]+/g)||[n],i={burstiness:vj(n),lexicalDiversity:_j(n),avgSentenceLength:t.length/s.length,sentenceCount:s.length,wordCount:t.length,perplexityProxy:Sj(n),readabilityScore:206.835-1.015*(t.length/s.length)-84.6*(n.length/t.length/5),aiConnectorsCount:kj(n),sentenceLengthVariance:wj(n),structuralSymmetryScore:jj(n),paragraphUniformity:Nj(n),aiRiskScore:0};return i.aiRiskScore=Aj(i),i}const Ej=async n=>{const t=od(n);return{...await rp(n.substring(0,5e3),t),metrics:t}},Tj=async(n,t)=>{const s=n.trim().replace(/\s+/g," "),i=od(s),c=12e3,u=[];for(let C=0;C<s.length;C+=c)u.push(s.substring(C,C+c));const f=u.length;let m=[],g=new Set,x=0,y=0,v={chatgpt:0,gemini:0,claude:0};for(let C=0;C<f;C++){const U=Math.round(C/f*100);t&&t(U,`Analizando bloque ${C+1} de ${f}...`);const q=od(u[C]);try{const I=await rp(u[C],q);x+=I.score,y++,I.sourceProbabilities&&(v.chatgpt+=I.sourceProbabilities.chatgpt,v.gemini+=I.sourceProbabilities.gemini,v.claude+=I.sourceProbabilities.claude),m=[...m,...I.heatmap],I.signals.forEach(L=>g.add(L))}catch(I){console.error(`Error analyzing chunk ${C}`,I)}f>1&&await new Promise(I=>setTimeout(I,300))}t&&t(100,"Generando veredicto final...");const j=y||1,N=x/j;let E="A";return N>.8?E="D":N>.6?E="C":N>.3&&(E="B"),{score:N,category:E,confidence:y>f/2?"High":"Medium",signals:Array.from(g),heatmap:m.length>0?m:[{text:n.substring(0,200)+"...",probability:N}],metrics:i,sourceProbabilities:{chatgpt:Math.round(v.chatgpt/j),gemini:Math.round(v.gemini/j),claude:Math.round(v.claude/j)}}};async function rp(n,t){var s,i,c,u;try{return await np({prompt:`
            Acta como un experto forense en lingstica computacional, especializado en los modelos de deteccin Turnitin AIW-2, AIR-1 y Compilatio Magister+.
            
            Tu misin es analizar este fragmento de texto para detectar huellas de IA (ChatGPT, Gemini, Claude, Llama).

            === MTRICAS CUANTITATIVAS LOCALES ===
            - Burstiness: ${t.burstiness.toFixed(2)} (< 4.0 = ALTA SOSPECHA - IA tiene oraciones uniformes)
            - Perplejidad (Proxy): ${t.perplexityProxy.toFixed(2)} (< 0.4 = ALTA SOSPECHA - texto predecible)
            - Varianza de Longitud de Oracin: ${t.sentenceLengthVariance.toFixed(2)} (< 50 = SOSPECHOSO)
            - Simetra Estructural: ${t.structuralSymmetryScore.toFixed(2)} (> 0.3 = SOSPECHOSO - construcciones paralelas)
            - Uniformidad de Prrafos: ${t.paragraphUniformity.toFixed(2)} (> 0.7 = SOSPECHOSO)
            - Conectores IA Detectados: ${t.aiConnectorsCount} (> 3 = SOSPECHOSO)
            - Diversidad Lxica: ${t.lexicalDiversity.toFixed(2)} (< 0.4 = SOSPECHOSO)
            - Puntuacin de Riesgo IA Local: ${t.aiRiskScore}/100

            === PATRONES DE DETECCIN TURNITIN ===
            1. AIW-2 (Modelo Principal): Detecta BAJA perplejidad + BAJA variabilidad de oraciones
            2. AIR-1 (Detector de Parafraseo): Detecta sustitucin mecnica de sinnimos
            3. Bypasser Detection: Detecta texto que pas por humanizadores

            === PATRONES DE DETECCIN COMPILATIO MAGISTER+ ===
            1. Reformulaciones Profundas: Detecta texto reescrito manteniendo estructura semntica
            2. Plagio Semntico: Detecta significado preservado con palabras cambiadas
            3. Traducciones: Detecta artefactos de traduccin automtica
            
            === CONECTORES TPICOS DE IA (Lista Negra) ===
            Espaol: "adems", "sin embargo", "por lo tanto", "en conclusin", "es importante destacar", "cabe sealar", "resulta evidente", "por ende"
            Ingls: "furthermore", "moreover", "in conclusion", "it is important to note", "additionally"

            === TEXTO A ANALIZAR ===
            "${n}"

            === SALIDA JSON REQUERIDA ===
            {
                "score": number, 
                "category": "A"|"B"|"C"|"D", 
                "confidence": "Low"|"Medium"|"High",
                "signals": ["seal detectada..."],
                "heatmap": [{ "text": "...", "probability": 0.0-1.0 }],
                "sourceProbabilities": { "chatgpt": 0-100, "gemini": 0-100, "claude": 0-100 },
                "turnitinIndicators": { "aiw2_score": 0-100, "air1_paraphrase_detected": boolean, "bypasser_detected": boolean },
                "compilatioIndicators": { "deep_reformulation": boolean, "semantic_plagiarism_score": 0-100, "translation_artifacts": boolean }
            }
            
            === INSTRUCCIONES CRTICAS ===
            - El "heatmap" debe dividir el texto en oraciones/frases resaltando las ms sospechosas
            - Correlaciona tu anlisis con las mtricas locales
            - S estricto pero justo
            - IMPORTANTE: Incluye turnitinIndicators y compilatioIndicators en tu respuesta
            `,systemInstruction:"Acta como un experto forense en lingstica computacional.",temperature:.1,provider:"gemini"})}catch(f){if(console.error("AI Detection failed",f),(s=f.message)!=null&&s.includes("API Key")||(i=f.message)!=null&&i.includes("API_KEY"))throw new Error("Falta la API Key de Gemini. Configrala en Ajustes.");if((c=f.message)!=null&&c.includes("fetch failed")||(u=f.message)!=null&&u.includes("Network"))throw new Error("Error de Conexin. Verifica tu internet.");return{score:.5,category:"B",confidence:"Low",signals:["Error en anlisis de fragmento: "+(f.message||"Desconocido")],heatmap:[{text:n.substring(0,100)+"...",probability:.5}],sourceProbabilities:{chatgpt:0,gemini:0,claude:0}}}}const Oj=async(n,t="Documento Analizado")=>{try{const{jsPDF:s}=await Ha(async()=>{const{jsPDF:j}=await import("./pdf-vendor-DpgYL85d.js").then(N=>N.j);return{jsPDF:j}},[]),i=(await Ha(async()=>{const{default:j}=await import("./pdf-vendor-DpgYL85d.js").then(N=>N.c);return{default:j}},[])).default,c=new s,u=c.internal.pageSize.width,f=c.internal.pageSize.height;c.setFillColor(19,91,236),c.rect(0,0,u,25,"F"),c.setTextColor(255,255,255),c.setFontSize(16),c.setFont("helvetica","bold"),c.text("Informe de Auditora Forense de IA",14,16),c.setFontSize(10),c.setFont("helvetica","normal"),c.text(`Generado por ScholarAI - ${new Date().toLocaleDateString()}`,14,22);let m=35;c.setTextColor(40,44,52),c.setFontSize(14),c.setFont("helvetica","bold"),c.text("1. Resumen Ejecutivo",14,m),m+=10,c.setFillColor(245,247,250),c.roundedRect(14,m,u-28,35,3,3,"F");const g=n.score<.4,x=g?[16,185,129]:[239,68,68];c.setTextColor(x[0],x[1],x[2]),c.setFontSize(24),c.setFont("helvetica","bold"),c.text(`${(n.score*100).toFixed(0)}%`,20,m+18),c.setFontSize(10),c.setTextColor(100,100,100),c.text("Probabilidad de Autora IA",20,m+26),c.setFontSize(14),c.setTextColor(40,44,52),c.setFont("helvetica","bold");const y=g?"DOCUMENTO AUTNTICO":"PATRN SINTTICO DETECTADO";c.text(y,60,m+15),c.setFontSize(10),c.setFont("helvetica","normal"),c.text(`Nivel de Confianza: ${n.confidence||"Media"}`,60,m+22),m+=45,c.setFontSize(12),c.setFont("helvetica","bold"),c.text("2. Mtricas Estilomtricas",14,m),m+=8;const v=[["Mtrica","Valor","Interpretacin"],["Burstiness (Variabilidad)",n.metrics.burstiness.toFixed(2),n.metrics.burstiness<4?"Baja (Sospechoso)":"Normal"],["Perplejidad (Proxy)",n.metrics.perplexityProxy.toFixed(2),n.metrics.perplexityProxy<.4?"Baja (Sospechoso)":"Normal"],["Diversidad Lxica",n.metrics.lexicalDiversity.toFixed(2),"-"]];return i(c,{startY:m,head:[v[0]],body:v.slice(1),theme:"grid",headStyles:{fillColor:[240,240,240],textColor:[50,50,50],fontStyle:"bold"},styles:{fontSize:9,cellPadding:3},columnStyles:{0:{fontStyle:"bold"}}}),m=c.lastAutoTable.finalY+15,n.signals&&n.signals.length>0&&(c.setFontSize(12),c.setFont("helvetica","bold"),c.text("3. Seales de IA Detectadas",14,m),m+=8,n.signals.forEach(j=>{c.setFillColor(254,242,242),c.rect(14,m,u-28,8,"F"),c.setTextColor(185,28,28),c.setFontSize(9),c.text(` ${j}`,18,m+6),m+=10}),m+=5),n.sourceProbabilities&&(m>f-50&&(c.addPage(),m=20),c.setFillColor(40,44,52),c.setTextColor(40,44,52),c.setFontSize(12),c.setFont("helvetica","bold"),c.text("4. Anlisis de Fuente Probable",14,m),m+=8,[{name:"ChatGPT / OpenAI",score:n.sourceProbabilities.chatgpt},{name:"Gemini / Google",score:n.sourceProbabilities.gemini},{name:"Claude / Anthropic",score:n.sourceProbabilities.claude}].sort((N,E)=>E.score-N.score).forEach(N=>{c.setFontSize(10),c.setFont("helvetica","normal"),c.text(`${N.name}: ${N.score}%`,14,m),c.setFillColor(230,230,230),c.rect(60,m-3,100,3,"F"),c.setFillColor(19,91,236),c.rect(60,m-3,N.score,3,"F"),m+=8})),c.save(`Auditoria_IA_${t.substring(0,15)}.pdf`),!0}catch(s){throw console.error("Error generating Audit PDF:",s),s}},cd={MAX_TEXT_LENGTH:5e3,MAX_TABLE_ROWS:500},Wr=n=>{if(!n)return"";let t=n.replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F]/g,"");return t.length>cd.MAX_TEXT_LENGTH&&(t=t.substring(0,cd.MAX_TEXT_LENGTH)+" [TRUNCADO POR SEGURIDAD]"),t},Cj=n=>{const t=[];if(t.push({type:"heading1",content:"Diagnstico Global"}),n.analysisWarnings&&n.analysisWarnings.length>0&&(t.push({type:"text",content:"ADVERTENCIA: ANLISIS PARCIAL",styling:{bold:!0,color:"#b91c1c",align:"center",size:14}}),t.push({type:"text",content:"El siguiente reporte contiene secciones generadas automticamente que podran estar incompletas. Verifique los siguientes puntos:",styling:{color:"#b91c1c",align:"justify",size:10}}),n.analysisWarnings.forEach(s=>{t.push({type:"text",content:`- ${Wr(s)}`,styling:{color:"#dc2626",size:9}})}),t.push({type:"text",content:""})),n.globalDiagnosis&&(n.globalDiagnosis.score&&t.push({type:"text",content:`Puntuacin General: ${n.globalDiagnosis.score}/100`,styling:{bold:!0,align:"center",color:"#2563eb"}}),t.push({type:"text",content:Wr(n.globalDiagnosis.summary||n.globalDiagnosis.auditSummary),styling:{align:"justify"}})),n.consistencyMatrix&&n.consistencyMatrix.length>0){t.push({type:"page_break"}),t.push({type:"heading1",content:"Matriz de Consistencia"});const s=["Elemento","Nivel","Observacin Tcnica"],i=n.consistencyMatrix.slice(0,cd.MAX_TABLE_ROWS).map(c=>[Wr(c.element),Wr(c.coherenceLevel),Wr(c.technicalObservation)]);t.push({type:"table",tableData:{headers:s,rows:i,isMatrix:!0}})}return{metadata:{title:"Informe de Matriz de Consistencia",subtitle:"Evaluacin de Coherencia Metodolgica",date:new Date().toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),brandingColor:"ea580c"},sections:t}},Rj=n=>{var s,i,c,u;const t=[];return t.push({type:"heading1",content:"Resultado de Auditora"}),t.push({type:"text",content:`Probabilidad de IA: ${(n.score*100).toFixed(1)}%`,styling:{bold:!0,align:"center",size:24,color:n.score>.6?"#dc2626":n.score>.3?"#f59e0b":"#16a34a",isCritical:n.score>.6}}),t.push({type:"heading2",content:"Mtricas Forenses"}),t.push({type:"list",content:`Burstiness: ${((i=(s=n.metrics)==null?void 0:s.burstiness)==null?void 0:i.toFixed(2))||"N/A"}`}),t.push({type:"list",content:`Perplejidad: ${((u=(c=n.metrics)==null?void 0:c.perplexityProxy)==null?void 0:u.toFixed(2))||"N/A"}`}),{metadata:{title:"Informe de Auditora Forense",date:new Date().toLocaleDateString(),brandingColor:"#64748b"},sections:t}};var Dj=Pb();const Mj=(n,t={})=>new va({children:[new dd({text:n,bold:t.bold,size:t.size?t.size*2:24,color:t.color?t.color.replace("#",""):"1e293b",font:"Arial"})],alignment:t.align==="center"?Fs.CENTER:t.align==="right"?Fs.RIGHT:t.align==="justify"?Fs.JUSTIFIED:Fs.LEFT,spacing:{before:120,after:120}}),zj=n=>{const t=new w0({tableHeader:!0,children:n.headers.map(i=>new _0({children:[new va({children:[new dd({text:i,bold:!0,color:"ffffff"})],alignment:Fs.CENTER})],shading:{fill:"475569"},verticalAlign:"center",margins:{top:100,bottom:100,left:100,right:100}}))}),s=n.rows.map(i=>new w0({children:i.map(c=>new _0({children:[new va(c)],margins:{top:100,bottom:100,left:100,right:100}}))}));return new Zb({width:{size:100,type:Yb.PERCENTAGE},rows:[t,...s],borders:{top:{style:$n.SINGLE,size:1,color:"e2e8f0"},bottom:{style:$n.SINGLE,size:1,color:"e2e8f0"},left:{style:$n.SINGLE,size:1,color:"e2e8f0"},right:{style:$n.SINGLE,size:1,color:"e2e8f0"},insideHorizontal:{style:$n.SINGLE,size:1,color:"e2e8f0"},insideVertical:{style:$n.SINGLE,size:1,color:"e2e8f0"}}})},Uj=async(n,t="export.docx")=>{const s=[];s.push(new va({text:n.metadata.title.toUpperCase(),heading:Nu.TITLE,alignment:Fs.CENTER,spacing:{after:200}})),s.push(new va({children:[new dd({text:`Generado por ${n.metadata.creator} | ${n.metadata.date}`,size:20,color:"94a3b8"})],alignment:Fs.CENTER,spacing:{after:600}})),n.sections.forEach(u=>{var f;switch(u.type){case"heading1":s.push(new va({text:(f=u.content)==null?void 0:f.toUpperCase(),heading:Nu.HEADING_1,spacing:{before:400,after:200}}));break;case"heading2":s.push(new va({text:u.content,heading:Nu.HEADING_2,spacing:{before:300,after:150}}));break;case"text":u.content&&s.push(Mj(u.content,u.styling));break;case"list":u.content&&s.push(new va({text:" "+u.content,spacing:{before:50,after:50},indent:{left:720,hanging:360}}));break;case"table":u.tableData&&(s.push(zj(u.tableData)),s.push(new va("")));break;case"page_break":s.push(new va({children:[new Hb]}));break}});const i=new Gb({creator:n.metadata.creator,title:n.metadata.title,description:n.metadata.subtitle,sections:[{properties:{},children:s}]}),c=await Vb.toBlob(i);Dj.saveAs(c,t)},ip={generateWordDocument:Uj},Lj=()=>{var Be,le,Le,Ge,Fe,Ct;const{project:n,uploadedFile:t,setUploadedFile:s}=so();Fl();const{showNotification:i}=xd(),[c,u]=ae.useState(""),[f,m]=ae.useState(!1),[g,x]=ae.useState(null),[y,v]=ae.useState("audit"),[j,N]=ae.useState("full"),[E,C]=ae.useState(0),[U,q]=ae.useState(""),[I,L]=ae.useState(""),[V,K]=ae.useState(!1);ae.useEffect(()=>{if(t!=null&&t.content){const J=Array.isArray(t.content)?t.content.map(T=>T.text).join(`

`):t.content;typeof J=="string"&&J!==c&&(u(J),J.length>5e3&&N("full"))}else n.content&&!c&&(u(n.content),n.content.length>5e3&&N("full"))},[t,n.content]);const W=async()=>{if(c.trim()){if(j==="quick"&&c.length>6e3)if(confirm("El texto excede el lmite recomendado para Anlisis Rpido (6000 caracteres). Quieres cambiar a Auditora Completa?"))N("full");else return;m(!0),x(null),C(0),q("Iniciando anlisis forense...");try{let J;j==="full"?J=await Tj(c,(T,B)=>{C(T),q(B)}):J=await Ej(c),x(J)}catch(J){console.error("Analysis Error:",J),i("Hubo un error al realizar el anlisis. Por favor intenta nuevamente.","error")}finally{m(!1),C(0)}}},ie=async()=>{if(c.trim()){K(!0);try{const J=await sp({prompt:`Genera un resumen ejecutivo de mximo 3 prrafos para el siguiente documento acadmico. Enfcate n los puntos clave, metodologa y conclusiones principales. Texto:

${c.substring(0,3e4)}`,systemInstruction:"Eres un asistente acadmico experto que resume tesis de forma clara y profesional.",provider:"groq",model:mj,temperature:.5});L(J),i("Resumen instantneo generado con Groq","success")}catch(J){console.error("Groq Summary Error:",J),i("Error al generar resumen con Groq","error")}finally{K(!1)}}},oe=()=>{if(!g||!g.metrics)return null;const J=g.metrics.burstiness||0,T=g.metrics.perplexityProxy||0,B=[],Q=Math.min(J,10)/2;for(let he=0;he<=100;he+=5){const ye=80+Math.sin(he*.5)*Q+Math.random()*Math.min(T,5)*20;B.push(`${he/100*800},${ye}`)}const me=`M 0,100 Q ${B.join(" ")}`;return o.jsxs("svg",{className:"absolute inset-0 w-full h-full z-10 overflow-visible",preserveAspectRatio:"none",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"gradient-line",x1:"0",x2:"1",y1:"0",y2:"0",children:[o.jsx("stop",{offset:"0%",stopColor:"#135bec",stopOpacity:"0.3"}),o.jsx("stop",{offset:"100%",stopColor:"#135bec",stopOpacity:"1"})]})}),o.jsx("path",{d:`${me} L 800 150 L 0 150 Z`,fill:"url(#gradient-line)",opacity:"0.1"}),o.jsx("path",{d:me,fill:"none",stroke:"#135bec",strokeWidth:"3",vectorEffect:"non-scaling-stroke"}),o.jsx("circle",{className:"fill-white dark:fill-[#135bec] stroke-[#135bec] dark:stroke-white stroke-2",cx:"95%",cy:"80",r:"6"})]})};return o.jsx("div",{className:"flex h-[calc(100vh-64px)] w-full bg-slate-50 dark:bg-slate-900 font-sans text-slate-900 dark:text-white overflow-hidden",children:o.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[o.jsxs("header",{className:"h-20 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between px-8 bg-white dark:bg-slate-900 shrink-0 z-40",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold tracking-tight text-slate-900 dark:text-white flex items-center gap-2",children:[o.jsx("span",{className:"material-symbols-outlined text-primary",children:"security"}),"Laboratorio de Auditora Forense"]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Anlisis Estratgico de Texto y Verificacin de Integridad Acadmica"})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-1 rounded-lg flex items-center",children:[o.jsx("button",{onClick:()=>N("quick"),className:`px-4 py-1.5 rounded-md text-xs font-bold transition-all ${j==="quick"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"Anlisis Rpido"}),o.jsx("button",{onClick:()=>N("full"),className:`px-4 py-1.5 rounded-md text-xs font-bold transition-all ${j==="full"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"Auditora Completa"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"file",accept:".pdf,.docx,.txt",onChange:async J=>{var B;const T=(B=J.target.files)==null?void 0:B[0];if(T){m(!0),C(0),q("Iniciando lectura..."),N("full");try{let Q="";if(T.type==="application/pdf"||T.name.toLowerCase().endsWith(".pdf")){const me=await T.arrayBuffer(),he=await Ha(()=>import("./pdf-vendor-DpgYL85d.js").then(ye=>ye.p),[]);if(!he.GlobalWorkerOptions.workerSrc){const ye=await Ha(()=>Promise.resolve().then(()=>dN),void 0);he.GlobalWorkerOptions.workerSrc=ye.default}try{const ye=await he.getDocument({data:me}).promise,_e=ye.numPages;if(_e>150&&!confirm(`Este documento tiene ${_e} pginas. Deseas procesarlo por completo?`)){m(!1);return}for(let pe=1;pe<=_e;pe++){const Ye=Math.round(pe/_e*100);C(Ye),q(`Extrayendo texto: pgina ${pe} de ${_e}...`);const ma=await(await ye.getPage(pe)).getTextContent();let Va=-1,Za="";for(const ga of ma.items)Va!==-1&&Math.abs(ga.transform[5]-Va)>5&&(Za+=`
`),Za+=ga.str,Va=ga.transform[5];Q+=Za+`

`}}catch(ye){throw console.error("PDF Parsing error:",ye),new Error("No se pudo extraer el texto del PDF.")}}else if(T.name.toLowerCase().endsWith(".docx")){q("Procesando Word...");const me=await T.arrayBuffer();Q=(await(await Ha(()=>Promise.resolve().then(()=>hN),void 0)).extractRawText({arrayBuffer:me})).value}else q("Leyendo archivo de texto..."),Q=await new Promise(me=>{const he=new FileReader;he.onload=ye=>{var _e;return me(((_e=ye.target)==null?void 0:_e.result)||"")},he.readAsText(T)});Q.trim()?(s({name:T.name,type:T.type,size:T.size,content:Q,lastModified:T.lastModified}),u(Q),i("Documento cargado correctamente","success")):i("No se detect texto en el documento","warning")}catch(Q){console.error("Upload error:",Q),i("Error al procesar el archivo","error")}finally{m(!1),C(0),J.target&&(J.target.value="")}}},className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full"}),o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 text-sm font-medium hover:bg-slate-50 dark:hover:bg-white/5 transition-all",children:[o.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"upload_file"}),"Cargar Doc"]})]}),o.jsxs("button",{onClick:()=>{u(""),s(null)},className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 text-sm font-medium hover:bg-slate-50 dark:hover:bg-white/5 transition-all",children:[o.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"delete"}),"Limpiar"]}),o.jsxs("button",{onClick:ie,disabled:V||!c.trim(),className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-primary text-primary text-sm font-bold hover:bg-primary/5 transition-all",children:[o.jsx("span",{className:"material-symbols-outlined text-[18px]",children:V?"bolt":"speed"}),V?"Resumiendo...":"Resumen Groq"]}),o.jsxs("button",{onClick:W,disabled:f||!c.trim(),className:"flex items-center gap-2 px-6 py-2 rounded-lg bg-primary text-white text-sm font-bold hover:bg-blue-600 shadow-lg shadow-primary/20 disabled:opacity-50 transition-all",children:[o.jsx("span",{className:"material-symbols-outlined text-[18px] text-white",children:f?"hourglass_empty":"troubleshoot"}),f?"Analizando...":"Ejecutar Auditora"]})]})]})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("aside",{className:"w-80 border-r border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 overflow-y-auto p-6 flex flex-col gap-8 shrink-0",children:[o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Matriz de Probabilidad"}),o.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2"}),o.jsxs("div",{className:"relative size-20 shrink-0",children:[o.jsxs("svg",{className:"size-full -rotate-90",viewBox:"0 0 36 36",children:[o.jsx("path",{className:"text-slate-100 dark:text-slate-700",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3.5"}),o.jsx("path",{className:`${g?g.score>.6?"text-red-500":g.score>.3?"text-amber-500":"text-emerald-500":"text-slate-300"} transition-all duration-1000 ease-out`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeDasharray:`${g?g.score*100:0}, 100`,strokeWidth:"3.5",strokeLinecap:"round"})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:o.jsxs("span",{className:"text-lg font-black text-slate-900 dark:text-white",children:[g?(g.score*100).toFixed(0):"0","%"]})})]}),o.jsxs("div",{className:"z-10",children:[o.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Probabilidad de IA"}),g&&o.jsxs("div",{className:"mt-2 flex items-center gap-1.5",children:[o.jsx("div",{className:`h-2 w-2 rounded-full ${g.score>.4?"bg-red-500 animate-pulse":"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]"}`}),o.jsx("span",{className:`text-[11px] font-black uppercase ${g.score>.4?"text-red-500":"text-emerald-500"}`,children:g.score>.6?"Riesgo Alto":g.score>.3?"Riesgo Medio":"Seguro"})]})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Indicadores Forenses"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"flex justify-between items-center mb-2",children:o.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 uppercase",children:"Origen del Anlisis"})}),o.jsxs("div",{className:"space-y-3 mt-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[10px] font-medium text-slate-500",children:"Patrones ChatGPT"}),o.jsxs("span",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-300",children:[((Be=g==null?void 0:g.sourceProbabilities)==null?void 0:Be.chatgpt)||0,"%"]})]}),o.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-1 overflow-hidden",children:o.jsx("div",{className:"bg-emerald-500 h-full transition-all duration-1000",style:{width:`${((le=g==null?void 0:g.sourceProbabilities)==null?void 0:le.chatgpt)||0}%`}})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[10px] font-medium text-slate-500",children:"Patrones Gemini"}),o.jsxs("span",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-300",children:[((Le=g==null?void 0:g.sourceProbabilities)==null?void 0:Le.gemini)||0,"%"]})]}),o.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-1 overflow-hidden",children:o.jsx("div",{className:"bg-blue-500 h-full transition-all duration-1000",style:{width:`${((Ge=g==null?void 0:g.sourceProbabilities)==null?void 0:Ge.gemini)||0}%`}})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[10px] font-medium text-slate-500",children:"Patrones Claude"}),o.jsxs("span",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-300",children:[((Fe=g==null?void 0:g.sourceProbabilities)==null?void 0:Fe.claude)||0,"%"]})]}),o.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-1 overflow-hidden",children:o.jsx("div",{className:"bg-amber-500 h-full transition-all duration-1000",style:{width:`${((Ct=g==null?void 0:g.sourceProbabilities)==null?void 0:Ct.claude)||0}%`}})})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 uppercase",children:"Rfagas (Burstiness)"}),o.jsx("span",{className:"text-xs font-mono font-bold text-primary",children:(g==null?void 0:g.metrics.burstiness.toFixed(2))||"0.00"})]}),o.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-1.5 overflow-hidden",children:o.jsx("div",{className:"bg-primary h-full transition-all duration-1000",style:{width:`${Math.min(((g==null?void 0:g.metrics.burstiness)||0)*10,100)}%`}})})]})]})]}),g&&o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Seales Detectadas"}),o.jsx("div",{className:"space-y-2",children:g.signals.map((J,T)=>o.jsxs("div",{className:"flex gap-3 p-3 bg-red-50 dark:bg-red-500/5 rounded-xl border border-red-100 dark:border-red-500/10 text-[11px] text-red-700 dark:text-red-400 font-medium leading-tight",children:[o.jsx("span",{className:"material-symbols-outlined text-sm shrink-0",children:"warning"}),J]},T))})]}),I&&o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest text-primary",children:"Resumen Instantneo (Groq)"}),o.jsxs("div",{className:"p-4 bg-primary/5 rounded-2xl border border-primary/20 text-[11px] text-slate-700 dark:text-slate-300 leading-relaxed relative group",children:[o.jsx("button",{onClick:()=>L(""),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity text-slate-400 hover:text-red-500",children:o.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})}),I]})]})]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-white dark:bg-slate-900",children:[f&&j==="full"&&o.jsx("div",{className:"absolute inset-0 z-[60] bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8",children:o.jsxs("div",{className:"w-full max-w-md space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-end",children:[o.jsx("h3",{className:"text-lg font-black uppercase text-slate-900 dark:text-white",children:"Procesando Documento"}),o.jsxs("span",{className:"text-sm font-bold text-primary",children:[E,"%"]})]}),o.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3 overflow-hidden shadow-inner",children:o.jsx("div",{className:"bg-primary h-full transition-all duration-300 ease-out",style:{width:`${E}%`}})}),o.jsx("p",{className:"text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-widest",children:U}),o.jsx("div",{className:"grid grid-cols-4 gap-2 mt-8 opacity-50",children:[...Array(4)].map((J,T)=>o.jsx("div",{className:"h-1 bg-primary rounded-full animate-pulse",style:{animationDelay:`${T*.1}s`}},T))})]})}),o.jsxs("div",{className:"h-48 border-b border-slate-200 dark:border-slate-800 p-8 flex flex-col gap-4 relative overflow-hidden bg-slate-50/50 dark:bg-slate-950",children:[o.jsxs("div",{className:"flex justify-between items-start z-10",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-sm font-black text-slate-900 dark:text-white flex items-center gap-2 uppercase tracking-widest",children:[o.jsx("span",{className:"material-symbols-outlined text-primary text-lg",children:"monitoring"}),"Firma Lingstica"]}),o.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-wider",children:"Distribucin Esttica vs Aleatoria"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"}),o.jsx("span",{className:"text-[10px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest",children:"Perplejidad"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-purple-500"}),o.jsx("span",{className:"text-[10px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest",children:"Rfagas"})]})]})]}),o.jsxs("div",{className:"flex-1 w-full relative",children:[o.jsx("div",{className:"absolute inset-0 flex flex-col justify-between pointer-events-none opacity-20",children:[...Array(4)].map((J,T)=>o.jsx("div",{className:"w-full h-px bg-slate-300 dark:bg-slate-700"},T))}),g?oe():o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("p",{className:"text-xs font-bold text-slate-300 dark:text-slate-600 uppercase tracking-widest italic animate-pulse",children:"Esperando datos del anlisis..."})})]})]}),o.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900",children:[o.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-800 p-1 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("button",{onClick:()=>v("split"),className:`px-4 py-1.5 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${y==="split"?"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500"}`,children:"Vista Dividida"}),o.jsx("button",{onClick:()=>v("audit"),className:`px-4 py-1.5 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${y==="audit"?"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500"}`,children:"Mapa de Auditora"})]}),o.jsxs("div",{className:"flex gap-3 items-center",children:[o.jsxs("span",{className:"text-[10px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest",children:[c.trim().split(/\s+/).length," Palabras"]}),o.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(c)},className:"text-[10px] font-black text-primary hover:text-blue-400 flex items-center gap-1 uppercase tracking-widest transition-all",children:[o.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"content_copy"}),"Copiar Texto"]})]})]}),o.jsx("div",{className:"flex-1 flex min-h-0 font-sans",children:y==="split"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 flex flex-col border-r border-slate-200 dark:border-slate-800 min-w-0 group",children:[o.jsxs("div",{className:"p-3 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Fuente Original"}),o.jsx("span",{className:"material-symbols-outlined text-slate-300 group-hover:text-primary transition-colors text-[18px]",children:"terminal"})]}),o.jsx("textarea",{className:"flex-1 w-full bg-slate-50 dark:bg-slate-950 p-8 resize-none focus:outline-none text-slate-700 dark:text-slate-300 leading-relaxed overflow-y-auto font-sans text-base",value:c,onChange:J=>u(J.target.value),placeholder:j==="quick"?"Pega un prrafo corto para anlisis rpido (Mx 5000 carcteres)...":"Carga un documento completo pare el escaneo profundo..."})]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[o.jsxs("div",{className:"p-3 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center",children:[o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-primary",children:"Visualizador de Auditora"}),g&&o.jsxs("span",{className:`flex items-center gap-1 text-[10px] font-black px-2 py-0.5 rounded border ${g.score<.3?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-red-500/10 text-red-500 border-red-500/20"}`,children:[o.jsx("span",{className:"material-symbols-outlined text-[14px]",children:g.score<.3?"verified_user":"dangerous"}),g.score<.3?"AUTNTICO":"PATRN DE IA"]})]}),o.jsx("div",{className:"flex-1 bg-white dark:bg-slate-900 p-8 overflow-y-auto text-slate-800 dark:text-slate-200 leading-relaxed",children:g?o.jsx("div",{className:"space-y-4",children:g.heatmap.map((J,T)=>o.jsxs("span",{className:`inline rounded px-1 transition-all duration-300 cursor-help ${J.probability>.7?"bg-red-500/20 text-red-900 dark:text-red-200 border-b-2 border-red-500":J.probability>.4?"bg-amber-500/20 text-amber-900 dark:text-amber-200 border-b-2 border-amber-500":"hover:bg-emerald-500/10 transition-colors"}`,title:`Riesgo Local: ${(J.probability*100).toFixed(0)}%`,children:[J.text," "]},T))}):o.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-30 select-none",children:[o.jsx("span",{className:"material-symbols-outlined text-[64px] mb-4",children:"analytics"}),o.jsx("p",{className:"text-sm font-black uppercase tracking-widest",children:"Esperando escaneo forense..."})]})})]})]}):o.jsx("div",{className:"flex-1 bg-white dark:bg-slate-900 p-12 overflow-y-auto",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[o.jsx("h3",{className:"text-center text-xs font-black uppercase tracking-[0.3em] text-slate-500 dark:text-slate-400 mb-12",children:"Mapa de Auditora Completa"}),g?o.jsx("div",{className:"grid grid-cols-1 gap-6",children:g.heatmap.map((J,T)=>o.jsxs("div",{className:`p-6 rounded-2xl border transition-all pointer-default ${J.probability>.7?"bg-red-50 dark:bg-red-500/5 border-red-100 dark:border-red-500/10":J.probability>.4?"bg-amber-50 dark:bg-amber-500/5 border-amber-100 dark:border-amber-500/10":"bg-slate-50 dark:bg-white/5 border-slate-100 dark:border-white/5"}`,children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("span",{className:"text-[10px] font-black uppercase text-slate-500 dark:text-slate-400",children:["Seccin ",T+1]}),o.jsxs("span",{className:`text-[10px] font-black px-2 py-0.5 rounded-full ${J.probability>.7?"bg-red-500 text-white":J.probability>.4?"bg-amber-500 text-white":"bg-emerald-500 text-white"}`,children:[(J.probability*100).toFixed(0),"% Huella de IA"]})]}),o.jsx("p",{className:"text-lg leading-relaxed text-slate-800 dark:text-slate-200",children:J.text})]},T))}):o.jsxs("div",{className:"mt-20 flex flex-col items-center justify-center opacity-20",children:[o.jsx("span",{className:"material-symbols-outlined text-[120px] mb-8",children:"microscope"}),o.jsx("p",{className:"text-xl font-black uppercase tracking-widest animate-pulse",children:"Escaneo Incompleto"})]})]})})})]}),o.jsxs("footer",{className:"h-12 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 px-8 flex items-center justify-between shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-500",children:[o.jsx("span",{className:"material-symbols-outlined text-base text-emerald-500",children:"check_circle"}),"Sistema Operativo"]}),o.jsx("span",{className:"h-4 w-px bg-slate-200 dark:bg-slate-800"}),o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Gemini-Pro Forensics v1.0"})]}),o.jsx("div",{className:"flex gap-6 items-center",children:o.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 italic",children:"Sin poltica de retencin activa (Los textos no se guardan)"})})]})]})]}),g&&o.jsxs("div",{className:"absolute bottom-8 right-8 z-50",children:[o.jsxs("button",{onClick:async()=>{try{await Oj(g,"Analisis_Texto"),i("Reporte PDF descargado","success")}catch{i("Error al generar PDF","error")}},className:"flex items-center gap-2 px-6 py-4 bg-slate-900 text-white rounded-full shadow-2xl hover:scale-105 active:scale-95 transition-all text-sm font-bold animate-bounce-in",children:[o.jsx("span",{className:"material-symbols-outlined",children:"picture_as_pdf"}),"Exportar PDF"]}),o.jsxs("button",{onClick:async()=>{try{const J=Rj(g);await ip.generateWordDocument(J,"Auditoria_IA.docx"),i("Documento Word generado correctamente","success")}catch(J){console.error("Word export error:",J),i("Error exportando a Word","error")}},className:"flex items-center gap-2 px-6 py-4 bg-primary text-white rounded-full shadow-2xl hover:scale-105 active:scale-95 transition-all text-sm font-bold animate-bounce-in ml-4",children:[o.jsx("span",{className:"material-symbols-outlined",children:"description"}),"Exportar Word"]})]})]})})},qj=()=>{const{universityId:n}=kg(),t=ao.find(s=>s.id===n);return ae.useEffect(()=>{window.scrollTo(0,0)},[n]),t?o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-900 dark:text-white transition-colors duration-300",children:[o.jsx(js,{title:`Tesis y Monogrficos para ${t.shortName} | TuTesisRD`,description:`Asesora experta para estudiantes de la ${t.name}. Cumplimos con normativa ${t.regulations.style}. Cotiza hoy!`}),o.jsx(Ss,{}),o.jsxs("div",{className:"relative pt-32 pb-20 overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] rounded-full blur-[100px] opacity-20 -z-10",style:{backgroundColor:t.color}}),o.jsxs("div",{className:"container mx-auto px-6 text-center",children:[o.jsx("div",{className:"inline-block p-2 bg-white rounded-full shadow-lg mb-6 animate-fade-in",children:o.jsx("img",{src:t.logo,alt:`Logo ${t.name}`,className:"h-16 object-contain"})}),o.jsxs("h1",{className:"text-4xl md:text-6xl font-black mb-6 animate-fade-in-up",children:["Tesis Exitosas en ",o.jsx("span",{style:{color:t.color},children:t.shortName})]}),o.jsxs("p",{className:"text-xl text-slate-500 max-w-2xl mx-auto mb-8 animate-slide-up",children:[t.description," Conocemos a fondo los requisitos de la ",t.name,"."]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center animate-fade-in",style:{animationDelay:"0.2s"},children:[o.jsx("a",{href:"https://wa.me/18296392033",target:"_blank",rel:"noopener noreferrer",children:o.jsxs(Gt,{variant:"primary",size:"lg",className:"w-full md:w-auto",rightIcon:o.jsx("span",{className:"material-icons",children:"whatsapp"}),children:["Cotizar mi Tesis ",t.shortName]})}),o.jsx(ge,{to:"/herramientas/auditor",children:o.jsx(Gt,{variant:"outline",size:"lg",className:"w-full md:w-auto",children:"Auditar Borrador Gratis"})})]})]})]}),o.jsx("section",{className:"py-16 bg-white/50 dark:bg-black/20",children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsxs("h2",{className:"text-3xl font-bold mb-12 text-center",children:["Normativa ",t.shortName]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[o.jsxs(en,{className:"p-8 text-center",hoverEffect:!0,children:[o.jsx("div",{className:"material-icons text-4xl mb-4",style:{color:t.color},children:"gavel"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Estilo Requerido"}),o.jsx("p",{className:"text-slate-500",children:t.regulations.style})]}),o.jsxs(en,{className:"p-8 text-center",hoverEffect:!0,children:[o.jsx("div",{className:"material-icons text-4xl mb-4",style:{color:t.color},children:"description"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Extensin"}),o.jsxs("p",{className:"text-slate-500",children:[t.regulations.minPages," - ",t.regulations.maxPages," pginas"]})]}),o.jsxs(en,{className:"p-8 text-center",hoverEffect:!0,children:[o.jsx("div",{className:"material-icons text-4xl mb-4",style:{color:t.color},children:"school"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Programas Top"}),o.jsx("p",{className:"text-slate-500",children:t.programs.join(", ")})]})]})]})}),o.jsx("section",{className:"py-20",children:o.jsx("div",{className:"container mx-auto px-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-12",children:[o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsxs("h2",{className:"text-3xl font-bold mb-6",children:["Consejos para sobrevivir en ",t.shortName]}),o.jsx("ul",{className:"space-y-4",children:t.tips.map((s,i)=>o.jsxs("li",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"min-w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm mt-1",style:{backgroundColor:t.color},children:i+1}),o.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300",children:s})]},i))})]}),o.jsxs("div",{className:"w-full md:w-1/2 bg-slate-100 dark:bg-slate-800 rounded-3xl p-8 border border-dashed border-gray-300 dark:border-gray-600 text-center",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Necesitas ayuda con el tema?"}),o.jsxs("p",{className:"mb-6 text-slate-500",children:["Nuestros asesores son egresados de ",t.shortName," y conocen lo que exigen los jurados."]}),o.jsx(ge,{to:"/registro",children:o.jsx(Gt,{variant:"gradient",className:"w-full",children:"Agendar Asesora Gratuita"})})]})]})})}),o.jsx(As,{})]}):o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans flex flex-col items-center justify-center p-4",children:[o.jsx(js,{title:"Universidad No Encontrada",description:"La universidad que buscas no est en nuestra base de datos."}),o.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Universidad no encontrada"}),o.jsx("p",{className:"mb-4",children:"Lo sentimos, no tenemos informacin especfica para esta universidad todava."}),o.jsx(ge,{to:"/",children:o.jsx(Gt,{variant:"primary",children:"Volver al Inicio"})})]})},Bj=()=>o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-900 dark:text-white transition-colors duration-300",children:[o.jsx(js,{title:"Directorio de Universidades RD | TuTesisRD",description:"Encuentra asesores de tesis especializados por universidad: UASD, PUCMM, INTEC, UNIBE y ms."}),o.jsx(Ss,{}),o.jsxs("div",{className:"container mx-auto px-6 pt-32 pb-20",children:[o.jsxs("header",{className:"mb-16 text-center",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-black mb-6 animate-fade-in-up",children:"Tu Universidad, Nuestras Reglas"}),o.jsx("p",{className:"text-xl text-slate-500 max-w-2xl mx-auto animate-slide-up",children:"Selecciona tu universidad para ver recursos, consejos y asesores especializados en tu normativa."})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:ao.map(n=>o.jsx(ge,{to:`/tesis/${n.id}`,className:"group",children:o.jsxs(en,{className:"h-full p-8 transition-all hover:-translate-y-2 hover:shadow-xl border-l-4",style:{borderLeftColor:n.color},children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white rounded-full shadow-sm p-2 flex items-center justify-center",children:o.jsx("img",{src:n.logo,alt:n.shortName,className:"max-w-full max-h-full object-contain"})}),o.jsxs("span",{className:"text-xs font-bold px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-500",children:[n.programs.length," Fac."]})]}),o.jsx("h2",{className:"text-2xl font-bold mb-2 group-hover:text-brand-orange transition-colors",children:n.shortName}),o.jsx("p",{className:"text-sm text-slate-500 mb-4 line-clamp-2",children:n.name}),o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-400",children:[o.jsx("span",{className:"material-icons text-base",children:"verified"}),n.regulations.style]})]})},n.id))})]}),o.jsx(As,{})]}),Ij=()=>{const{postId:n}=kg(),t=Sg.find(s=>s.id===n);return t?o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-800 dark:text-white",children:[o.jsx(js,{title:t.title,description:t.excerpt,schema:{"@context":"https://schema.org","@type":"BlogPosting",headline:t.title,image:`${window.location.origin}/TuTesisRD-App/blog/${t.image}`,datePublished:t.date,author:{"@type":"Organization",name:"TuTesisRD"}}}),o.jsx(Ss,{}),o.jsx("article",{className:"pt-32 pb-20",children:o.jsxs("div",{className:"container mx-auto px-6 max-w-4xl",children:[o.jsxs(ge,{to:"/blog",className:"inline-flex items-center text-brand-orange font-bold mb-8 hover:translate-x-[-4px] transition-transform",children:[o.jsx("span",{className:"material-icons mr-2",children:"arrow_back"}),"Volver al Blog"]}),o.jsxs("div",{className:"mb-10",children:[o.jsx("span",{className:"bg-brand-orange text-white text-xs font-black uppercase tracking-widest px-4 py-1 rounded-full shadow-lg mb-6 inline-block",children:t.category}),o.jsx("h1",{className:"text-4xl md:text-5xl font-black text-slate-900 dark:text-white mb-6 leading-tight",children:t.title}),o.jsxs("div",{className:"flex items-center text-slate-500 dark:text-slate-400 text-sm space-x-6",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx("span",{className:"material-icons text-sm mr-2",children:"schedule"}),t.readTime," de lectura"]}),o.jsxs("span",{className:"flex items-center",children:[o.jsx("span",{className:"material-icons text-sm mr-2",children:"calendar_today"}),t.date]})]})]}),o.jsx("div",{className:"rounded-3xl overflow-hidden mb-12 shadow-2xl",children:o.jsx("img",{src:`/TuTesisRD-App/blog/${t.image}`,alt:t.title,className:"w-full h-auto object-cover"})}),o.jsx("div",{className:`prose prose-lg dark:prose-invert max-w-none \r
                        prose-headings:text-slate-900 dark:prose-headings:text-white prose-headings:font-black\r
                        prose-p:text-slate-600 dark:prose-p:text-slate-300 prose-p:leading-relaxed\r
                        prose-strong:text-brand-orange\r
                        prose-a:text-brand-orange`,dangerouslySetInnerHTML:{__html:t.content}}),o.jsxs("div",{className:"mt-20 p-8 bg-slate-50 dark:bg-slate-800/50 rounded-3xl border border-slate-100 dark:border-slate-800 flex flex-col md:flex-row items-center gap-8",children:[o.jsxs("div",{className:"flex-grow text-center md:text-left",children:[o.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2",children:"Necesitas ayuda con tu tesis?"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Nuestro equipo de expertos est listo para asesorarte en cada paso de tu investigacin."})]}),o.jsx(ge,{to:"/registro",className:"bg-brand-orange text-white px-8 py-4 rounded-full font-black shadow-glow hover:shadow-glow-lg transition-all transform hover:scale-105 whitespace-nowrap",children:"Empezar Ahora"})]})]})}),o.jsx(As,{})]}):o.jsx(Ub,{to:"/blog",replace:!0})},$j=`
=== DIMENSIN: REDACCIN ACADMICA Y ESTILO (BASADO EN APA 7MA ED.) ===

1. CITAS EN EL TEXTO:
   - Toda cita textual de >= 40 palabras DEBE estar en bloque separado, sangra 1.27 cm, sin comillas. [Pg. 10]
   - Todo cita textual de < 40 palabras DEBE estar entre comillas dobles. [Pg. 10]
   - Uso de "et al.": Para 3 o ms autores, usar "et al." desde la primera aparicin. [Pg. 14]
   - Fuentes de 2 autores: Citar siempre a ambos. [Pg. 14]
   - Toda cita en texto DEBE tener correspondencia en la lista de referencias. [Pg. 14, 16]

2. LISTA DE REFERENCIAS:
   - Orden alfabtico obligatorio. [Pg. 5]
   - Sangra francesa obligatoria. [Pg. 5]
   - NO incluir ciudad de editorial para libros (ej: Caracas: Panapo -> Sabino, C. (2000). El proceso de investigacin. Panapo.). [Pg. 5]

3. PREVENCIN DEL PLAGIO:
   - "Autoplagio": Presentar un trabajo propio ya publicado como nuevo es falta grave. [Pg. 7]
   - Atribucin rigurosa: Todo hecho o cifra que no sea conocimiento comn DEBE citarse. [Pg. 11]

=== PLANTILLA DE FEEDBACK ACCIONABLE (OBLIGATORIA) ===
Para cada error detectado, usa este formato:
- Hallazgo: Descripcin clara del error.
- Evidencia: Ubicacin exacta [Pg. X].
- Por qu importa: Justificacin normativa (citar APA 7).
- Cmo corregir: Instruccin paso a paso.
- Ejemplo breve: Demostracin visual del cambio.
`,Pj=(n,t="Grado")=>`
IDENTIDAD DEL EVALUADOR:
Eres un evaluador acadmico de lite con certificacin en metodologa de investigacin, 
auditora de tesis doctorales, y revisin para revistas indexadas Q1.

MISIN CRTICA:
Realizar una auditora FORENSE del documento acadmico basndote en el MODELO OPERATIVO APA 7.

PERFIL DE EXIGENCIA: Nivel ${t}
(Aplica las ponderaciones de rigor correspondientes a este nivel acadmico).



REGLAS DE ORO (ESTILO APA 7):
${$j}



FASE 1: VERIFICACIN NORMATIVA OBLIGATORIA (SI APLICA)

${n?`
 NORMATIVA INSTITUCIONAL ACTIVA:
El documento DEBE cumplir las siguientes reglas institucionales:

${n}

INSTRUCCIONES DE VERIFICACIN:
1. Para CADA regla normativa, verifica si el documento la cumple
2. Si NO cumple, genera una alerta CRTICA con:
   - Regla incumplida
   - Evidencia del incumplimiento [Pg. X]
   - Impacto (puede invalidar la tesis)
3. Si cumple, confirma con evidencia [Pg. X]
4. Las violaciones normativas tienen PRIORIDAD MXIMA

SECCIN DE SALIDA OBLIGATORIA:
normativeComplianceDetailed: {
  overallCompliance: number (0-100),
  violations: [{
    rule: string,
    severity: 'Critical' | 'High' | 'Medium' | 'Low',
    evidence: string (con [Pg. X]),
    impact: string
  }],
  compliantItems: [{
    rule: string,
    evidence: string (con [Pg. X])
  }]
}
`:"No hay normativa institucional activa. Evala contra estndares generales APA 7 y buenas prcticas acadmicas."}



FASE 2: VERIFICACIN ESTRUCTURAL GRANULAR

Verifica la PRESENCIA y CALIDAD de cada seccin esperada:

SECCIONES OBLIGATORIAS (segn tipo de documento):
1. Portada / Cartula
2. Dedicatoria / Agradecimientos (opcional pero comn)
3. Resumen / Abstract
4. ndice / Tabla de contenidos
5. Introduccin
6. Planteamiento del problema
7. Justificacin
8. Objetivos (general y especficos)
9. Marco terico / Estado del arte
10. Marco conceptual
11. Marco metodolgico (diseo, poblacin, tcnicas, instrumentos)
12. Resultados
13. Anlisis / Discusin
14. Conclusiones
15. Recomendaciones
16. Referencias bibliogrficas
17. Anexos (si aplica)

Para CADA seccin, verifica:
- Existe? (S/No)  Si NO existe y es obligatoria: ALERTA CRTICA
- Est completa? (nivel de desarrollo: 0-100%)
- Cumple su propsito? (evaluacin cualitativa)
- Est en el lugar correcto? (considera ROE si est en normativa)
- Evidencia: [Pg. X-Y donde aparece]



FASE 3: MATRIZ DE CONSISTENCIA DETALLADA

Genera UNA TABLA con las siguientes columnas y filas:

ELEMENTOS A VERIFICAR:
1. Problema de investigacin
2. Pregunta de investigacin (general)
3. Preguntas especficas (si aplica)
4. Justificacin
5. Objetivo general
6. Objetivos especficos (cada uno por separado)
7. Hiptesis / Supuestos (si aplica)
8. Variables / Categoras de anlisis
9. Enfoque metodolgico (cuanti/cuali/mixto)
10. Diseo de investigacin
11. Poblacin objetivo
12. Muestra / Participantes
13. Tcnicas de recoleccin
14. Instrumentos utilizados
15. Procedimiento de anlisis
16. Resultados (cada objetivo especfico)
17. Conclusiones (cada objetivo especfico)
18. Recomendaciones

Para CADA ELEMENTO:
- Descripcin textual encontrada (citar [Pg. X])
- Nivel de coherencia con elementos relacionados: Alta / Media / Baja / Inexistente
- Observacin tcnica detallada (qu falla exactamente?)
- Recomendacin concreta y accionable

CRITERIOS DE COHERENCIA:
- Alta (90-100%): Alineacin perfecta, sin contradicciones
- Media (60-89%): Alineacin parcial, inconsistencias menores
- Baja (30-59%): Desalineacin significativa, contradicciones evidentes
- Inexistente (0-29%): No hay relacin o est ausente

FASE 3.1: SUB-MATRIZ DE CONSISTENCIA DE FUENTES
Instrucciones:
1. Extrae TODAS las citas nicas del texto (citationsFound).
2. Verifica si estn en la lista de referencias (inBibliography).
3. Identifica referencias sobrantes (unusedReferences) y faltantes (missingReferences).



FASE 4: EVALUACIN METODOLGICA FORENSE

Analiza CON LUPA la coherencia metodolgica:

4.1 ALINEACIN ENFOQUE-DISEO:
- El diseo elegido es apropiado para el enfoque declarado?
- Las tcnicas corresponden al diseo?
- Evidencia: [Pg. X]

4.2 POBLACIN Y MUESTRA:
- Est claramente definida la poblacin?
- El muestreo es adecuado? (probabilstico/no probabilstico segn diseo)
- El tamao muestral est justificado?
- Evidencia: [Pg. X]

4.3 INSTRUMENTOS:
- Los instrumentos estn descritos con detalle?
- Se reporta validez y confiabilidad?
- Son coherentes con las variables/categoras?
- Evidencia: [Pg. X]

4.4 RESULTADOS VS MTODO:
- Los resultados reportados PODRAN haberse obtenido con el mtodo descrito?
- Hay resultados "mgicos" (aparecen sin instrumentos que los capturen)?
- Los anlisis estadsticos/cualitativos son apropiados?
- Evidencia: [Pg. X]

4.5 CONCLUSIONES VS RESULTADOS:
- CADA conclusin tiene soporte EN los resultados?
- Hay conclusiones "inventadas" (sin datos que las respalden)?
- Se respetan las limitaciones del mtodo?
- Evidencia: [Pg. X]

ALERTAS CRTICAS:
Marca como "INVALIDANTE" si:
- El diseo no puede responder a los objetivos
- Los instrumentos no capturan las variables
- Las conclusiones no derivan de los resultados
- Hay fabricacin evidente de datos



FASE 5: CALIDAD DE ESCRITURA ACADMICA

Verifica RIGUROSAMENTE:

5.1 ORTOGRAFA:
- Lista TODOS los errores ortogrficos encontrados (mx 50 primeros)
- Formato: "Palabra incorrecta [Pg. X]: debera ser 'correccin'"

5.2 GRAMTICA:
- Lista errores de concordancia, pronombres, tiempos verbales
- Formato: "Error [Pg. X]: '...'  debera ser '...'"

5.3 ESTILO ACADMICO:
- Usa lenguaje formal?
- Evita primera persona (excepto en investigacin cualitativa reflexiva)?
- Usa voz activa apropiadamente?
- Los prrafos tienen estructura lgica?

5.4 CITACIN:
- Sigue consistentemente un estilo (APA7, Vancouver, etc.)?
- Todas las citas en texto tienen referencia completa?
- Todas las referencias fueron citadas en el texto?
- Lista las primeras 20 inconsistencias encontradas



FASE 6: DIAGNSTICO GLOBAL Y RECOMENDACIONES

6.1 NIVEL GLOBAL:
- Excelente (90-100): Listo para defensa con ajustes menores
- Aceptable (70-89): Requiere revisiones substanciales
- Dbil (50-69): Necesita reescritura de secciones clave
- Crtico (<50): NO apto para defensa, requiere refactorizacin total

6.2 RIESGOS PRINCIPALES:
- Lista los 5-10 riesgos MS GRAVES que podran causar rechazo

6.3 RECOMENDACIONES PRIORIZADAS:
Para cada recomendacin:
- Prioridad: Crtica / Alta / Media / Baja
- Qu hacer: accin concreta
- Por qu: justificacin tcnica
- Cmo: pasos especficos
- Dnde: [Pg. X] afectadas

6.4 FEEDBACK ACCIONABLE (Visual):
Genera al menos 5-10 items CLAROS para las tarjetas de feedback:
- Hallazgo
- Evidencia [Pg. X]
- Por qu importa
- Cmo corregir
- Ejemplo breve



FORMATO DE SALIDA (JSON ESTRICTO):
{
  "documentType": string,
  "methodologicalApproach": string,
  "disciplinaryArea": string,
  "applicableStandards": string[],
  
  "structuralVerification": {
    "sectionsFound": { "NombreSeccin": { "exists": boolean, "pages": string, "completeness": number } },
    "missingSections": string[],
    "misplacedSections": string[]
  },
  
  "normativeComplianceDetailed": {
    "overallCompliance": number,
    "violations": [{ "rule": string, "severity": "Critical" | "High" | "Medium" | "Low", "evidence": string, "impact": string }],
    "compliantItems": [{ "rule": string, "evidence": string }]
  },
  
  "consistencyMatrix": [
    {
      "element": string,
      "description": string,
      "coherenceLevel": "Alta/Media/Baja/Inexistente",
      "technicalObservation": string,
      "recommendation": string
    }
  ],
  "sectionEvaluations": [ ... ],
  "methodologicalAnalysis": {
    "approachCoherent": boolean,
    "designAdequate": boolean,
    "techniquesAppropriate": boolean,
    "resultsDeriveFromMethod": boolean,
    "conclusionsSupportedByResults": boolean,
    "criticalAlerts": [],
    "invalidatingIssues": []
  },
  "normativeCompliance": { 
     "apa7Score": 0-100, 
     "academicWritingScore": 0-100,
     "terminologyConsistencyScore": 0-100,
     "orthographicErrors": [],
     "grammaticalErrors": [],
     "styleIssues": [] 
  },
  "sourceConsistencySubMatrix": {
    "citationsFound": [{ "citation": string, "inBibliography": boolean, "page": string }],
    "referencesCiting": [string],
    "unusedReferences": [string],
    "missingReferences": [string]
  },
  "globalDiagnosis": { 
    "level": "Excelente/Aceptable/Dbil/Crtico", 
    "mainRisks": [], 
    "internalConsistencyDegree": number, 
    "publishabilityLevel": number 
  },
  "prioritizedRecommendations": [ ... ],
  "actionableFeedback": [
    { "finding": string, "evidence": string, "whyItMatters": string, "howToFix": string, "example": string }
  ]
}

RESTRICCIONES:
- No inventes informacin. Si falta algo, indcalo explcitamente.
- Mantn lenguaje acadmico claro y profesional.
- Prioriza RIGOR sobre simplicidad.
- SIEMPRE CITA LA PGINA DE REFERENCIA cuando sea posible.
- EVITA EL markdown en la respuesta JSON. Devuelve JSON puro.

DOCUMENTO A EVALUAR:
{DOCUMENT_TEXT}
`,Hj={APP_NAME:"TuTesisRD",VERSION:"2.0.0",CONSISTENCY_AI_MODEL:"gemini-1.5-flash",CONSISTENCY_AI_TEMPERATURE:parseFloat("0.1"),CONSISTENCY_MAX_CHARS:parseInt("350000",10)},Gj=He({title:G(),authors:De(G()).optional(),publicationYear:Qe().optional(),doi:G().optional(),hostVenue:G().optional()});He({reference:Gj,status:ks(["verified","valid_no_doi","needs_review","not_found","error"]),score:Qe().min(0).max(100),sources:De(G()).optional(),validationMessage:G().optional()});const Vj=He({burstiness:Qe().optional(),perplexityProxy:Qe().optional(),lexicalDiversity:Qe().optional()}),Zj=He({chatgpt:Qe().optional(),gemini:Qe().optional(),claude:Qe().optional()}),Yj=He({text:G(),probability:Qe()});He({score:Qe().min(0).max(1),metrics:Vj.optional(),sourceProbabilities:Zj.optional(),signals:De(G()).optional(),heatmap:De(Yj).optional()});const Kj=He({element:G(),description:G(),coherenceLevel:ks(["Alta","Media","Baja","Inexistente"]).or(G()),technicalObservation:G(),recommendation:G()}),Jj=He({section:G(),strengths:De(G()),weaknesses:De(G()),internalIncoherences:De(G()),methodologicalMisalignments:De(G())}),Xj=He({approachCoherent:fa(),designAdequate:fa(),techniquesAppropriate:fa(),resultsDeriveFromMethod:fa(),conclusionsSupportedByResults:fa(),criticalAlerts:De(G()),forensicReasoning:G().optional()}),Qj=He({apa7Score:Qe(),academicWritingScore:Qe(),terminologyConsistencyScore:Qe(),orthographicErrors:De(G()),grammaticalErrors:De(G()),styleIssues:De(G())}),Fj=He({level:ks(["Excelente","Aceptable","Dbil","Crtico"]).or(G()),mainRisks:De(G()),internalConsistencyDegree:Qe(),publishabilityLevel:Qe(),auditSummary:G().optional(),summary:G().optional(),score:Qe().optional()}),Wj=He({priority:ks(["Crtica","Alta","Media","Baja"]).or(G()).optional().default("Media"),what:G().optional().default("<<MISSING_CONTENT>>"),why:G().optional().default("<<MISSING_CONTENT>>"),how:G().optional().default("<<MISSING_CONTENT>>")}),eN=He({sectionsFound:E_(G(),He({exists:fa(),pages:G().nullable().optional(),completeness:Qe()})).optional(),missingSections:De(G()).optional(),misplacedSections:De(G()).optional()}),tN=He({citationsFound:De(He({citation:G(),inBibliography:fa(),page:G()})).optional(),referencesCiting:De(G()).optional(),unusedReferences:De(G()).optional(),missingReferences:De(G()).optional()}),aN=He({finding:G(),evidence:G(),whyItMatters:G(),howToFix:G(),example:G()}),sN=He({documentType:G().optional(),methodologicalApproach:G().optional(),disciplinaryArea:G().optional(),applicableStandards:De(G()).optional(),consistencyMatrix:De(Kj).optional(),sectionEvaluations:De(Jj).optional(),methodologicalAnalysis:Xj.optional(),normativeCompliance:Qj.optional(),globalDiagnosis:Fj.optional(),prioritizedRecommendations:De(Wj).optional(),structuralVerification:eN.optional(),sourceConsistencySubMatrix:tN.optional(),actionableFeedback:De(aN).optional(),normativeComplianceDetailed:Jg().optional(),rawAnalysis:G().optional(),analysisStatus:ks(["ok","partial","insufficient_input","model_noncompliant","error"]).optional(),analysisWarnings:De(G()).optional()});He({id:G().uuid().optional(),title:G(),studentName:G().optional(),university:G().optional(),status:ks(["draft","review","approved"]).default("draft"),createdAt:G().optional(),updatedAt:G().optional()});He({provider:G(),model:G(),durationMs:Qe(),inputTokens:Qe().optional(),outputTokens:Qe().optional(),success:fa(),errorCode:G().optional(),timestamp:Qe()});const nN=He({type:ks(["text","heading1","heading2","heading3","list","table","page_break"]),content:G().optional(),tableData:He({headers:De(G()),rows:De(De(G())),isMatrix:fa().optional()}).optional(),styling:He({bold:fa().optional(),color:G().optional(),align:ks(["left","center","right","justify"]).optional(),isCritical:fa().optional(),size:Qe().optional()}).optional()});He({metadata:He({title:G(),subtitle:G().optional(),date:G(),creator:G().default("ScholarAI"),brandingColor:G().optional()}),sections:De(nN)});const rN=sN;function iN(n,t){var i,c,u,f,m;if(!n&&!t)return null;let s=n||"";return t&&(s+=`

INFORMACIN ESTRUCTURAL ADICIONAL EXTRADA:
`,(c=(i=t.contentRequirements)==null?void 0:i.mandatorySections)!=null&&c.length&&(s+=`Secciones Obligatorias:
${t.contentRequirements.mandatorySections.map(g=>`- ${g.name} (Obligatoria)`).join(`
`)}

`),t.formattingRules&&(s+=`Reglas de Formato Clave:
- Mrgenes: ${JSON.stringify((u=t.formattingRules.pageSetup)==null?void 0:u.margins)}
- Tipografa: ${(f=t.formattingRules.typography)==null?void 0:f.bodyFont}
- Citacin: ${(m=t.citationRules)==null?void 0:m.style}
`)),s}async function lN(n,t,s="Grado",i){var N,E,C;const c=n.replace(/<img[^>]*src="data:[^"]*"[^>]*>/g,"").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim(),{SemanticChunker:u}=await Ha(async()=>{const{SemanticChunker:U}=await import("./chunkingService-DehVIyGE.js");return{SemanticChunker:U}},[]),f=u.chunkBySections(c),m=["INTRODUCCI","PROBLEMA","METODOLOG","RESULTADOS","CONCLUSIONES","DISCUSI","OBJETIVO"],g=f.filter(U=>m.some(q=>U.sectionType.toUpperCase().includes(q))),x=g.length>0?g.map(U=>`[SECCIN: ${U.sectionType}]
${U.content.substring(0,2e4)}`).join(`

`):c.substring(0,1e5);console.log(`[StrictAnalyzer] Processing text. Total Length: ${x.length}, Chunks Used: ${g.length>0?g.length:"Full Text"}`),x.length<500&&console.warn("[StrictAnalyzer] WARNING: Input text is dangerously short (<500 chars). Analysis may fail.");const y=iN(t,i),j=Pj(y,s).replace("{DOCUMENT_TEXT}",x);try{const U=await np({prompt:j,systemInstruction:"Eres un auditor acadmico estricto. Analiza el documento buscando inconsistencias fatales y fallos normativos.",temperature:.1,model:Hj.CONSISTENCY_AI_MODEL}),q=rN.parse(U);console.log(`[StrictAnalyzer] Validated Result Keys: ${Object.keys(q).join(", ")}`),console.log(`[StrictAnalyzer] Diagnosis Level: ${(N=q.globalDiagnosis)==null?void 0:N.level}, Consistency: ${(E=q.globalDiagnosis)==null?void 0:E.internalConsistencyDegree}%`);let I="ok";const L=[];c.length<500&&(I="insufficient_input",L.push("Texto insuficiente para anlisis profundo.")),((C=q.globalDiagnosis)==null?void 0:C.level)==="Pendiente"&&(I="partial",L.push("Diagnstico global incompleto."));let V=0;if(q.prioritizedRecommendations)for(const K of q.prioritizedRecommendations)(K.what==="<<MISSING_CONTENT>>"||K.why==="<<MISSING_CONTENT>>"||K.how==="<<MISSING_CONTENT>>")&&(V++,K.what==="<<MISSING_CONTENT>>"&&(K.what="Recomendacin general"),K.why==="<<MISSING_CONTENT>>"&&(K.why="Justificacin no disponible en anlisis estricto."),K.how==="<<MISSING_CONTENT>>"&&(K.how="Consultar revisin manual."));return V>0&&(I="partial",L.push(`${V} recomendacin(es) marcadas como incompletas.`)),{...q,rawAnalysis:"Anlisis Forense Completado",analysisStatus:I,analysisWarnings:L}}catch(U){throw console.error("Strict Analysis Failed. Full Error:",JSON.stringify(U,null,2)),U instanceof sa&&console.error("Zod Validation Issues:",U.issues),new Error(`Error en anlisis estricto: ${U.message}`)}}const oN=({result:n})=>{const t=()=>{const c=Cj(n);ip.generateWordDocument(c,"Analisis_Consistencia.docx")},s=c=>c>=90?"text-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":c>=70?"text-amber-500 bg-amber-50 dark:bg-amber-900/20":"text-red-500 bg-red-50 dark:bg-red-900/20",i={Excelente:"text-emerald-600 bg-emerald-100 dark:bg-emerald-900/30",Aceptable:"text-blue-600 bg-blue-100 dark:bg-blue-900/30",Dbil:"text-amber-600 bg-amber-100 dark:bg-amber-900/30",Crtico:"text-red-600 bg-red-100 dark:bg-red-900/30"};return o.jsxs("div",{className:"space-y-8 animate-fade-in p-6 max-w-7xl mx-auto",children:[(n.analysisStatus==="partial"||n.analysisWarnings&&n.analysisWarnings.length>0)&&o.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/10 border-l-4 border-amber-500 p-4 mb-6 rounded-r-lg animate-fade-in mx-auto max-w-7xl",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("span",{className:"material-symbols-outlined text-amber-500",children:"warning"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-sm font-bold text-amber-800 dark:text-amber-200",children:"Anlisis Parcialmente Completado"}),o.jsx("div",{className:"mt-2 text-sm text-amber-700 dark:text-amber-300",children:o.jsx("ul",{className:"list-disc pl-5 space-y-1",children:n.analysisWarnings&&n.analysisWarnings.length>0?n.analysisWarnings.map((c,u)=>o.jsx("li",{children:c},u)):o.jsx("li",{children:"Algunas secciones contienen datos genricos debido a limitaciones en la respuesta del modelo."})})})]})]})}),o.jsx("div",{className:"flex justify-end mb-4",children:o.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-5 py-2.5 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold shadow-lg hover:-translate-y-1 transition-transform",children:[o.jsx("span",{className:"material-symbols-outlined text-sm",children:"download"}),"Exportar Informe DOCX"]})}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[o.jsxs("div",{className:"flex-1 bg-white dark:bg-surface-dark p-8 rounded-[2rem] border border-slate-100 dark:border-surface-border shadow-xl",children:[o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-xs font-black uppercase tracking-[0.2em] text-slate-400",children:"Diagnstico Global"}),o.jsx("h2",{className:`text-4xl font-black mt-2 ${i[n.globalDiagnosis.level].split(" ")[0]}`,children:n.globalDiagnosis.level})]}),o.jsxs("div",{className:`px-4 py-2 rounded-full font-bold text-sm ${i[n.globalDiagnosis.level]}`,children:["Riesgo: ",n.globalDiagnosis.level==="Excelente"?"Bajo":n.globalDiagnosis.level==="Aceptable"?"Medio":"Alto"]})]}),o.jsxs("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed mb-6 border-l-4 border-slate-200 dark:border-slate-700 pl-4 py-1 italic",children:['"',n.globalDiagnosis.auditSummary||"Anlisis completado exitosamente.",'"']}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(Pu,{label:"Consistencia",value:n.globalDiagnosis.internalConsistencyDegree,color:s(n.globalDiagnosis.internalConsistencyDegree)}),o.jsx(Pu,{label:"Publicabilidad",value:n.globalDiagnosis.publishabilityLevel,color:s(n.globalDiagnosis.publishabilityLevel)}),o.jsx(Pu,{label:"Estilo Acadmico",value:n.normativeCompliance.academicWritingScore,color:s(n.normativeCompliance.academicWritingScore)})]})]}),o.jsxs("div",{className:"w-full md:w-1/3 bg-slate-50 dark:bg-[#0d1017] p-6 rounded-[2rem] border border-slate-200 dark:border-surface-border h-full",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/20 text-red-600 rounded-lg",children:o.jsx("span",{className:"material-symbols-outlined",children:"warning"})}),o.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Alertas Crticas"})]}),o.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:n.methodologicalAnalysis.criticalAlerts.length>0?n.methodologicalAnalysis.criticalAlerts.map((c,u)=>o.jsxs("div",{className:"flex gap-3 text-sm p-3 bg-white dark:bg-surface-dark rounded-xl border border-red-100 dark:border-red-900/30",children:[o.jsx("span",{className:"material-symbols-outlined text-red-500 text-xs mt-1 shrink-0",children:"error"}),o.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:c})]},u)):o.jsxs("div",{className:"text-center py-8 text-slate-400",children:[o.jsx("span",{className:"material-symbols-outlined text-4xl mb-2 opacity-50",children:"check_circle"}),o.jsx("p",{className:"text-sm",children:"Sin alertas crticas detectadas"})]})})]})]}),n.methodologicalAnalysis.forensicReasoning&&o.jsxs("div",{className:"bg-slate-900 border-2 border-brand-orange/30 text-slate-300 p-8 rounded-[2rem] relative overflow-hidden shadow-2xl shadow-brand-orange/5",children:[o.jsx("div",{className:"absolute top-0 right-0 p-32 bg-brand-orange/10 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),o.jsxs("div",{className:"flex items-center gap-3 mb-4 relative z-10",children:[o.jsx("span",{className:"material-symbols-outlined text-brand-orange text-3xl",children:"psychology"}),o.jsx("h3",{className:"font-black text-white uppercase tracking-[0.2em] text-sm",children:"Dictamen Forense de IA"})]}),o.jsx("p",{className:"text-xl leading-relaxed relative z-10 font-medium text-slate-200",children:n.methodologicalAnalysis.forensicReasoning})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-2xl font-black text-slate-900 dark:text-white mb-8 flex items-center gap-4",children:[o.jsx("div",{className:"size-10 rounded-xl bg-brand-orange/10 flex items-center justify-center",children:o.jsx("span",{className:"material-symbols-outlined text-brand-orange",children:"app_registration"})}),"Acciones Correctivas Priorizadas"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.prioritizedRecommendations.map((c,u)=>o.jsxs("div",{className:"bg-white dark:bg-slate-800/40 p-8 rounded-[2.5rem] border border-slate-100 dark:border-white/5 hover:border-brand-orange/30 hover:shadow-2xl hover:shadow-brand-orange/5 transition-all duration-500 group",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsxs("span",{className:`text-[10px] font-black uppercase px-4 py-1.5 rounded-full tracking-widest ${c.priority==="Crtica"?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":"bg-brand-orange/10 text-brand-orange"}`,children:["Prioridad ",c.priority]}),o.jsx("span",{className:"text-slate-200 dark:text-slate-700 text-5xl font-black opacity-40 group-hover:opacity-100 transition-opacity",children:String(u+1).padStart(2,"0")})]}),o.jsx("h4",{className:"font-black text-slate-800 dark:text-white mb-3 text-lg leading-tight uppercase tracking-tight",children:c.what}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6 leading-relaxed",children:c.why}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-5 rounded-2xl border border-slate-100 dark:border-white/5",children:[o.jsx("span",{className:"font-black block mb-2 text-brand-orange uppercase tracking-widest text-[10px]",children:"Hoja de Ruta:"}),o.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 font-medium leading-relaxed",children:c.how})]})]},u))})]})]})},Pu=({label:n,value:t,color:s})=>o.jsxs("div",{className:`p-6 rounded-[2rem] border border-transparent shadow-sm ${s.split(" ")[1].replace("/20","/5")}`,children:[o.jsxs("div",{className:`text-4xl font-black ${s.split(" ")[0]} mb-2 tracking-tighter`,children:[t,o.jsx("span",{className:"text-base ml-1 opacity-60",children:"%"})]}),o.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-60 text-slate-500 dark:text-slate-400",children:n})]}),cN=({matrix:n})=>{const[t,s]=ae.useState(null);return o.jsxs("div",{className:"bg-white/60 dark:bg-slate-900/60 rounded-[2.5rem] shadow-xl border border-white dark:border-white/5 overflow-hidden backdrop-blur-xl",children:[o.jsxs("div",{className:"p-10 border-b border-slate-100 dark:border-white/5",children:[o.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white uppercase tracking-tight",children:"Matriz de Consistencia Interactiva"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 text-lg",children:"Explora los hallazgos forenses de cada dimensin metodolgica."})]}),o.jsx("div",{className:"divide-y divide-slate-100 dark:divide-white/5",children:n.map((i,c)=>o.jsxs("div",{className:`group transition-all duration-500 ${t===c?"bg-brand-orange/[0.03] dark:bg-brand-orange/[0.02]":"hover:bg-slate-50/50 dark:hover:bg-white/[0.02]"}`,children:[o.jsxs("div",{className:"p-8 cursor-pointer flex items-center justify-between",onClick:()=>s(t===c?null:c),children:[o.jsxs("div",{className:"flex items-center gap-8",children:[o.jsx("div",{className:`
                                    w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 font-bold text-xl shadow-sm
                                    ${i.coherenceLevel==="Alta"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":i.coherenceLevel==="Media"?"bg-brand-orange/10 text-brand-orange":"bg-red-100 text-red-600 dark:bg-red-900/30"}
                                `,children:t===c?o.jsx("span",{className:"material-symbols-outlined text-3xl",children:"keyboard_arrow_up"}):o.jsx("span",{className:"material-symbols-outlined text-3xl",children:i.coherenceLevel==="Alta"?"verified":i.coherenceLevel==="Media"?"error":"dangerous"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-black text-slate-800 dark:text-white text-xl uppercase tracking-tight",children:i.element}),o.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[o.jsxs("span",{className:`text-[10px] font-black uppercase tracking-[0.15em] px-3 py-1 rounded-full ${i.coherenceLevel==="Alta"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-400":i.coherenceLevel==="Media"?"bg-brand-orange/10 text-brand-orange":"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400"}`,children:["Auditora: ",i.coherenceLevel]}),!i.description&&o.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest text-red-500 flex items-center gap-1 opacity-60",children:[o.jsx("span",{className:"material-symbols-outlined text-xs",children:"block"})," No Hallado"]})]})]})]}),o.jsx("div",{className:"text-right hidden sm:block",children:o.jsx("span",{className:`material-symbols-outlined text-slate-300 group-hover:text-brand-orange transition-all duration-300 ${t===c?"rotate-90 text-brand-orange":""}`,children:"arrow_forward_ios"})})]}),o.jsx("div",{className:`
                            overflow-hidden transition-all duration-500 ease-in-out
                            ${t===c?"max-h-[800px] opacity-100 border-t border-slate-100 dark:border-white/5":"max-h-0 opacity-0"}
                        `,children:o.jsx("div",{className:"p-10 bg-slate-50/30 dark:bg-black/10",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{children:[o.jsx("h5",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-3 ml-1",children:"Hallazgo Textual"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute -left-4 -top-2 text-4xl text-brand-orange/20 font-serif",children:'"'}),o.jsx("p",{className:"text-slate-600 dark:text-slate-300 italic font-medium leading-relaxed bg-white dark:bg-slate-900/50 p-6 rounded-3xl border border-slate-100 dark:border-white/5 shadow-sm",children:i.description||"No se logr extraer contenido directo para esta dimensin."}),o.jsx("span",{className:"absolute -right-2 -bottom-4 text-4xl text-brand-orange/20 font-serif",children:'"'})]})]})}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-900/50 p-6 rounded-3xl border border-slate-100 dark:border-white/5 shadow-sm",children:[o.jsx("h5",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-3",children:"Observacin Tcnica Forense"}),o.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 leading-relaxed font-medium",children:i.technicalObservation})]}),o.jsxs("div",{className:"bg-brand-orange/5 p-6 rounded-3xl border border-brand-orange/10 shadow-sm relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 p-8 bg-brand-orange/10 rounded-full blur-2xl -mr-4 -mt-4"}),o.jsx("h5",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-brand-orange mb-3 relative z-10",children:"Accin Recomendada"}),o.jsxs("div",{className:"flex gap-4 items-start relative z-10",children:[o.jsx("div",{className:"size-8 rounded-lg bg-brand-orange/20 flex items-center justify-center shrink-0",children:o.jsx("span",{className:"material-symbols-outlined text-brand-orange text-lg",children:"auto_fix_high"})}),o.jsx("p",{className:"text-sm text-slate-800 dark:text-slate-200 font-bold leading-relaxed",children:i.recommendation})]})]})]})]})})})]},c))})]})};class uN extends ae.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null},this.resetErrorBoundary=()=>{var t,s;(s=(t=this.props).onReset)==null||s.call(t),this.setState({hasError:!1,error:null})}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error(`[ErrorBoundary] Error in ${this.props.componentName||"Unknown Component"}:`,t,s)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:o.jsxs("div",{className:"p-6 bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-800 rounded-2xl flex flex-col items-center text-center animate-in fade-in zoom-in duration-300",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4 text-red-600 dark:text-red-400",children:o.jsx("span",{className:"material-symbols-outlined text-3xl",children:"monitor_heart"})}),o.jsx("h3",{className:"text-lg font-black text-slate-800 dark:text-white mb-2",children:"Algo sali mal al mostrar el anlisis"}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-6 max-w-md",children:"Ocurri un error inesperado al renderizar los resultados. Esto puede deberse a datos incompletos o un formato inesperado de la IA."}),this.state.error&&!1,o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 rounded-xl border border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-bold hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:"Recargar Pgina"}),o.jsx("button",{onClick:this.resetErrorBoundary,className:"px-6 py-2 rounded-xl bg-red-500 hover:bg-red-600 text-white font-bold shadow-lg shadow-red-500/30 transition-all hover:scale-105",children:o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"material-symbols-outlined",children:"refresh"}),"Reintentar Renderizado"]})})]})]}):this.props.children}}const lp="/TuTesisRD-App/assets/pdf.worker.min-LyOxJPrg.mjs",dN=Object.freeze(Object.defineProperty({__proto__:null,default:lp},Symbol.toStringTag,{value:"Module"}));var op=Kb();const cp=ud(op),hN=Jb({__proto__:null,default:cp},[op]),fN=()=>{var f;const[n,t]=ae.useState(null),[s,i]=ae.useState(!1);ae.useEffect(()=>{bt.auth.getSession().then(({data:{session:g}})=>{t(g)});const{data:{subscription:m}}=bt.auth.onAuthStateChange((g,x)=>{t(x)});return()=>m.unsubscribe()},[]);const c=async()=>{i(!0);try{const{error:m}=await bt.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(m)throw m}catch(m){console.error("Error logging in:",m)}finally{i(!1)}},u=async()=>{i(!0),await bt.auth.signOut(),i(!1)};return n?o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"hidden md:block text-right",children:[o.jsx("div",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:n.user.user_metadata.full_name||n.user.email}),o.jsx("div",{className:"text-[10px] text-slate-400",children:"Sesin Activa"})]}),n.user.user_metadata.avatar_url?o.jsx("img",{src:n.user.user_metadata.avatar_url,alt:"User",className:"w-8 h-8 rounded-full border border-slate-200 dark:border-slate-700"}):o.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-orange text-white flex items-center justify-center font-bold text-xs",children:(f=n.user.email)==null?void 0:f.charAt(0).toUpperCase()}),o.jsx("button",{onClick:u,disabled:s,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors text-slate-500",title:"Cerrar Sesin",children:o.jsx("span",{className:"material-symbols-outlined text-lg",children:"logout"})})]}):o.jsxs("button",{onClick:c,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 rounded-xl font-bold text-sm hover:shadow-md transition-all hover:border-brand-orange/50 group",children:[s?o.jsx("span",{className:"material-symbols-outlined animate-spin text-lg",children:"sync"}):o.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",className:"w-5 h-5 group-hover:scale-110 transition-transform",alt:"Google"}),o.jsx("span",{children:"Iniciar Sesin"})]})};try{Bb.workerSrc=lp}catch(n){console.warn("Could not set PDF worker source",n)}const mN=()=>{const{project:n,uploadedFile:t,setUploadedFile:s}=so(),{showNotification:i}=xd(),c=Ql(),[u,f]=ae.useState(!1),[m,g]=ae.useState(0),[x,y]=ae.useState(null);ae.useEffect(()=>{var le;(le=c.state)!=null&&le.loadedAnalysis&&(y(c.state.loadedAnalysis),i("Visualizando reporte del historial","info"))},[c.state]);const[v,j]=ae.useState("dashboard"),[N,E]=ae.useState("Grado"),[C,U]=ae.useState(""),[q,I]=ae.useState(!1),[L,V]=ae.useState(!1),K=ae.useMemo(()=>ao.map(le=>({id:le.id,name:le.name,content:`Normativa: ${le.regulations.style}. Pginas: ${le.regulations.minPages}-${le.regulations.maxPages}. Tips: ${le.tips.join(" ")}`,deepAnalysis:void 0})),[]);ae.useEffect(()=>{K.length>0},[K,C]);const W=async le=>{var Fe,Ct;const Le=(Fe=le.target.files)==null?void 0:Fe[0];if(!Le)return;if(!["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword"].includes(Le.type)){i("Formato no soportado. Usa PDF o DOCX","error");return}I(!0);try{let J="";if(Le.type==="application/pdf"){L&&((Ct=window.scholar)!=null&&Ct.ocr)&&i("Deep Scan activado: Procesando con OCR avanzado...","info");const T=await Le.arrayBuffer(),Q=await Ib({data:T}).promise,me=[];for(let ye=1;ye<=Q.numPages;ye++){const Ye=(await(await Q.getPage(ye)).getTextContent()).items.map(Rt=>Rt.str).join(" ");me.push({page:ye,text:Ye})}J=me;const he=me.reduce((ye,_e)=>ye+_e.text.length,0);i(`PDF cargado: ${Le.name} (${he} caracteres, ${me.length} pgs)`,"success")}else if(Le.name.endsWith(".docx")){const T=await Le.arrayBuffer(),B=await cp.extractRawText({arrayBuffer:T});J=B.value.trim(),i(`DOCX cargado: ${Le.name} (${B.value.length} caracteres)`,"success")}s({name:Le.name,type:Le.type,size:Le.size,content:J,lastModified:Le.lastModified})}catch(J){console.error("File parsing error:",J),i("Error al procesar el archivo","error")}finally{I(!1),le.target.value=""}},[ie,oe]=ae.useState("idle");ae.useEffect(()=>{Ha(async()=>{const{persistenceService:le}=await Promise.resolve().then(()=>jg);return{persistenceService:le}},void 0).then(({persistenceService:le})=>le.subscribe(oe))},[]);const Be=async()=>{const le=(t==null?void 0:t.content)||n.content,Le=Array.isArray(le)?le.reduce((Ge,Fe)=>Ge+Fe.text.length,0):(le==null?void 0:le.length)||0;if(!le||Le<500){i("Necesitas al menos 500 caracteres de contenido para analizar","warning");return}f(!0),g(0);try{const Ge=setInterval(()=>{g(B=>Math.min(B+5,90))},500),Fe=K.find(B=>B.id===C),Ct=(Fe==null?void 0:Fe.content)||null,J=Array.isArray(le)?le.map(B=>`[Pgina ${B.page}]
${B.text}`).join(`

`):le,T=await lN(J,Ct,N,Fe==null?void 0:Fe.deepAnalysis);clearInterval(Ge),g(100),y(T),n.id&&n.id!=="offline-demo"&&Ha(async()=>{const{persistenceService:B}=await Promise.resolve().then(()=>jg);return{persistenceService:B}},void 0).then(({persistenceService:B})=>{B.saveAnalysis(n.id,"consistency",T)}),i("Anlisis de consistencia completado","success")}catch(Ge){console.error("Analysis error:",Ge);const Fe=Ge instanceof Error?Ge.message:"Error desconocido";i(`Error: ${Fe}`,"error")}finally{f(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 sm:p-8 font-sans text-slate-700 bg-slate-50 dark:bg-slate-900 transition-colors duration-300",children:[o.jsx("input",{type:"file",className:"hidden",accept:".pdf,.docx",onChange:W,id:"hidden-file-upload"}),o.jsxs("div",{className:"w-full max-w-[1600px] h-[90vh] min-h-[700px] rounded-[2.5rem] flex overflow-hidden relative bg-white/80 dark:bg-slate-900/80 backdrop-blur-2xl shadow-2xl border border-white/50 dark:border-slate-800/50",children:[o.jsxs("aside",{className:"w-20 lg:w-64 flex flex-col p-6 border-r border-slate-200/50 dark:border-slate-700/50 hidden md:flex z-10 bg-white/50 dark:bg-slate-900/50",children:[o.jsxs(ge,{to:"/portal",className:"flex items-center gap-3 mb-10 pl-1 hover:opacity-80 transition-opacity",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-brand-orange to-orange-600 flex items-center justify-center text-white font-bold text-xs shadow-lg shadow-brand-orange/20",children:o.jsx("span",{className:"material-symbols-outlined text-xl",children:"school"})}),o.jsx("span",{className:"text-lg font-black tracking-tight text-slate-800 dark:text-white hidden lg:block",children:"TuTesisRD"})]}),o.jsxs("nav",{className:"flex-1 space-y-2",children:[o.jsxs(ge,{className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-brand-orange/10 text-brand-orange font-bold shadow-sm transition-all",to:"/herramientas/matriz",children:[o.jsx("span",{className:"material-symbols-outlined",children:"grid_view"}),o.jsx("span",{className:"hidden lg:block",children:"Matriz"})]}),o.jsxs(ge,{to:"/portal/historial",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-slate-500 hover:bg-brand-orange/10 hover:text-brand-orange transition-all",children:[o.jsx("span",{className:"material-symbols-outlined",children:"history"}),o.jsx("span",{className:"hidden lg:block",children:"Historial"})]}),o.jsxs("div",{className:"opacity-40 pointer-events-none hidden lg:block border-t border-slate-100 dark:border-slate-800 pt-4 mt-4",children:[o.jsx("p",{className:"px-4 text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2",children:"Prximamente"}),o.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 text-slate-500",children:[o.jsx("span",{className:"material-symbols-outlined",children:"chat"}),o.jsx("span",{children:"IA Chat"})]})]})]}),o.jsx("div",{className:"mt-auto pt-6 border-t border-slate-200 dark:border-slate-700 space-y-4",children:o.jsxs("div",{className:"flex items-center gap-3 px-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-white transition-colors cursor-pointer",children:[o.jsx("span",{className:"material-symbols-outlined",children:"settings"}),o.jsx("span",{className:"text-sm font-medium hidden lg:block",children:"Configuracin"})]})})]}),o.jsxs("main",{className:"flex-1 flex flex-col p-4 md:p-8 relative overflow-hidden",children:[o.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4 shrink-0",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl md:text-3xl font-black text-slate-800 dark:text-white tracking-tight",children:"Matriz de Consistencia"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:t?`Archivo: ${t.name}`:n.content?`Analizando: ${n.title||"Proyecto Actual"}`:"Auditora Forense con IA"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"mr-4",children:o.jsx(fN,{})}),x&&o.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-xl",children:[o.jsx("button",{onClick:()=>j("dashboard"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${v==="dashboard"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:"Dashboard"}),o.jsx("button",{onClick:()=>j("matrix"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${v==="matrix"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:"Matriz"})]}),x&&o.jsxs("button",{onClick:async()=>{try{const{generateConsistencyMatrixPDF:le}=await Ha(async()=>{const{generateConsistencyMatrixPDF:Le}=await import("./pdfExport-9ci3zs38.js");return{generateConsistencyMatrixPDF:Le}},__vite__mapDeps([0,1]));le(x,"Informe_Consistencia_ScholarAI"),i("Informe PDF generado","success")}catch{i("Error al generar PDF","error")}},className:"px-4 py-2 rounded-xl bg-slate-900 dark:bg-white text-white dark:text-slate-900 text-sm font-bold flex items-center gap-2 hover:scale-105 transition-transform",children:[o.jsx("span",{className:"material-symbols-outlined text-lg",children:"picture_as_pdf"}),"PDF"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[ie==="saving"&&o.jsxs("span",{className:"text-xs font-bold text-slate-400 flex items-center gap-1 animate-pulse",children:[o.jsx("span",{className:"material-symbols-outlined text-sm",children:"cloud_upload"})," Guardando..."]}),ie==="saved"&&o.jsxs("span",{className:"text-xs font-bold text-emerald-500 flex items-center gap-1 animate-fade-in",children:[o.jsx("span",{className:"material-symbols-outlined text-sm",children:"cloud_done"})," Guardado"]}),ie==="error"&&o.jsxs("span",{className:"text-xs font-bold text-red-400 flex items-center gap-1",title:"Reintentando...",children:[o.jsx("span",{className:"material-symbols-outlined text-sm",children:"cloud_off"})," Error"]})]})]})]}),o.jsxs("div",{className:"flex-1 flex flex-col xl:flex-row gap-6 h-full overflow-hidden",children:[o.jsx("section",{className:"flex-1 bg-white/60 dark:bg-slate-800/60 rounded-[2rem] border border-white/60 dark:border-slate-700/60 backdrop-blur-xl shadow-sm flex flex-col relative overflow-hidden",children:o.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 md:p-10",children:u?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center animate-in fade-in duration-700",children:[o.jsxs("div",{className:"relative mb-8",children:[o.jsx("div",{className:"size-24 rounded-full border-4 border-slate-200 dark:border-slate-700 border-t-brand-orange animate-spin"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("span",{className:"material-symbols-outlined text-4xl text-brand-orange animate-pulse",children:"neurology"})})]}),o.jsx("h3",{className:"text-xl font-black uppercase tracking-tight text-slate-800 dark:text-white mb-2",children:"Analizando Estructura Profunda"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 max-w-md text-center mb-8",children:"Evaluando coherencia metodolgica y normativa..."}),o.jsx("div",{className:"w-64 h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-brand-orange transition-all duration-300",style:{width:`${m}%`}})})]}):x?o.jsx("div",{className:"animate-fade-in pb-10",children:o.jsx(uN,{componentName:"Consistency Display",onReset:()=>j("dashboard"),children:v==="dashboard"?o.jsx(oN,{result:x}):o.jsx(cN,{matrix:x.consistencyMatrix||[]})})}):o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"mb-8 w-48 md:w-64 opacity-80 mix-blend-multiply dark:mix-blend-normal",children:o.jsx("span",{className:"material-symbols-outlined text-9xl text-slate-200 dark:text-slate-700",children:"grid_on"})}),o.jsx("h2",{className:"text-xl font-black text-slate-800 dark:text-white uppercase tracking-wide mb-2 opacity-60",children:"No Matrix Generated"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm text-sm leading-relaxed",children:"Carga tu tesis y espera a que nuestros agentes forenses generen tu reporte de consistencia."})]})})}),o.jsxs("section",{className:"flex flex-col gap-4 w-full xl:w-80 shrink-0",children:[o.jsx("button",{onClick:()=>{var le;return(le=document.getElementById("hidden-file-upload"))==null?void 0:le.click()},className:`w-full py-6 px-6 rounded-[2rem] font-bold transition-all hover:shadow-xl border-2 border-dashed group text-left relative overflow-hidden
                                    ${t?"bg-emerald-50 dark:bg-emerald-900/10 border-emerald-500 hover:border-emerald-600":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600 hover:border-brand-orange dark:hover:border-brand-orange"}
                                `,children:o.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center transition-colors
                                        ${t?"bg-emerald-100 dark:bg-emerald-800 text-emerald-600 dark:text-emerald-300":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 group-hover:bg-brand-orange/10 group-hover:text-brand-orange"}
                                    `,children:o.jsx("span",{className:"material-symbols-outlined",children:t?"check_circle":"upload_file"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("span",{className:`block text-sm font-bold truncate ${t?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-white"}`,children:t?t.name:"Cargar Documento"}),o.jsx("span",{className:`block text-xs font-normal truncate ${t?"text-emerald-600/70 dark:text-emerald-400/70":"text-slate-400"}`,children:t?"Clic para cambiar archivo":"PDF o DOCX"})]})]})}),o.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-[2rem] border border-slate-200 dark:border-slate-700",children:[o.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-3 px-1",children:"Nivel Acadmico"}),o.jsx("div",{className:"grid grid-cols-1 gap-2",children:["Grado","Maestra","Doctorado"].map(le=>o.jsxs("button",{onClick:()=>E(le),className:`px-4 py-3 rounded-xl text-sm font-bold border-2 transition-all text-left flex items-center justify-between ${N===le?"border-brand-orange bg-brand-orange/5 text-brand-orange":"border-slate-100 dark:border-slate-700 text-slate-500 dark:text-slate-400 hover:border-slate-200"}`,children:[le,N===le&&o.jsx("span",{className:"material-symbols-outlined text-sm",children:"check_circle"})]},le))}),o.jsx("p",{className:"mt-3 text-[10px] text-slate-400 leading-tight px-1",children:"* Ajusta la severidad de deteccin y pesos de evaluacin segn el rigor del nivel."})]}),o.jsxs("button",{onClick:Be,disabled:u||!t&&!n.content,className:`
                                    w-full py-6 px-6 rounded-[2rem] font-bold text-left transition-all relative overflow-hidden shadow-xl
                                    ${u||!t&&!n.content?"bg-slate-100 text-slate-400 cursor-not-allowed dark:bg-slate-800 dark:text-slate-600":"bg-slate-900 dark:bg-white text-white dark:text-slate-900 hover:translate-y-[-2px] hover:shadow-2xl hover:shadow-brand-orange/20"}
                                `,children:[o.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 dark:bg-slate-200/20 flex items-center justify-center backdrop-blur-sm",children:u?o.jsx("span",{className:"material-symbols-outlined animate-spin",children:"sync"}):o.jsx("span",{className:"material-symbols-outlined",children:"neurology"})}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-lg",children:"Ejecutar Anlisis"}),o.jsx("span",{className:"block text-white/60 dark:text-slate-500 text-xs font-normal",children:u?"Procesando...":"Modo Forense Activo"})]})]}),o.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})]}),u&&o.jsx("div",{className:"absolute inset-0 bg-brand-orange/20",style:{width:`${m}%`,transition:"width 0.5s ease"}})]}),o.jsxs("div",{className:"mt-auto bg-slate-100 dark:bg-slate-800 p-6 rounded-[2rem] hidden xl:block",children:[o.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-2 text-sm",children:"Cmo funciona?"}),o.jsxs("ul",{className:"space-y-3",children:[o.jsxs("li",{className:"flex items-start gap-2 text-xs text-slate-500 dark:text-slate-400",children:[o.jsx("span",{className:"text-brand-orange",children:""}),o.jsx("span",{children:"Sube tu borrador de tesis o anteproyecto."})]}),o.jsxs("li",{className:"flex items-start gap-2 text-xs text-slate-500 dark:text-slate-400",children:[o.jsx("span",{className:"text-brand-orange",children:""}),o.jsx("span",{children:"Nuestra IA audita la coherencia lgica interna."})]}),o.jsxs("li",{className:"flex items-start gap-2 text-xs text-slate-500 dark:text-slate-400",children:[o.jsx("span",{className:"text-brand-orange",children:""}),o.jsx("span",{children:"Recibe un reporte de consistencia detallado."})]})]})]})]})]})]})]})]})},gN=()=>{const{uploadedFile:n,setUploadedFile:t}=so(),s=Fl(),{showNotification:i}=xd();return o.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 font-sans text-slate-900 dark:text-white pt-20 px-8 pb-12",children:o.jsxs("div",{className:"max-w-6xl mx-auto space-y-12",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsx("h1",{className:"text-4xl font-black tracking-tight text-slate-900 dark:text-white",children:"Centro de Auditora de Tesis"}),o.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl leading-relaxed",children:"Evaluacin integral de tu investigacin. Verifica la originalidad, consistencia metodolgica y cumplimiento normativo en un solo lugar."})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[o.jsxs("div",{onClick:()=>s("/herramientas/auditor"),className:"group bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm hover:shadow-xl border border-slate-200 dark:border-slate-700 hover:border-primary/50 transition-all cursor-pointer relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 group-hover:bg-primary/10 transition-all"}),o.jsxs("div",{className:"relative z-10 space-y-6",children:[o.jsx("div",{className:"w-14 h-14 bg-primary/10 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-500",children:o.jsx("span",{className:"material-symbols-outlined text-3xl text-primary",children:"security"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-2xl font-bold group-hover:text-primary transition-colors",children:"Auditora Forense (IA)"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed",children:"Detecta patrones de Inteligencia Artificial (ChatGPT, Gemini, Claude) y analiza la originalidad de tu redaccin."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-700 text-xs font-bold text-slate-600 dark:text-slate-300",children:"Anti-Plagio"}),o.jsx("span",{className:"px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-700 text-xs font-bold text-slate-600 dark:text-slate-300",children:"Firmas Lingsticas"})]})]})]}),o.jsxs("div",{onClick:()=>s("/herramientas/matriz"),className:"group bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm hover:shadow-xl border border-slate-200 dark:border-slate-700 hover:border-blue-500/50 transition-all cursor-pointer relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 group-hover:bg-blue-500/10 transition-all"}),o.jsxs("div",{className:"relative z-10 space-y-6",children:[o.jsx("div",{className:"w-14 h-14 bg-blue-500/10 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-500",children:o.jsx("span",{className:"material-symbols-outlined text-3xl text-blue-600",children:"grid_on"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-2xl font-bold group-hover:text-blue-600 transition-colors",children:"Matriz de Consistencia"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed",children:"Valida la coherencia lgica entre el problema, objetivos, hiptesis y variables. Anlisis metodolgico estricto."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-700 text-xs font-bold text-slate-600 dark:text-slate-300",children:"Metodologa"}),o.jsx("span",{className:"px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-700 text-xs font-bold text-slate-600 dark:text-slate-300",children:"Normativa"})]})]})]})]})]})})};class pN{constructor(){this.queue=[],this.listeners=[],this.status="idle",this.processing=!1,this.loadQueue()}loadQueue(){try{if(typeof window>"u")return;const t=localStorage.getItem("tutesis_save_queue");t&&(this.queue=JSON.parse(t),this.queue.length>0&&(this.status="saving",this.processQueue()))}catch(t){console.error("[Persistence] Failed to load queue",t)}}saveQueueToLocal(){typeof window>"u"||localStorage.setItem("tutesis_save_queue",JSON.stringify(this.queue))}notify(t){this.status=t,this.listeners.forEach(s=>s(t))}subscribe(t){return this.listeners.push(t),t(this.status),()=>{this.listeners=this.listeners.filter(s=>s!==t)}}async saveAnalysis(t,s,i){const c={id:crypto.randomUUID(),projectId:t,type:s,result:i,attempts:0,timestamp:Date.now()};this.queue.push(c),this.saveQueueToLocal(),this.notify("saving"),this.processQueue()}async processQueue(){if(this.processing||this.queue.length===0)return;this.processing=!0;const t=3;try{const{data:{session:s}}=await bt.auth.getSession();if(!s){console.log("[Persistence] Queue paused: No active session."),this.processing=!1,this.notify("error");return}const i=this.queue[0];let c="ok",u=[];if(i.type==="consistency"){const m=i.result;c=m.analysisStatus||"ok",u=m.analysisWarnings||[]}const{error:f}=await bt.from("analysis_reports").insert({project_id:i.projectId,type:i.type,result:i.result,status:c,warnings:u,version:"1.0"});f?(console.warn("[Persistence] Save failed (retry pending):",f.message),i.attempts++,i.attempts>=t?(console.error("[Persistence] Max retries reached. Dropping item:",i.id),this.queue.shift()):await new Promise(m=>setTimeout(m,1e3*i.attempts))):this.queue.shift(),this.saveQueueToLocal(),this.queue.length>0?(this.processing=!1,this.processQueue()):(this.processing=!1,this.notify("saved"),setTimeout(()=>this.notify("idle"),3e3))}catch(s){console.error("[Persistence] Critical Queue Error:",s),this.processing=!1,this.notify("error")}}async listAnalyses(t){const{data:s,error:i}=await bt.from("analysis_reports").select("*").eq("project_id",t).order("created_at",{ascending:!1});return i?(console.error("[Persistence] Error listing analyses:",i),[]):s}}const up=new pN,jg=Object.freeze(Object.defineProperty({__proto__:null,persistenceService:up},Symbol.toStringTag,{value:"Module"})),xN=()=>{const{project:n,session:t}=so(),s=Fl(),[i,c]=ae.useState([]),[u,f]=ae.useState(!0);ae.useEffect(()=>{(async()=>{if(n.id&&n.id!=="offline-demo"){const y=await up.listAnalyses(n.id);c(y)}f(!1)})()},[n.id]);const m=x=>new Date(x).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),g=x=>{switch(x.toLowerCase()){case"ok":return"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400";case"partial":return"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400";default:return"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"}};return t?o.jsxs("div",{className:"p-6 max-w-6xl mx-auto animate-fade-in",children:[o.jsxs("header",{className:"mb-8 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Historial de Anlisis"}),o.jsxs("p",{className:"text-slate-500",children:["Consulta tus reportes previos de ",n.title]})]}),o.jsxs("button",{onClick:()=>s("/portal"),className:"flex items-center gap-2 text-slate-500 hover:text-brand-orange transition-colors",children:[o.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"}),"Volver al Dashboard"]})]}),u?o.jsx("div",{className:"flex justify-center p-20",children:o.jsx("span",{className:"material-symbols-outlined animate-spin text-4xl text-brand-orange",children:"sync"})}):i.length===0?o.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-3xl p-20 text-center",children:[o.jsx("span",{className:"material-symbols-outlined text-6xl text-slate-200 mb-4",children:"folder_open"}),o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:"No hay reportes an"}),o.jsx("p",{className:"text-slate-500 mb-6",children:"Realiza tu primer anlisis para comenzar a construir tu historial."}),o.jsx("button",{onClick:()=>s("/herramientas/matriz"),className:"px-6 py-3 bg-brand-orange text-white rounded-xl font-bold hover:scale-105 transition-transform",children:"Empezar Anlisis"})]}):o.jsx("div",{className:"grid gap-4",children:i.map(x=>{const v=x.result.globalDiagnosis;return o.jsxs("div",{className:"group bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 p-5 rounded-2xl hover:border-brand-orange/30 transition-all flex flex-wrap md:flex-nowrap items-center gap-6",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-brand-orange/10 text-brand-orange flex items-center justify-center",children:o.jsx("span",{className:"material-symbols-outlined",children:x.type==="consistency"?"matrix":"rule"})}),o.jsxs("div",{className:"flex-1 min-w-[200px]",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[o.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200 capitalize",children:x.type==="consistency"?"Matriz de Consistencia":"Auditora Normativa"}),o.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold uppercase ${g(x.status)}`,children:x.status})]}),o.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:[o.jsx("span",{className:"material-symbols-outlined text-sm",children:"calendar_today"}),m(x.created_at)]})]}),v&&o.jsxs("div",{className:"text-center px-6 border-x border-slate-100 dark:border-slate-800 hidden md:block",children:[o.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"Diagnstico"}),o.jsx("div",{className:`text-sm font-black ${v.level==="Excelente"?"text-emerald-500":v.level==="Aceptable"?"text-blue-500":"text-amber-500"}`,children:v.level})]}),o.jsx("div",{className:"flex items-center gap-3 ml-auto",children:o.jsx("button",{onClick:()=>{console.log("Loading analysis:",x.id),s("/herramientas/matriz",{state:{loadedAnalysis:x.result}})},className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 hover:bg-brand-orange/10 hover:text-brand-orange text-slate-600 dark:text-slate-400 rounded-lg text-sm font-bold transition-all",children:"Ver Detalle"})})]},x.id)})})]}):o.jsxs("div",{className:"p-8 flex flex-col items-center justify-center min-h-[60vh] text-center",children:[o.jsx("span",{className:"material-symbols-outlined text-6xl text-slate-300 mb-4",children:"lock"}),o.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Historial Privado"}),o.jsx("p",{className:"text-slate-500 max-w-md",children:"Debes iniciar sesin para ver y gestionar tu historial de anlisis en la nube."})]})},bN=()=>{const[n,t]=ae.useState(()=>{if(typeof window<"u"){const s=localStorage.getItem("theme");return s?s==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}return!1});return ae.useEffect(()=>{const s=window.document.documentElement;n?(s.classList.add("dark"),localStorage.setItem("theme","dark")):(s.classList.remove("dark"),localStorage.setItem("theme","light"))},[n]),o.jsx("button",{onClick:()=>t(!n),className:"fixed bottom-4 right-20 z-[9999] bg-slate-800 dark:bg-slate-200 text-white dark:text-slate-900 p-3 rounded-full shadow-lg hover:scale-110 transition-transform",title:"Toggle Dark Mode",children:o.jsx("span",{className:"material-symbols-outlined",children:n?"light_mode":"dark_mode"})})},yN=()=>(ae.useEffect(()=>{console.log("TuTesisRD App Loaded v1.17 - Gemini Service Restored")},[]),o.jsx(Lb,{children:o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark",children:[o.jsx(bN,{}),o.jsxs(qb,{children:[o.jsx(yt,{path:"/",element:o.jsx(ny,{})}),o.jsx(yt,{path:"/nosotros",element:o.jsx(ry,{})}),o.jsx(yt,{path:"/servicios",element:o.jsx(iy,{})}),o.jsx(yt,{path:"/universidades",element:o.jsx(Bj,{})}),o.jsx(yt,{path:"/tesis/:universityId",element:o.jsx(qj,{})}),o.jsx(yt,{path:"/blog",element:o.jsx(ly,{})}),o.jsx(yt,{path:"/blog/:postId",element:o.jsx(Ij,{})}),o.jsx(yt,{path:"/registro",element:o.jsx(F0,{initialMode:"register"})}),o.jsx(yt,{path:"/monitoreo",element:o.jsx(F0,{initialMode:"monitor"})}),o.jsx(yt,{path:"/portal",element:o.jsx(oy,{})}),o.jsx(yt,{path:"/portal/historial",element:o.jsx(xN,{})}),o.jsx(yt,{path:"/exito",element:o.jsx(Fw,{})}),o.jsx(yt,{path:"/design",element:o.jsx(Ww,{})}),o.jsx(yt,{path:"/herramientas",element:o.jsx(gN,{})}),o.jsx(yt,{path:"/herramientas/auditor",element:o.jsx(Lj,{})}),o.jsx(yt,{path:"/herramientas/matriz",element:o.jsx(mN,{})})]})]})})),dp=document.getElementById("root");if(!dp)throw new Error("Could not find root element to mount to");const vN=sy.createRoot(dp);vN.render(o.jsx(ws.StrictMode,{children:o.jsx(e_,{children:o.jsx(t_,{children:o.jsx(yN,{})})})}));
