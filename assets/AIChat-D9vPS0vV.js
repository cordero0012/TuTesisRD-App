import{j as e}from"./index-DE8o0xXe.js";import{d as t}from"./react-vendor-fHhpFJoT.js";import{g,G as y}from"./client-DTttFfUq.js";import"./pdf-vendor-CfVBgxx6.js";import"./ai-vendor-Cr1lv8uJ.js";const S=()=>{const[a,l]=t.useState(!1),[n,i]=t.useState([{id:"1",text:"¡Hola! Soy tu asistente de tesis. ¿En qué puedo ayudarte hoy?",sender:"ai"}]),[r,d]=t.useState(""),[c,u]=t.useState(!1),m=t.useRef(null),x=()=>{var s;(s=m.current)==null||s.scrollIntoView({behavior:"smooth"})};t.useEffect(()=>{a&&x()},[n,a]);const p=async s=>{if(s&&s.preventDefault(),!r.trim())return;const b={id:Date.now().toString(),text:r,sender:"user"};i(o=>[...o,b]),d(""),u(!0);try{const o=await g({prompt:r,systemInstruction:"Eres TuTesis AI, un asistente experto en investigación académica, tesis y metodología. Responde de forma constructiva, profesional y en español.",provider:"groq",model:y,temperature:.7}),f={id:(Date.now()+1).toString(),text:o,sender:"ai"};i(h=>[...h,f])}catch(o){console.error(o)}finally{u(!1)}};return e.jsxs("div",{className:"fixed bottom-4 right-4 z-[9990] flex flex-col items-end pointer-events-none",children:[a&&e.jsxs("div",{className:"bg-white dark:bg-slate-800 w-80 sm:w-96 h-[500px] rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-700 mb-4 flex flex-col overflow-hidden pointer-events-auto animate-slide-up",children:[e.jsxs("div",{className:"bg-primary p-4 flex justify-between items-center text-white",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined",children:"smart_toy"}),e.jsx("span",{className:"font-bold",children:"TuTesis AI"})]}),e.jsx("button",{onClick:()=>l(!1),className:"hover:bg-white/20 rounded-full p-1 transition-colors",children:e.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-[#151e29]",children:[n.map(s=>e.jsx("div",{className:`flex ${s.sender==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[80%] p-3 rounded-2xl text-sm ${s.sender==="user"?"bg-primary text-white rounded-br-none":"bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-bl-none shadow-sm"}`,children:s.text})},s.id)),c&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"bg-white dark:bg-slate-700 p-3 rounded-2xl rounded-bl-none shadow-sm flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce delay-100"}),e.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce delay-200"})]})}),e.jsx("div",{ref:m})]}),e.jsxs("form",{onSubmit:p,className:"p-3 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex gap-2",children:[e.jsx("input",{type:"text",value:r,onChange:s=>d(s.target.value),placeholder:"Escribe tu pregunta...",className:"flex-1 rounded-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary"}),e.jsx("button",{type:"submit",disabled:c||!r.trim(),className:"bg-primary text-white p-2 rounded-full hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx("span",{className:"material-symbols-outlined text-sm",children:"send"})})]})]}),e.jsx("button",{onClick:()=>l(!a),className:"bg-primary text-white p-4 rounded-full shadow-lg hover:scale-110 hover:shadow-neon transition-all duration-300 pointer-events-auto",children:e.jsx("span",{className:"material-symbols-outlined text-2xl",children:a?"expand_more":"smart_toy"})})]})};export{S as default};
