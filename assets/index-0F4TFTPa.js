const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/persistenceService-Ck9W06os.js","assets/react-vendor-CxjHvgps.js","assets/pdf-vendor-DpgYL85d.js","assets/ai-vendor-BpRkNtKl.js","assets/doc-vendor-DE1ncqha.js","assets/pdfExport-9ci3zs38.js"])))=>i.map(i=>d[i]);
import{r as jg,a as Dx,b as ld,d as ie,u as od,L as _e,R as Ws,e as cd,f as Ng,N as Mx,H as zx,h as Ux,i as yt}from"./react-vendor-CxjHvgps.js";import{_ as Ha,G as Lx,g as qx}from"./pdf-vendor-DpgYL85d.js";import{G as Bx}from"./ai-vendor-BpRkNtKl.js";import{r as Ix,P as va,A as Qs,H as wu,T as ud,a as $x,F as Px,b as Hx,c as w0,d as _0,e as Gx,B as $n,W as Vx,f as Zx}from"./doc-vendor-DE1ncqha.js";function Yx(n,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in n)){const u=Object.getOwnPropertyDescriptor(i,c);u&&Object.defineProperty(n,c,u.get?u:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=r(c);fetch(c.href,u)}})();var _u={exports:{}},Qr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function Kx(){if(j0)return Qr;j0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(i,c,u){var f=null;if(u!==void 0&&(f=""+u),c.key!==void 0&&(f=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:n,type:i,key:f,ref:c!==void 0?c:null,props:u}}return Qr.Fragment=t,Qr.jsx=r,Qr.jsxs=r,Qr}var N0;function Jx(){return N0||(N0=1,_u.exports=Kx()),_u.exports}var o=Jx(),ju={exports:{}},Fr={},Nu={exports:{}},Su={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function Xx(){return S0||(S0=1,(function(n){function t(k,P){var K=k.length;k.push(P);e:for(;0<K;){var be=K-1>>>1,ce=k[be];if(0<c(ce,P))k[be]=P,k[K]=ce,K=be;else break e}}function r(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var P=k[0],K=k.pop();if(K!==P){k[0]=K;e:for(var be=0,ce=k.length,Ne=ce>>>1;be<Ne;){var je=2*(be+1)-1,me=k[je],Ze=je+1,na=k[Ze];if(0>c(me,K))Ze<ce&&0>c(na,me)?(k[be]=na,k[Ze]=K,be=Ze):(k[be]=me,k[je]=K,be=je);else if(Ze<ce&&0>c(na,K))k[be]=na,k[Ze]=K,be=Ze;else break e}}return P}function c(k,P){var K=k.sortIndex-P.sortIndex;return K!==0?K:k.id-P.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();n.unstable_now=function(){return f.now()-m}}var g=[],b=[],y=1,v=null,_=3,N=!1,T=!1,R=!1,U=!1,L=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function V(k){for(var P=r(b);P!==null;){if(P.callback===null)i(b);else if(P.startTime<=k)i(b),P.sortIndex=P.expirationTime,t(g,P);else break;P=r(b)}}function ee(k){if(R=!1,V(k),!T)if(r(g)!==null)T=!0,J||(J=!0,Oe());else{var P=r(b);P!==null&&F(ee,P.startTime-k)}}var J=!1,le=-1,oe=5,Q=-1;function qe(){return U?!0:!(n.unstable_now()-Q<oe)}function lt(){if(U=!1,J){var k=n.unstable_now();Q=k;var P=!0;try{e:{T=!1,R&&(R=!1,B(le),le=-1),N=!0;var K=_;try{t:{for(V(k),v=r(g);v!==null&&!(v.expirationTime>k&&qe());){var be=v.callback;if(typeof be=="function"){v.callback=null,_=v.priorityLevel;var ce=be(v.expirationTime<=k);if(k=n.unstable_now(),typeof ce=="function"){v.callback=ce,V(k),P=!0;break t}v===r(g)&&i(g),V(k)}else i(g);v=r(g)}if(v!==null)P=!0;else{var Ne=r(b);Ne!==null&&F(ee,Ne.startTime-k),P=!1}}break e}finally{v=null,_=K,N=!1}P=void 0}}finally{P?Oe():J=!1}}}var Oe;if(typeof q=="function")Oe=function(){q(lt)};else if(typeof MessageChannel<"u"){var Vt=new MessageChannel,bt=Vt.port2;Vt.port1.onmessage=lt,Oe=function(){bt.postMessage(null)}}else Oe=function(){L(lt,0)};function F(k,P){le=L(function(){k(n.unstable_now())},P)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(k){switch(_){case 1:case 2:case 3:var P=3;break;default:P=_}var K=_;_=P;try{return k()}finally{_=K}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(k,P){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var K=_;_=k;try{return P()}finally{_=K}},n.unstable_scheduleCallback=function(k,P,K){var be=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?be+K:be):K=be,k){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=K+ce,k={id:y++,callback:P,priorityLevel:k,startTime:K,expirationTime:ce,sortIndex:-1},K>be?(k.sortIndex=K,t(b,k),r(g)===null&&k===r(b)&&(R?(B(le),le=-1):R=!0,F(ee,K-be))):(k.sortIndex=ce,t(g,k),T||N||(T=!0,J||(J=!0,Oe()))),k},n.unstable_shouldYield=qe,n.unstable_wrapCallback=function(k){var P=_;return function(){var K=_;_=P;try{return k.apply(this,arguments)}finally{_=K}}}})(Su)),Su}var k0;function Qx(){return k0||(k0=1,Nu.exports=Xx()),Nu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function Fx(){if(A0)return Fr;A0=1;var n=Qx(),t=jg(),r=Dx();function i(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,s=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(s=a.return),e=a.return;while(e)}return a.tag===3?s:null}function f(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function m(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(i(188))}function b(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(i(188));return a!==e?null:e}for(var s=e,l=a;;){var d=s.return;if(d===null)break;var h=d.alternate;if(h===null){if(l=d.return,l!==null){s=l;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===s)return g(d),e;if(h===l)return g(d),a;h=h.sibling}throw Error(i(188))}if(s.return!==l.return)s=d,l=h;else{for(var p=!1,x=d.child;x;){if(x===s){p=!0,s=d,l=h;break}if(x===l){p=!0,l=d,s=h;break}x=x.sibling}if(!p){for(x=h.child;x;){if(x===s){p=!0,s=h,l=d;break}if(x===l){p=!0,l=h,s=d;break}x=x.sibling}if(!p)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:a}function y(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=y(e),a!==null)return a;e=e.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),q=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),qe=Symbol.for("react.memo_cache_sentinel"),lt=Symbol.iterator;function Oe(e){return e===null||typeof e!="object"?null:(e=lt&&e[lt]||e["@@iterator"],typeof e=="function"?e:null)}var Vt=Symbol.for("react.client.reference");function bt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Vt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case L:return"Profiler";case U:return"StrictMode";case ee:return"Suspense";case J:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case q:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case V:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case le:return a=e.displayName||null,a!==null?a:bt(e.type)||"Memo";case oe:a=e._payload,e=e._init;try{return bt(e(a))}catch{}}return null}var F=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},be=[],ce=-1;function Ne(e){return{current:e}}function je(e){0>ce||(e.current=be[ce],be[ce]=null,ce--)}function me(e,a){ce++,be[ce]=e.current,e.current=a}var Ze=Ne(null),na=Ne(null),ma=Ne(null),Va=Ne(null);function Za(e,a){switch(me(ma,a),me(na,e),me(Ze,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?Gm(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=Gm(a),e=Vm(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}je(Ze),me(Ze,e)}function ga(){je(Ze),je(na),je(ma)}function to(e){e.memoizedState!==null&&me(Va,e);var a=Ze.current,s=Vm(a,e.type);a!==s&&(me(na,e),me(Ze,s))}function gi(e){na.current===e&&(je(Ze),je(na)),Va.current===e&&(je(Va),Yr._currentValue=K)}var ao,yd;function As(e){if(ao===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);ao=a&&a[1]||"",yd=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ao+e+yd}var so=!1;function no(e,a){if(!e||so)return"";so=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(C){var O=C}Reflect.construct(e,[],z)}else{try{z.call()}catch(C){O=C}e.call(z.prototype)}}else{try{throw Error()}catch(C){O=C}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(C){if(C&&O&&typeof C.stack=="string")return[C.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),p=h[0],x=h[1];if(p&&x){var w=p.split(`
`),E=x.split(`
`);for(d=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;d<E.length&&!E[d].includes("DetermineComponentFrameRoot");)d++;if(l===w.length||d===E.length)for(l=w.length-1,d=E.length-1;1<=l&&0<=d&&w[l]!==E[d];)d--;for(;1<=l&&0<=d;l--,d--)if(w[l]!==E[d]){if(l!==1||d!==1)do if(l--,d--,0>d||w[l]!==E[d]){var D=`
`+w[l].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=l&&0<=d);break}}}finally{so=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?As(s):""}function up(e,a){switch(e.tag){case 26:case 27:case 5:return As(e.type);case 16:return As("Lazy");case 13:return e.child!==a&&a!==null?As("Suspense Fallback"):As("Suspense");case 19:return As("SuspenseList");case 0:case 15:return no(e.type,!1);case 11:return no(e.type.render,!1);case 1:return no(e.type,!0);case 31:return As("Activity");default:return""}}function vd(e){try{var a="",s=null;do a+=up(e,s),s=e,e=e.return;while(e);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ro=Object.prototype.hasOwnProperty,io=n.unstable_scheduleCallback,lo=n.unstable_cancelCallback,dp=n.unstable_shouldYield,hp=n.unstable_requestPaint,Ct=n.unstable_now,fp=n.unstable_getCurrentPriorityLevel,wd=n.unstable_ImmediatePriority,_d=n.unstable_UserBlockingPriority,pi=n.unstable_NormalPriority,mp=n.unstable_LowPriority,jd=n.unstable_IdlePriority,gp=n.log,pp=n.unstable_setDisableYieldValue,rr=null,Rt=null;function Ya(e){if(typeof gp=="function"&&pp(e),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(rr,e)}catch{}}var Dt=Math.clz32?Math.clz32:yp,bp=Math.log,xp=Math.LN2;function yp(e){return e>>>=0,e===0?32:31-(bp(e)/xp|0)|0}var bi=256,xi=262144,yi=4194304;function Es(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vi(e,a,s){var l=e.pendingLanes;if(l===0)return 0;var d=0,h=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var x=l&134217727;return x!==0?(l=x&~h,l!==0?d=Es(l):(p&=x,p!==0?d=Es(p):s||(s=x&~e,s!==0&&(d=Es(s))))):(x=l&~h,x!==0?d=Es(x):p!==0?d=Es(p):s||(s=l&~e,s!==0&&(d=Es(s)))),d===0?0:a!==0&&a!==d&&(a&h)===0&&(h=d&-d,s=a&-a,h>=s||h===32&&(s&4194048)!==0)?a:d}function ir(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function vp(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nd(){var e=yi;return yi<<=1,(yi&62914560)===0&&(yi=4194304),e}function oo(e){for(var a=[],s=0;31>s;s++)a.push(e);return a}function lr(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wp(e,a,s,l,d,h){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var x=e.entanglements,w=e.expirationTimes,E=e.hiddenUpdates;for(s=p&~s;0<s;){var D=31-Dt(s),z=1<<D;x[D]=0,w[D]=-1;var O=E[D];if(O!==null)for(E[D]=null,D=0;D<O.length;D++){var C=O[D];C!==null&&(C.lane&=-536870913)}s&=~z}l!==0&&Sd(e,l,0),h!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=h&~(p&~a))}function Sd(e,a,s){e.pendingLanes|=a,e.suspendedLanes&=~a;var l=31-Dt(a);e.entangledLanes|=a,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function kd(e,a){var s=e.entangledLanes|=a;for(e=e.entanglements;s;){var l=31-Dt(s),d=1<<l;d&a|e[l]&a&&(e[l]|=a),s&=~d}}function Ad(e,a){var s=a&-a;return s=(s&42)!==0?1:co(s),(s&(e.suspendedLanes|a))!==0?0:s}function co(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function uo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ed(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:m0(e.type))}function Td(e,a){var s=P.p;try{return P.p=e,a()}finally{P.p=s}}var Ka=Math.random().toString(36).slice(2),ut="__reactFiber$"+Ka,_t="__reactProps$"+Ka,an="__reactContainer$"+Ka,ho="__reactEvents$"+Ka,_p="__reactListeners$"+Ka,jp="__reactHandles$"+Ka,Od="__reactResources$"+Ka,or="__reactMarker$"+Ka;function fo(e){delete e[ut],delete e[_t],delete e[ho],delete e[_p],delete e[jp]}function sn(e){var a=e[ut];if(a)return a;for(var s=e.parentNode;s;){if(a=s[an]||s[ut]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(e=Fm(e);e!==null;){if(s=e[ut])return s;e=Fm(e)}return a}e=s,s=e.parentNode}return null}function nn(e){if(e=e[ut]||e[an]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function cr(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(i(33))}function rn(e){var a=e[Od];return a||(a=e[Od]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ot(e){e[or]=!0}var Cd=new Set,Rd={};function Ts(e,a){ln(e,a),ln(e+"Capture",a)}function ln(e,a){for(Rd[e]=a,e=0;e<a.length;e++)Cd.add(a[e])}var Np=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dd={},Md={};function Sp(e){return ro.call(Md,e)?!0:ro.call(Dd,e)?!1:Np.test(e)?Md[e]=!0:(Dd[e]=!0,!1)}function wi(e,a,s){if(Sp(a))if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+s)}}function _i(e,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+s)}}function ja(e,a,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(a,s,""+l)}}function Zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zd(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function kp(e,a,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,h=l.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return d.call(this)},set:function(p){s=""+p,h.call(this,p)}}),Object.defineProperty(e,a,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function mo(e){if(!e._valueTracker){var a=zd(e)?"checked":"value";e._valueTracker=kp(e,a,""+e[a])}}function Ud(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var s=a.getValue(),l="";return e&&(l=zd(e)?e.checked?"true":"false":e.value),e=l,e!==s?(a.setValue(e),!0):!1}function ji(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ap=/[\n"\\]/g;function Yt(e){return e.replace(Ap,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function go(e,a,s,l,d,h,p,x){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),a!=null?p==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Zt(a)):e.value!==""+Zt(a)&&(e.value=""+Zt(a)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),a!=null?po(e,p,Zt(a)):s!=null?po(e,p,Zt(s)):l!=null&&e.removeAttribute("value"),d==null&&h!=null&&(e.defaultChecked=!!h),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Zt(x):e.removeAttribute("name")}function Ld(e,a,s,l,d,h,p,x){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),a!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||a!=null)){mo(e);return}s=s!=null?""+Zt(s):"",a=a!=null?""+Zt(a):s,x||a===e.value||(e.value=a),e.defaultValue=a}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=x?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),mo(e)}function po(e,a,s){a==="number"&&ji(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function on(e,a,s,l){if(e=e.options,a){a={};for(var d=0;d<s.length;d++)a["$"+s[d]]=!0;for(s=0;s<e.length;s++)d=a.hasOwnProperty("$"+e[s].value),e[s].selected!==d&&(e[s].selected=d),d&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Zt(s),a=null,d=0;d<e.length;d++){if(e[d].value===s){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}a!==null||e[d].disabled||(a=e[d])}a!==null&&(a.selected=!0)}}function qd(e,a,s){if(a!=null&&(a=""+Zt(a),a!==e.value&&(e.value=a),s==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=s!=null?""+Zt(s):""}function Bd(e,a,s,l){if(a==null){if(l!=null){if(s!=null)throw Error(i(92));if(F(l)){if(1<l.length)throw Error(i(93));l=l[0]}s=l}s==null&&(s=""),a=s}s=Zt(a),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),mo(e)}function cn(e,a){if(a){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=a;return}}e.textContent=a}var Ep=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Id(e,a,s){var l=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":l?e.setProperty(a,s):typeof s!="number"||s===0||Ep.has(a)?a==="float"?e.cssFloat=s:e[a]=(""+s).trim():e[a]=s+"px"}function $d(e,a,s){if(a!=null&&typeof a!="object")throw Error(i(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var d in a)l=a[d],a.hasOwnProperty(d)&&s[d]!==l&&Id(e,d,l)}else for(var h in a)a.hasOwnProperty(h)&&Id(e,h,a[h])}function bo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Op=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ni(e){return Op.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Na(){}var xo=null;function yo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var un=null,dn=null;function Pd(e){var a=nn(e);if(a&&(e=a.stateNode)){var s=e[_t]||null;e:switch(e=a.stateNode,a.type){case"input":if(go(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Yt(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var l=s[a];if(l!==e&&l.form===e.form){var d=l[_t]||null;if(!d)throw Error(i(90));go(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<s.length;a++)l=s[a],l.form===e.form&&Ud(l)}break e;case"textarea":qd(e,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&on(e,!!s.multiple,a,!1)}}}var vo=!1;function Hd(e,a,s){if(vo)return e(a,s);vo=!0;try{var l=e(a);return l}finally{if(vo=!1,(un!==null||dn!==null)&&(dl(),un&&(a=un,e=dn,dn=un=null,Pd(a),e)))for(a=0;a<e.length;a++)Pd(e[a])}}function ur(e,a){var s=e.stateNode;if(s===null)return null;var l=s[_t]||null;if(l===null)return null;s=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,a,typeof s));return s}var Sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wo=!1;if(Sa)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){wo=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{wo=!1}var Ja=null,_o=null,Si=null;function Gd(){if(Si)return Si;var e,a=_o,s=a.length,l,d="value"in Ja?Ja.value:Ja.textContent,h=d.length;for(e=0;e<s&&a[e]===d[e];e++);var p=s-e;for(l=1;l<=p&&a[s-l]===d[h-l];l++);return Si=d.slice(e,1<l?1-l:void 0)}function ki(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function Ai(){return!0}function Vd(){return!1}function jt(e){function a(s,l,d,h,p){this._reactName=s,this._targetInst=d,this.type=l,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(s=e[x],this[x]=s?s(h):h[x]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ai:Vd,this.isPropagationStopped=Vd,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),a}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=jt(Os),hr=v({},Os,{view:0,detail:0}),Cp=jt(hr),jo,No,fr,Ti=v({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ko,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fr&&(fr&&e.type==="mousemove"?(jo=e.screenX-fr.screenX,No=e.screenY-fr.screenY):No=jo=0,fr=e),jo)},movementY:function(e){return"movementY"in e?e.movementY:No}}),Zd=jt(Ti),Rp=v({},Ti,{dataTransfer:0}),Dp=jt(Rp),Mp=v({},hr,{relatedTarget:0}),So=jt(Mp),zp=v({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),Up=jt(zp),Lp=v({},Os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qp=jt(Lp),Bp=v({},Os,{data:0}),Yd=jt(Bp),Ip={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$p={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hp(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=Pp[e])?!!a[e]:!1}function ko(){return Hp}var Gp=v({},hr,{key:function(e){if(e.key){var a=Ip[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=ki(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$p[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ko,charCode:function(e){return e.type==="keypress"?ki(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ki(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vp=jt(Gp),Zp=v({},Ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kd=jt(Zp),Yp=v({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ko}),Kp=jt(Yp),Jp=v({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xp=jt(Jp),Qp=v({},Ti,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fp=jt(Qp),Wp=v({},Os,{newState:0,oldState:0}),eb=jt(Wp),tb=[9,13,27,32],Ao=Sa&&"CompositionEvent"in window,mr=null;Sa&&"documentMode"in document&&(mr=document.documentMode);var ab=Sa&&"TextEvent"in window&&!mr,Jd=Sa&&(!Ao||mr&&8<mr&&11>=mr),Xd=" ",Qd=!1;function Fd(e,a){switch(e){case"keyup":return tb.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hn=!1;function sb(e,a){switch(e){case"compositionend":return Wd(a);case"keypress":return a.which!==32?null:(Qd=!0,Xd);case"textInput":return e=a.data,e===Xd&&Qd?null:e;default:return null}}function nb(e,a){if(hn)return e==="compositionend"||!Ao&&Fd(e,a)?(e=Gd(),Si=_o=Ja=null,hn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Jd&&a.locale!=="ko"?null:a.data;default:return null}}var rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eh(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!rb[e.type]:a==="textarea"}function th(e,a,s,l){un?dn?dn.push(l):dn=[l]:un=l,a=xl(a,"onChange"),0<a.length&&(s=new Ei("onChange","change",null,s,l),e.push({event:s,listeners:a}))}var gr=null,pr=null;function ib(e){qm(e,0)}function Oi(e){var a=cr(e);if(Ud(a))return e}function ah(e,a){if(e==="change")return a}var sh=!1;if(Sa){var Eo;if(Sa){var To="oninput"in document;if(!To){var nh=document.createElement("div");nh.setAttribute("oninput","return;"),To=typeof nh.oninput=="function"}Eo=To}else Eo=!1;sh=Eo&&(!document.documentMode||9<document.documentMode)}function rh(){gr&&(gr.detachEvent("onpropertychange",ih),pr=gr=null)}function ih(e){if(e.propertyName==="value"&&Oi(pr)){var a=[];th(a,pr,e,yo(e)),Hd(ib,a)}}function lb(e,a,s){e==="focusin"?(rh(),gr=a,pr=s,gr.attachEvent("onpropertychange",ih)):e==="focusout"&&rh()}function ob(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oi(pr)}function cb(e,a){if(e==="click")return Oi(a)}function ub(e,a){if(e==="input"||e==="change")return Oi(a)}function db(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var Mt=typeof Object.is=="function"?Object.is:db;function br(e,a){if(Mt(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var s=Object.keys(e),l=Object.keys(a);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var d=s[l];if(!ro.call(a,d)||!Mt(e[d],a[d]))return!1}return!0}function lh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oh(e,a){var s=lh(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=a&&l>=a)return{node:s,offset:a-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=lh(s)}}function ch(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?ch(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function uh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=ji(e.document);a instanceof e.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)e=a.contentWindow;else break;a=ji(e.document)}return a}function Oo(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var hb=Sa&&"documentMode"in document&&11>=document.documentMode,fn=null,Co=null,xr=null,Ro=!1;function dh(e,a,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ro||fn==null||fn!==ji(l)||(l=fn,"selectionStart"in l&&Oo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xr&&br(xr,l)||(xr=l,l=xl(Co,"onSelect"),0<l.length&&(a=new Ei("onSelect","select",null,a,s),e.push({event:a,listeners:l}),a.target=fn)))}function Cs(e,a){var s={};return s[e.toLowerCase()]=a.toLowerCase(),s["Webkit"+e]="webkit"+a,s["Moz"+e]="moz"+a,s}var mn={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},Do={},hh={};Sa&&(hh=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);function Rs(e){if(Do[e])return Do[e];if(!mn[e])return e;var a=mn[e],s;for(s in a)if(a.hasOwnProperty(s)&&s in hh)return Do[e]=a[s];return e}var fh=Rs("animationend"),mh=Rs("animationiteration"),gh=Rs("animationstart"),fb=Rs("transitionrun"),mb=Rs("transitionstart"),gb=Rs("transitioncancel"),ph=Rs("transitionend"),bh=new Map,Mo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mo.push("scrollEnd");function ra(e,a){bh.set(e,a),Ts(a,[e])}var Ci=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Kt=[],gn=0,zo=0;function Ri(){for(var e=gn,a=zo=gn=0;a<e;){var s=Kt[a];Kt[a++]=null;var l=Kt[a];Kt[a++]=null;var d=Kt[a];Kt[a++]=null;var h=Kt[a];if(Kt[a++]=null,l!==null&&d!==null){var p=l.pending;p===null?d.next=d:(d.next=p.next,p.next=d),l.pending=d}h!==0&&xh(s,d,h)}}function Di(e,a,s,l){Kt[gn++]=e,Kt[gn++]=a,Kt[gn++]=s,Kt[gn++]=l,zo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Uo(e,a,s,l){return Di(e,a,s,l),Mi(e)}function Ds(e,a){return Di(e,null,null,a),Mi(e)}function xh(e,a,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var d=!1,h=e.return;h!==null;)h.childLanes|=s,l=h.alternate,l!==null&&(l.childLanes|=s),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(d=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,d&&a!==null&&(d=31-Dt(s),e=h.hiddenUpdates,l=e[d],l===null?e[d]=[a]:l.push(a),a.lane=s|536870912),h):null}function Mi(e){if(50<Ir)throw Ir=0,Vc=null,Error(i(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var pn={};function pb(e,a,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,a,s,l){return new pb(e,a,s,l)}function Lo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ka(e,a){var s=e.alternate;return s===null?(s=zt(e.tag,a,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=a,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,a=e.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function yh(e,a){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,a=s.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function zi(e,a,s,l,d,h){var p=0;if(l=e,typeof e=="function")Lo(e)&&(p=1);else if(typeof e=="string")p=wx(e,s,Ze.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=zt(31,s,a,d),e.elementType=Q,e.lanes=h,e;case R:return Ms(s.children,d,h,a);case U:p=8,d|=24;break;case L:return e=zt(12,s,a,d|2),e.elementType=L,e.lanes=h,e;case ee:return e=zt(13,s,a,d),e.elementType=ee,e.lanes=h,e;case J:return e=zt(19,s,a,d),e.elementType=J,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:p=10;break e;case B:p=9;break e;case V:p=11;break e;case le:p=14;break e;case oe:p=16,l=null;break e}p=29,s=Error(i(130,e===null?"null":typeof e,"")),l=null}return a=zt(p,s,a,d),a.elementType=e,a.type=l,a.lanes=h,a}function Ms(e,a,s,l){return e=zt(7,e,l,a),e.lanes=s,e}function qo(e,a,s){return e=zt(6,e,null,a),e.lanes=s,e}function vh(e){var a=zt(18,null,null,0);return a.stateNode=e,a}function Bo(e,a,s){return a=zt(4,e.children!==null?e.children:[],e.key,a),a.lanes=s,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var wh=new WeakMap;function Jt(e,a){if(typeof e=="object"&&e!==null){var s=wh.get(e);return s!==void 0?s:(a={value:e,source:a,stack:vd(a)},wh.set(e,a),a)}return{value:e,source:a,stack:vd(a)}}var bn=[],xn=0,Ui=null,yr=0,Xt=[],Qt=0,Xa=null,pa=1,ba="";function Aa(e,a){bn[xn++]=yr,bn[xn++]=Ui,Ui=e,yr=a}function _h(e,a,s){Xt[Qt++]=pa,Xt[Qt++]=ba,Xt[Qt++]=Xa,Xa=e;var l=pa;e=ba;var d=32-Dt(l)-1;l&=~(1<<d),s+=1;var h=32-Dt(a)+d;if(30<h){var p=d-d%5;h=(l&(1<<p)-1).toString(32),l>>=p,d-=p,pa=1<<32-Dt(a)+d|s<<d|l,ba=h+e}else pa=1<<h|s<<d|l,ba=e}function Io(e){e.return!==null&&(Aa(e,1),_h(e,1,0))}function $o(e){for(;e===Ui;)Ui=bn[--xn],bn[xn]=null,yr=bn[--xn],bn[xn]=null;for(;e===Xa;)Xa=Xt[--Qt],Xt[Qt]=null,ba=Xt[--Qt],Xt[Qt]=null,pa=Xt[--Qt],Xt[Qt]=null}function jh(e,a){Xt[Qt++]=pa,Xt[Qt++]=ba,Xt[Qt++]=Xa,pa=a.id,ba=a.overflow,Xa=e}var dt=null,$e=null,ve=!1,Qa=null,Ft=!1,Po=Error(i(519));function Fa(e){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vr(Jt(a,e)),Po}function Nh(e){var a=e.stateNode,s=e.type,l=e.memoizedProps;switch(a[ut]=e,a[_t]=l,s){case"dialog":pe("cancel",a),pe("close",a);break;case"iframe":case"object":case"embed":pe("load",a);break;case"video":case"audio":for(s=0;s<Pr.length;s++)pe(Pr[s],a);break;case"source":pe("error",a);break;case"img":case"image":case"link":pe("error",a),pe("load",a);break;case"details":pe("toggle",a);break;case"input":pe("invalid",a),Ld(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":pe("invalid",a);break;case"textarea":pe("invalid",a),Bd(a,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||l.suppressHydrationWarning===!0||Pm(a.textContent,s)?(l.popover!=null&&(pe("beforetoggle",a),pe("toggle",a)),l.onScroll!=null&&pe("scroll",a),l.onScrollEnd!=null&&pe("scrollend",a),l.onClick!=null&&(a.onclick=Na),a=!0):a=!1,a||Fa(e,!0)}function Sh(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 31:case 13:Ft=!1;return;case 27:case 3:Ft=!0;return;default:dt=dt.return}}function yn(e){if(e!==dt)return!1;if(!ve)return Sh(e),ve=!0,!1;var a=e.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||iu(e.type,e.memoizedProps)),s=!s),s&&$e&&Fa(e),Sh(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));$e=Qm(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));$e=Qm(e)}else a===27?(a=$e,hs(e.type)?(e=du,du=null,$e=e):$e=a):$e=dt?ea(e.stateNode.nextSibling):null;return!0}function zs(){$e=dt=null,ve=!1}function Ho(){var e=Qa;return e!==null&&(At===null?At=e:At.push.apply(At,e),Qa=null),e}function vr(e){Qa===null?Qa=[e]:Qa.push(e)}var Go=Ne(null),Us=null,Ea=null;function Wa(e,a,s){me(Go,a._currentValue),a._currentValue=s}function Ta(e){e._currentValue=Go.current,je(Go)}function Vo(e,a,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),e===s)break;e=e.return}}function Zo(e,a,s,l){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var h=d.dependencies;if(h!==null){var p=d.child;h=h.firstContext;e:for(;h!==null;){var x=h;h=d;for(var w=0;w<a.length;w++)if(x.context===a[w]){h.lanes|=s,x=h.alternate,x!==null&&(x.lanes|=s),Vo(h.return,s,e),l||(p=null);break e}h=x.next}}else if(d.tag===18){if(p=d.return,p===null)throw Error(i(341));p.lanes|=s,h=p.alternate,h!==null&&(h.lanes|=s),Vo(p,s,e),p=null}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===e){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}}function vn(e,a,s,l){e=null;for(var d=a,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var p=d.alternate;if(p===null)throw Error(i(387));if(p=p.memoizedProps,p!==null){var x=d.type;Mt(d.pendingProps.value,p.value)||(e!==null?e.push(x):e=[x])}}else if(d===Va.current){if(p=d.alternate,p===null)throw Error(i(387));p.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Yr):e=[Yr])}d=d.return}e!==null&&Zo(a,e,s,l),a.flags|=262144}function Li(e){for(e=e.firstContext;e!==null;){if(!Mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ls(e){Us=e,Ea=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ht(e){return kh(Us,e)}function qi(e,a){return Us===null&&Ls(e),kh(e,a)}function kh(e,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Ea===null){if(e===null)throw Error(i(308));Ea=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else Ea=Ea.next=a;return s}var bb=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){a.aborted=!0,e.forEach(function(s){return s()})}},xb=n.unstable_scheduleCallback,yb=n.unstable_NormalPriority,We={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yo(){return{controller:new bb,data:new Map,refCount:0}}function wr(e){e.refCount--,e.refCount===0&&xb(yb,function(){e.controller.abort()})}var _r=null,Ko=0,wn=0,_n=null;function vb(e,a){if(_r===null){var s=_r=[];Ko=0,wn=Qc(),_n={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Ko++,a.then(Ah,Ah),a}function Ah(){if(--Ko===0&&_r!==null){_n!==null&&(_n.status="fulfilled");var e=_r;_r=null,wn=0,_n=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function wb(e,a){var s=[],l={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return e.then(function(){l.status="fulfilled",l.value=a;for(var d=0;d<s.length;d++)(0,s[d])(a)},function(d){for(l.status="rejected",l.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),l}var Eh=k.S;k.S=function(e,a){hm=Ct(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&vb(e,a),Eh!==null&&Eh(e,a)};var qs=Ne(null);function Jo(){var e=qs.current;return e!==null?e:Be.pooledCache}function Bi(e,a){a===null?me(qs,qs.current):me(qs,a.pool)}function Th(){var e=Jo();return e===null?null:{parent:We._currentValue,pool:e}}var jn=Error(i(460)),Xo=Error(i(474)),Ii=Error(i(542)),$i={then:function(){}};function Oh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ch(e,a,s){switch(s=e[s],s===void 0?e.push(a):s!==a&&(a.then(Na,Na),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Dh(e),e;default:if(typeof a.status=="string")a.then(Na,Na);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=a,e.status="pending",e.then(function(l){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=l}},function(l){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Dh(e),e}throw Is=a,jn}}function Bs(e){try{var a=e._init;return a(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Is=s,jn):s}}var Is=null;function Rh(){if(Is===null)throw Error(i(459));var e=Is;return Is=null,e}function Dh(e){if(e===jn||e===Ii)throw Error(i(483))}var Nn=null,jr=0;function Pi(e){var a=jr;return jr+=1,Nn===null&&(Nn=[]),Ch(Nn,e,a)}function Nr(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Hi(e,a){throw a.$$typeof===_?Error(i(525)):(e=Object.prototype.toString.call(a),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function Mh(e){function a(S,j){if(e){var A=S.deletions;A===null?(S.deletions=[j],S.flags|=16):A.push(j)}}function s(S,j){if(!e)return null;for(;j!==null;)a(S,j),j=j.sibling;return null}function l(S){for(var j=new Map;S!==null;)S.key!==null?j.set(S.key,S):j.set(S.index,S),S=S.sibling;return j}function d(S,j){return S=ka(S,j),S.index=0,S.sibling=null,S}function h(S,j,A){return S.index=A,e?(A=S.alternate,A!==null?(A=A.index,A<j?(S.flags|=67108866,j):A):(S.flags|=67108866,j)):(S.flags|=1048576,j)}function p(S){return e&&S.alternate===null&&(S.flags|=67108866),S}function x(S,j,A,M){return j===null||j.tag!==6?(j=qo(A,S.mode,M),j.return=S,j):(j=d(j,A),j.return=S,j)}function w(S,j,A,M){var ae=A.type;return ae===R?D(S,j,A.props.children,M,A.key):j!==null&&(j.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===oe&&Bs(ae)===j.type)?(j=d(j,A.props),Nr(j,A),j.return=S,j):(j=zi(A.type,A.key,A.props,null,S.mode,M),Nr(j,A),j.return=S,j)}function E(S,j,A,M){return j===null||j.tag!==4||j.stateNode.containerInfo!==A.containerInfo||j.stateNode.implementation!==A.implementation?(j=Bo(A,S.mode,M),j.return=S,j):(j=d(j,A.children||[]),j.return=S,j)}function D(S,j,A,M,ae){return j===null||j.tag!==7?(j=Ms(A,S.mode,M,ae),j.return=S,j):(j=d(j,A),j.return=S,j)}function z(S,j,A){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=qo(""+j,S.mode,A),j.return=S,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case N:return A=zi(j.type,j.key,j.props,null,S.mode,A),Nr(A,j),A.return=S,A;case T:return j=Bo(j,S.mode,A),j.return=S,j;case oe:return j=Bs(j),z(S,j,A)}if(F(j)||Oe(j))return j=Ms(j,S.mode,A,null),j.return=S,j;if(typeof j.then=="function")return z(S,Pi(j),A);if(j.$$typeof===q)return z(S,qi(S,j),A);Hi(S,j)}return null}function O(S,j,A,M){var ae=j!==null?j.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return ae!==null?null:x(S,j,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case N:return A.key===ae?w(S,j,A,M):null;case T:return A.key===ae?E(S,j,A,M):null;case oe:return A=Bs(A),O(S,j,A,M)}if(F(A)||Oe(A))return ae!==null?null:D(S,j,A,M,null);if(typeof A.then=="function")return O(S,j,Pi(A),M);if(A.$$typeof===q)return O(S,j,qi(S,A),M);Hi(S,A)}return null}function C(S,j,A,M,ae){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return S=S.get(A)||null,x(j,S,""+M,ae);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case N:return S=S.get(M.key===null?A:M.key)||null,w(j,S,M,ae);case T:return S=S.get(M.key===null?A:M.key)||null,E(j,S,M,ae);case oe:return M=Bs(M),C(S,j,A,M,ae)}if(F(M)||Oe(M))return S=S.get(A)||null,D(j,S,M,ae,null);if(typeof M.then=="function")return C(S,j,A,Pi(M),ae);if(M.$$typeof===q)return C(S,j,A,qi(j,M),ae);Hi(j,M)}return null}function Z(S,j,A,M){for(var ae=null,Se=null,X=j,he=j=0,ye=null;X!==null&&he<A.length;he++){X.index>he?(ye=X,X=null):ye=X.sibling;var ke=O(S,X,A[he],M);if(ke===null){X===null&&(X=ye);break}e&&X&&ke.alternate===null&&a(S,X),j=h(ke,j,he),Se===null?ae=ke:Se.sibling=ke,Se=ke,X=ye}if(he===A.length)return s(S,X),ve&&Aa(S,he),ae;if(X===null){for(;he<A.length;he++)X=z(S,A[he],M),X!==null&&(j=h(X,j,he),Se===null?ae=X:Se.sibling=X,Se=X);return ve&&Aa(S,he),ae}for(X=l(X);he<A.length;he++)ye=C(X,S,he,A[he],M),ye!==null&&(e&&ye.alternate!==null&&X.delete(ye.key===null?he:ye.key),j=h(ye,j,he),Se===null?ae=ye:Se.sibling=ye,Se=ye);return e&&X.forEach(function(bs){return a(S,bs)}),ve&&Aa(S,he),ae}function se(S,j,A,M){if(A==null)throw Error(i(151));for(var ae=null,Se=null,X=j,he=j=0,ye=null,ke=A.next();X!==null&&!ke.done;he++,ke=A.next()){X.index>he?(ye=X,X=null):ye=X.sibling;var bs=O(S,X,ke.value,M);if(bs===null){X===null&&(X=ye);break}e&&X&&bs.alternate===null&&a(S,X),j=h(bs,j,he),Se===null?ae=bs:Se.sibling=bs,Se=bs,X=ye}if(ke.done)return s(S,X),ve&&Aa(S,he),ae;if(X===null){for(;!ke.done;he++,ke=A.next())ke=z(S,ke.value,M),ke!==null&&(j=h(ke,j,he),Se===null?ae=ke:Se.sibling=ke,Se=ke);return ve&&Aa(S,he),ae}for(X=l(X);!ke.done;he++,ke=A.next())ke=C(X,S,he,ke.value,M),ke!==null&&(e&&ke.alternate!==null&&X.delete(ke.key===null?he:ke.key),j=h(ke,j,he),Se===null?ae=ke:Se.sibling=ke,Se=ke);return e&&X.forEach(function(Rx){return a(S,Rx)}),ve&&Aa(S,he),ae}function Le(S,j,A,M){if(typeof A=="object"&&A!==null&&A.type===R&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case N:e:{for(var ae=A.key;j!==null;){if(j.key===ae){if(ae=A.type,ae===R){if(j.tag===7){s(S,j.sibling),M=d(j,A.props.children),M.return=S,S=M;break e}}else if(j.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===oe&&Bs(ae)===j.type){s(S,j.sibling),M=d(j,A.props),Nr(M,A),M.return=S,S=M;break e}s(S,j);break}else a(S,j);j=j.sibling}A.type===R?(M=Ms(A.props.children,S.mode,M,A.key),M.return=S,S=M):(M=zi(A.type,A.key,A.props,null,S.mode,M),Nr(M,A),M.return=S,S=M)}return p(S);case T:e:{for(ae=A.key;j!==null;){if(j.key===ae)if(j.tag===4&&j.stateNode.containerInfo===A.containerInfo&&j.stateNode.implementation===A.implementation){s(S,j.sibling),M=d(j,A.children||[]),M.return=S,S=M;break e}else{s(S,j);break}else a(S,j);j=j.sibling}M=Bo(A,S.mode,M),M.return=S,S=M}return p(S);case oe:return A=Bs(A),Le(S,j,A,M)}if(F(A))return Z(S,j,A,M);if(Oe(A)){if(ae=Oe(A),typeof ae!="function")throw Error(i(150));return A=ae.call(A),se(S,j,A,M)}if(typeof A.then=="function")return Le(S,j,Pi(A),M);if(A.$$typeof===q)return Le(S,j,qi(S,A),M);Hi(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,j!==null&&j.tag===6?(s(S,j.sibling),M=d(j,A),M.return=S,S=M):(s(S,j),M=qo(A,S.mode,M),M.return=S,S=M),p(S)):s(S,j)}return function(S,j,A,M){try{jr=0;var ae=Le(S,j,A,M);return Nn=null,ae}catch(X){if(X===jn||X===Ii)throw X;var Se=zt(29,X,null,S.mode);return Se.lanes=M,Se.return=S,Se}finally{}}}var $s=Mh(!0),zh=Mh(!1),es=!1;function Qo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fo(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ts(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function as(e,a,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ee&2)!==0){var d=l.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),l.pending=a,a=Mi(e),xh(e,null,s),a}return Di(e,l,a,s),Mi(e)}function Sr(e,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var l=a.lanes;l&=e.pendingLanes,s|=l,a.lanes=s,kd(e,s)}}function Wo(e,a){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var d=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?d=h=p:h=h.next=p,s=s.next}while(s!==null);h===null?d=h=a:h=h.next=a}else d=h=a;s={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=a:e.next=a,s.lastBaseUpdate=a}var ec=!1;function kr(){if(ec){var e=_n;if(e!==null)throw e}}function Ar(e,a,s,l){ec=!1;var d=e.updateQueue;es=!1;var h=d.firstBaseUpdate,p=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var w=x,E=w.next;w.next=null,p===null?h=E:p.next=E,p=w;var D=e.alternate;D!==null&&(D=D.updateQueue,x=D.lastBaseUpdate,x!==p&&(x===null?D.firstBaseUpdate=E:x.next=E,D.lastBaseUpdate=w))}if(h!==null){var z=d.baseState;p=0,D=E=w=null,x=h;do{var O=x.lane&-536870913,C=O!==x.lane;if(C?(xe&O)===O:(l&O)===O){O!==0&&O===wn&&(ec=!0),D!==null&&(D=D.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Z=e,se=x;O=a;var Le=s;switch(se.tag){case 1:if(Z=se.payload,typeof Z=="function"){z=Z.call(Le,z,O);break e}z=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=se.payload,O=typeof Z=="function"?Z.call(Le,z,O):Z,O==null)break e;z=v({},z,O);break e;case 2:es=!0}}O=x.callback,O!==null&&(e.flags|=64,C&&(e.flags|=8192),C=d.callbacks,C===null?d.callbacks=[O]:C.push(O))}else C={lane:O,tag:x.tag,payload:x.payload,callback:x.callback,next:null},D===null?(E=D=C,w=z):D=D.next=C,p|=O;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;C=x,x=C.next,C.next=null,d.lastBaseUpdate=C,d.shared.pending=null}}while(!0);D===null&&(w=z),d.baseState=w,d.firstBaseUpdate=E,d.lastBaseUpdate=D,h===null&&(d.shared.lanes=0),ls|=p,e.lanes=p,e.memoizedState=z}}function Uh(e,a){if(typeof e!="function")throw Error(i(191,e));e.call(a)}function Lh(e,a){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Uh(s[e],a)}var Sn=Ne(null),Gi=Ne(0);function qh(e,a){e=qa,me(Gi,e),me(Sn,a),qa=e|a.baseLanes}function tc(){me(Gi,qa),me(Sn,Sn.current)}function ac(){qa=Gi.current,je(Sn),je(Gi)}var Ut=Ne(null),Wt=null;function ss(e){var a=e.alternate;me(Qe,Qe.current&1),me(Ut,e),Wt===null&&(a===null||Sn.current!==null||a.memoizedState!==null)&&(Wt=e)}function sc(e){me(Qe,Qe.current),me(Ut,e),Wt===null&&(Wt=e)}function Bh(e){e.tag===22?(me(Qe,Qe.current),me(Ut,e),Wt===null&&(Wt=e)):ns()}function ns(){me(Qe,Qe.current),me(Ut,Ut.current)}function Lt(e){je(Ut),Wt===e&&(Wt=null),je(Qe)}var Qe=Ne(0);function Vi(e){for(var a=e;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||cu(s)||uu(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Oa=0,de=null,ze=null,et=null,Zi=!1,kn=!1,Ps=!1,Yi=0,Er=0,An=null,_b=0;function Ye(){throw Error(i(321))}function nc(e,a){if(a===null)return!1;for(var s=0;s<a.length&&s<e.length;s++)if(!Mt(e[s],a[s]))return!1;return!0}function rc(e,a,s,l,d,h){return Oa=h,de=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,k.H=e===null||e.memoizedState===null?jf:vc,Ps=!1,h=s(l,d),Ps=!1,kn&&(h=$h(a,s,l,d)),Ih(e),h}function Ih(e){k.H=Cr;var a=ze!==null&&ze.next!==null;if(Oa=0,et=ze=de=null,Zi=!1,Er=0,An=null,a)throw Error(i(300));e===null||tt||(e=e.dependencies,e!==null&&Li(e)&&(tt=!0))}function $h(e,a,s,l){de=e;var d=0;do{if(kn&&(An=null),Er=0,kn=!1,25<=d)throw Error(i(301));if(d+=1,et=ze=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}k.H=Nf,h=a(s,l)}while(kn);return h}function jb(){var e=k.H,a=e.useState()[0];return a=typeof a.then=="function"?Tr(a):a,e=e.useState()[0],(ze!==null?ze.memoizedState:null)!==e&&(de.flags|=1024),a}function ic(){var e=Yi!==0;return Yi=0,e}function lc(e,a,s){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~s}function oc(e){if(Zi){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}Zi=!1}Oa=0,et=ze=de=null,kn=!1,Er=Yi=0,An=null}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?de.memoizedState=et=e:et=et.next=e,et}function Fe(){if(ze===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var a=et===null?de.memoizedState:et.next;if(a!==null)et=a,ze=e;else{if(e===null)throw de.alternate===null?Error(i(467)):Error(i(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},et===null?de.memoizedState=et=e:et=et.next=e}return et}function Ki(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tr(e){var a=Er;return Er+=1,An===null&&(An=[]),e=Ch(An,e,a),a=de,(et===null?a.memoizedState:et.next)===null&&(a=a.alternate,k.H=a===null||a.memoizedState===null?jf:vc),e}function Ji(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Tr(e);if(e.$$typeof===q)return ht(e)}throw Error(i(438,String(e)))}function cc(e){var a=null,s=de.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var l=de.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Ki(),de.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(e),l=0;l<e;l++)s[l]=qe;return a.index++,s}function Ca(e,a){return typeof a=="function"?a(e):a}function Xi(e){var a=Fe();return uc(a,ze,e)}function uc(e,a,s){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var d=e.baseQueue,h=l.pending;if(h!==null){if(d!==null){var p=d.next;d.next=h.next,h.next=p}a.baseQueue=d=h,l.pending=null}if(h=e.baseState,d===null)e.memoizedState=h;else{a=d.next;var x=p=null,w=null,E=a,D=!1;do{var z=E.lane&-536870913;if(z!==E.lane?(xe&z)===z:(Oa&z)===z){var O=E.revertLane;if(O===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null}),z===wn&&(D=!0);else if((Oa&O)===O){E=E.next,O===wn&&(D=!0);continue}else z={lane:0,revertLane:E.revertLane,gesture:null,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null},w===null?(x=w=z,p=h):w=w.next=z,de.lanes|=O,ls|=O;z=E.action,Ps&&s(h,z),h=E.hasEagerState?E.eagerState:s(h,z)}else O={lane:z,revertLane:E.revertLane,gesture:E.gesture,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null},w===null?(x=w=O,p=h):w=w.next=O,de.lanes|=z,ls|=z;E=E.next}while(E!==null&&E!==a);if(w===null?p=h:w.next=x,!Mt(h,e.memoizedState)&&(tt=!0,D&&(s=_n,s!==null)))throw s;e.memoizedState=h,e.baseState=p,e.baseQueue=w,l.lastRenderedState=h}return d===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function dc(e){var a=Fe(),s=a.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var l=s.dispatch,d=s.pending,h=a.memoizedState;if(d!==null){s.pending=null;var p=d=d.next;do h=e(h,p.action),p=p.next;while(p!==d);Mt(h,a.memoizedState)||(tt=!0),a.memoizedState=h,a.baseQueue===null&&(a.baseState=h),s.lastRenderedState=h}return[h,l]}function Ph(e,a,s){var l=de,d=Fe(),h=ve;if(h){if(s===void 0)throw Error(i(407));s=s()}else s=a();var p=!Mt((ze||d).memoizedState,s);if(p&&(d.memoizedState=s,tt=!0),d=d.queue,mc(Vh.bind(null,l,d,e),[e]),d.getSnapshot!==a||p||et!==null&&et.memoizedState.tag&1){if(l.flags|=2048,En(9,{destroy:void 0},Gh.bind(null,l,d,s,a),null),Be===null)throw Error(i(349));h||(Oa&127)!==0||Hh(l,a,s)}return s}function Hh(e,a,s){e.flags|=16384,e={getSnapshot:a,value:s},a=de.updateQueue,a===null?(a=Ki(),de.updateQueue=a,a.stores=[e]):(s=a.stores,s===null?a.stores=[e]:s.push(e))}function Gh(e,a,s,l){a.value=s,a.getSnapshot=l,Zh(a)&&Yh(e)}function Vh(e,a,s){return s(function(){Zh(a)&&Yh(e)})}function Zh(e){var a=e.getSnapshot;e=e.value;try{var s=a();return!Mt(e,s)}catch{return!0}}function Yh(e){var a=Ds(e,2);a!==null&&Et(a,e,2)}function hc(e){var a=xt();if(typeof e=="function"){var s=e;if(e=s(),Ps){Ya(!0);try{s()}finally{Ya(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},a}function Kh(e,a,s,l){return e.baseState=s,uc(e,ze,typeof l=="function"?l:Ca)}function Nb(e,a,s,l,d){if(Wi(e))throw Error(i(485));if(e=a.action,e!==null){var h={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){h.listeners.push(p)}};k.T!==null?s(!0):h.isTransition=!1,l(h),s=a.pending,s===null?(h.next=a.pending=h,Jh(a,h)):(h.next=s.next,a.pending=s.next=h)}}function Jh(e,a){var s=a.action,l=a.payload,d=e.state;if(a.isTransition){var h=k.T,p={};k.T=p;try{var x=s(d,l),w=k.S;w!==null&&w(p,x),Xh(e,a,x)}catch(E){fc(e,a,E)}finally{h!==null&&p.types!==null&&(h.types=p.types),k.T=h}}else try{h=s(d,l),Xh(e,a,h)}catch(E){fc(e,a,E)}}function Xh(e,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Qh(e,a,l)},function(l){return fc(e,a,l)}):Qh(e,a,s)}function Qh(e,a,s){a.status="fulfilled",a.value=s,Fh(a),e.state=s,a=e.pending,a!==null&&(s=a.next,s===a?e.pending=null:(s=s.next,a.next=s,Jh(e,s)))}function fc(e,a,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=s,Fh(a),a=a.next;while(a!==l)}e.action=null}function Fh(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function Wh(e,a){return a}function ef(e,a){if(ve){var s=Be.formState;if(s!==null){e:{var l=de;if(ve){if($e){t:{for(var d=$e,h=Ft;d.nodeType!==8;){if(!h){d=null;break t}if(d=ea(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){$e=ea(d.nextSibling),l=d.data==="F!";break e}}Fa(l)}l=!1}l&&(a=s[0])}}return s=xt(),s.memoizedState=s.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wh,lastRenderedState:a},s.queue=l,s=vf.bind(null,de,l),l.dispatch=s,l=hc(!1),h=yc.bind(null,de,!1,l.queue),l=xt(),d={state:a,dispatch:null,action:e,pending:null},l.queue=d,s=Nb.bind(null,de,d,h,s),d.dispatch=s,l.memoizedState=e,[a,s,!1]}function tf(e){var a=Fe();return af(a,ze,e)}function af(e,a,s){if(a=uc(e,a,Wh)[0],e=Xi(Ca)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=Tr(a)}catch(p){throw p===jn?Ii:p}else l=a;a=Fe();var d=a.queue,h=d.dispatch;return s!==a.memoizedState&&(de.flags|=2048,En(9,{destroy:void 0},Sb.bind(null,d,s),null)),[l,h,e]}function Sb(e,a){e.action=a}function sf(e){var a=Fe(),s=ze;if(s!==null)return af(a,s,e);Fe(),a=a.memoizedState,s=Fe();var l=s.queue.dispatch;return s.memoizedState=e,[a,l,!1]}function En(e,a,s,l){return e={tag:e,create:s,deps:l,inst:a,next:null},a=de.updateQueue,a===null&&(a=Ki(),de.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,a.lastEffect=e),e}function nf(){return Fe().memoizedState}function Qi(e,a,s,l){var d=xt();de.flags|=e,d.memoizedState=En(1|a,{destroy:void 0},s,l===void 0?null:l)}function Fi(e,a,s,l){var d=Fe();l=l===void 0?null:l;var h=d.memoizedState.inst;ze!==null&&l!==null&&nc(l,ze.memoizedState.deps)?d.memoizedState=En(a,h,s,l):(de.flags|=e,d.memoizedState=En(1|a,h,s,l))}function rf(e,a){Qi(8390656,8,e,a)}function mc(e,a){Fi(2048,8,e,a)}function kb(e){de.flags|=4;var a=de.updateQueue;if(a===null)a=Ki(),de.updateQueue=a,a.events=[e];else{var s=a.events;s===null?a.events=[e]:s.push(e)}}function lf(e){var a=Fe().memoizedState;return kb({ref:a,nextImpl:e}),function(){if((Ee&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function of(e,a){return Fi(4,2,e,a)}function cf(e,a){return Fi(4,4,e,a)}function uf(e,a){if(typeof a=="function"){e=e();var s=a(e);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function df(e,a,s){s=s!=null?s.concat([e]):null,Fi(4,4,uf.bind(null,a,e),s)}function gc(){}function hf(e,a){var s=Fe();a=a===void 0?null:a;var l=s.memoizedState;return a!==null&&nc(a,l[1])?l[0]:(s.memoizedState=[e,a],e)}function ff(e,a){var s=Fe();a=a===void 0?null:a;var l=s.memoizedState;if(a!==null&&nc(a,l[1]))return l[0];if(l=e(),Ps){Ya(!0);try{e()}finally{Ya(!1)}}return s.memoizedState=[l,a],l}function pc(e,a,s){return s===void 0||(Oa&1073741824)!==0&&(xe&261930)===0?e.memoizedState=a:(e.memoizedState=s,e=mm(),de.lanes|=e,ls|=e,s)}function mf(e,a,s,l){return Mt(s,a)?s:Sn.current!==null?(e=pc(e,s,l),Mt(e,a)||(tt=!0),e):(Oa&42)===0||(Oa&1073741824)!==0&&(xe&261930)===0?(tt=!0,e.memoizedState=s):(e=mm(),de.lanes|=e,ls|=e,a)}function gf(e,a,s,l,d){var h=P.p;P.p=h!==0&&8>h?h:8;var p=k.T,x={};k.T=x,yc(e,!1,a,s);try{var w=d(),E=k.S;if(E!==null&&E(x,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var D=wb(w,l);Or(e,a,D,It(e))}else Or(e,a,l,It(e))}catch(z){Or(e,a,{then:function(){},status:"rejected",reason:z},It())}finally{P.p=h,p!==null&&x.types!==null&&(p.types=x.types),k.T=p}}function Ab(){}function bc(e,a,s,l){if(e.tag!==5)throw Error(i(476));var d=pf(e).queue;gf(e,d,a,K,s===null?Ab:function(){return bf(e),s(l)})}function pf(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:K},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:s},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function bf(e){var a=pf(e);a.next===null&&(a=e.alternate.memoizedState),Or(e,a.next.queue,{},It())}function xc(){return ht(Yr)}function xf(){return Fe().memoizedState}function yf(){return Fe().memoizedState}function Eb(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var s=It();e=ts(s);var l=as(a,e,s);l!==null&&(Et(l,a,s),Sr(l,a,s)),a={cache:Yo()},e.payload=a;return}a=a.return}}function Tb(e,a,s){var l=It();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Wi(e)?wf(a,s):(s=Uo(e,a,s,l),s!==null&&(Et(s,e,l),_f(s,a,l)))}function vf(e,a,s){var l=It();Or(e,a,s,l)}function Or(e,a,s,l){var d={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Wi(e))wf(a,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=a.lastRenderedReducer,h!==null))try{var p=a.lastRenderedState,x=h(p,s);if(d.hasEagerState=!0,d.eagerState=x,Mt(x,p))return Di(e,a,d,0),Be===null&&Ri(),!1}catch{}finally{}if(s=Uo(e,a,d,l),s!==null)return Et(s,e,l),_f(s,a,l),!0}return!1}function yc(e,a,s,l){if(l={lane:2,revertLane:Qc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wi(e)){if(a)throw Error(i(479))}else a=Uo(e,s,l,2),a!==null&&Et(a,e,2)}function Wi(e){var a=e.alternate;return e===de||a!==null&&a===de}function wf(e,a){kn=Zi=!0;var s=e.pending;s===null?a.next=a:(a.next=s.next,s.next=a),e.pending=a}function _f(e,a,s){if((s&4194048)!==0){var l=a.lanes;l&=e.pendingLanes,s|=l,a.lanes=s,kd(e,s)}}var Cr={readContext:ht,use:Ji,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};Cr.useEffectEvent=Ye;var jf={readContext:ht,use:Ji,useCallback:function(e,a){return xt().memoizedState=[e,a===void 0?null:a],e},useContext:ht,useEffect:rf,useImperativeHandle:function(e,a,s){s=s!=null?s.concat([e]):null,Qi(4194308,4,uf.bind(null,a,e),s)},useLayoutEffect:function(e,a){return Qi(4194308,4,e,a)},useInsertionEffect:function(e,a){Qi(4,2,e,a)},useMemo:function(e,a){var s=xt();a=a===void 0?null:a;var l=e();if(Ps){Ya(!0);try{e()}finally{Ya(!1)}}return s.memoizedState=[l,a],l},useReducer:function(e,a,s){var l=xt();if(s!==void 0){var d=s(a);if(Ps){Ya(!0);try{s(a)}finally{Ya(!1)}}}else d=a;return l.memoizedState=l.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},l.queue=e,e=e.dispatch=Tb.bind(null,de,e),[l.memoizedState,e]},useRef:function(e){var a=xt();return e={current:e},a.memoizedState=e},useState:function(e){e=hc(e);var a=e.queue,s=vf.bind(null,de,a);return a.dispatch=s,[e.memoizedState,s]},useDebugValue:gc,useDeferredValue:function(e,a){var s=xt();return pc(s,e,a)},useTransition:function(){var e=hc(!1);return e=gf.bind(null,de,e.queue,!0,!1),xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,s){var l=de,d=xt();if(ve){if(s===void 0)throw Error(i(407));s=s()}else{if(s=a(),Be===null)throw Error(i(349));(xe&127)!==0||Hh(l,a,s)}d.memoizedState=s;var h={value:s,getSnapshot:a};return d.queue=h,rf(Vh.bind(null,l,h,e),[e]),l.flags|=2048,En(9,{destroy:void 0},Gh.bind(null,l,h,s,a),null),s},useId:function(){var e=xt(),a=Be.identifierPrefix;if(ve){var s=ba,l=pa;s=(l&~(1<<32-Dt(l)-1)).toString(32)+s,a="_"+a+"R_"+s,s=Yi++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=_b++,a="_"+a+"r_"+s.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:xc,useFormState:ef,useActionState:ef,useOptimistic:function(e){var a=xt();a.memoizedState=a.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=yc.bind(null,de,!0,s),s.dispatch=a,[e,a]},useMemoCache:cc,useCacheRefresh:function(){return xt().memoizedState=Eb.bind(null,de)},useEffectEvent:function(e){var a=xt(),s={impl:e};return a.memoizedState=s,function(){if((Ee&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}},vc={readContext:ht,use:Ji,useCallback:hf,useContext:ht,useEffect:mc,useImperativeHandle:df,useInsertionEffect:of,useLayoutEffect:cf,useMemo:ff,useReducer:Xi,useRef:nf,useState:function(){return Xi(Ca)},useDebugValue:gc,useDeferredValue:function(e,a){var s=Fe();return mf(s,ze.memoizedState,e,a)},useTransition:function(){var e=Xi(Ca)[0],a=Fe().memoizedState;return[typeof e=="boolean"?e:Tr(e),a]},useSyncExternalStore:Ph,useId:xf,useHostTransitionStatus:xc,useFormState:tf,useActionState:tf,useOptimistic:function(e,a){var s=Fe();return Kh(s,ze,e,a)},useMemoCache:cc,useCacheRefresh:yf};vc.useEffectEvent=lf;var Nf={readContext:ht,use:Ji,useCallback:hf,useContext:ht,useEffect:mc,useImperativeHandle:df,useInsertionEffect:of,useLayoutEffect:cf,useMemo:ff,useReducer:dc,useRef:nf,useState:function(){return dc(Ca)},useDebugValue:gc,useDeferredValue:function(e,a){var s=Fe();return ze===null?pc(s,e,a):mf(s,ze.memoizedState,e,a)},useTransition:function(){var e=dc(Ca)[0],a=Fe().memoizedState;return[typeof e=="boolean"?e:Tr(e),a]},useSyncExternalStore:Ph,useId:xf,useHostTransitionStatus:xc,useFormState:sf,useActionState:sf,useOptimistic:function(e,a){var s=Fe();return ze!==null?Kh(s,ze,e,a):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:cc,useCacheRefresh:yf};Nf.useEffectEvent=lf;function wc(e,a,s,l){a=e.memoizedState,s=s(l,a),s=s==null?a:v({},a,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var _c={enqueueSetState:function(e,a,s){e=e._reactInternals;var l=It(),d=ts(l);d.payload=a,s!=null&&(d.callback=s),a=as(e,d,l),a!==null&&(Et(a,e,l),Sr(a,e,l))},enqueueReplaceState:function(e,a,s){e=e._reactInternals;var l=It(),d=ts(l);d.tag=1,d.payload=a,s!=null&&(d.callback=s),a=as(e,d,l),a!==null&&(Et(a,e,l),Sr(a,e,l))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var s=It(),l=ts(s);l.tag=2,a!=null&&(l.callback=a),a=as(e,l,s),a!==null&&(Et(a,e,s),Sr(a,e,s))}};function Sf(e,a,s,l,d,h,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,p):a.prototype&&a.prototype.isPureReactComponent?!br(s,l)||!br(d,h):!0}function kf(e,a,s,l){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,l),a.state!==e&&_c.enqueueReplaceState(a,a.state,null)}function Hs(e,a){var s=a;if("ref"in a){s={};for(var l in a)l!=="ref"&&(s[l]=a[l])}if(e=e.defaultProps){s===a&&(s=v({},s));for(var d in e)s[d]===void 0&&(s[d]=e[d])}return s}function Af(e){Ci(e)}function Ef(e){console.error(e)}function Tf(e){Ci(e)}function el(e,a){try{var s=e.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function Of(e,a,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function jc(e,a,s){return s=ts(s),s.tag=3,s.payload={element:null},s.callback=function(){el(e,a)},s}function Cf(e){return e=ts(e),e.tag=3,e}function Rf(e,a,s,l){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var h=l.value;e.payload=function(){return d(h)},e.callback=function(){Of(a,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Of(a,s,l),typeof d!="function"&&(os===null?os=new Set([this]):os.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function Ob(e,a,s,l,d){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=s.alternate,a!==null&&vn(a,s,d,!0),s=Ut.current,s!==null){switch(s.tag){case 31:case 13:return Wt===null?hl():s.alternate===null&&Ke===0&&(Ke=3),s.flags&=-257,s.flags|=65536,s.lanes=d,l===$i?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([l]):a.add(l),Kc(e,l,d)),!1;case 22:return s.flags|=65536,l===$i?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([l]):s.add(l)),Kc(e,l,d)),!1}throw Error(i(435,s.tag))}return Kc(e,l,d),hl(),!1}if(ve)return a=Ut.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,l!==Po&&(e=Error(i(422),{cause:l}),vr(Jt(e,s)))):(l!==Po&&(a=Error(i(423),{cause:l}),vr(Jt(a,s))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,l=Jt(l,s),d=jc(e.stateNode,l,d),Wo(e,d),Ke!==4&&(Ke=2)),!1;var h=Error(i(520),{cause:l});if(h=Jt(h,s),Br===null?Br=[h]:Br.push(h),Ke!==4&&(Ke=2),a===null)return!0;l=Jt(l,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,e=d&-d,s.lanes|=e,e=jc(s.stateNode,l,e),Wo(s,e),!1;case 1:if(a=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(os===null||!os.has(h))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Cf(d),Rf(d,e,s,l),Wo(s,d),!1}s=s.return}while(s!==null);return!1}var Nc=Error(i(461)),tt=!1;function ft(e,a,s,l){a.child=e===null?zh(a,null,s,l):$s(a,e.child,s,l)}function Df(e,a,s,l,d){s=s.render;var h=a.ref;if("ref"in l){var p={};for(var x in l)x!=="ref"&&(p[x]=l[x])}else p=l;return Ls(a),l=rc(e,a,s,p,h,d),x=ic(),e!==null&&!tt?(lc(e,a,d),Ra(e,a,d)):(ve&&x&&Io(a),a.flags|=1,ft(e,a,l,d),a.child)}function Mf(e,a,s,l,d){if(e===null){var h=s.type;return typeof h=="function"&&!Lo(h)&&h.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=h,zf(e,a,h,l,d)):(e=zi(s.type,null,l,a,a.mode,d),e.ref=a.ref,e.return=a,a.child=e)}if(h=e.child,!Rc(e,d)){var p=h.memoizedProps;if(s=s.compare,s=s!==null?s:br,s(p,l)&&e.ref===a.ref)return Ra(e,a,d)}return a.flags|=1,e=ka(h,l),e.ref=a.ref,e.return=a,a.child=e}function zf(e,a,s,l,d){if(e!==null){var h=e.memoizedProps;if(br(h,l)&&e.ref===a.ref)if(tt=!1,a.pendingProps=l=h,Rc(e,d))(e.flags&131072)!==0&&(tt=!0);else return a.lanes=e.lanes,Ra(e,a,d)}return Sc(e,a,s,l,d)}function Uf(e,a,s,l){var d=l.children,h=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((a.flags&128)!==0){if(h=h!==null?h.baseLanes|s:s,e!==null){for(l=a.child=e.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~h}else l=0,a.child=null;return Lf(e,a,h,s,l)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bi(a,h!==null?h.cachePool:null),h!==null?qh(a,h):tc(),Bh(a);else return l=a.lanes=536870912,Lf(e,a,h!==null?h.baseLanes|s:s,s,l)}else h!==null?(Bi(a,h.cachePool),qh(a,h),ns(),a.memoizedState=null):(e!==null&&Bi(a,null),tc(),ns());return ft(e,a,d,s),a.child}function Rr(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Lf(e,a,s,l,d){var h=Jo();return h=h===null?null:{parent:We._currentValue,pool:h},a.memoizedState={baseLanes:s,cachePool:h},e!==null&&Bi(a,null),tc(),Bh(a),e!==null&&vn(e,a,l,!0),a.childLanes=d,null}function tl(e,a){return a=sl({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function qf(e,a,s){return $s(a,e.child,null,s),e=tl(a,a.pendingProps),e.flags|=2,Lt(a),a.memoizedState=null,e}function Cb(e,a,s){var l=a.pendingProps,d=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(ve){if(l.mode==="hidden")return e=tl(a,l),a.lanes=536870912,Rr(null,e);if(sc(a),(e=$e)?(e=Xm(e,Ft),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Xa!==null?{id:pa,overflow:ba}:null,retryLane:536870912,hydrationErrors:null},s=vh(e),s.return=a,a.child=s,dt=a,$e=null)):e=null,e===null)throw Fa(a);return a.lanes=536870912,null}return tl(a,l)}var h=e.memoizedState;if(h!==null){var p=h.dehydrated;if(sc(a),d)if(a.flags&256)a.flags&=-257,a=qf(e,a,s);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(i(558));else if(tt||vn(e,a,s,!1),d=(s&e.childLanes)!==0,tt||d){if(l=Be,l!==null&&(p=Ad(l,s),p!==0&&p!==h.retryLane))throw h.retryLane=p,Ds(e,p),Et(l,e,p),Nc;hl(),a=qf(e,a,s)}else e=h.treeContext,$e=ea(p.nextSibling),dt=a,ve=!0,Qa=null,Ft=!1,e!==null&&jh(a,e),a=tl(a,l),a.flags|=4096;return a}return e=ka(e.child,{mode:l.mode,children:l.children}),e.ref=a.ref,a.child=e,e.return=a,e}function al(e,a){var s=a.ref;if(s===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(e===null||e.ref!==s)&&(a.flags|=4194816)}}function Sc(e,a,s,l,d){return Ls(a),s=rc(e,a,s,l,void 0,d),l=ic(),e!==null&&!tt?(lc(e,a,d),Ra(e,a,d)):(ve&&l&&Io(a),a.flags|=1,ft(e,a,s,d),a.child)}function Bf(e,a,s,l,d,h){return Ls(a),a.updateQueue=null,s=$h(a,l,s,d),Ih(e),l=ic(),e!==null&&!tt?(lc(e,a,h),Ra(e,a,h)):(ve&&l&&Io(a),a.flags|=1,ft(e,a,s,h),a.child)}function If(e,a,s,l,d){if(Ls(a),a.stateNode===null){var h=pn,p=s.contextType;typeof p=="object"&&p!==null&&(h=ht(p)),h=new s(l,h),a.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=_c,a.stateNode=h,h._reactInternals=a,h=a.stateNode,h.props=l,h.state=a.memoizedState,h.refs={},Qo(a),p=s.contextType,h.context=typeof p=="object"&&p!==null?ht(p):pn,h.state=a.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(wc(a,s,p,l),h.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(p=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),p!==h.state&&_c.enqueueReplaceState(h,h.state,null),Ar(a,l,h,d),kr(),h.state=a.memoizedState),typeof h.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(e===null){h=a.stateNode;var x=a.memoizedProps,w=Hs(s,x);h.props=w;var E=h.context,D=s.contextType;p=pn,typeof D=="object"&&D!==null&&(p=ht(D));var z=s.getDerivedStateFromProps;D=typeof z=="function"||typeof h.getSnapshotBeforeUpdate=="function",x=a.pendingProps!==x,D||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x||E!==p)&&kf(a,h,l,p),es=!1;var O=a.memoizedState;h.state=O,Ar(a,l,h,d),kr(),E=a.memoizedState,x||O!==E||es?(typeof z=="function"&&(wc(a,s,z,l),E=a.memoizedState),(w=es||Sf(a,s,w,l,O,E,p))?(D||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(a.flags|=4194308)):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=E),h.props=l,h.state=E,h.context=p,l=w):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{h=a.stateNode,Fo(e,a),p=a.memoizedProps,D=Hs(s,p),h.props=D,z=a.pendingProps,O=h.context,E=s.contextType,w=pn,typeof E=="object"&&E!==null&&(w=ht(E)),x=s.getDerivedStateFromProps,(E=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==z||O!==w)&&kf(a,h,l,w),es=!1,O=a.memoizedState,h.state=O,Ar(a,l,h,d),kr();var C=a.memoizedState;p!==z||O!==C||es||e!==null&&e.dependencies!==null&&Li(e.dependencies)?(typeof x=="function"&&(wc(a,s,x,l),C=a.memoizedState),(D=es||Sf(a,s,D,l,O,C,w)||e!==null&&e.dependencies!==null&&Li(e.dependencies))?(E||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,C,w),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,C,w)),typeof h.componentDidUpdate=="function"&&(a.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=C),h.props=l,h.state=C,h.context=w,l=D):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(a.flags|=1024),l=!1)}return h=l,al(e,a),l=(a.flags&128)!==0,h||l?(h=a.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:h.render(),a.flags|=1,e!==null&&l?(a.child=$s(a,e.child,null,d),a.child=$s(a,null,s,d)):ft(e,a,s,d),a.memoizedState=h.state,e=a.child):e=Ra(e,a,d),e}function $f(e,a,s,l){return zs(),a.flags|=256,ft(e,a,s,l),a.child}var kc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ac(e){return{baseLanes:e,cachePool:Th()}}function Ec(e,a,s){return e=e!==null?e.childLanes&~s:0,a&&(e|=Bt),e}function Pf(e,a,s){var l=a.pendingProps,d=!1,h=(a.flags&128)!==0,p;if((p=h)||(p=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),p&&(d=!0,a.flags&=-129),p=(a.flags&32)!==0,a.flags&=-33,e===null){if(ve){if(d?ss(a):ns(),(e=$e)?(e=Xm(e,Ft),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Xa!==null?{id:pa,overflow:ba}:null,retryLane:536870912,hydrationErrors:null},s=vh(e),s.return=a,a.child=s,dt=a,$e=null)):e=null,e===null)throw Fa(a);return uu(e)?a.lanes=32:a.lanes=536870912,null}var x=l.children;return l=l.fallback,d?(ns(),d=a.mode,x=sl({mode:"hidden",children:x},d),l=Ms(l,d,s,null),x.return=a,l.return=a,x.sibling=l,a.child=x,l=a.child,l.memoizedState=Ac(s),l.childLanes=Ec(e,p,s),a.memoizedState=kc,Rr(null,l)):(ss(a),Tc(a,x))}var w=e.memoizedState;if(w!==null&&(x=w.dehydrated,x!==null)){if(h)a.flags&256?(ss(a),a.flags&=-257,a=Oc(e,a,s)):a.memoizedState!==null?(ns(),a.child=e.child,a.flags|=128,a=null):(ns(),x=l.fallback,d=a.mode,l=sl({mode:"visible",children:l.children},d),x=Ms(x,d,s,null),x.flags|=2,l.return=a,x.return=a,l.sibling=x,a.child=l,$s(a,e.child,null,s),l=a.child,l.memoizedState=Ac(s),l.childLanes=Ec(e,p,s),a.memoizedState=kc,a=Rr(null,l));else if(ss(a),uu(x)){if(p=x.nextSibling&&x.nextSibling.dataset,p)var E=p.dgst;p=E,l=Error(i(419)),l.stack="",l.digest=p,vr({value:l,source:null,stack:null}),a=Oc(e,a,s)}else if(tt||vn(e,a,s,!1),p=(s&e.childLanes)!==0,tt||p){if(p=Be,p!==null&&(l=Ad(p,s),l!==0&&l!==w.retryLane))throw w.retryLane=l,Ds(e,l),Et(p,e,l),Nc;cu(x)||hl(),a=Oc(e,a,s)}else cu(x)?(a.flags|=192,a.child=e.child,a=null):(e=w.treeContext,$e=ea(x.nextSibling),dt=a,ve=!0,Qa=null,Ft=!1,e!==null&&jh(a,e),a=Tc(a,l.children),a.flags|=4096);return a}return d?(ns(),x=l.fallback,d=a.mode,w=e.child,E=w.sibling,l=ka(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,E!==null?x=ka(E,x):(x=Ms(x,d,s,null),x.flags|=2),x.return=a,l.return=a,l.sibling=x,a.child=l,Rr(null,l),l=a.child,x=e.child.memoizedState,x===null?x=Ac(s):(d=x.cachePool,d!==null?(w=We._currentValue,d=d.parent!==w?{parent:w,pool:w}:d):d=Th(),x={baseLanes:x.baseLanes|s,cachePool:d}),l.memoizedState=x,l.childLanes=Ec(e,p,s),a.memoizedState=kc,Rr(e.child,l)):(ss(a),s=e.child,e=s.sibling,s=ka(s,{mode:"visible",children:l.children}),s.return=a,s.sibling=null,e!==null&&(p=a.deletions,p===null?(a.deletions=[e],a.flags|=16):p.push(e)),a.child=s,a.memoizedState=null,s)}function Tc(e,a){return a=sl({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function sl(e,a){return e=zt(22,e,null,a),e.lanes=0,e}function Oc(e,a,s){return $s(a,e.child,null,s),e=Tc(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function Hf(e,a,s){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a),Vo(e.return,a,s)}function Cc(e,a,s,l,d,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:d,treeForkCount:h}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=d,p.treeForkCount=h)}function Gf(e,a,s){var l=a.pendingProps,d=l.revealOrder,h=l.tail;l=l.children;var p=Qe.current,x=(p&2)!==0;if(x?(p=p&1|2,a.flags|=128):p&=1,me(Qe,p),ft(e,a,l,s),l=ve?yr:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hf(e,s,a);else if(e.tag===19)Hf(e,s,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(s=a.child,d=null;s!==null;)e=s.alternate,e!==null&&Vi(e)===null&&(d=s),s=s.sibling;s=d,s===null?(d=a.child,a.child=null):(d=s.sibling,s.sibling=null),Cc(a,!1,d,s,h,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,d=a.child,a.child=null;d!==null;){if(e=d.alternate,e!==null&&Vi(e)===null){a.child=d;break}e=d.sibling,d.sibling=s,s=d,d=e}Cc(a,!0,s,null,h,l);break;case"together":Cc(a,!1,null,null,void 0,l);break;default:a.memoizedState=null}return a.child}function Ra(e,a,s){if(e!==null&&(a.dependencies=e.dependencies),ls|=a.lanes,(s&a.childLanes)===0)if(e!==null){if(vn(e,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(i(153));if(a.child!==null){for(e=a.child,s=ka(e,e.pendingProps),a.child=s,s.return=a;e.sibling!==null;)e=e.sibling,s=s.sibling=ka(e,e.pendingProps),s.return=a;s.sibling=null}return a.child}function Rc(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&Li(e)))}function Rb(e,a,s){switch(a.tag){case 3:Za(a,a.stateNode.containerInfo),Wa(a,We,e.memoizedState.cache),zs();break;case 27:case 5:to(a);break;case 4:Za(a,a.stateNode.containerInfo);break;case 10:Wa(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,sc(a),null;break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(ss(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Pf(e,a,s):(ss(a),e=Ra(e,a,s),e!==null?e.sibling:null);ss(a);break;case 19:var d=(e.flags&128)!==0;if(l=(s&a.childLanes)!==0,l||(vn(e,a,s,!1),l=(s&a.childLanes)!==0),d){if(l)return Gf(e,a,s);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),me(Qe,Qe.current),l)break;return null;case 22:return a.lanes=0,Uf(e,a,s,a.pendingProps);case 24:Wa(a,We,e.memoizedState.cache)}return Ra(e,a,s)}function Vf(e,a,s){if(e!==null)if(e.memoizedProps!==a.pendingProps)tt=!0;else{if(!Rc(e,s)&&(a.flags&128)===0)return tt=!1,Rb(e,a,s);tt=(e.flags&131072)!==0}else tt=!1,ve&&(a.flags&1048576)!==0&&_h(a,yr,a.index);switch(a.lanes=0,a.tag){case 16:e:{var l=a.pendingProps;if(e=Bs(a.elementType),a.type=e,typeof e=="function")Lo(e)?(l=Hs(e,l),a.tag=1,a=If(null,a,e,l,s)):(a.tag=0,a=Sc(null,a,e,l,s));else{if(e!=null){var d=e.$$typeof;if(d===V){a.tag=11,a=Df(null,a,e,l,s);break e}else if(d===le){a.tag=14,a=Mf(null,a,e,l,s);break e}}throw a=bt(e)||e,Error(i(306,a,""))}}return a;case 0:return Sc(e,a,a.type,a.pendingProps,s);case 1:return l=a.type,d=Hs(l,a.pendingProps),If(e,a,l,d,s);case 3:e:{if(Za(a,a.stateNode.containerInfo),e===null)throw Error(i(387));l=a.pendingProps;var h=a.memoizedState;d=h.element,Fo(e,a),Ar(a,l,null,s);var p=a.memoizedState;if(l=p.cache,Wa(a,We,l),l!==h.cache&&Zo(a,[We],s,!0),kr(),l=p.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:p.cache},a.updateQueue.baseState=h,a.memoizedState=h,a.flags&256){a=$f(e,a,l,s);break e}else if(l!==d){d=Jt(Error(i(424)),a),vr(d),a=$f(e,a,l,s);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=ea(e.firstChild),dt=a,ve=!0,Qa=null,Ft=!0,s=zh(a,null,l,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(zs(),l===d){a=Ra(e,a,s);break e}ft(e,a,l,s)}a=a.child}return a;case 26:return al(e,a),e===null?(s=a0(a.type,null,a.pendingProps,null))?a.memoizedState=s:ve||(s=a.type,e=a.pendingProps,l=yl(ma.current).createElement(s),l[ut]=a,l[_t]=e,mt(l,s,e),ot(l),a.stateNode=l):a.memoizedState=a0(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return to(a),e===null&&ve&&(l=a.stateNode=Wm(a.type,a.pendingProps,ma.current),dt=a,Ft=!0,d=$e,hs(a.type)?(du=d,$e=ea(l.firstChild)):$e=d),ft(e,a,a.pendingProps.children,s),al(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&ve&&((d=l=$e)&&(l=ox(l,a.type,a.pendingProps,Ft),l!==null?(a.stateNode=l,dt=a,$e=ea(l.firstChild),Ft=!1,d=!0):d=!1),d||Fa(a)),to(a),d=a.type,h=a.pendingProps,p=e!==null?e.memoizedProps:null,l=h.children,iu(d,h)?l=null:p!==null&&iu(d,p)&&(a.flags|=32),a.memoizedState!==null&&(d=rc(e,a,jb,null,null,s),Yr._currentValue=d),al(e,a),ft(e,a,l,s),a.child;case 6:return e===null&&ve&&((e=s=$e)&&(s=cx(s,a.pendingProps,Ft),s!==null?(a.stateNode=s,dt=a,$e=null,e=!0):e=!1),e||Fa(a)),null;case 13:return Pf(e,a,s);case 4:return Za(a,a.stateNode.containerInfo),l=a.pendingProps,e===null?a.child=$s(a,null,l,s):ft(e,a,l,s),a.child;case 11:return Df(e,a,a.type,a.pendingProps,s);case 7:return ft(e,a,a.pendingProps,s),a.child;case 8:return ft(e,a,a.pendingProps.children,s),a.child;case 12:return ft(e,a,a.pendingProps.children,s),a.child;case 10:return l=a.pendingProps,Wa(a,a.type,l.value),ft(e,a,l.children,s),a.child;case 9:return d=a.type._context,l=a.pendingProps.children,Ls(a),d=ht(d),l=l(d),a.flags|=1,ft(e,a,l,s),a.child;case 14:return Mf(e,a,a.type,a.pendingProps,s);case 15:return zf(e,a,a.type,a.pendingProps,s);case 19:return Gf(e,a,s);case 31:return Cb(e,a,s);case 22:return Uf(e,a,s,a.pendingProps);case 24:return Ls(a),l=ht(We),e===null?(d=Jo(),d===null&&(d=Be,h=Yo(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=s),d=h),a.memoizedState={parent:l,cache:d},Qo(a),Wa(a,We,d)):((e.lanes&s)!==0&&(Fo(e,a),Ar(a,null,null,s),kr()),d=e.memoizedState,h=a.memoizedState,d.parent!==l?(d={parent:l,cache:l},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),Wa(a,We,l)):(l=h.cache,Wa(a,We,l),l!==d.cache&&Zo(a,[We],s,!0))),ft(e,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Da(e){e.flags|=4}function Dc(e,a,s,l,d){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(xm())e.flags|=8192;else throw Is=$i,Xo}else e.flags&=-16777217}function Zf(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!l0(a))if(xm())e.flags|=8192;else throw Is=$i,Xo}function nl(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?Nd():536870912,e.lanes|=a,Rn|=a)}function Dr(e,a){if(!ve)switch(e.tailMode){case"hidden":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Pe(e){var a=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(a)for(var d=e.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=s,a}function Db(e,a,s){var l=a.pendingProps;switch($o(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(a),null;case 1:return Pe(a),null;case 3:return s=a.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ta(We),ga(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(yn(a)?Da(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ho())),Pe(a),null;case 26:var d=a.type,h=a.memoizedState;return e===null?(Da(a),h!==null?(Pe(a),Zf(a,h)):(Pe(a),Dc(a,d,null,l,s))):h?h!==e.memoizedState?(Da(a),Pe(a),Zf(a,h)):(Pe(a),a.flags&=-16777217):(e=e.memoizedProps,e!==l&&Da(a),Pe(a),Dc(a,d,e,l,s)),null;case 27:if(gi(a),s=ma.current,d=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==l&&Da(a);else{if(!l){if(a.stateNode===null)throw Error(i(166));return Pe(a),null}e=Ze.current,yn(a)?Nh(a):(e=Wm(d,l,s),a.stateNode=e,Da(a))}return Pe(a),null;case 5:if(gi(a),d=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==l&&Da(a);else{if(!l){if(a.stateNode===null)throw Error(i(166));return Pe(a),null}if(h=Ze.current,yn(a))Nh(a);else{var p=yl(ma.current);switch(h){case 1:h=p.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=p.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=p.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=p.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=p.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?p.createElement(d,{is:l.is}):p.createElement(d)}}h[ut]=a,h[_t]=l;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)h.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=h;e:switch(mt(h,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Da(a)}}return Pe(a),Dc(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,s),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==l&&Da(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(i(166));if(e=ma.current,yn(a)){if(e=a.stateNode,s=a.memoizedProps,l=null,d=dt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}e[ut]=a,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Pm(e.nodeValue,s)),e||Fa(a,!0)}else e=yl(e).createTextNode(l),e[ut]=a,a.stateNode=e}return Pe(a),null;case 31:if(s=a.memoizedState,e===null||e.memoizedState!==null){if(l=yn(a),s!==null){if(e===null){if(!l)throw Error(i(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[ut]=a}else zs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pe(a),e=!1}else s=Ho(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return a.flags&256?(Lt(a),a):(Lt(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Pe(a),null;case 13:if(l=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=yn(a),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(i(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[ut]=a}else zs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pe(a),d=!1}else d=Ho(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(Lt(a),a):(Lt(a),null)}return Lt(a),(a.flags&128)!==0?(a.lanes=s,a):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=a.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==d&&(l.flags|=2048)),s!==e&&s&&(a.child.flags|=8192),nl(a,a.updateQueue),Pe(a),null);case 4:return ga(),e===null&&tu(a.stateNode.containerInfo),Pe(a),null;case 10:return Ta(a.type),Pe(a),null;case 19:if(je(Qe),l=a.memoizedState,l===null)return Pe(a),null;if(d=(a.flags&128)!==0,h=l.rendering,h===null)if(d)Dr(l,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(h=Vi(e),h!==null){for(a.flags|=128,Dr(l,!1),e=h.updateQueue,a.updateQueue=e,nl(a,e),a.subtreeFlags=0,e=s,s=a.child;s!==null;)yh(s,e),s=s.sibling;return me(Qe,Qe.current&1|2),ve&&Aa(a,l.treeForkCount),a.child}e=e.sibling}l.tail!==null&&Ct()>cl&&(a.flags|=128,d=!0,Dr(l,!1),a.lanes=4194304)}else{if(!d)if(e=Vi(h),e!==null){if(a.flags|=128,d=!0,e=e.updateQueue,a.updateQueue=e,nl(a,e),Dr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!ve)return Pe(a),null}else 2*Ct()-l.renderingStartTime>cl&&s!==536870912&&(a.flags|=128,d=!0,Dr(l,!1),a.lanes=4194304);l.isBackwards?(h.sibling=a.child,a.child=h):(e=l.last,e!==null?e.sibling=h:a.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ct(),e.sibling=null,s=Qe.current,me(Qe,d?s&1|2:s&1),ve&&Aa(a,l.treeForkCount),e):(Pe(a),null);case 22:case 23:return Lt(a),ac(),l=a.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(s&536870912)!==0&&(a.flags&128)===0&&(Pe(a),a.subtreeFlags&6&&(a.flags|=8192)):Pe(a),s=a.updateQueue,s!==null&&nl(a,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==s&&(a.flags|=2048),e!==null&&je(qs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Ta(We),Pe(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Mb(e,a){switch($o(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return Ta(We),ga(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return gi(a),null;case 31:if(a.memoizedState!==null){if(Lt(a),a.alternate===null)throw Error(i(340));zs()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(Lt(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(i(340));zs()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return je(Qe),null;case 4:return ga(),null;case 10:return Ta(a.type),null;case 22:case 23:return Lt(a),ac(),e!==null&&je(qs),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return Ta(We),null;case 25:return null;default:return null}}function Yf(e,a){switch($o(a),a.tag){case 3:Ta(We),ga();break;case 26:case 27:case 5:gi(a);break;case 4:ga();break;case 31:a.memoizedState!==null&&Lt(a);break;case 13:Lt(a);break;case 19:je(Qe);break;case 10:Ta(a.type);break;case 22:case 23:Lt(a),ac(),e!==null&&je(qs);break;case 24:Ta(We)}}function Mr(e,a){try{var s=a.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var d=l.next;s=d;do{if((s.tag&e)===e){l=void 0;var h=s.create,p=s.inst;l=h(),p.destroy=l}s=s.next}while(s!==d)}}catch(x){Re(a,a.return,x)}}function rs(e,a,s){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var h=d.next;l=h;do{if((l.tag&e)===e){var p=l.inst,x=p.destroy;if(x!==void 0){p.destroy=void 0,d=a;var w=s,E=x;try{E()}catch(D){Re(d,w,D)}}}l=l.next}while(l!==h)}}catch(D){Re(a,a.return,D)}}function Kf(e){var a=e.updateQueue;if(a!==null){var s=e.stateNode;try{Lh(a,s)}catch(l){Re(e,e.return,l)}}}function Jf(e,a,s){s.props=Hs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Re(e,a,l)}}function zr(e,a){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(d){Re(e,a,d)}}function xa(e,a){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(d){Re(e,a,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Re(e,a,d)}else s.current=null}function Xf(e){var a=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(d){Re(e,e.return,d)}}function Mc(e,a,s){try{var l=e.stateNode;ax(l,e.type,s,a),l[_t]=a}catch(d){Re(e,e.return,d)}}function Qf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&hs(e.type)||e.tag===4}function zc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&hs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uc(e,a,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(e),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Na));else if(l!==4&&(l===27&&hs(e.type)&&(s=e.stateNode,a=null),e=e.child,e!==null))for(Uc(e,a,s),e=e.sibling;e!==null;)Uc(e,a,s),e=e.sibling}function rl(e,a,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,a?s.insertBefore(e,a):s.appendChild(e);else if(l!==4&&(l===27&&hs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(rl(e,a,s),e=e.sibling;e!==null;)rl(e,a,s),e=e.sibling}function Ff(e){var a=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);mt(a,l,s),a[ut]=e,a[_t]=s}catch(h){Re(e,e.return,h)}}var Ma=!1,at=!1,Lc=!1,Wf=typeof WeakSet=="function"?WeakSet:Set,ct=null;function zb(e,a){if(e=e.containerInfo,nu=kl,e=uh(e),Oo(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var d=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var p=0,x=-1,w=-1,E=0,D=0,z=e,O=null;t:for(;;){for(var C;z!==s||d!==0&&z.nodeType!==3||(x=p+d),z!==h||l!==0&&z.nodeType!==3||(w=p+l),z.nodeType===3&&(p+=z.nodeValue.length),(C=z.firstChild)!==null;)O=z,z=C;for(;;){if(z===e)break t;if(O===s&&++E===d&&(x=p),O===h&&++D===l&&(w=p),(C=z.nextSibling)!==null)break;z=O,O=z.parentNode}z=C}s=x===-1||w===-1?null:{start:x,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(ru={focusedElem:e,selectionRange:s},kl=!1,ct=a;ct!==null;)if(a=ct,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,ct=e;else for(;ct!==null;){switch(a=ct,h=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)d=e[s],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,s=a,d=h.memoizedProps,h=h.memoizedState,l=s.stateNode;try{var Z=Hs(s.type,d);e=l.getSnapshotBeforeUpdate(Z,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(se){Re(s,s.return,se)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,s=e.nodeType,s===9)ou(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ou(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=a.sibling,e!==null){e.return=a.return,ct=e;break}ct=a.return}}function em(e,a,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ua(e,s),l&4&&Mr(5,s);break;case 1:if(Ua(e,s),l&4)if(e=s.stateNode,a===null)try{e.componentDidMount()}catch(p){Re(s,s.return,p)}else{var d=Hs(s.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(d,a,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Re(s,s.return,p)}}l&64&&Kf(s),l&512&&zr(s,s.return);break;case 3:if(Ua(e,s),l&64&&(e=s.updateQueue,e!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Lh(e,a)}catch(p){Re(s,s.return,p)}}break;case 27:a===null&&l&4&&Ff(s);case 26:case 5:Ua(e,s),a===null&&l&4&&Xf(s),l&512&&zr(s,s.return);break;case 12:Ua(e,s);break;case 31:Ua(e,s),l&4&&sm(e,s);break;case 13:Ua(e,s),l&4&&nm(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Gb.bind(null,s),ux(e,s))));break;case 22:if(l=s.memoizedState!==null||Ma,!l){a=a!==null&&a.memoizedState!==null||at,d=Ma;var h=at;Ma=l,(at=a)&&!h?La(e,s,(s.subtreeFlags&8772)!==0):Ua(e,s),Ma=d,at=h}break;case 30:break;default:Ua(e,s)}}function tm(e){var a=e.alternate;a!==null&&(e.alternate=null,tm(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&fo(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,Nt=!1;function za(e,a,s){for(s=s.child;s!==null;)am(e,a,s),s=s.sibling}function am(e,a,s){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(rr,s)}catch{}switch(s.tag){case 26:at||xa(s,a),za(e,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:at||xa(s,a);var l=Ge,d=Nt;hs(s.type)&&(Ge=s.stateNode,Nt=!1),za(e,a,s),Gr(s.stateNode),Ge=l,Nt=d;break;case 5:at||xa(s,a);case 6:if(l=Ge,d=Nt,Ge=null,za(e,a,s),Ge=l,Nt=d,Ge!==null)if(Nt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(s.stateNode)}catch(h){Re(s,a,h)}else try{Ge.removeChild(s.stateNode)}catch(h){Re(s,a,h)}break;case 18:Ge!==null&&(Nt?(e=Ge,Km(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),In(e)):Km(Ge,s.stateNode));break;case 4:l=Ge,d=Nt,Ge=s.stateNode.containerInfo,Nt=!0,za(e,a,s),Ge=l,Nt=d;break;case 0:case 11:case 14:case 15:rs(2,s,a),at||rs(4,s,a),za(e,a,s);break;case 1:at||(xa(s,a),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Jf(s,a,l)),za(e,a,s);break;case 21:za(e,a,s);break;case 22:at=(l=at)||s.memoizedState!==null,za(e,a,s),at=l;break;default:za(e,a,s)}}function sm(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{In(e)}catch(s){Re(a,a.return,s)}}}function nm(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{In(e)}catch(s){Re(a,a.return,s)}}function Ub(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new Wf),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new Wf),a;default:throw Error(i(435,e.tag))}}function il(e,a){var s=Ub(e);a.forEach(function(l){if(!s.has(l)){s.add(l);var d=Vb.bind(null,e,l);l.then(d,d)}})}function St(e,a){var s=a.deletions;if(s!==null)for(var l=0;l<s.length;l++){var d=s[l],h=e,p=a,x=p;e:for(;x!==null;){switch(x.tag){case 27:if(hs(x.type)){Ge=x.stateNode,Nt=!1;break e}break;case 5:Ge=x.stateNode,Nt=!1;break e;case 3:case 4:Ge=x.stateNode.containerInfo,Nt=!0;break e}x=x.return}if(Ge===null)throw Error(i(160));am(h,p,d),Ge=null,Nt=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)rm(a,e),a=a.sibling}var ia=null;function rm(e,a){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:St(a,e),kt(e),l&4&&(rs(3,e,e.return),Mr(3,e),rs(5,e,e.return));break;case 1:St(a,e),kt(e),l&512&&(at||s===null||xa(s,s.return)),l&64&&Ma&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var d=ia;if(St(a,e),kt(e),l&512&&(at||s===null||xa(s,s.return)),l&4){var h=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":h=d.getElementsByTagName("title")[0],(!h||h[or]||h[ut]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(l),d.head.insertBefore(h,d.querySelector("head > title"))),mt(h,l,s),h[ut]=e,ot(h),l=h;break e;case"link":var p=r0("link","href",d).get(l+(s.href||""));if(p){for(var x=0;x<p.length;x++)if(h=p[x],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(x,1);break t}}h=d.createElement(l),mt(h,l,s),d.head.appendChild(h);break;case"meta":if(p=r0("meta","content",d).get(l+(s.content||""))){for(x=0;x<p.length;x++)if(h=p[x],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(x,1);break t}}h=d.createElement(l),mt(h,l,s),d.head.appendChild(h);break;default:throw Error(i(468,l))}h[ut]=e,ot(h),l=h}e.stateNode=l}else i0(d,e.type,e.stateNode);else e.stateNode=n0(d,l,e.memoizedProps);else h!==l?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,l===null?i0(d,e.type,e.stateNode):n0(d,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Mc(e,e.memoizedProps,s.memoizedProps)}break;case 27:St(a,e),kt(e),l&512&&(at||s===null||xa(s,s.return)),s!==null&&l&4&&Mc(e,e.memoizedProps,s.memoizedProps);break;case 5:if(St(a,e),kt(e),l&512&&(at||s===null||xa(s,s.return)),e.flags&32){d=e.stateNode;try{cn(d,"")}catch(Z){Re(e,e.return,Z)}}l&4&&e.stateNode!=null&&(d=e.memoizedProps,Mc(e,d,s!==null?s.memoizedProps:d)),l&1024&&(Lc=!0);break;case 6:if(St(a,e),kt(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(Z){Re(e,e.return,Z)}}break;case 3:if(_l=null,d=ia,ia=vl(a.containerInfo),St(a,e),ia=d,kt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{In(a.containerInfo)}catch(Z){Re(e,e.return,Z)}Lc&&(Lc=!1,im(e));break;case 4:l=ia,ia=vl(e.stateNode.containerInfo),St(a,e),kt(e),ia=l;break;case 12:St(a,e),kt(e);break;case 31:St(a,e),kt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,il(e,l)));break;case 13:St(a,e),kt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ol=Ct()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,il(e,l)));break;case 22:d=e.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,E=Ma,D=at;if(Ma=E||d,at=D||w,St(a,e),at=D,Ma=E,kt(e),l&8192)e:for(a=e.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(s===null||w||Ma||at||Gs(e)),s=null,a=e;;){if(a.tag===5||a.tag===26){if(s===null){w=s=a;try{if(h=w.stateNode,d)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{x=w.stateNode;var z=w.memoizedProps.style,O=z!=null&&z.hasOwnProperty("display")?z.display:null;x.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(Z){Re(w,w.return,Z)}}}else if(a.tag===6){if(s===null){w=a;try{w.stateNode.nodeValue=d?"":w.memoizedProps}catch(Z){Re(w,w.return,Z)}}}else if(a.tag===18){if(s===null){w=a;try{var C=w.stateNode;d?Jm(C,!0):Jm(w.stateNode,!1)}catch(Z){Re(w,w.return,Z)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,il(e,s))));break;case 19:St(a,e),kt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,il(e,l)));break;case 30:break;case 21:break;default:St(a,e),kt(e)}}function kt(e){var a=e.flags;if(a&2){try{for(var s,l=e.return;l!==null;){if(Qf(l)){s=l;break}l=l.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var d=s.stateNode,h=zc(e);rl(e,h,d);break;case 5:var p=s.stateNode;s.flags&32&&(cn(p,""),s.flags&=-33);var x=zc(e);rl(e,x,p);break;case 3:case 4:var w=s.stateNode.containerInfo,E=zc(e);Uc(e,E,w);break;default:throw Error(i(161))}}catch(D){Re(e,e.return,D)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function im(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;im(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function Ua(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)em(e,a.alternate,a),a=a.sibling}function Gs(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:rs(4,a,a.return),Gs(a);break;case 1:xa(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Jf(a,a.return,s),Gs(a);break;case 27:Gr(a.stateNode);case 26:case 5:xa(a,a.return),Gs(a);break;case 22:a.memoizedState===null&&Gs(a);break;case 30:Gs(a);break;default:Gs(a)}e=e.sibling}}function La(e,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,d=e,h=a,p=h.flags;switch(h.tag){case 0:case 11:case 15:La(d,h,s),Mr(4,h);break;case 1:if(La(d,h,s),l=h,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(E){Re(l,l.return,E)}if(l=h,d=l.updateQueue,d!==null){var x=l.stateNode;try{var w=d.shared.hiddenCallbacks;if(w!==null)for(d.shared.hiddenCallbacks=null,d=0;d<w.length;d++)Uh(w[d],x)}catch(E){Re(l,l.return,E)}}s&&p&64&&Kf(h),zr(h,h.return);break;case 27:Ff(h);case 26:case 5:La(d,h,s),s&&l===null&&p&4&&Xf(h),zr(h,h.return);break;case 12:La(d,h,s);break;case 31:La(d,h,s),s&&p&4&&sm(d,h);break;case 13:La(d,h,s),s&&p&4&&nm(d,h);break;case 22:h.memoizedState===null&&La(d,h,s),zr(h,h.return);break;case 30:break;default:La(d,h,s)}a=a.sibling}}function qc(e,a){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&wr(s))}function Bc(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&wr(e))}function la(e,a,s,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)lm(e,a,s,l),a=a.sibling}function lm(e,a,s,l){var d=a.flags;switch(a.tag){case 0:case 11:case 15:la(e,a,s,l),d&2048&&Mr(9,a);break;case 1:la(e,a,s,l);break;case 3:la(e,a,s,l),d&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&wr(e)));break;case 12:if(d&2048){la(e,a,s,l),e=a.stateNode;try{var h=a.memoizedProps,p=h.id,x=h.onPostCommit;typeof x=="function"&&x(p,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Re(a,a.return,w)}}else la(e,a,s,l);break;case 31:la(e,a,s,l);break;case 13:la(e,a,s,l);break;case 23:break;case 22:h=a.stateNode,p=a.alternate,a.memoizedState!==null?h._visibility&2?la(e,a,s,l):Ur(e,a):h._visibility&2?la(e,a,s,l):(h._visibility|=2,Tn(e,a,s,l,(a.subtreeFlags&10256)!==0||!1)),d&2048&&qc(p,a);break;case 24:la(e,a,s,l),d&2048&&Bc(a.alternate,a);break;default:la(e,a,s,l)}}function Tn(e,a,s,l,d){for(d=d&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var h=e,p=a,x=s,w=l,E=p.flags;switch(p.tag){case 0:case 11:case 15:Tn(h,p,x,w,d),Mr(8,p);break;case 23:break;case 22:var D=p.stateNode;p.memoizedState!==null?D._visibility&2?Tn(h,p,x,w,d):Ur(h,p):(D._visibility|=2,Tn(h,p,x,w,d)),d&&E&2048&&qc(p.alternate,p);break;case 24:Tn(h,p,x,w,d),d&&E&2048&&Bc(p.alternate,p);break;default:Tn(h,p,x,w,d)}a=a.sibling}}function Ur(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=e,l=a,d=l.flags;switch(l.tag){case 22:Ur(s,l),d&2048&&qc(l.alternate,l);break;case 24:Ur(s,l),d&2048&&Bc(l.alternate,l);break;default:Ur(s,l)}a=a.sibling}}var Lr=8192;function On(e,a,s){if(e.subtreeFlags&Lr)for(e=e.child;e!==null;)om(e,a,s),e=e.sibling}function om(e,a,s){switch(e.tag){case 26:On(e,a,s),e.flags&Lr&&e.memoizedState!==null&&_x(s,ia,e.memoizedState,e.memoizedProps);break;case 5:On(e,a,s);break;case 3:case 4:var l=ia;ia=vl(e.stateNode.containerInfo),On(e,a,s),ia=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Lr,Lr=16777216,On(e,a,s),Lr=l):On(e,a,s));break;default:On(e,a,s)}}function cm(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function qr(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];ct=l,dm(l,e)}cm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)um(e),e=e.sibling}function um(e){switch(e.tag){case 0:case 11:case 15:qr(e),e.flags&2048&&rs(9,e,e.return);break;case 3:qr(e);break;case 12:qr(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,ll(e)):qr(e);break;default:qr(e)}}function ll(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];ct=l,dm(l,e)}cm(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:rs(8,a,a.return),ll(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,ll(a));break;default:ll(a)}e=e.sibling}}function dm(e,a){for(;ct!==null;){var s=ct;switch(s.tag){case 0:case 11:case 15:rs(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:wr(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ct=l;else e:for(s=e;ct!==null;){l=ct;var d=l.sibling,h=l.return;if(tm(l),l===s){ct=null;break e}if(d!==null){d.return=h,ct=d;break e}ct=h}}}var Lb={getCacheForType:function(e){var a=ht(We),s=a.data.get(e);return s===void 0&&(s=e(),a.data.set(e,s)),s},cacheSignal:function(){return ht(We).controller.signal}},qb=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Be=null,ge=null,xe=0,Ce=0,qt=null,is=!1,Cn=!1,Ic=!1,qa=0,Ke=0,ls=0,Vs=0,$c=0,Bt=0,Rn=0,Br=null,At=null,Pc=!1,ol=0,hm=0,cl=1/0,ul=null,os=null,rt=0,cs=null,Dn=null,Ba=0,Hc=0,Gc=null,fm=null,Ir=0,Vc=null;function It(){return(Ee&2)!==0&&xe!==0?xe&-xe:k.T!==null?Qc():Ed()}function mm(){if(Bt===0)if((xe&536870912)===0||ve){var e=xi;xi<<=1,(xi&3932160)===0&&(xi=262144),Bt=e}else Bt=536870912;return e=Ut.current,e!==null&&(e.flags|=32),Bt}function Et(e,a,s){(e===Be&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(Mn(e,0),us(e,xe,Bt,!1)),lr(e,s),((Ee&2)===0||e!==Be)&&(e===Be&&((Ee&2)===0&&(Vs|=s),Ke===4&&us(e,xe,Bt,!1)),ya(e))}function gm(e,a,s){if((Ee&6)!==0)throw Error(i(327));var l=!s&&(a&127)===0&&(a&e.expiredLanes)===0||ir(e,a),d=l?$b(e,a):Yc(e,a,!0),h=l;do{if(d===0){Cn&&!l&&us(e,a,0,!1);break}else{if(s=e.current.alternate,h&&!Bb(s)){d=Yc(e,a,!1),h=!1;continue}if(d===2){if(h=a,e.errorRecoveryDisabledLanes&h)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){a=p;e:{var x=e;d=Br;var w=x.current.memoizedState.isDehydrated;if(w&&(Mn(x,p).flags|=256),p=Yc(x,p,!1),p!==2){if(Ic&&!w){x.errorRecoveryDisabledLanes|=h,Vs|=h,d=4;break e}h=At,At=d,h!==null&&(At===null?At=h:At.push.apply(At,h))}d=p}if(h=!1,d!==2)continue}}if(d===1){Mn(e,0),us(e,a,0,!0);break}e:{switch(l=e,h=d,h){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:us(l,a,Bt,!is);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(d=ol+300-Ct(),10<d)){if(us(l,a,Bt,!is),vi(l,0,!0)!==0)break e;Ba=a,l.timeoutHandle=Zm(pm.bind(null,l,s,At,ul,Pc,a,Bt,Vs,Rn,is,h,"Throttled",-0,0),d);break e}pm(l,s,At,ul,Pc,a,Bt,Vs,Rn,is,h,null,-0,0)}}break}while(!0);ya(e)}function pm(e,a,s,l,d,h,p,x,w,E,D,z,O,C){if(e.timeoutHandle=-1,z=a.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Na},om(a,h,z);var Z=(h&62914560)===h?ol-Ct():(h&4194048)===h?hm-Ct():0;if(Z=jx(z,Z),Z!==null){Ba=h,e.cancelPendingCommit=Z(Nm.bind(null,e,a,h,s,l,d,p,x,w,D,z,null,O,C)),us(e,h,p,!E);return}}Nm(e,a,h,s,l,d,p,x,w)}function Bb(e){for(var a=e;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var d=s[l],h=d.getSnapshot;d=d.value;try{if(!Mt(h(),d))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function us(e,a,s,l){a&=~$c,a&=~Vs,e.suspendedLanes|=a,e.pingedLanes&=~a,l&&(e.warmLanes|=a),l=e.expirationTimes;for(var d=a;0<d;){var h=31-Dt(d),p=1<<h;l[h]=-1,d&=~p}s!==0&&Sd(e,s,a)}function dl(){return(Ee&6)===0?($r(0),!1):!0}function Zc(){if(ge!==null){if(Ce===0)var e=ge.return;else e=ge,Ea=Us=null,oc(e),Nn=null,jr=0,e=ge;for(;e!==null;)Yf(e.alternate,e),e=e.return;ge=null}}function Mn(e,a){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,rx(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ba=0,Zc(),Be=e,ge=s=ka(e.current,null),xe=a,Ce=0,qt=null,is=!1,Cn=ir(e,a),Ic=!1,Rn=Bt=$c=Vs=ls=Ke=0,At=Br=null,Pc=!1,(a&8)!==0&&(a|=a&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=a;0<l;){var d=31-Dt(l),h=1<<d;a|=e[d],l&=~h}return qa=a,Ri(),s}function bm(e,a){de=null,k.H=Cr,a===jn||a===Ii?(a=Rh(),Ce=3):a===Xo?(a=Rh(),Ce=4):Ce=a===Nc?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,qt=a,ge===null&&(Ke=1,el(e,Jt(a,e.current)))}function xm(){var e=Ut.current;return e===null?!0:(xe&4194048)===xe?Wt===null:(xe&62914560)===xe||(xe&536870912)!==0?e===Wt:!1}function ym(){var e=k.H;return k.H=Cr,e===null?Cr:e}function vm(){var e=k.A;return k.A=Lb,e}function hl(){Ke=4,is||(xe&4194048)!==xe&&Ut.current!==null||(Cn=!0),(ls&134217727)===0&&(Vs&134217727)===0||Be===null||us(Be,xe,Bt,!1)}function Yc(e,a,s){var l=Ee;Ee|=2;var d=ym(),h=vm();(Be!==e||xe!==a)&&(ul=null,Mn(e,a)),a=!1;var p=Ke;e:do try{if(Ce!==0&&ge!==null){var x=ge,w=qt;switch(Ce){case 8:Zc(),p=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(a=!0);var E=Ce;if(Ce=0,qt=null,zn(e,x,w,E),s&&Cn){p=0;break e}break;default:E=Ce,Ce=0,qt=null,zn(e,x,w,E)}}Ib(),p=Ke;break}catch(D){bm(e,D)}while(!0);return a&&e.shellSuspendCounter++,Ea=Us=null,Ee=l,k.H=d,k.A=h,ge===null&&(Be=null,xe=0,Ri()),p}function Ib(){for(;ge!==null;)wm(ge)}function $b(e,a){var s=Ee;Ee|=2;var l=ym(),d=vm();Be!==e||xe!==a?(ul=null,cl=Ct()+500,Mn(e,a)):Cn=ir(e,a);e:do try{if(Ce!==0&&ge!==null){a=ge;var h=qt;t:switch(Ce){case 1:Ce=0,qt=null,zn(e,a,h,1);break;case 2:case 9:if(Oh(h)){Ce=0,qt=null,_m(a);break}a=function(){Ce!==2&&Ce!==9||Be!==e||(Ce=7),ya(e)},h.then(a,a);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Oh(h)?(Ce=0,qt=null,_m(a)):(Ce=0,qt=null,zn(e,a,h,7));break;case 5:var p=null;switch(ge.tag){case 26:p=ge.memoizedState;case 5:case 27:var x=ge;if(p?l0(p):x.stateNode.complete){Ce=0,qt=null;var w=x.sibling;if(w!==null)ge=w;else{var E=x.return;E!==null?(ge=E,fl(E)):ge=null}break t}}Ce=0,qt=null,zn(e,a,h,5);break;case 6:Ce=0,qt=null,zn(e,a,h,6);break;case 8:Zc(),Ke=6;break e;default:throw Error(i(462))}}Pb();break}catch(D){bm(e,D)}while(!0);return Ea=Us=null,k.H=l,k.A=d,Ee=s,ge!==null?0:(Be=null,xe=0,Ri(),Ke)}function Pb(){for(;ge!==null&&!dp();)wm(ge)}function wm(e){var a=Vf(e.alternate,e,qa);e.memoizedProps=e.pendingProps,a===null?fl(e):ge=a}function _m(e){var a=e,s=a.alternate;switch(a.tag){case 15:case 0:a=Bf(s,a,a.pendingProps,a.type,void 0,xe);break;case 11:a=Bf(s,a,a.pendingProps,a.type.render,a.ref,xe);break;case 5:oc(a);default:Yf(s,a),a=ge=yh(a,qa),a=Vf(s,a,qa)}e.memoizedProps=e.pendingProps,a===null?fl(e):ge=a}function zn(e,a,s,l){Ea=Us=null,oc(a),Nn=null,jr=0;var d=a.return;try{if(Ob(e,d,a,s,xe)){Ke=1,el(e,Jt(s,e.current)),ge=null;return}}catch(h){if(d!==null)throw ge=d,h;Ke=1,el(e,Jt(s,e.current)),ge=null;return}a.flags&32768?(ve||l===1?e=!0:Cn||(xe&536870912)!==0?e=!1:(is=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ut.current,l!==null&&l.tag===13&&(l.flags|=16384))),jm(a,e)):fl(a)}function fl(e){var a=e;do{if((a.flags&32768)!==0){jm(a,is);return}e=a.return;var s=Db(a.alternate,a,qa);if(s!==null){ge=s;return}if(a=a.sibling,a!==null){ge=a;return}ge=a=e}while(a!==null);Ke===0&&(Ke=5)}function jm(e,a){do{var s=Mb(e.alternate,e);if(s!==null){s.flags&=32767,ge=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(e=e.sibling,e!==null)){ge=e;return}ge=e=s}while(e!==null);Ke=6,ge=null}function Nm(e,a,s,l,d,h,p,x,w){e.cancelPendingCommit=null;do ml();while(rt!==0);if((Ee&6)!==0)throw Error(i(327));if(a!==null){if(a===e.current)throw Error(i(177));if(h=a.lanes|a.childLanes,h|=zo,wp(e,s,h,p,x,w),e===Be&&(ge=Be=null,xe=0),Dn=a,cs=e,Ba=s,Hc=h,Gc=d,fm=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Zb(pi,function(){return Tm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=k.T,k.T=null,d=P.p,P.p=2,p=Ee,Ee|=4;try{zb(e,a,s)}finally{Ee=p,P.p=d,k.T=l}}rt=1,Sm(),km(),Am()}}function Sm(){if(rt===1){rt=0;var e=cs,a=Dn,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=k.T,k.T=null;var l=P.p;P.p=2;var d=Ee;Ee|=4;try{rm(a,e);var h=ru,p=uh(e.containerInfo),x=h.focusedElem,w=h.selectionRange;if(p!==x&&x&&x.ownerDocument&&ch(x.ownerDocument.documentElement,x)){if(w!==null&&Oo(x)){var E=w.start,D=w.end;if(D===void 0&&(D=E),"selectionStart"in x)x.selectionStart=E,x.selectionEnd=Math.min(D,x.value.length);else{var z=x.ownerDocument||document,O=z&&z.defaultView||window;if(O.getSelection){var C=O.getSelection(),Z=x.textContent.length,se=Math.min(w.start,Z),Le=w.end===void 0?se:Math.min(w.end,Z);!C.extend&&se>Le&&(p=Le,Le=se,se=p);var S=oh(x,se),j=oh(x,Le);if(S&&j&&(C.rangeCount!==1||C.anchorNode!==S.node||C.anchorOffset!==S.offset||C.focusNode!==j.node||C.focusOffset!==j.offset)){var A=z.createRange();A.setStart(S.node,S.offset),C.removeAllRanges(),se>Le?(C.addRange(A),C.extend(j.node,j.offset)):(A.setEnd(j.node,j.offset),C.addRange(A))}}}}for(z=[],C=x;C=C.parentNode;)C.nodeType===1&&z.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<z.length;x++){var M=z[x];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}kl=!!nu,ru=nu=null}finally{Ee=d,P.p=l,k.T=s}}e.current=a,rt=2}}function km(){if(rt===2){rt=0;var e=cs,a=Dn,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=k.T,k.T=null;var l=P.p;P.p=2;var d=Ee;Ee|=4;try{em(e,a.alternate,a)}finally{Ee=d,P.p=l,k.T=s}}rt=3}}function Am(){if(rt===4||rt===3){rt=0,hp();var e=cs,a=Dn,s=Ba,l=fm;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?rt=5:(rt=0,Dn=cs=null,Em(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(os=null),uo(s),a=a.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(rr,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=k.T,d=P.p,P.p=2,k.T=null;try{for(var h=e.onRecoverableError,p=0;p<l.length;p++){var x=l[p];h(x.value,{componentStack:x.stack})}}finally{k.T=a,P.p=d}}(Ba&3)!==0&&ml(),ya(e),d=e.pendingLanes,(s&261930)!==0&&(d&42)!==0?e===Vc?Ir++:(Ir=0,Vc=e):Ir=0,$r(0)}}function Em(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,wr(a)))}function ml(){return Sm(),km(),Am(),Tm()}function Tm(){if(rt!==5)return!1;var e=cs,a=Hc;Hc=0;var s=uo(Ba),l=k.T,d=P.p;try{P.p=32>s?32:s,k.T=null,s=Gc,Gc=null;var h=cs,p=Ba;if(rt=0,Dn=cs=null,Ba=0,(Ee&6)!==0)throw Error(i(331));var x=Ee;if(Ee|=4,um(h.current),lm(h,h.current,p,s),Ee=x,$r(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(rr,h)}catch{}return!0}finally{P.p=d,k.T=l,Em(e,a)}}function Om(e,a,s){a=Jt(s,a),a=jc(e.stateNode,a,2),e=as(e,a,2),e!==null&&(lr(e,2),ya(e))}function Re(e,a,s){if(e.tag===3)Om(e,e,s);else for(;a!==null;){if(a.tag===3){Om(a,e,s);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(os===null||!os.has(l))){e=Jt(s,e),s=Cf(2),l=as(a,s,2),l!==null&&(Rf(s,l,a,e),lr(l,2),ya(l));break}}a=a.return}}function Kc(e,a,s){var l=e.pingCache;if(l===null){l=e.pingCache=new qb;var d=new Set;l.set(a,d)}else d=l.get(a),d===void 0&&(d=new Set,l.set(a,d));d.has(s)||(Ic=!0,d.add(s),e=Hb.bind(null,e,a,s),a.then(e,e))}function Hb(e,a,s){var l=e.pingCache;l!==null&&l.delete(a),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Be===e&&(xe&s)===s&&(Ke===4||Ke===3&&(xe&62914560)===xe&&300>Ct()-ol?(Ee&2)===0&&Mn(e,0):$c|=s,Rn===xe&&(Rn=0)),ya(e)}function Cm(e,a){a===0&&(a=Nd()),e=Ds(e,a),e!==null&&(lr(e,a),ya(e))}function Gb(e){var a=e.memoizedState,s=0;a!==null&&(s=a.retryLane),Cm(e,s)}function Vb(e,a){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(s=d.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(a),Cm(e,s)}function Zb(e,a){return io(e,a)}var gl=null,Un=null,Jc=!1,pl=!1,Xc=!1,ds=0;function ya(e){e!==Un&&e.next===null&&(Un===null?gl=Un=e:Un=Un.next=e),pl=!0,Jc||(Jc=!0,Kb())}function $r(e,a){if(!Xc&&pl){Xc=!0;do for(var s=!1,l=gl;l!==null;){if(e!==0){var d=l.pendingLanes;if(d===0)var h=0;else{var p=l.suspendedLanes,x=l.pingedLanes;h=(1<<31-Dt(42|e)+1)-1,h&=d&~(p&~x),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,zm(l,h))}else h=xe,h=vi(l,l===Be?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||ir(l,h)||(s=!0,zm(l,h));l=l.next}while(s);Xc=!1}}function Yb(){Rm()}function Rm(){pl=Jc=!1;var e=0;ds!==0&&nx()&&(e=ds);for(var a=Ct(),s=null,l=gl;l!==null;){var d=l.next,h=Dm(l,a);h===0?(l.next=null,s===null?gl=d:s.next=d,d===null&&(Un=s)):(s=l,(e!==0||(h&3)!==0)&&(pl=!0)),l=d}rt!==0&&rt!==5||$r(e),ds!==0&&(ds=0)}function Dm(e,a){for(var s=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var p=31-Dt(h),x=1<<p,w=d[p];w===-1?((x&s)===0||(x&l)!==0)&&(d[p]=vp(x,a)):w<=a&&(e.expiredLanes|=x),h&=~x}if(a=Be,s=xe,s=vi(e,e===a?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===a&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&lo(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ir(e,s)){if(a=s&-s,a===e.callbackPriority)return a;switch(l!==null&&lo(l),uo(s)){case 2:case 8:s=_d;break;case 32:s=pi;break;case 268435456:s=jd;break;default:s=pi}return l=Mm.bind(null,e),s=io(s,l),e.callbackPriority=a,e.callbackNode=s,a}return l!==null&&l!==null&&lo(l),e.callbackPriority=2,e.callbackNode=null,2}function Mm(e,a){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ml()&&e.callbackNode!==s)return null;var l=xe;return l=vi(e,e===Be?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(gm(e,l,a),Dm(e,Ct()),e.callbackNode!=null&&e.callbackNode===s?Mm.bind(null,e):null)}function zm(e,a){if(ml())return null;gm(e,a,!0)}function Kb(){ix(function(){(Ee&6)!==0?io(wd,Yb):Rm()})}function Qc(){if(ds===0){var e=wn;e===0&&(e=bi,bi<<=1,(bi&261888)===0&&(bi=256)),ds=e}return ds}function Um(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ni(""+e)}function Lm(e,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,e.id&&s.setAttribute("form",e.id),a.parentNode.insertBefore(s,a),e=new FormData(e),s.parentNode.removeChild(s),e}function Jb(e,a,s,l,d){if(a==="submit"&&s&&s.stateNode===d){var h=Um((d[_t]||null).action),p=l.submitter;p&&(a=(a=p[_t]||null)?Um(a.formAction):p.getAttribute("formAction"),a!==null&&(h=a,p=null));var x=new Ei("action","action",null,l,d);e.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ds!==0){var w=p?Lm(d,p):new FormData(d);bc(s,{pending:!0,data:w,method:d.method,action:h},null,w)}}else typeof h=="function"&&(x.preventDefault(),w=p?Lm(d,p):new FormData(d),bc(s,{pending:!0,data:w,method:d.method,action:h},h,w))},currentTarget:d}]})}}for(var Fc=0;Fc<Mo.length;Fc++){var Wc=Mo[Fc],Xb=Wc.toLowerCase(),Qb=Wc[0].toUpperCase()+Wc.slice(1);ra(Xb,"on"+Qb)}ra(fh,"onAnimationEnd"),ra(mh,"onAnimationIteration"),ra(gh,"onAnimationStart"),ra("dblclick","onDoubleClick"),ra("focusin","onFocus"),ra("focusout","onBlur"),ra(fb,"onTransitionRun"),ra(mb,"onTransitionStart"),ra(gb,"onTransitionCancel"),ra(ph,"onTransitionEnd"),ln("onMouseEnter",["mouseout","mouseover"]),ln("onMouseLeave",["mouseout","mouseover"]),ln("onPointerEnter",["pointerout","pointerover"]),ln("onPointerLeave",["pointerout","pointerover"]),Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pr));function qm(e,a){a=(a&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],d=l.event;l=l.listeners;e:{var h=void 0;if(a)for(var p=l.length-1;0<=p;p--){var x=l[p],w=x.instance,E=x.currentTarget;if(x=x.listener,w!==h&&d.isPropagationStopped())break e;h=x,d.currentTarget=E;try{h(d)}catch(D){Ci(D)}d.currentTarget=null,h=w}else for(p=0;p<l.length;p++){if(x=l[p],w=x.instance,E=x.currentTarget,x=x.listener,w!==h&&d.isPropagationStopped())break e;h=x,d.currentTarget=E;try{h(d)}catch(D){Ci(D)}d.currentTarget=null,h=w}}}}function pe(e,a){var s=a[ho];s===void 0&&(s=a[ho]=new Set);var l=e+"__bubble";s.has(l)||(Bm(a,e,2,!1),s.add(l))}function eu(e,a,s){var l=0;a&&(l|=4),Bm(s,e,l,a)}var bl="_reactListening"+Math.random().toString(36).slice(2);function tu(e){if(!e[bl]){e[bl]=!0,Cd.forEach(function(s){s!=="selectionchange"&&(Fb.has(s)||eu(s,!1,e),eu(s,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[bl]||(a[bl]=!0,eu("selectionchange",!1,a))}}function Bm(e,a,s,l){switch(m0(a)){case 2:var d=kx;break;case 8:d=Ax;break;default:d=pu}s=d.bind(null,a,s,e),d=void 0,!wo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(a,s,{capture:!0,passive:d}):e.addEventListener(a,s,!0):d!==void 0?e.addEventListener(a,s,{passive:d}):e.addEventListener(a,s,!1)}function au(e,a,s,l,d){var h=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var x=l.stateNode.containerInfo;if(x===d)break;if(p===4)for(p=l.return;p!==null;){var w=p.tag;if((w===3||w===4)&&p.stateNode.containerInfo===d)return;p=p.return}for(;x!==null;){if(p=sn(x),p===null)return;if(w=p.tag,w===5||w===6||w===26||w===27){l=h=p;continue e}x=x.parentNode}}l=l.return}Hd(function(){var E=h,D=yo(s),z=[];e:{var O=bh.get(e);if(O!==void 0){var C=Ei,Z=e;switch(e){case"keypress":if(ki(s)===0)break e;case"keydown":case"keyup":C=Vp;break;case"focusin":Z="focus",C=So;break;case"focusout":Z="blur",C=So;break;case"beforeblur":case"afterblur":C=So;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=Dp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=Kp;break;case fh:case mh:case gh:C=Up;break;case ph:C=Xp;break;case"scroll":case"scrollend":C=Cp;break;case"wheel":C=Fp;break;case"copy":case"cut":case"paste":C=qp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Kd;break;case"toggle":case"beforetoggle":C=eb}var se=(a&4)!==0,Le=!se&&(e==="scroll"||e==="scrollend"),S=se?O!==null?O+"Capture":null:O;se=[];for(var j=E,A;j!==null;){var M=j;if(A=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||A===null||S===null||(M=ur(j,S),M!=null&&se.push(Hr(j,M,A))),Le)break;j=j.return}0<se.length&&(O=new C(O,Z,null,s,D),z.push({event:O,listeners:se}))}}if((a&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",O&&s!==xo&&(Z=s.relatedTarget||s.fromElement)&&(sn(Z)||Z[an]))break e;if((C||O)&&(O=D.window===D?D:(O=D.ownerDocument)?O.defaultView||O.parentWindow:window,C?(Z=s.relatedTarget||s.toElement,C=E,Z=Z?sn(Z):null,Z!==null&&(Le=u(Z),se=Z.tag,Z!==Le||se!==5&&se!==27&&se!==6)&&(Z=null)):(C=null,Z=E),C!==Z)){if(se=Zd,M="onMouseLeave",S="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(se=Kd,M="onPointerLeave",S="onPointerEnter",j="pointer"),Le=C==null?O:cr(C),A=Z==null?O:cr(Z),O=new se(M,j+"leave",C,s,D),O.target=Le,O.relatedTarget=A,M=null,sn(D)===E&&(se=new se(S,j+"enter",Z,s,D),se.target=A,se.relatedTarget=Le,M=se),Le=M,C&&Z)t:{for(se=Wb,S=C,j=Z,A=0,M=S;M;M=se(M))A++;M=0;for(var ae=j;ae;ae=se(ae))M++;for(;0<A-M;)S=se(S),A--;for(;0<M-A;)j=se(j),M--;for(;A--;){if(S===j||j!==null&&S===j.alternate){se=S;break t}S=se(S),j=se(j)}se=null}else se=null;C!==null&&Im(z,O,C,se,!1),Z!==null&&Le!==null&&Im(z,Le,Z,se,!0)}}e:{if(O=E?cr(E):window,C=O.nodeName&&O.nodeName.toLowerCase(),C==="select"||C==="input"&&O.type==="file")var Se=ah;else if(eh(O))if(sh)Se=ub;else{Se=ob;var X=lb}else C=O.nodeName,!C||C.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?E&&bo(E.elementType)&&(Se=ah):Se=cb;if(Se&&(Se=Se(e,E))){th(z,Se,s,D);break e}X&&X(e,O,E),e==="focusout"&&E&&O.type==="number"&&E.memoizedProps.value!=null&&po(O,"number",O.value)}switch(X=E?cr(E):window,e){case"focusin":(eh(X)||X.contentEditable==="true")&&(fn=X,Co=E,xr=null);break;case"focusout":xr=Co=fn=null;break;case"mousedown":Ro=!0;break;case"contextmenu":case"mouseup":case"dragend":Ro=!1,dh(z,s,D);break;case"selectionchange":if(hb)break;case"keydown":case"keyup":dh(z,s,D)}var he;if(Ao)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else hn?Fd(e,s)&&(ye="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ye="onCompositionStart");ye&&(Jd&&s.locale!=="ko"&&(hn||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&hn&&(he=Gd()):(Ja=D,_o="value"in Ja?Ja.value:Ja.textContent,hn=!0)),X=xl(E,ye),0<X.length&&(ye=new Yd(ye,e,null,s,D),z.push({event:ye,listeners:X}),he?ye.data=he:(he=Wd(s),he!==null&&(ye.data=he)))),(he=ab?sb(e,s):nb(e,s))&&(ye=xl(E,"onBeforeInput"),0<ye.length&&(X=new Yd("onBeforeInput","beforeinput",null,s,D),z.push({event:X,listeners:ye}),X.data=he)),Jb(z,e,E,s,D)}qm(z,a)})}function Hr(e,a,s){return{instance:e,listener:a,currentTarget:s}}function xl(e,a){for(var s=a+"Capture",l=[];e!==null;){var d=e,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=ur(e,s),d!=null&&l.unshift(Hr(e,d,h)),d=ur(e,a),d!=null&&l.push(Hr(e,d,h))),e.tag===3)return l;e=e.return}return[]}function Wb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Im(e,a,s,l,d){for(var h=a._reactName,p=[];s!==null&&s!==l;){var x=s,w=x.alternate,E=x.stateNode;if(x=x.tag,w!==null&&w===l)break;x!==5&&x!==26&&x!==27||E===null||(w=E,d?(E=ur(s,h),E!=null&&p.unshift(Hr(s,E,w))):d||(E=ur(s,h),E!=null&&p.push(Hr(s,E,w)))),s=s.return}p.length!==0&&e.push({event:a,listeners:p})}var ex=/\r\n?/g,tx=/\u0000|\uFFFD/g;function $m(e){return(typeof e=="string"?e:""+e).replace(ex,`
`).replace(tx,"")}function Pm(e,a){return a=$m(a),$m(e)===a}function Ue(e,a,s,l,d,h){switch(s){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||cn(e,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&cn(e,""+l);break;case"className":_i(e,"class",l);break;case"tabIndex":_i(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_i(e,s,l);break;case"style":$d(e,l,h);break;case"data":if(a!=="object"){_i(e,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Ni(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(a!=="input"&&Ue(e,a,"name",d.name,d,null),Ue(e,a,"formEncType",d.formEncType,d,null),Ue(e,a,"formMethod",d.formMethod,d,null),Ue(e,a,"formTarget",d.formTarget,d,null)):(Ue(e,a,"encType",d.encType,d,null),Ue(e,a,"method",d.method,d,null),Ue(e,a,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Ni(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Na);break;case"onScroll":l!=null&&pe("scroll",e);break;case"onScrollEnd":l!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Ni(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":pe("beforetoggle",e),pe("toggle",e),wi(e,"popover",l);break;case"xlinkActuate":ja(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ja(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ja(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ja(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ja(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ja(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ja(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ja(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ja(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Tp.get(s)||s,wi(e,s,l))}}function su(e,a,s,l,d,h){switch(s){case"style":$d(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"children":typeof l=="string"?cn(e,l):(typeof l=="number"||typeof l=="bigint")&&cn(e,""+l);break;case"onScroll":l!=null&&pe("scroll",e);break;case"onScrollEnd":l!=null&&pe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Na);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rd.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),a=s.slice(2,d?s.length-7:void 0),h=e[_t]||null,h=h!=null?h[s]:null,typeof h=="function"&&e.removeEventListener(a,h,d),typeof l=="function")){typeof h!="function"&&h!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(a,l,d);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):wi(e,s,l)}}}function mt(e,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var l=!1,d=!1,h;for(h in s)if(s.hasOwnProperty(h)){var p=s[h];if(p!=null)switch(h){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ue(e,a,h,p,s,null)}}d&&Ue(e,a,"srcSet",s.srcSet,s,null),l&&Ue(e,a,"src",s.src,s,null);return;case"input":pe("invalid",e);var x=h=p=d=null,w=null,E=null;for(l in s)if(s.hasOwnProperty(l)){var D=s[l];if(D!=null)switch(l){case"name":d=D;break;case"type":p=D;break;case"checked":w=D;break;case"defaultChecked":E=D;break;case"value":h=D;break;case"defaultValue":x=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(137,a));break;default:Ue(e,a,l,D,s,null)}}Ld(e,h,x,w,E,p,d,!1);return;case"select":pe("invalid",e),l=p=h=null;for(d in s)if(s.hasOwnProperty(d)&&(x=s[d],x!=null))switch(d){case"value":h=x;break;case"defaultValue":p=x;break;case"multiple":l=x;default:Ue(e,a,d,x,s,null)}a=h,s=p,e.multiple=!!l,a!=null?on(e,!!l,a,!1):s!=null&&on(e,!!l,s,!0);return;case"textarea":pe("invalid",e),h=d=l=null;for(p in s)if(s.hasOwnProperty(p)&&(x=s[p],x!=null))switch(p){case"value":l=x;break;case"defaultValue":d=x;break;case"children":h=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:Ue(e,a,p,x,s,null)}Bd(e,l,d,h);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(l=s[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ue(e,a,w,l,s,null)}return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(l=0;l<Pr.length;l++)pe(Pr[l],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(E in s)if(s.hasOwnProperty(E)&&(l=s[E],l!=null))switch(E){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ue(e,a,E,l,s,null)}return;default:if(bo(a)){for(D in s)s.hasOwnProperty(D)&&(l=s[D],l!==void 0&&su(e,a,D,l,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(l=s[x],l!=null&&Ue(e,a,x,l,s,null))}function ax(e,a,s,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,p=null,x=null,w=null,E=null,D=null;for(C in s){var z=s[C];if(s.hasOwnProperty(C)&&z!=null)switch(C){case"checked":break;case"value":break;case"defaultValue":w=z;default:l.hasOwnProperty(C)||Ue(e,a,C,null,l,z)}}for(var O in l){var C=l[O];if(z=s[O],l.hasOwnProperty(O)&&(C!=null||z!=null))switch(O){case"type":h=C;break;case"name":d=C;break;case"checked":E=C;break;case"defaultChecked":D=C;break;case"value":p=C;break;case"defaultValue":x=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(137,a));break;default:C!==z&&Ue(e,a,O,C,l,z)}}go(e,p,x,w,E,D,h,d);return;case"select":C=p=x=O=null;for(h in s)if(w=s[h],s.hasOwnProperty(h)&&w!=null)switch(h){case"value":break;case"multiple":C=w;default:l.hasOwnProperty(h)||Ue(e,a,h,null,l,w)}for(d in l)if(h=l[d],w=s[d],l.hasOwnProperty(d)&&(h!=null||w!=null))switch(d){case"value":O=h;break;case"defaultValue":x=h;break;case"multiple":p=h;default:h!==w&&Ue(e,a,d,h,l,w)}a=x,s=p,l=C,O!=null?on(e,!!s,O,!1):!!l!=!!s&&(a!=null?on(e,!!s,a,!0):on(e,!!s,s?[]:"",!1));return;case"textarea":C=O=null;for(x in s)if(d=s[x],s.hasOwnProperty(x)&&d!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ue(e,a,x,null,l,d)}for(p in l)if(d=l[p],h=s[p],l.hasOwnProperty(p)&&(d!=null||h!=null))switch(p){case"value":O=d;break;case"defaultValue":C=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==h&&Ue(e,a,p,d,l,h)}qd(e,O,C);return;case"option":for(var Z in s)if(O=s[Z],s.hasOwnProperty(Z)&&O!=null&&!l.hasOwnProperty(Z))switch(Z){case"selected":e.selected=!1;break;default:Ue(e,a,Z,null,l,O)}for(w in l)if(O=l[w],C=s[w],l.hasOwnProperty(w)&&O!==C&&(O!=null||C!=null))switch(w){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Ue(e,a,w,O,l,C)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in s)O=s[se],s.hasOwnProperty(se)&&O!=null&&!l.hasOwnProperty(se)&&Ue(e,a,se,null,l,O);for(E in l)if(O=l[E],C=s[E],l.hasOwnProperty(E)&&O!==C&&(O!=null||C!=null))switch(E){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(137,a));break;default:Ue(e,a,E,O,l,C)}return;default:if(bo(a)){for(var Le in s)O=s[Le],s.hasOwnProperty(Le)&&O!==void 0&&!l.hasOwnProperty(Le)&&su(e,a,Le,void 0,l,O);for(D in l)O=l[D],C=s[D],!l.hasOwnProperty(D)||O===C||O===void 0&&C===void 0||su(e,a,D,O,l,C);return}}for(var S in s)O=s[S],s.hasOwnProperty(S)&&O!=null&&!l.hasOwnProperty(S)&&Ue(e,a,S,null,l,O);for(z in l)O=l[z],C=s[z],!l.hasOwnProperty(z)||O===C||O==null&&C==null||Ue(e,a,z,O,l,C)}function Hm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var d=s[l],h=d.transferSize,p=d.initiatorType,x=d.duration;if(h&&x&&Hm(p)){for(p=0,x=d.responseEnd,l+=1;l<s.length;l++){var w=s[l],E=w.startTime;if(E>x)break;var D=w.transferSize,z=w.initiatorType;D&&Hm(z)&&(w=w.responseEnd,p+=D*(w<x?1:(x-E)/(w-E)))}if(--l,a+=8*(h+p)/(d.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var nu=null,ru=null;function yl(e){return e.nodeType===9?e:e.ownerDocument}function Gm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vm(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function iu(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var lu=null;function nx(){var e=window.event;return e&&e.type==="popstate"?e===lu?!1:(lu=e,!0):(lu=null,!1)}var Zm=typeof setTimeout=="function"?setTimeout:void 0,rx=typeof clearTimeout=="function"?clearTimeout:void 0,Ym=typeof Promise=="function"?Promise:void 0,ix=typeof queueMicrotask=="function"?queueMicrotask:typeof Ym<"u"?function(e){return Ym.resolve(null).then(e).catch(lx)}:Zm;function lx(e){setTimeout(function(){throw e})}function hs(e){return e==="head"}function Km(e,a){var s=a,l=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(d),In(a);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Gr(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Gr(s);for(var h=s.firstChild;h;){var p=h.nextSibling,x=h.nodeName;h[or]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&h.rel.toLowerCase()==="stylesheet"||s.removeChild(h),h=p}}else s==="body"&&Gr(e.ownerDocument.body);s=d}while(s);In(a)}function Jm(e,a){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function ou(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ou(s),fo(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function ox(e,a,s,l){for(;e.nodeType===1;){var d=s;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[or])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=ea(e.nextSibling),e===null)break}return null}function cx(e,a,s){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ea(e.nextSibling),e===null))return null;return e}function Xm(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ea(e.nextSibling),e===null))return null;return e}function cu(e){return e.data==="$?"||e.data==="$~"}function uu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ux(e,a){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||s.readyState!=="loading")a();else{var l=function(){a(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ea(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var du=null;function Qm(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(a===0)return ea(e.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}e=e.nextSibling}return null}function Fm(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return e;a--}else s!=="/$"&&s!=="/&"||a++}e=e.previousSibling}return null}function Wm(e,a,s){switch(a=yl(s),e){case"html":if(e=a.documentElement,!e)throw Error(i(452));return e;case"head":if(e=a.head,!e)throw Error(i(453));return e;case"body":if(e=a.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Gr(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);fo(e)}var ta=new Map,e0=new Set;function vl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ia=P.d;P.d={f:dx,r:hx,D:fx,C:mx,L:gx,m:px,X:xx,S:bx,M:yx};function dx(){var e=Ia.f(),a=dl();return e||a}function hx(e){var a=nn(e);a!==null&&a.tag===5&&a.type==="form"?bf(a):Ia.r(e)}var Ln=typeof document>"u"?null:document;function t0(e,a,s){var l=Ln;if(l&&typeof a=="string"&&a){var d=Yt(a);d='link[rel="'+e+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),e0.has(d)||(e0.add(d),e={rel:e,crossOrigin:s,href:a},l.querySelector(d)===null&&(a=l.createElement("link"),mt(a,"link",e),ot(a),l.head.appendChild(a)))}}function fx(e){Ia.D(e),t0("dns-prefetch",e,null)}function mx(e,a){Ia.C(e,a),t0("preconnect",e,a)}function gx(e,a,s){Ia.L(e,a,s);var l=Ln;if(l&&e&&a){var d='link[rel="preload"][as="'+Yt(a)+'"]';a==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Yt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Yt(s.imageSizes)+'"]')):d+='[href="'+Yt(e)+'"]';var h=d;switch(a){case"style":h=qn(e);break;case"script":h=Bn(e)}ta.has(h)||(e=v({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:e,as:a},s),ta.set(h,e),l.querySelector(d)!==null||a==="style"&&l.querySelector(Vr(h))||a==="script"&&l.querySelector(Zr(h))||(a=l.createElement("link"),mt(a,"link",e),ot(a),l.head.appendChild(a)))}}function px(e,a){Ia.m(e,a);var s=Ln;if(s&&e){var l=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+Yt(l)+'"][href="'+Yt(e)+'"]',h=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Bn(e)}if(!ta.has(h)&&(e=v({rel:"modulepreload",href:e},a),ta.set(h,e),s.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Zr(h)))return}l=s.createElement("link"),mt(l,"link",e),ot(l),s.head.appendChild(l)}}}function bx(e,a,s){Ia.S(e,a,s);var l=Ln;if(l&&e){var d=rn(l).hoistableStyles,h=qn(e);a=a||"default";var p=d.get(h);if(!p){var x={loading:0,preload:null};if(p=l.querySelector(Vr(h)))x.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":a},s),(s=ta.get(h))&&hu(e,s);var w=p=l.createElement("link");ot(w),mt(w,"link",e),w._p=new Promise(function(E,D){w.onload=E,w.onerror=D}),w.addEventListener("load",function(){x.loading|=1}),w.addEventListener("error",function(){x.loading|=2}),x.loading|=4,wl(p,a,l)}p={type:"stylesheet",instance:p,count:1,state:x},d.set(h,p)}}}function xx(e,a){Ia.X(e,a);var s=Ln;if(s&&e){var l=rn(s).hoistableScripts,d=Bn(e),h=l.get(d);h||(h=s.querySelector(Zr(d)),h||(e=v({src:e,async:!0},a),(a=ta.get(d))&&fu(e,a),h=s.createElement("script"),ot(h),mt(h,"link",e),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(d,h))}}function yx(e,a){Ia.M(e,a);var s=Ln;if(s&&e){var l=rn(s).hoistableScripts,d=Bn(e),h=l.get(d);h||(h=s.querySelector(Zr(d)),h||(e=v({src:e,async:!0,type:"module"},a),(a=ta.get(d))&&fu(e,a),h=s.createElement("script"),ot(h),mt(h,"link",e),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(d,h))}}function a0(e,a,s,l){var d=(d=ma.current)?vl(d):null;if(!d)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=qn(s.href),s=rn(d).hoistableStyles,l=s.get(a),l||(l={type:"style",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=qn(s.href);var h=rn(d).hoistableStyles,p=h.get(e);if(p||(d=d.ownerDocument||d,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,p),(h=d.querySelector(Vr(e)))&&!h._p&&(p.instance=h,p.state.loading=5),ta.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ta.set(e,s),h||vx(d,e,s,p.state))),a&&l===null)throw Error(i(528,""));return p}if(a&&l!==null)throw Error(i(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Bn(s),s=rn(d).hoistableScripts,l=s.get(a),l||(l={type:"script",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function qn(e){return'href="'+Yt(e)+'"'}function Vr(e){return'link[rel="stylesheet"]['+e+"]"}function s0(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function vx(e,a,s,l){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=e.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),mt(a,"link",s),ot(a),e.head.appendChild(a))}function Bn(e){return'[src="'+Yt(e)+'"]'}function Zr(e){return"script[async]"+e}function n0(e,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var l=e.querySelector('style[data-href~="'+Yt(s.href)+'"]');if(l)return a.instance=l,ot(l),l;var d=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ot(l),mt(l,"style",d),wl(l,s.precedence,e),a.instance=l;case"stylesheet":d=qn(s.href);var h=e.querySelector(Vr(d));if(h)return a.state.loading|=4,a.instance=h,ot(h),h;l=s0(s),(d=ta.get(d))&&hu(l,d),h=(e.ownerDocument||e).createElement("link"),ot(h);var p=h;return p._p=new Promise(function(x,w){p.onload=x,p.onerror=w}),mt(h,"link",l),a.state.loading|=4,wl(h,s.precedence,e),a.instance=h;case"script":return h=Bn(s.src),(d=e.querySelector(Zr(h)))?(a.instance=d,ot(d),d):(l=s,(d=ta.get(h))&&(l=v({},s),fu(l,d)),e=e.ownerDocument||e,d=e.createElement("script"),ot(d),mt(d,"link",l),e.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,wl(l,s.precedence,e));return a.instance}function wl(e,a,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,h=d,p=0;p<l.length;p++){var x=l[p];if(x.dataset.precedence===a)h=x;else if(h!==d)break}h?h.parentNode.insertBefore(e,h.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(e,a.firstChild))}function hu(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function fu(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var _l=null;function r0(e,a,s){if(_l===null){var l=new Map,d=_l=new Map;d.set(s,l)}else d=_l,l=d.get(s),l||(l=new Map,d.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),d=0;d<s.length;d++){var h=s[d];if(!(h[or]||h[ut]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var p=h.getAttribute(a)||"";p=e+p;var x=l.get(p);x?x.push(h):l.set(p,[h])}}return l}function i0(e,a,s){e=e.ownerDocument||e,e.head.insertBefore(s,a==="title"?e.querySelector("head > title"):null)}function wx(e,a,s){if(s===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function l0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function _x(e,a,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=qn(l.href),h=a.querySelector(Vr(d));if(h){a=h._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=jl.bind(e),a.then(e,e)),s.state.loading|=4,s.instance=h,ot(h);return}h=a.ownerDocument||a,l=s0(l),(d=ta.get(d))&&hu(l,d),h=h.createElement("link"),ot(h);var p=h;p._p=new Promise(function(x,w){p.onload=x,p.onerror=w}),mt(h,"link",l),s.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=jl.bind(e),a.addEventListener("load",s),a.addEventListener("error",s))}}var mu=0;function jx(e,a){return e.stylesheets&&e.count===0&&Sl(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&Sl(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+a);0<e.imgBytes&&mu===0&&(mu=62500*sx());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Sl(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>mu?50:800)+a);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function jl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nl=null;function Sl(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nl=new Map,a.forEach(Nx,e),Nl=null,jl.call(e))}function Nx(e,a){if(!(a.state.loading&4)){var s=Nl.get(e);if(s)var l=s.get(null);else{s=new Map,Nl.set(e,s);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var p=d[h];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}d=a.instance,p=d.getAttribute("data-precedence"),h=s.get(p)||l,h===l&&s.set(null,d),s.set(p,d),this.count++,l=jl.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),h?h.parentNode.insertBefore(d,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),a.state.loading|=4}}var Yr={$$typeof:q,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function Sx(e,a,s,l,d,h,p,x,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oo(0),this.hiddenUpdates=oo(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function o0(e,a,s,l,d,h,p,x,w,E,D,z){return e=new Sx(e,a,s,p,w,E,D,z,x),a=1,h===!0&&(a|=24),h=zt(3,null,null,a),e.current=h,h.stateNode=e,a=Yo(),a.refCount++,e.pooledCache=a,a.refCount++,h.memoizedState={element:l,isDehydrated:s,cache:a},Qo(h),e}function c0(e){return e?(e=pn,e):pn}function u0(e,a,s,l,d,h){d=c0(d),l.context===null?l.context=d:l.pendingContext=d,l=ts(a),l.payload={element:s},h=h===void 0?null:h,h!==null&&(l.callback=h),s=as(e,l,a),s!==null&&(Et(s,e,a),Sr(s,e,a))}function d0(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<a?s:a}}function gu(e,a){d0(e,a),(e=e.alternate)&&d0(e,a)}function h0(e){if(e.tag===13||e.tag===31){var a=Ds(e,67108864);a!==null&&Et(a,e,67108864),gu(e,67108864)}}function f0(e){if(e.tag===13||e.tag===31){var a=It();a=co(a);var s=Ds(e,a);s!==null&&Et(s,e,a),gu(e,a)}}var kl=!0;function kx(e,a,s,l){var d=k.T;k.T=null;var h=P.p;try{P.p=2,pu(e,a,s,l)}finally{P.p=h,k.T=d}}function Ax(e,a,s,l){var d=k.T;k.T=null;var h=P.p;try{P.p=8,pu(e,a,s,l)}finally{P.p=h,k.T=d}}function pu(e,a,s,l){if(kl){var d=bu(l);if(d===null)au(e,a,l,Al,s),g0(e,l);else if(Tx(d,e,a,s,l))l.stopPropagation();else if(g0(e,l),a&4&&-1<Ex.indexOf(e)){for(;d!==null;){var h=nn(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=Es(h.pendingLanes);if(p!==0){var x=h;for(x.pendingLanes|=2,x.entangledLanes|=2;p;){var w=1<<31-Dt(p);x.entanglements[1]|=w,p&=~w}ya(h),(Ee&6)===0&&(cl=Ct()+500,$r(0))}}break;case 31:case 13:x=Ds(h,2),x!==null&&Et(x,h,2),dl(),gu(h,2)}if(h=bu(l),h===null&&au(e,a,l,Al,s),h===d)break;d=h}d!==null&&l.stopPropagation()}else au(e,a,l,null,s)}}function bu(e){return e=yo(e),xu(e)}var Al=null;function xu(e){if(Al=null,e=sn(e),e!==null){var a=u(e);if(a===null)e=null;else{var s=a.tag;if(s===13){if(e=f(a),e!==null)return e;e=null}else if(s===31){if(e=m(a),e!==null)return e;e=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return Al=e,null}function m0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fp()){case wd:return 2;case _d:return 8;case pi:case mp:return 32;case jd:return 268435456;default:return 32}default:return 32}}var yu=!1,fs=null,ms=null,gs=null,Kr=new Map,Jr=new Map,ps=[],Ex="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g0(e,a){switch(e){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Kr.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jr.delete(a.pointerId)}}function Xr(e,a,s,l,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:a,domEventName:s,eventSystemFlags:l,nativeEvent:h,targetContainers:[d]},a!==null&&(a=nn(a),a!==null&&h0(a)),e):(e.eventSystemFlags|=l,a=e.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),e)}function Tx(e,a,s,l,d){switch(a){case"focusin":return fs=Xr(fs,e,a,s,l,d),!0;case"dragenter":return ms=Xr(ms,e,a,s,l,d),!0;case"mouseover":return gs=Xr(gs,e,a,s,l,d),!0;case"pointerover":var h=d.pointerId;return Kr.set(h,Xr(Kr.get(h)||null,e,a,s,l,d)),!0;case"gotpointercapture":return h=d.pointerId,Jr.set(h,Xr(Jr.get(h)||null,e,a,s,l,d)),!0}return!1}function p0(e){var a=sn(e.target);if(a!==null){var s=u(a);if(s!==null){if(a=s.tag,a===13){if(a=f(s),a!==null){e.blockedOn=a,Td(e.priority,function(){f0(s)});return}}else if(a===31){if(a=m(s),a!==null){e.blockedOn=a,Td(e.priority,function(){f0(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function El(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var s=bu(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);xo=l,s.target.dispatchEvent(l),xo=null}else return a=nn(s),a!==null&&h0(a),e.blockedOn=s,!1;a.shift()}return!0}function b0(e,a,s){El(e)&&s.delete(a)}function Ox(){yu=!1,fs!==null&&El(fs)&&(fs=null),ms!==null&&El(ms)&&(ms=null),gs!==null&&El(gs)&&(gs=null),Kr.forEach(b0),Jr.forEach(b0)}function Tl(e,a){e.blockedOn===a&&(e.blockedOn=null,yu||(yu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Ox)))}var Ol=null;function x0(e){Ol!==e&&(Ol=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ol===e&&(Ol=null);for(var a=0;a<e.length;a+=3){var s=e[a],l=e[a+1],d=e[a+2];if(typeof l!="function"){if(xu(l||s)===null)continue;break}var h=nn(s);h!==null&&(e.splice(a,3),a-=3,bc(h,{pending:!0,data:d,method:s.method,action:l},l,d))}}))}function In(e){function a(w){return Tl(w,e)}fs!==null&&Tl(fs,e),ms!==null&&Tl(ms,e),gs!==null&&Tl(gs,e),Kr.forEach(a),Jr.forEach(a);for(var s=0;s<ps.length;s++){var l=ps[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ps.length&&(s=ps[0],s.blockedOn===null);)p0(s),s.blockedOn===null&&ps.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var d=s[l],h=s[l+1],p=d[_t]||null;if(typeof h=="function")p||x0(s);else if(p){var x=null;if(h&&h.hasAttribute("formAction")){if(d=h,p=h[_t]||null)x=p.formAction;else if(xu(d)!==null)continue}else x=p.action;typeof x=="function"?s[l+1]=x:(s.splice(l,3),l-=3),x0(s)}}}function y0(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(p){return d=p})},focusReset:"manual",scroll:"manual"})}function a(){d!==null&&(d(),d=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),d!==null&&(d(),d=null)}}}function vu(e){this._internalRoot=e}Cl.prototype.render=vu.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(i(409));var s=a.current,l=It();u0(s,l,e,a,null,null)},Cl.prototype.unmount=vu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;u0(e.current,2,null,e,null,null),dl(),a[an]=null}};function Cl(e){this._internalRoot=e}Cl.prototype.unstable_scheduleHydration=function(e){if(e){var a=Ed();e={blockedOn:null,target:e,priority:a};for(var s=0;s<ps.length&&a!==0&&a<ps[s].priority;s++);ps.splice(s,0,e),s===0&&p0(e)}};var v0=t.version;if(v0!=="19.2.3")throw Error(i(527,v0,"19.2.3"));P.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=b(a),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Cx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{rr=Rl.inject(Cx),Rt=Rl}catch{}}return Fr.createRoot=function(e,a){if(!c(e))throw Error(i(299));var s=!1,l="",d=Af,h=Ef,p=Tf;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(p=a.onRecoverableError)),a=o0(e,1,!1,null,null,s,l,null,d,h,p,y0),e[an]=a.current,tu(e),new vu(a)},Fr.hydrateRoot=function(e,a,s){if(!c(e))throw Error(i(299));var l=!1,d="",h=Af,p=Ef,x=Tf,w=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.formState!==void 0&&(w=s.formState)),a=o0(e,1,!0,a,s??null,l,d,w,h,p,x,y0),a.context=c0(null),s=a.current,l=It(),l=co(l),d=ts(l),d.callback=null,as(s,d,l),s=l,a.current.lanes=s,lr(a,s),ya(a),e[an]=a.current,tu(e),new Cl(a)},Fr.version="19.2.3",Fr}var E0;function Wx(){if(E0)return ju.exports;E0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),ju.exports=Fx(),ju.exports}var ey=Wx();const ty=ld(ey),Ss=()=>{const[n,t]=ie.useState(!1),r=od(),i=c=>r.pathname===c;return o.jsxs("header",{className:"fixed w-full top-0 z-50 transition-all duration-300 bg-white/70 dark:bg-background-dark/70 backdrop-blur-xl border-b border-gray-100/50 dark:border-white/5 shadow-sm",children:[o.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[o.jsxs(_e,{to:"/",className:"text-2xl font-black text-slate-900 dark:text-white tracking-tighter flex items-center group",children:[o.jsx("span",{className:"material-icons mr-2 text-brand-orange group-hover:rotate-12 transition-transform duration-300","aria-hidden":"true",children:"school"}),"TuTesis",o.jsx("span",{className:"text-brand-orange",children:"RD"})]}),o.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors focus:outline-none",onClick:()=>t(!n),children:o.jsx("span",{className:"material-icons text-2xl text-slate-800 dark:text-white",children:"menu"})}),o.jsxs("nav",{className:"hidden md:flex space-x-1 items-center font-medium text-sm",children:[o.jsx(_e,{to:"/",className:`px-4 py-2 rounded-full transition-all duration-300 ${i("/")?"text-brand-orange bg-orange-50 dark:bg-gray-800":"text-slate-600 dark:text-slate-300 hover:text-brand-orange hover:bg-orange-50 dark:hover:bg-gray-800"}`,children:"Inicio"}),o.jsx(_e,{to:"/nosotros",className:`px-4 py-2 rounded-full transition-all duration-300 ${i("/nosotros")?"text-brand-orange bg-orange-50 dark:bg-gray-800":"text-slate-600 dark:text-slate-300 hover:text-brand-orange hover:bg-orange-50 dark:hover:bg-gray-800"}`,children:"Nosotros"}),o.jsx(_e,{to:"/servicios",className:`px-4 py-2 rounded-full transition-all duration-300 ${i("/servicios")?"text-brand-orange bg-orange-50 dark:bg-gray-800":"text-slate-600 dark:text-slate-300 hover:text-brand-orange hover:bg-orange-50 dark:hover:bg-gray-800"}`,children:"Servicios"}),o.jsx(_e,{to:"/herramientas",className:`px-4 py-2 rounded-full transition-all duration-300 ${i("/herramientas")?"text-brand-orange bg-orange-50 dark:bg-gray-800":"text-slate-600 dark:text-slate-300 hover:text-brand-orange hover:bg-orange-50 dark:hover:bg-gray-800"}`,children:"Herramientas"}),o.jsx(_e,{to:"/universidades",className:`px-4 py-2 rounded-full transition-all duration-300 ${i("/universidades")?"text-brand-orange bg-orange-50 dark:bg-gray-800":"text-slate-600 dark:text-slate-300 hover:text-brand-orange hover:bg-orange-50 dark:hover:bg-gray-800"}`,children:"Universidades"}),o.jsx(_e,{to:"/blog",className:`px-4 py-2 rounded-full transition-all duration-300 ${i("/blog")?"text-brand-orange bg-orange-50 dark:bg-gray-800":"text-slate-600 dark:text-slate-300 hover:text-brand-orange hover:bg-orange-50 dark:hover:bg-gray-800"}`,children:"Blog"}),o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",className:"ml-4 px-6 py-2.5 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-full hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300 flex items-center gap-2 font-bold",children:[o.jsx("i",{className:"fab fa-whatsapp text-lg"})," Contactar"]})]})]}),o.jsxs("div",{className:`md:hidden bg-white/95 dark:bg-black/95 backdrop-blur-xl border-t border-gray-100 dark:border-gray-800 absolute w-full ${n?"block":"hidden"}`,children:[o.jsx(_e,{to:"/",onClick:()=>t(!1),className:"block w-full text-left py-4 px-8 font-medium text-slate-800 dark:text-slate-200 border-b border-gray-50 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Inicio"}),o.jsx(_e,{to:"/nosotros",onClick:()=>t(!1),className:"block w-full text-left py-4 px-8 font-medium text-slate-800 dark:text-slate-200 border-b border-gray-50 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Nosotros"}),o.jsx(_e,{to:"/servicios",onClick:()=>t(!1),className:"block w-full text-left py-4 px-8 font-medium text-slate-800 dark:text-slate-200 border-b border-gray-50 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Servicios"}),o.jsx(_e,{to:"/herramientas",onClick:()=>t(!1),className:"block w-full text-left py-4 px-8 font-medium text-slate-800 dark:text-slate-200 border-b border-gray-50 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Herramientas"}),o.jsx(_e,{to:"/universidades",onClick:()=>t(!1),className:"block w-full text-left py-4 px-8 font-medium text-slate-800 dark:text-slate-200 border-b border-gray-50 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Universidades"}),o.jsx(_e,{to:"/blog",onClick:()=>t(!1),className:"block w-full text-left py-4 px-8 font-medium text-slate-800 dark:text-slate-200 border-b border-gray-50 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Blog"}),o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",onClick:()=>t(!1),className:"block py-4 px-8 text-brand-orange font-bold bg-orange-50/50 dark:bg-orange-900/10",children:[o.jsx("i",{className:"fab fa-whatsapp mr-2"})," Contactar por WhatsApp"]})]})]})},ks=()=>o.jsx("footer",{id:"contacto",className:"bg-gray-900 text-gray-400 py-16",children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-2xl font-bold text-white block mb-4 flex items-center",children:[o.jsx("span",{className:"material-icons mr-2 text-brand-orange",children:"school"}),"Tu Tesis RD"]}),o.jsx("p",{className:"text-sm mb-6",children:"Tu aliado acadmico nmero uno en Repblica Dominicana. Calidad, confianza y resultados garantizados."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-bold text-lg mb-6",children:"Contacto"}),o.jsxs("ul",{className:"space-y-4",children:[o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"material-icons mt-1 mr-3 text-brand-orange text-sm",children:"location_on"}),o.jsxs("span",{children:["Higey, La Altagracia, Rep. Dom.",o.jsx("br",{}),o.jsx("span",{className:"text-xs text-gray-500",children:"(Servicio a todo el pas)"})]})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"material-icons mr-3 text-brand-orange text-sm",children:"email"}),o.jsx("a",{href:"mailto:ttesisrd@gmail.com",className:"hover:text-white transition",children:"ttesisrd@gmail.com"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"material-icons mr-3 text-brand-orange text-sm",children:"chat"}),o.jsx("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition",children:"Chat WhatsApp"})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-bold text-lg mb-6",children:"Enlaces Rpidos"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(_e,{to:"/",className:"hover:text-brand-orange transition",children:"Inicio"})}),o.jsx("li",{children:o.jsx(_e,{to:"/servicios",className:"hover:text-brand-orange transition",children:"Servicios"})}),o.jsx("li",{children:o.jsx(_e,{to:"/nosotros",className:"hover:text-brand-orange transition",children:"Nosotros"})}),o.jsx("li",{children:o.jsx(_e,{to:"/blog",className:"hover:text-brand-orange transition",children:"Blog"})}),o.jsx("li",{children:o.jsx(_e,{to:"/registro",className:"hover:text-brand-orange transition text-brand-orange font-medium",children:"Registrar Proyecto"})})]})]})]}),o.jsxs("div",{className:"mt-16 pt-8 border-t border-gray-800 flex flex-col md:flex-row justify-between items-center gap-6",children:[o.jsxs("div",{className:"text-sm",children:[" ",new Date().getFullYear()," TuTesisRD. Todos los derechos reservados."]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("a",{href:"#",className:"hover:text-white transition",children:o.jsx("i",{className:"fab fa-instagram text-xl"})}),o.jsx("a",{href:"#",className:"hover:text-white transition",children:o.jsx("i",{className:"fab fa-facebook text-xl"})}),o.jsx("a",{href:"#",className:"hover:text-white transition",children:o.jsx("i",{className:"fab fa-linkedin text-xl"})})]})]})]})}),_s=({title:n,description:t,canonical:r,schema:i})=>{const c=`${n} | TuTesisRD - Asesora de Tesis en Repblica Dominicana`,f=t||"Asesora experta en tesis, anteproyectos y monogrficos en Repblica Dominicana. Ms de 7 aos ayudando a estudiantes a graduarse con xito.",m="https://www.tutesisrd.online";return ie.useEffect(()=>{document.title=c;const g=(_,N,T=!1)=>{const R=T?"property":"name";let U=document.querySelector(`meta[${R}="${_}"]`);U||(U=document.createElement("meta"),U.setAttribute(R,_),document.head.appendChild(U)),U.setAttribute("content",N)};g("description",f),g("og:title",c,!0),g("og:description",f,!0),g("og:type","website",!0),g("og:url",window.location.href,!0),g("og:image",`${m}/favicon.png`,!0),g("twitter:card","summary_large_image"),g("twitter:title",c),g("twitter:description",f);let b=document.querySelector('link[rel="canonical"]');const y=r||window.location.href;b||(b=document.createElement("link"),b.setAttribute("rel","canonical"),document.head.appendChild(b)),b.setAttribute("href",y);let v=document.querySelector('script[id="ld-json"]');i?(v||(v=document.createElement("script"),v.setAttribute("type","application/ld+json"),v.setAttribute("id","ld-json"),document.head.appendChild(v)),v.textContent=JSON.stringify(i)):v&&v.remove()},[c,f,r,i]),null},ay=()=>{const[n,t]=Ws.useState(null),r=c=>{t(n===c?null:c)},i={"@context":"https://schema.org","@type":"LocalBusiness",name:"TuTesisRD",image:"https://www.tutesisrd.online/favicon.png","@id":"https://www.tutesisrd.online",url:"https://www.tutesisrd.online",telephone:"+18294435985",address:{"@type":"PostalAddress",streetAddress:"Repblica Dominicana",addressLocality:"Santo Domingo",addressCountry:"DO"},geo:{"@type":"GeoCoordinates",latitude:18.4861,longitude:-69.9312},openingHoursSpecification:{"@type":"OpeningHoursSpecification",dayOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday"],opens:"09:00",closes:"18:00"},sameAs:["https://wa.me/message/YESJDSE3MZ3IM1"]};return o.jsxs("div",{className:"font-sans text-gray-800 bg-background-light dark:bg-background-dark dark:text-gray-100 transition-colors duration-200",children:[o.jsx(_s,{title:"Inicio",description:"Tu Tesis Aprobada, Sin Estrs. Expertos en redaccin acadmica y metodologa en Repblica Dominicana.",schema:i}),o.jsx(Ss,{}),o.jsxs("section",{id:"inicio",className:"relative pt-32 pb-16 lg:pt-48 lg:pb-32 overflow-hidden bg-background-light dark:bg-background-dark",children:[o.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-[300px] h-[300px] md:w-[600px] md:h-[600px] bg-brand-orange/10 rounded-full blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-[250px] h-[250px] md:w-[500px] md:h-[500px] bg-blue-500/10 rounded-full blur-3xl"}),o.jsx("div",{className:"container mx-auto px-6 relative z-10",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-12 lg:gap-20",children:[o.jsxs("div",{className:"md:w-1/2 animate-fade-in-up text-center md:text-left",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white dark:bg-white/10 border border-gray-200 dark:border-white/10 shadow-sm mb-6 md:mb-8",children:[o.jsx("span",{className:"flex h-2 w-2 rounded-full bg-green-500 animate-pulse"}),o.jsx("span",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-200",children:"Disponible para nuevos proyectos"})]}),o.jsxs("h1",{className:"text-4xl lg:text-7xl font-black text-slate-900 dark:text-white mb-6 leading-[1.1] tracking-tight",children:["Tu Tesis Aprobada,",o.jsx("br",{}),o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-orange to-amber-500",children:"Sin Estrs."})]}),o.jsx("p",{className:"text-lg lg:text-xl text-slate-500 dark:text-slate-400 mb-8 md:mb-10 leading-relaxed max-w-lg mx-auto md:mx-0",children:"Expertos en redaccin acadmica y metodologa. Te acompaamos desde el anteproyecto hasta la defensa final."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center md:justify-start",children:[o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center bg-brand-orange text-white font-bold py-4 px-8 rounded-full shadow-xl shadow-brand-orange/20 hover:shadow-2xl hover:shadow-brand-orange/30 hover:-translate-y-1 transition-all duration-300",children:[o.jsx("span",{className:"material-icons mr-2","aria-hidden":"true",children:"chat"})," Contactar Asesor"]}),o.jsx(_e,{to:"/servicios",className:"inline-flex items-center justify-center bg-white dark:bg-white/5 text-slate-700 dark:text-white font-bold py-4 px-8 rounded-full border border-gray-200 dark:border-white/10 hover:bg-gray-50 dark:hover:bg-white/10 transition-all duration-300",children:"Ver Servicios"})]}),o.jsxs("div",{className:"mt-12 hidden md:inline-flex items-center gap-4 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm p-3 pr-6 rounded-full border border-white/50 dark:border-slate-700/50 shadow-sm",children:[o.jsxs("div",{className:"flex -space-x-3",children:[o.jsx("img",{src:"https://randomuser.me/api/portraits/women/44.jpg",alt:"Estudiante satisfecha",className:"w-10 h-10 rounded-full border-2 border-white dark:border-slate-900 object-cover"}),o.jsx("img",{src:"https://randomuser.me/api/portraits/men/32.jpg",alt:"Estudiante satisfecho",className:"w-10 h-10 rounded-full border-2 border-white dark:border-slate-900 object-cover"}),o.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white dark:border-slate-900 bg-brand-orange flex items-center justify-center text-xs text-white font-bold",children:"+300"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-slate-900 dark:text-white leading-tight",children:"Estudiantes"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:"Graduados exitosamente"})]})]})]}),o.jsxs("div",{className:"md:w-1/2 relative animate-fade-in group perspective-1000 mt-8 md:mt-0",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-brand-orange to-yellow-400 rounded-[2rem] transform rotate-3 scale-105 opacity-20 blur-2xl group-hover:rotate-6 transition-transform duration-500"}),o.jsx("img",{src:"https://images.unsplash.com/photo-1523240795612-9a054b0db644?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",alt:"Estudiante celebrando graduacin con xito",className:"relative rounded-[2rem] shadow-2xl transform transition-transform duration-500 group-hover:scale-[1.02] border border-white/20"}),o.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-xl flex items-center gap-4 animate-bounce-slow border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-full text-green-600",children:o.jsx("span",{className:"material-icons","aria-hidden":"true",children:"check_circle"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:"Resultado"}),o.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"100% Aprobado"})]})]})]})]})})]}),o.jsxs("section",{className:"py-12 bg-slate-50 dark:bg-slate-900/50 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute top-1/2 left-0 w-[500px] h-[500px] bg-slate-200/50 dark:bg-slate-800/30 rounded-full blur-3xl -translate-y-1/2 -translate-x-1/2"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-[300px] h-[300px] bg-brand-orange/5 rounded-full blur-3xl translate-y-1/3 translate-x-1/3"})]}),o.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[o.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-20",children:[o.jsx("span",{className:"text-brand-orange font-black uppercase tracking-[0.2em] text-sm mb-4 block",children:"Nuestra Trayectoria"}),o.jsxs("h2",{className:"text-3xl md:text-5xl font-black text-slate-900 dark:text-white mb-6",children:["Por qu elegir ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-orange to-amber-500",children:"TuTesisRD?"})]}),o.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 leading-relaxed",children:"Ms de 7 aos transformando el estrs acadmico en xito profesional. Nuestra metodologa garantiza resultados aprobados."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:"history_edu",title:"+7 Aos",desc:"Experiencia Acadmica",color:"text-blue-500",bg:"bg-blue-500/10"},{icon:"groups",title:"300+",desc:"Tesis Asesoradas",color:"text-brand-orange",bg:"bg-brand-orange/10"},{icon:"verified",title:"100%",desc:"Tasa de Aprobacin",color:"text-green-500",bg:"bg-green-500/10"},{icon:"language",title:"Nacional",desc:"Cobertura Nacional",color:"text-purple-500",bg:"bg-purple-500/10"}].map((c,u)=>o.jsx("div",{className:"group bg-white dark:bg-slate-900 p-8 rounded-[2rem] border border-slate-100 dark:border-slate-800 hover:border-brand-orange/30 dark:hover:border-brand-orange/30 transition-all duration-300 hover:-translate-y-1",children:o.jsxs("div",{className:"relative z-10 text-center",children:[o.jsx("div",{className:`w-16 h-16 mx-auto ${c.bg} rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300`,children:o.jsx("span",{className:`material-icons text-3xl ${c.color}`,"aria-hidden":"true",children:c.icon})}),o.jsx("h4",{className:"text-3xl font-black text-slate-900 dark:text-white mb-2 tracking-tight",children:c.title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:c.desc})]})},u))})]})]}),o.jsx("section",{id:"servicios",className:"py-12 bg-white dark:bg-black relative overflow-hidden",children:o.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[o.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[o.jsx("span",{className:"text-brand-orange font-black uppercase tracking-[0.2em] text-sm mb-4 block",children:"Soluciones Integrales"}),o.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-slate-900 dark:text-white mb-6 leading-tight",children:["Nuestros Servicios ",o.jsx("span",{className:"text-slate-400 dark:text-slate-600",children:"Premium"})]}),o.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 leading-relaxed mb-8",children:"Diseamos un ecosistema de servicios para cubrir cada etapa de tu investigacin, desde la idea inicial hasta la sustentacin."}),o.jsx("div",{className:"flex justify-center",children:o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",className:"group flex items-center gap-3 px-8 py-4 bg-slate-900 hover:bg-slate-800 dark:bg-white dark:hover:bg-gray-100 text-white dark:text-slate-900 rounded-full font-bold transition-all hover:-translate-y-1 shadow-lg shadow-slate-200/50 dark:shadow-none",children:[o.jsx("span",{className:"uppercase tracking-wider text-sm",children:"Ver Planes"}),o.jsx("span",{className:"material-icons group-hover:translate-x-1 transition-transform text-sm",children:"arrow_forward"})]})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto",children:[{icon:"school",title:"Asesora de Tesis",desc:"Acompaamiento 1 a 1 metodologa y contenido.",details:"Sesiones personalizadas con expertos para definir tu tema, objetivos y estructura. Revisin capitular continua.",color:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/10"},{icon:"fact_check",title:"Correccin de Estilo",desc:"Normas APA, ortografa y redaccin acadmica.",details:"Eliminacin de errores gramaticales, sintcticos y ortogrficos. Ajuste riguroso a normas APA 7ma edicin.",color:"text-emerald-600",bg:"bg-emerald-50 dark:bg-emerald-900/10"},{icon:"analytics",title:"Anlisis Estadstico",desc:"Procesamiento de datos (SPSS, Excel) y resultados.",details:"Anlisis descriptivo e inferencial. Creacin de tablas y grficos interpretados listos para tu informe.",color:"text-violet-600",bg:"bg-violet-50 dark:bg-violet-900/10"},{icon:"menu_book",title:"Investigacin",desc:"Marco terico y bsqueda bibliogrfica.",details:"Bsqueda de fuentes de alto impacto (Scopus, WoS) para fundamentar tu marco terico y estado del arte.",color:"text-brand-orange",bg:"bg-orange-50 dark:bg-orange-900/10"}].map((c,u)=>o.jsx("div",{className:`group relative p-6 rounded-[2rem] bg-white dark:bg-slate-900 border transition-all duration-300 hover:-translate-y-1 cursor-pointer
                                    ${n===u?"border-brand-orange shadow-xl shadow-brand-orange/10 ring-1 ring-brand-orange/20":"border-slate-100 dark:border-slate-800 hover:border-brand-orange/30 dark:hover:border-brand-orange/30 hover:shadow-xl hover:shadow-slate-200/50 dark:hover:shadow-none"}`,onClick:()=>r(u),children:o.jsxs("div",{className:"flex flex-col h-full justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:`w-14 h-14 ${c.bg} ${c.color} rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300`,children:o.jsx("span",{className:"material-icons text-3xl","aria-hidden":"true",children:c.icon})}),o.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-3 group-hover:text-brand-orange transition-colors",children:c.title}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed text-sm",children:c.desc}),o.jsx("div",{className:`grid transition-all duration-300 ease-in-out ${n===u?"grid-rows-[1fr] opacity-100 mt-4":"grid-rows-[0fr] opacity-0"}`,children:o.jsx("div",{className:"overflow-hidden",children:o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 border-t border-slate-100 dark:border-slate-800 pt-3",children:c.details})})})]}),o.jsxs("div",{className:"mt-6 flex items-center text-sm font-bold text-slate-900 dark:text-white group-hover:text-brand-orange transition-colors",children:[o.jsx("span",{className:"uppercase tracking-wider text-xs",children:n===u?"Menos detalles":"Ms detalles"}),o.jsx("span",{className:`material-icons text-sm ml-2 transition-transform duration-300 ${n===u?"-rotate-90":"group-hover:translate-x-1"}`,children:n===u?"expand_less":"arrow_forward"})]})]})},u))}),o.jsxs("div",{className:"mt-16 bg-gradient-to-r from-slate-50 to-white dark:from-slate-900 dark:to-black rounded-[2.5rem] p-8 md:p-12 border border-slate-200 dark:border-slate-800 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-brand-orange/5 rounded-full blur-[80px] pointer-events-none"}),o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-12 relative z-10",children:[o.jsxs("div",{className:"md:w-1/3",children:[o.jsxs("h3",{className:"text-3xl font-black text-slate-900 dark:text-white mb-4",children:["Todo Incluido ",o.jsx("span",{className:"text-brand-orange",children:"Premium"})]}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Al contratar cualquiera de nuestros servicios, obtienes beneficios exclusivos que garantizan tu tranquilidad."})]}),o.jsx("div",{className:"md:w-2/3 grid grid-cols-1 sm:grid-cols-3 gap-6 w-full",children:[{icon:"verified_user",title:"Anti-Plagio",text:"Reporte Turnitin Gratis"},{icon:"support_agent",title:"Soporte 24/7",text:"WhatsApp Directo"},{icon:"event_available",title:"Garanta",text:"Cumplimiento de Plazos"}].map((c,u)=>o.jsxs("div",{className:"flex gap-4 items-start p-4 rounded-2xl hover:bg-white dark:hover:bg-white/5 border border-transparent hover:border-slate-100 dark:hover:border-slate-700 transition-colors",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/30 text-green-600 flex items-center justify-center shrink-0",children:o.jsx("span",{className:"material-icons text-sm",children:c.icon})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:c.title}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:c.text})]})]},u))})]})]})]})}),o.jsxs("section",{className:"py-24 bg-slate-900 text-white overflow-hidden relative",children:[o.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-brand-orange/20 rounded-full blur-[120px] -mr-64 -mt-64"}),o.jsx("div",{className:"container mx-auto px-6 relative z-10",children:o.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-16",children:[o.jsxs("div",{className:"lg:w-1/2",children:[o.jsx("span",{className:"text-brand-orange font-black uppercase tracking-[0.2em] text-sm mb-4 block",children:"Herramientas Gratuitas"}),o.jsxs("h2",{className:"text-4xl md:text-5xl font-black mb-8 leading-tight",children:["Auditora de Tesis con ",o.jsx("span",{className:"text-brand-orange",children:"IA"})," Pro"]}),o.jsx("p",{className:"text-lg text-slate-400 mb-10 leading-relaxed",children:"Sube tu borrador y deja que nuestra inteligencia acadmica analice la coherencia de tu investigacin, el cumplimiento de normas APA y la estructura lgica en segundos."}),o.jsxs("ul",{className:"space-y-6 mb-12",children:[o.jsxs("li",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"bg-brand-orange/20 p-2 rounded-lg text-brand-orange",children:o.jsx("span",{className:"material-icons",children:"fact_check"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-white",children:"Validacin de Coherencia"}),o.jsx("p",{className:"text-sm text-slate-400",children:"Verificamos si tu problema, objetivos y metodologa estn alineados."})]})]}),o.jsxs("li",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"bg-brand-orange/20 p-2 rounded-lg text-brand-orange",children:o.jsx("span",{className:"material-icons",children:"format_paint"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-white",children:"Revisin de Formato"}),o.jsx("p",{className:"text-sm text-slate-400",children:"Detectamos errores comunes en portadas, ndices y bibliografa."})]})]})]}),o.jsxs(_e,{to:"/herramientas/auditor",className:"inline-flex items-center bg-brand-orange text-white font-black py-4 px-10 rounded-full shadow-glow-orange hover:shadow-glow-orange-lg hover:scale-105 transition-all",children:["Probar Auditor Gratis ",o.jsx("span",{className:"material-icons ml-2",children:"rocket_launch"})]})]}),o.jsx("div",{className:"lg:w-1/2 relative",children:o.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-950 p-8 rounded-[2.5rem] border border-slate-800 shadow-2xl relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8 pb-4 border-b border-slate-800",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),o.jsx("div",{className:"text-xs font-mono text-slate-500 uppercase tracking-widest",children:"Auditora en proceso..."})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"h-4 bg-slate-800 rounded-full w-3/4 animate-pulse"}),o.jsx("div",{className:"h-4 bg-slate-800 rounded-full w-1/2 animate-pulse delay-75"}),o.jsxs("div",{className:"p-6 bg-brand-orange/10 border border-brand-orange/20 rounded-2xl",children:[o.jsxs("div",{className:"flex items-center gap-3 text-brand-orange mb-2",children:[o.jsx("span",{className:"material-icons text-sm",children:"warning"}),o.jsx("span",{className:"font-bold text-sm tracking-wide uppercase",children:"Hallazgo APA 7"})]}),o.jsx("p",{className:"text-sm text-slate-300",children:"Se detect que el objetivo general no contiene el 'Para qu' de la investigacin."})]}),o.jsx("div",{className:"h-4 bg-slate-800 rounded-full w-2/3 animate-pulse delay-150"})]}),o.jsx("div",{className:"absolute -bottom-6 -right-6 bg-white dark:bg-slate-800 text-slate-900 dark:text-white p-6 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 animate-bounce-slow",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-black text-brand-orange",children:"94%"}),o.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest border-t border-slate-100 dark:border-slate-700 mt-1 pt-1 opacity-60",children:"Puntaje Acadmico"})]})})]})})]})})]}),o.jsx("section",{className:"py-16 bg-brand-orange/5 dark:bg-black/20",children:o.jsx("div",{className:"container mx-auto px-6",children:o.jsx("div",{className:"bg-white dark:bg-background-dark rounded-3xl shadow-xl overflow-hidden border border-gray-100 dark:border-gray-800",children:o.jsxs("div",{className:"flex flex-col lg:flex-row",children:[o.jsxs("div",{className:"lg:w-2/5 bg-gray-100 dark:bg-gray-800 relative min-h-[300px] lg:min-h-full",children:[o.jsx("img",{src:"/miguel-cordero.jpg",alt:"Miguel ngel Cordero Trinidad",className:"absolute inset-0 w-full h-full object-cover object-top"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-6 text-white lg:hidden",children:[o.jsx("h3",{className:"text-2xl font-bold",children:"Miguel ngel Cordero"}),o.jsx("p",{className:"text-brand-orange font-medium",children:"CEO & Especialista Acadmico"})]})]}),o.jsxs("div",{className:"lg:w-3/5 p-8 md:p-12",children:[o.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-orange-100 dark:bg-orange-900/30 text-brand-orange text-sm font-bold mb-4",children:"Sobre el Especialista"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Pasin por la Educacin y la Investigacin"}),o.jsxs("div",{className:"prose prose-gray dark:prose-invert text-gray-600 dark:text-gray-300 mb-8",children:[o.jsx("p",{className:"mb-4 text-justify",children:"Miguel ngel Cordero Trinidad es un educador y asesor acadmico con ms de cinco aos de experiencia en el diseo, desarrollo y acompaamiento de investigaciones cientficas en Repblica Dominicana."}),o.jsxs("p",{className:"mb-4 text-justify",children:["Graduado ",o.jsx("strong",{children:"Summa Cum Laude"})," en Educacin Primaria por la UCE, combina su perfil con formacin avanzada en competencias digitales, innovacin educativa e IA aplicada."]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center bg-gray-50 dark:bg-gray-800/50 p-4 rounded-xl border border-gray-100 dark:border-gray-700",children:[o.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider",children:"Contacto Directo"}),o.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"Higey, La Altagracia"})]}),o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto px-6 py-3 bg-brand-orange text-white rounded-lg font-bold hover:bg-orange-600 transition shadow-md flex items-center justify-center",children:[o.jsx("span",{className:"material-icons mr-2 text-sm","aria-hidden":"true",children:"chat"})," Hablar con Miguel"]})]})]})]})})})}),o.jsx("section",{className:"py-20 bg-brand-orange relative overflow-hidden",children:o.jsxs("div",{className:"container mx-auto px-6 text-center relative z-10",children:[o.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-white mb-6",children:"nete a los cientos de estudiantes satisfechos!"}),o.jsx("p",{className:"text-white text-lg md:text-xl mb-10 max-w-2xl mx-auto font-medium",children:"Han alcanzado el xito acadmico con nuestra ayuda. Qu esperas para ser el prximo?"}),o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-white text-brand-orange font-bold py-5 px-12 rounded-full shadow-xl hover:bg-gray-100 transition duration-300 transform hover:scale-105 group",children:[o.jsx("span",{className:"material-icons mr-3 text-2xl group-hover:rotate-12 transition-transform","aria-hidden":"true",children:"chat"})," ",o.jsx("span",{className:"text-lg",children:"Hablar con un Asesor"})]})]})}),o.jsx("section",{className:"py-16 bg-white dark:bg-background-dark border-t border-slate-100 dark:border-slate-800",children:o.jsxs("div",{className:"container mx-auto px-6 text-center",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-slate-800 dark:text-white mb-6",children:"Prefieres gestionar todo en lnea?"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-8 max-w-2xl mx-auto",children:"Puedes registrar tu proyecto directamente en nuestra plataforma y enviarnos tus archivos para una revisin inicial."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[o.jsxs(_e,{to:"/registro",className:"w-full sm:w-auto px-10 py-4 bg-brand-orange text-white rounded-full font-bold text-lg hover:shadow-xl hover:shadow-brand-orange/30 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2",children:["Registrar Proyecto ",o.jsx("span",{className:"material-icons","aria-hidden":"true",children:"arrow_forward"})]}),o.jsxs(_e,{to:"/monitoreo",className:"w-full sm:w-auto px-10 py-4 bg-transparent text-brand-orange border-2 border-brand-orange rounded-full font-bold text-lg hover:bg-orange-50 dark:hover:bg-orange-900/10 hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2",children:[o.jsx("span",{className:"material-icons","aria-hidden":"true",children:"search"})," Monitorear"]})]})]})}),o.jsx(ks,{})]})},sy=()=>o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-800 dark:text-white",children:[o.jsx(_s,{title:"Sobre Nosotros",description:"Conoce a Miguel ngel Cordero y al equipo de TuTesisRD. Expertos con ms de 7 aos de experiencia en asesora acadmica."}),o.jsx(Ss,{}),o.jsx("section",{className:"pt-32 pb-20",children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Por qu elegir Tu Tesis RD?"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Ms de 7 aos de experiencia y 300+ tesis trabajadas nos respaldan."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-20",children:[{icon:"history_edu",title:"+7 Aos",desc:"Experiencia"},{icon:"groups",title:"300+",desc:"Tesis Asesoradas"},{icon:"verified",title:"100%",desc:"Tasa de Aprobacin"},{icon:"language",title:"Nacional",desc:"Cobertura en todo el pas"}].map((n,t)=>o.jsxs("div",{className:"bg-white dark:bg-white/5 p-6 rounded-2xl border border-gray-100 dark:border-white/5 shadow-sm hover:shadow-md transition-all text-center group",children:[o.jsx("div",{className:"w-12 h-12 bg-orange-50 dark:bg-orange-900/20 rounded-xl flex items-center justify-center mx-auto mb-4 text-brand-orange group-hover:scale-110 transition-transform",children:o.jsx("span",{className:"material-icons",children:n.icon})}),o.jsx("h4",{className:"text-2xl font-black text-slate-900 dark:text-white mb-1",children:n.title}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:n.desc})]},t))}),o.jsx("div",{className:"bg-white dark:bg-background-dark rounded-3xl shadow-xl overflow-hidden border border-gray-100 dark:border-gray-800",children:o.jsxs("div",{className:"flex flex-col lg:flex-row",children:[o.jsxs("div",{className:"lg:w-1/3 bg-gray-100 dark:bg-gray-800 relative min-h-[400px]",children:[o.jsx("img",{src:"/miguel-cordero.jpg",alt:"Miguel ngel Cordero Trinidad",className:"absolute inset-0 w-full h-full object-cover object-top"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 text-white",children:[o.jsx("h3",{className:"text-2xl font-bold",children:"Miguel ngel Cordero"}),o.jsx("p",{className:"text-brand-orange font-medium",children:"CEO & Especialista Acadmico"})]})]}),o.jsxs("div",{className:"lg:w-2/3 p-8 md:p-12",children:[o.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-orange-100 dark:bg-orange-900/30 text-brand-orange text-sm font-bold mb-4",children:"Sobre el Especialista"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Pasin por la Educacin y la Investigacin"}),o.jsxs("div",{className:"prose prose-gray dark:prose-invert text-gray-600 dark:text-gray-300 mb-8",children:[o.jsx("p",{className:"mb-4",children:"Miguel ngel Cordero Trinidad es un educador y asesor acadmico con ms de cinco aos de experiencia en el diseo, desarrollo y acompaamiento de investigaciones cientficas en Repblica Dominicana."}),o.jsxs("p",{className:"mb-4",children:["Graduado ",o.jsx("strong",{children:"Summa Cum Laude"})," en Educacin Primaria por la UCE, combina su perfil con formacin avanzada en competencias digitales, innovacin educativa e IA aplicada."]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center bg-gray-50 dark:bg-gray-800/50 p-4 rounded-xl border border-gray-100 dark:border-gray-700",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider",children:"Contacto Directo"}),o.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"Higey, La Altagracia (Servicio Nacional)"})]}),o.jsxs("a",{href:"https://wa.me/message/YESJDSE3MZ3IM1",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 bg-brand-orange text-white rounded-lg font-bold hover:bg-orange-600 transition shadow-md flex items-center",children:[o.jsx("i",{className:"fab fa-whatsapp mr-2"})," Contactar a Miguel"]})]})]})]})})]})}),o.jsx(ks,{})]}),ny=()=>o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-800 dark:text-white",children:[o.jsx(_s,{title:"Servicios",description:"Ofrecemos asesora de tesis, correccin de estilo, anlisis estadstico y revisin anti-plagio con Turnitin."}),o.jsx(Ss,{}),o.jsx("section",{className:"pt-32 pb-20 bg-background-light dark:bg-surface-dark relative transition-colors duration-200",children:o.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:"Nuestros Servicios"}),o.jsx("div",{className:"w-20 h-1.5 bg-brand-orange mx-auto rounded-full"}),o.jsx("p",{className:"mt-6 text-lg text-slate-600 dark:text-slate-300 max-w-2xl mx-auto",children:"Ofrecemos un paquete completo de soluciones acadmicas diseadas para garantizar el xito de tu proyecto de grado."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:"book",title:"Asesora de Tesis",desc:"Acompaamiento metodolgico completo desde el anteproyecto hasta la defensa final. Te guiamos en cada captulo."},{icon:"edit",title:"Correccin de Estilo",desc:"Revisin ortotipogrfica y gramatical profesional. Adaptacin estricta a normas APA (6ta y 7ma ed.), Vancouver, o IEEE."},{icon:"analytics",title:"Anlisis Estadstico",desc:"Procesamiento de datos con SPSS, Excel o R. Interpretacin de resultados cuantitativos y cualitativos."},{icon:"science",title:"Investigacin y Desarrollo",desc:"Soporte en la bsqueda de informacin acadmica, construccin del marco terico y validacin de instrumentos."}].map((n,t)=>o.jsxs("div",{className:"bg-white dark:bg-white/5 p-8 rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 hover:-translate-y-2 border border-slate-100 dark:border-white/5 group flex flex-col items-center text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-100 to-orange-50 dark:from-orange-900/40 dark:to-orange-900/10 rounded-full flex items-center justify-center mb-6 text-brand-orange group-hover:scale-110 transition-transform shadow-inner",children:o.jsx("span",{className:"material-icons text-3xl",children:n.icon})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 group-hover:text-brand-orange transition-colors",children:n.title}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed",children:n.desc})]},t))}),o.jsxs("div",{className:"mt-20 bg-slate-50 dark:bg-slate-800/50 rounded-3xl p-8 md:p-12 border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-2xl font-bold text-center mb-8",children:"Qu incluye nuestro servicio Premium?"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"mt-1 bg-green-100 dark:bg-green-900/30 p-2 rounded-full text-green-600",children:o.jsx("span",{className:"material-icons text-sm",children:"check"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-2",children:"Revisin Anti-Plagio"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Garantizamos originalidad con reportes detallados de similitud (Turnitin)."})]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"mt-1 bg-green-100 dark:bg-green-900/30 p-2 rounded-full text-green-600",children:o.jsx("span",{className:"material-icons text-sm",children:"check"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-2",children:"Soporte Continuo"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Comunicacin directa con tu asesor va WhatsApp y Correo."})]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"mt-1 bg-green-100 dark:bg-green-900/30 p-2 rounded-full text-green-600",children:o.jsx("span",{className:"material-icons text-sm",children:"check"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold mb-2",children:"Entrega Puntual"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Cronograma de entregas riguroso para cumplir con las fechas de tu universidad."})]})]})]})]}),o.jsxs("div",{className:"mt-32 text-center mb-16",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-black text-gray-900 dark:text-white mb-4",children:"Planes y Precios"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-xl mx-auto",children:"Elige el nivel de acompaamiento que mejor se adapte a tus necesidades y presupuesto."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 pb-10",children:[o.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-3xl p-8 border border-slate-100 dark:border-slate-800 flex flex-col hover:shadow-2xl transition-all h-full",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Bsico"}),o.jsxs("div",{className:"flex items-baseline gap-1 mb-6",children:[o.jsx("span",{className:"text-3xl font-black text-slate-900 dark:text-white",children:"RD$5,000"}),o.jsx("span",{className:"text-slate-500 text-sm",children:"/ mes"})]}),o.jsxs("ul",{className:"space-y-4 mb-8 flex-grow",children:[o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Asesora Metodolgica"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Correccin de Estilo"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Revisin de Normas APA"]})]}),o.jsx("button",{className:"w-full py-3 rounded-xl border border-brand-orange text-brand-orange font-bold hover:bg-brand-orange hover:text-white transition-colors",children:"Seleccionar Plan"})]}),o.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-3xl p-8 border-2 border-brand-orange flex flex-col shadow-glow h-full relative transform scale-105",children:[o.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-brand-orange text-white text-[10px] font-black uppercase tracking-widest px-4 py-1 rounded-full whitespace-nowrap",children:"Ms Popular"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Profesional"}),o.jsxs("div",{className:"flex items-baseline gap-1 mb-6",children:[o.jsx("span",{className:"text-3xl font-black text-slate-900 dark:text-white",children:"RD$12,000"}),o.jsx("span",{className:"text-slate-500 text-sm",children:"/ mes"})]}),o.jsxs("ul",{className:"space-y-4 mb-8 flex-grow",children:[o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Todo lo del Plan Bsico"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Reporte de Plagio (Turnitin)"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Anlisis Estadstico"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Acceso a la Plataforma"]})]}),o.jsx("button",{className:"w-full py-3 rounded-xl bg-brand-orange text-white font-black shadow-lg hover:shadow-glow transition-all",children:"Empezar Ahora"})]}),o.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-3xl p-8 border border-slate-100 dark:border-slate-800 flex flex-col hover:shadow-2xl transition-all h-full",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Premium"}),o.jsx("div",{className:"flex items-baseline gap-1 mb-6",children:o.jsx("span",{className:"text-3xl font-black text-slate-900 dark:text-white",children:"Custom"})}),o.jsxs("ul",{className:"space-y-4 mb-8 flex-grow",children:[o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Tesis desde cero"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Investigacin de campo"]}),o.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[o.jsx("span",{className:"material-icons text-green-500 text-lg",children:"check_circle"}),"Defensa simulada"]})]}),o.jsx("button",{className:"w-full py-3 rounded-xl border border-brand-orange text-brand-orange font-bold hover:bg-brand-orange hover:text-white transition-colors",children:"Contactar Expertos"})]})]})]})}),o.jsx(ks,{})]}),Sg=[{id:"estructura-anteproyecto-dom",title:"Cmo estructurar tu anteproyecto de tesis segn normas dominicanas",excerpt:"Aprende los elementos clave que exigen las principales universidades de Repblica Dominicana (UASD, PUCMM, UNPHU) para aprobar tu anteproyecto.",category:"Metodologa",date:"2024-03-20",readTime:"8 min",image:"anteproyecto_guide.png",content:"<article><h2>Introduccin</h2><p>El anteproyecto es el mapa de ruta de tu investigacin. En Repblica Dominicana, cada universidad tiene matices, pero todas coinciden en una estructura base que debes dominar para recibir el visto bueno de tu asesor.</p><h3>1. El Problema de Investigacin</h3><p>No se trata simplemente de decir qu est mal. Debes delimitar el espacio, el tiempo y los sujetos. Qu est ocurriendo? A quines afecta? Por qu es relevante investigarlo ahora?</p><h3>2. Objetivos y Justificacin</h3><p>Tus objetivos deben ser alcanzables. Usa verbos en infinitivo (Analizar, Determinar, Evaluar). La justificacin debe responder al 'Para qu sirve?' desde un punto de vista social, metodolgico y prctico.</p><h3>3. Metodologa</h3><p>Ser descriptiva, exploratoria o explicativa? Aqu es donde muchos fallan. Define claramente tu poblacin y muestra.</p></article>"},{id:"errores-apa-7",title:"Los 5 errores ms comunes en el uso de Normas APA 7ma Edicin",excerpt:"Desde las citas en el texto hasta la lista de referencias. Evita estos errores para que tu tesis no sea rechazada por formato.",category:"Formato",date:"2024-03-22",readTime:"6 min",image:"apa_errors.png",content:"<article><h2>El formato APA no es tu enemigo</h2><p>La 7ma edicin de APA trajo cambios significativos que simplifican la vida, pero el hbito nos hace cometer errores del pasado.</p><h3>1. Uso incorrecto de 'et al.'</h3><p>En APA 7, para tres o ms autores, se usa 'et al.' desde la primera cita. Ya no hay que listar a todos la primera vez.</p><h3>2. Lugar de publicacin</h3><p>Ya no es necesario! Solo nombre del autor, editorial y ao. Si es digital, el DOI o URL.</p><h3>3. Formato de las referencias</h3><p>La sangra francesa es obligatoria. Muchos estudiantes usan tabulaciones manuales que se rompen al editar el documento.</p></article>"},{id:"gestion-tiempo-tesis",title:"Gestin del tiempo: Cmo terminar tu tesis en 3 meses",excerpt:"Estrategias de productividad realistas para estudiantes que trabajan. Organiza tu investigacin sin morir en el intento.",category:"Productividad",date:"2024-03-25",readTime:"10 min",image:"time_management.png",content:"<article><h2>La tesis es una maratn, no un sprint</h2><p>Muchos dejan todo para el ltimo mes. El secreto es la constancia dividida en bloques de tiempo de alta intensidad.</p><h3>La tcnica Pomodoro aplicada al marco terico</h3><p>Escribir el marco terico es la parte ms tediosa. Usa bloques de 50 minutos de escritura por 10 de descanso. No revises lo que escribes hasta completar el bloque.</p><h3>Define metas semanales, no semestrales</h3><p>En lugar de decir 'tengo que hacer el captulo 1', di 'esta semana redactar 5 pginas del planteamiento'.</p></article>"}],ry=()=>o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-800 dark:text-white",children:[o.jsx(Ss,{}),o.jsx("section",{className:"pt-32 pb-20",children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-4",children:"Blog Acadmico"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Consejos, guas y recursos para estudiantes universitarios dominicanos."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Sg.map(n=>o.jsxs(_e,{to:`/blog/${n.id}`,className:"bg-white dark:bg-surface-dark border border-slate-100 dark:border-slate-800 rounded-2xl overflow-hidden hover:shadow-xl transition-shadow group flex flex-col h-full",children:[o.jsxs("div",{className:"h-48 bg-slate-200 dark:bg-slate-700 relative overflow-hidden",children:[o.jsx("img",{src:`/TuTesisRD-App/blog/${n.image}`,alt:n.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx("span",{className:"bg-brand-orange text-white text-[10px] font-black uppercase tracking-widest px-3 py-1 rounded-full shadow-lg",children:n.category})})]}),o.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[o.jsx("h3",{className:"text-xl font-bold mb-3 text-slate-900 dark:text-white group-hover:text-brand-orange transition-colors",children:n.title}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4 line-clamp-3",children:n.excerpt}),o.jsxs("div",{className:"mt-auto flex items-center justify-between text-xs text-slate-400",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx("span",{className:"material-icons text-sm mr-1",children:"schedule"})," ",n.readTime]}),o.jsx("span",{children:n.date})]})]})]},n.id))}),o.jsx("div",{className:"mt-20 text-center",children:o.jsxs("div",{className:"inline-block p-8 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-dashed border-slate-300 dark:border-slate-700",children:[o.jsx("span",{className:"material-icons text-4xl text-slate-400 mb-2",children:"construction"}),o.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:"Prximamente"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-md mx-auto mt-2",children:"Estamos preparando contenido de alto valor para ayudarte en tu camino acadmico. Vuelve pronto!"})]})})]})}),o.jsx(ks,{})]}),iy=()=>o.jsxs("div",{className:"flex h-screen w-full font-display bg-background-light dark:bg-background-dark text-slate-800 dark:text-white overflow-hidden transition-colors duration-200",children:[o.jsxs("aside",{className:"hidden md:flex w-72 flex-col bg-surface-light dark:bg-surface-dark border-r border-slate-200 dark:border-slate-800 h-full p-6 transition-colors duration-200",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[o.jsx("div",{className:"size-10 bg-primary rounded-xl flex items-center justify-center text-white shadow-lg shadow-blue-500/30",children:o.jsx("span",{className:"material-symbols-outlined",children:"school"})}),o.jsx("h1",{className:"text-xl font-bold",children:"TuTesisRD"})]}),o.jsxs("nav",{className:"flex flex-col gap-2",children:[o.jsxs("a",{href:"#",className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-primary/10 text-primary font-medium",children:[o.jsx("span",{className:"material-symbols-outlined",children:"dashboard"}),"Dashboard"]}),o.jsxs("a",{href:"#",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[o.jsx("span",{className:"material-symbols-outlined",children:"folder_open"}),"Mis Archivos"]}),o.jsxs("a",{href:"#",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[o.jsx("span",{className:"material-symbols-outlined",children:"calendar_month"}),"Calendario"]}),o.jsxs("a",{href:"#",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[o.jsx("span",{className:"material-symbols-outlined",children:"chat"}),"Asesora IA"]})]})]}),o.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-y-auto p-8",children:[o.jsxs("header",{className:"flex justify-between items-center mb-8",children:[o.jsxs("h2",{className:"text-3xl font-bold animate-fade-in",children:["Hola, ",o.jsx("span",{className:"text-primary",children:"Carlos!"})," "]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-white dark:bg-slate-700 p-2 rounded-full shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:o.jsx("span",{className:"material-symbols-outlined",children:"notifications"})}),o.jsx("div",{className:"size-10 rounded-full bg-cover ring-2 ring-white dark:ring-slate-700 shadow-md",style:{backgroundImage:"url('https://lh3.googleusercontent.com/aida-public/AB6AXuAVUvIDS3tSZCfS538VxO8VQkD0THkmMPL5yOaZ9q92zMPh1MSxRkbealDVwtxYU-l5ylCUPqB9DGPLW5TOggcHAHdPKmgqR_N3Uv_76hg55A4atJVjpSvxvNi6Hegi03YOcO57qozAl7nGWhyE4HbHVSqQp6W7IMsLe9SqVFP9OzQnhJUmITy_ccdecOB4eSQMEccckgX2zbzXAJr8kHsH6XeeP1YpOJeMx_JTQ_Zrfi_hzR8bW2FZsm46OUzTeLru-2DLDuZIfmAQ')"}})]})]}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8 animate-slide-up",children:[o.jsxs("div",{className:"xl:col-span-2 space-y-8",children:[o.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-3xl p-6 shadow-sm border border-slate-100 dark:border-slate-800",children:[o.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[o.jsx("span",{className:"material-symbols-outlined text-primary",children:"timeline"}),"Lnea de Tiempo"]}),o.jsxs("div",{className:"flex justify-between items-center relative px-2",children:[o.jsx("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-slate-100 dark:bg-slate-700 -z-10 rounded-full"}),o.jsxs("div",{className:"flex flex-col items-center gap-2 group cursor-pointer",children:[o.jsx("div",{className:"size-12 rounded-full bg-green-500 text-white flex items-center justify-center shadow-lg shadow-green-500/30 transform group-hover:scale-110 transition-transform",children:o.jsx("span",{className:"material-symbols-outlined",children:"check"})}),o.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300",children:"Tema"})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2 group cursor-pointer",children:[o.jsx("div",{className:"size-12 rounded-full bg-green-500 text-white flex items-center justify-center shadow-lg shadow-green-500/30 transform group-hover:scale-110 transition-transform",children:o.jsx("span",{className:"material-symbols-outlined",children:"check"})}),o.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300",children:"Propuesta"})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx("div",{className:"size-16 rounded-full bg-white dark:bg-surface-dark border-4 border-primary text-primary flex items-center justify-center shadow-lg shadow-primary/20 animate-pulse",children:o.jsx("span",{className:"material-symbols-outlined text-2xl",children:"edit_document"})}),o.jsx("span",{className:"text-xs font-bold text-primary",children:"Cap. 2"})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2 opacity-50",children:[o.jsx("div",{className:"size-12 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-500",children:o.jsx("span",{className:"material-symbols-outlined",children:"lock"})}),o.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-400",children:"Cap. 3"})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-3xl p-6 shadow-sm border-2 border-dashed border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center h-48 cursor-pointer hover:border-primary hover:bg-slate-50 dark:hover:bg-slate-800 transition-all group",children:[o.jsx("span",{className:"material-symbols-outlined text-4xl text-primary mb-2 group-hover:scale-110 transition-transform",children:"cloud_upload"}),o.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-300",children:"Subir Avance"})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-slate-900 text-white rounded-3xl p-6 shadow-xl relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary blur-3xl opacity-30 rounded-full group-hover:opacity-40 transition-opacity"}),o.jsx("h3",{className:"text-xl font-bold mb-1",children:"Prxima Entrega"}),o.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Captulo 2: Marco Terico"}),o.jsxs("div",{className:"flex justify-between text-center gap-2",children:[o.jsxs("div",{className:"bg-white/10 p-3 rounded-xl flex-1 backdrop-blur-sm",children:[o.jsx("span",{className:"text-3xl font-mono font-bold text-primary-300",children:"03"}),o.jsx("br",{}),o.jsx("span",{className:"text-[10px] tracking-wider opacity-70",children:"DAS"})]}),o.jsxs("div",{className:"bg-white/10 p-3 rounded-xl flex-1 backdrop-blur-sm",children:[o.jsx("span",{className:"text-3xl font-mono font-bold text-primary-300",children:"14"}),o.jsx("br",{}),o.jsx("span",{className:"text-[10px] tracking-wider opacity-70",children:"HORAS"})]})]})]}),o.jsxs("div",{className:"bg-primary/10 rounded-3xl p-6 border border-primary/20",children:[o.jsx("h4",{className:"font-bold text-primary mb-2",children:"Consejo del Da"}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:'"Recuerda revisar las normas APA 7ma edicin para tus citas bibliogrficas. La IA puede ayudarte a formatearlas."'})]})]})]})]})]});function Ql(n,t){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(n);c<i.length;c++)t.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(n,i[c])&&(r[i[c]]=n[i[c]]);return r}function ly(n,t,r,i){function c(u){return u instanceof r?u:new r(function(f){f(u)})}return new(r||(r=Promise))(function(u,f){function m(y){try{b(i.next(y))}catch(v){f(v)}}function g(y){try{b(i.throw(y))}catch(v){f(v)}}function b(y){y.done?u(y.value):c(y.value).then(m,g)}b((i=i.apply(n,t||[])).next())})}const oy=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class dd extends Error{constructor(t,r="FunctionsError",i){super(t),this.name=r,this.context=i}}class cy extends dd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class T0 extends dd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class O0 extends dd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Iu;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Iu||(Iu={}));class uy{constructor(t,{headers:r={},customFetch:i,region:c=Iu.Any}={}){this.url=t,this.headers=r,this.region=c,this.fetch=oy(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ly(this,arguments,void 0,function*(r,i={}){var c;let u,f;try{const{headers:m,method:g,body:b,signal:y,timeout:v}=i;let _={},{region:N}=i;N||(N=this.region);const T=new URL(`${this.url}/${r}`);N&&N!=="any"&&(_["x-region"]=N,T.searchParams.set("forceFunctionRegion",N));let R;b&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&b instanceof Blob||b instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",R=b):typeof b=="string"?(_["Content-Type"]="text/plain",R=b):typeof FormData<"u"&&b instanceof FormData?R=b:(_["Content-Type"]="application/json",R=JSON.stringify(b)):b&&typeof b!="string"&&!(typeof Blob<"u"&&b instanceof Blob)&&!(b instanceof ArrayBuffer)&&!(typeof FormData<"u"&&b instanceof FormData)?R=JSON.stringify(b):R=b;let U=y;v&&(f=new AbortController,u=setTimeout(()=>f.abort(),v),y?(U=f.signal,y.addEventListener("abort",()=>f.abort())):U=f.signal);const L=yield this.fetch(T.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),m),body:R,signal:U}).catch(ee=>{throw new cy(ee)}),B=L.headers.get("x-relay-error");if(B&&B==="true")throw new T0(L);if(!L.ok)throw new O0(L);let q=((c=L.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),V;return q==="application/json"?V=yield L.json():q==="application/octet-stream"||q==="application/pdf"?V=yield L.blob():q==="text/event-stream"?V=L:q==="multipart/form-data"?V=yield L.formData():V=yield L.text(),{data:V,error:null,response:L}}catch(m){return{data:null,error:m,response:m instanceof O0||m instanceof T0?m.context:void 0}}finally{u&&clearTimeout(u)}})}}var dy=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},hy=class{constructor(n){var t,r;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(r=n.isMaybeSingle)!==null&&r!==void 0?r:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let c=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let f=null,m=null,g=null,b=u.status,y=u.statusText;if(u.ok){var v,_;if(r.method!=="HEAD"){var N;const L=await u.text();L===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((N=r.headers.get("Accept"))===null||N===void 0)&&N.includes("application/vnd.pgrst.plan+text"))?m=L:m=JSON.parse(L))}const R=(v=r.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),U=(_=u.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");R&&U&&U.length>1&&(g=parseInt(U[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,b=406,y="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var T;const R=await u.text();try{f=JSON.parse(R),Array.isArray(f)&&u.status===404&&(m=[],f=null,b=200,y="OK")}catch{u.status===404&&R===""?(b=204,y="No Content"):f={message:R}}if(f&&r.isMaybeSingle&&(!(f==null||(T=f.details)===null||T===void 0)&&T.includes("0 rows"))&&(f=null,b=200,y="OK"),f&&r.shouldThrowOnError)throw new dy(f)}return{error:f,data:m,count:g,status:b,statusText:y}});return this.shouldThrowOnError||(c=c.catch(u=>{var f;let m="";const g=u==null?void 0:u.cause;if(g){var b,y,v,_;const T=(b=g==null?void 0:g.message)!==null&&b!==void 0?b:"",R=(y=g==null?void 0:g.code)!==null&&y!==void 0?y:"";m=`${(v=u==null?void 0:u.name)!==null&&v!==void 0?v:"FetchError"}: ${u==null?void 0:u.message}`,m+=`

Caused by: ${(_=g==null?void 0:g.name)!==null&&_!==void 0?_:"Error"}: ${T}`,R&&(m+=` (${R})`),g!=null&&g.stack&&(m+=`
${g.stack}`)}else{var N;m=(N=u==null?void 0:u.stack)!==null&&N!==void 0?N:""}return{error:{message:`${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"FetchError"}: ${u==null?void 0:u.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(n,t)}returns(){return this}overrideTypes(){return this}},fy=class extends hy{select(n){let t=!1;const r=(n??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:c=i}={}){const u=c?`${c}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${n}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,t,{foreignTable:r,referencedTable:i=r}={}){const c=typeof i>"u"?"offset":`${i}.offset`,u=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(c,`${n}`),this.url.searchParams.set(u,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:c=!1,format:u="text"}={}){var f;const m=[n?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${m};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const C0=new RegExp("[,()]");var Kn=class extends fy{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}regexMatch(n,t){return this.url.searchParams.append(n,`match.${t}`),this}regexIMatch(n,t){return this.url.searchParams.append(n,`imatch.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}isDistinct(n,t){return this.url.searchParams.append(n,`isdistinct.${t}`),this}in(n,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&C0.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}notIn(n,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&C0.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`not.in.(${r})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:i}={}){let c="";i==="plain"?c="pl":i==="phrase"?c="ph":i==="websearch"&&(c="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${c}fts${u}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t,referencedTable:r=t}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}},my=class{constructor(n,{headers:t={},schema:r,fetch:i}){this.url=n,this.headers=new Headers(t),this.schema=r,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,t){const{head:r=!1,count:i}=t??{},c=r?"HEAD":"GET";let u=!1;const f=(n??"*").split("").map(b=>/\s/.test(b)&&!u?"":(b==='"'&&(u=!u),b)).join(""),{url:m,headers:g}=this.cloneRequestState();return m.searchParams.set("select",f),i&&g.append("Prefer",`count=${i}`),new Kn({method:c,url:m,headers:g,schema:this.schema,fetch:this.fetch})}insert(n,{count:t,defaultToNull:r=!0}={}){var i;const c="POST",{url:u,headers:f}=this.cloneRequestState();if(t&&f.append("Prefer",`count=${t}`),r||f.append("Prefer","missing=default"),Array.isArray(n)){const m=n.reduce((g,b)=>g.concat(Object.keys(b)),[]);if(m.length>0){const g=[...new Set(m)].map(b=>`"${b}"`);u.searchParams.set("columns",g.join(","))}}return new Kn({method:c,url:u,headers:f,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:c=!0}={}){var u;const f="POST",{url:m,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&m.searchParams.set("on_conflict",t),i&&g.append("Prefer",`count=${i}`),c||g.append("Prefer","missing=default"),Array.isArray(n)){const b=n.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(b.length>0){const y=[...new Set(b)].map(v=>`"${v}"`);m.searchParams.set("columns",y.join(","))}}return new Kn({method:f,url:m,headers:g,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(n,{count:t}={}){var r;const i="PATCH",{url:c,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new Kn({method:i,url:c,headers:u,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:n}={}){var t;const r="DELETE",{url:i,headers:c}=this.cloneRequestState();return n&&c.append("Prefer",`count=${n}`),new Kn({method:r,url:i,headers:c,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},gy=class kg{constructor(t,{headers:r={},schema:i,fetch:c}={}){this.url=t,this.headers=new Headers(r),this.schemaName=i,this.fetch=c}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new my(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new kg(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:i=!1,get:c=!1,count:u}={}){var f;let m;const g=new URL(`${this.url}/rpc/${t}`);let b;const y=N=>N!==null&&typeof N=="object"&&(!Array.isArray(N)||N.some(y)),v=i&&Object.values(r).some(y);v?(m="POST",b=r):i||c?(m=i?"HEAD":"GET",Object.entries(r).filter(([N,T])=>T!==void 0).map(([N,T])=>[N,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([N,T])=>{g.searchParams.append(N,T)})):(m="POST",b=r);const _=new Headers(this.headers);return v?_.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&_.set("Prefer",`count=${u}`),new Kn({method:m,url:g,headers:_,schema:this.schemaName,body:b,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class py{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const i=r.versions;if(i&&i.node){const c=i.node,u=parseInt(c.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const i=this.getWebSocketConstructor();return new i(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const by="2.90.1",xy=`realtime-js/${by}`,Ag="1.0.0",yy="2.0.0",R0=Ag,$u=1e4,vy=1e3,wy=100;var xs;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(xs||(xs={}));var it;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(it||(it={}));var ha;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(ha||(ha={}));var Pu;(function(n){n.websocket="websocket"})(Pu||(Pu={}));var Js;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Js||(Js={}));class _y{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,i;const c=(i=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(t){var r,i;const c=(i=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(t,r,i){var c,u;const f=t.topic,m=(c=t.ref)!==null&&c!==void 0?c:"",g=(u=t.join_ref)!==null&&u!==void 0?u:"",b=t.payload.event,y=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(y).length===0?"":JSON.stringify(y);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`userEvent length ${b.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+f.length+b.length+v.length,N=new ArrayBuffer(this.HEADER_LENGTH+_);let T=new DataView(N),R=0;T.setUint8(R++,this.KINDS.userBroadcastPush),T.setUint8(R++,g.length),T.setUint8(R++,m.length),T.setUint8(R++,f.length),T.setUint8(R++,b.length),T.setUint8(R++,v.length),T.setUint8(R++,r),Array.from(g,L=>T.setUint8(R++,L.charCodeAt(0))),Array.from(m,L=>T.setUint8(R++,L.charCodeAt(0))),Array.from(f,L=>T.setUint8(R++,L.charCodeAt(0))),Array.from(b,L=>T.setUint8(R++,L.charCodeAt(0))),Array.from(v,L=>T.setUint8(R++,L.charCodeAt(0)));var U=new Uint8Array(N.byteLength+i.byteLength);return U.set(new Uint8Array(N),0),U.set(new Uint8Array(i),N.byteLength),U.buffer}decode(t,r){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return r(i)}if(typeof t=="string"){const i=JSON.parse(t),[c,u,f,m,g]=i;return r({join_ref:c,ref:u,topic:f,event:m,payload:g})}return r({})}_binaryDecode(t){const r=new DataView(t),i=r.getUint8(0),c=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,c)}}_decodeUserBroadcast(t,r,i){const c=r.getUint8(1),u=r.getUint8(2),f=r.getUint8(3),m=r.getUint8(4);let g=this.HEADER_LENGTH+4;const b=i.decode(t.slice(g,g+c));g=g+c;const y=i.decode(t.slice(g,g+u));g=g+u;const v=i.decode(t.slice(g,g+f));g=g+f;const _=t.slice(g,t.byteLength),N=m===this.JSON_ENCODING?JSON.parse(i.decode(_)):_,T={type:this.BROADCAST_EVENT,event:y,payload:N};return f>0&&(T.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:b,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>r.includes(i)))}}class Eg{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ie||(Ie={}));const D0=(n,t,r={})=>{var i;const c=(i=r.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((u,f)=>(u[f]=jy(f,n,t,c),u),{}):{}},jy=(n,t,r,i)=>{const c=t.find(m=>m.name===n),u=c==null?void 0:c.type,f=r[n];return u&&!i.includes(u)?Tg(u,f):Hu(f)},Tg=(n,t)=>{if(n.charAt(0)==="_"){const r=n.slice(1,n.length);return Ay(t,r)}switch(n){case Ie.bool:return Ny(t);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return Sy(t);case Ie.json:case Ie.jsonb:return ky(t);case Ie.timestamp:return Ey(t);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return Hu(t);default:return Hu(t)}},Hu=n=>n,Ny=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Sy=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},ky=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},Ay=(n,t)=>{if(typeof n!="string")return n;const r=n.length-1,i=n[r];if(n[0]==="{"&&i==="}"){let u;const f=n.slice(1,r);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(m=>Tg(t,m))}return n},Ey=n=>typeof n=="string"?n.replace(" ","T"):n,Og=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ku{constructor(t,r,i={},c=$u){this.channel=t,this.event=r,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var i;return this._hasReceived(t)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var M0;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(M0||(M0={}));class ai{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:u,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ai.syncState(this.state,c,u,f),this.pendingDiffs.forEach(g=>{this.state=ai.syncDiff(this.state,g,u,f)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},c=>{const{onJoin:u,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=ai.syncDiff(this.state,c,u,f),m())}),this.onJoin((c,u,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:f})}),this.onLeave((c,u,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,i,c){const u=this.cloneDeep(t),f=this.transformState(r),m={},g={};return this.map(u,(b,y)=>{f[b]||(g[b]=y)}),this.map(f,(b,y)=>{const v=u[b];if(v){const _=y.map(U=>U.presence_ref),N=v.map(U=>U.presence_ref),T=y.filter(U=>N.indexOf(U.presence_ref)<0),R=v.filter(U=>_.indexOf(U.presence_ref)<0);T.length>0&&(m[b]=T),R.length>0&&(g[b]=R)}else m[b]=y}),this.syncDiff(u,{joins:m,leaves:g},i,c)}static syncDiff(t,r,i,c){const{joins:u,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(u,(m,g)=>{var b;const y=(b=t[m])!==null&&b!==void 0?b:[];if(t[m]=this.cloneDeep(g),y.length>0){const v=t[m].map(N=>N.presence_ref),_=y.filter(N=>v.indexOf(N.presence_ref)<0);t[m].unshift(..._)}i(m,y,g)}),this.map(f,(m,g)=>{let b=t[m];if(!b)return;const y=g.map(v=>v.presence_ref);b=b.filter(v=>y.indexOf(v.presence_ref)<0),t[m]=b,c(m,b,g),b.length===0&&delete t[m]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(i=>r(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,i)=>{const c=t[i];return"metas"in c?r[i]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[i]=c,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var z0;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(z0||(z0={}));var si;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(si||(si={}));var $a;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})($a||($a={}));class Fn{constructor(t,r={config:{}},i){var c,u;if(this.topic=t,this.params=r,this.socket=i,this.bindings={},this.state=it.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ku(this,ha.join,this.params,this.timeout),this.rejoinTimer=new Eg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=it.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=it.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ha.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new ai(this),this.broadcastEndpointURL=Og(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var i,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==it.closed){const{config:{broadcast:f,presence:m,private:g}}=this.params,b=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(N=>N.filter))!==null&&c!==void 0?c:[],y=!!this.bindings[si.PRESENCE]&&this.bindings[si.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,v={},_={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:b,private:g};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(N=>t==null?void 0:t($a.CHANNEL_ERROR,N)),this._onClose(()=>t==null?void 0:t($a.CLOSED)),this.updateJoinPayload(Object.assign({config:_},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:N})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),N===void 0){t==null||t($a.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,U=(T=R==null?void 0:R.length)!==null&&T!==void 0?T:0,L=[];for(let B=0;B<U;B++){const q=R[B],{filter:{event:V,schema:ee,table:J,filter:le}}=q,oe=N&&N[B];if(oe&&oe.event===V&&Fn.isFilterValueEqual(oe.schema,ee)&&Fn.isFilterValueEqual(oe.table,J)&&Fn.isFilterValueEqual(oe.filter,le))L.push(Object.assign(Object.assign({},q),{id:oe.id}));else{this.unsubscribe(),this.state=it.errored,t==null||t($a.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,t&&t($a.SUBSCRIBED);return}}).receive("error",N=>{this.state=it.errored,t==null||t($a.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($a.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,i){return this.state===it.joined&&t===si.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,i)}async httpSend(t,r,i={}){var c;if(r==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=i.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const b=await m.json();g=b.error||b.message||g}catch{}return Promise.reject(new Error(g))}async send(t,r={}){var i,c;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:f}=t,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const b=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=b.body)===null||c===void 0?void 0:c.cancel()),b.ok?"ok":"error"}catch(b){return b.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,m,g;const b=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),b.receive("ok",()=>u("ok")),b.receive("error",()=>u("error")),b.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=it.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ha.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new ku(this,ha.leave,{},t),i.receive("ok",()=>{r(),c("ok")}).receive("timeout",()=>{r(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=it.closed,this.bindings={}}async _fetchWithTimeout(t,r,i){const c=new AbortController,u=setTimeout(()=>c.abort(),i),f=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:c.signal}));return clearTimeout(u),f}_push(t,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new ku(this,t,r,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>wy){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,i){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,i){var c,u;const f=t.toLocaleLowerCase(),{close:m,error:g,leave:b,join:y}=ha;if(i&&[m,g,b,y].indexOf(f)>=0&&i!==this._joinRef())return;let _=this._onMessage(f,r,i);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(N=>{var T,R,U;return((T=N.filter)===null||T===void 0?void 0:T.event)==="*"||((U=(R=N.filter)===null||R===void 0?void 0:R.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===f}).map(N=>N.callback(_,i)):(u=this.bindings[f])===null||u===void 0||u.filter(N=>{var T,R,U,L,B,q,V,ee;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in N){const J=N.id,le=(T=N.filter)===null||T===void 0?void 0:T.event;return J&&((R=r.ids)===null||R===void 0?void 0:R.includes(J))&&(le==="*"||(le==null?void 0:le.toLocaleLowerCase())===((U=r.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))&&(!(!((L=N.filter)===null||L===void 0)&&L.table)||N.filter.table===((B=r.data)===null||B===void 0?void 0:B.table))}else{const J=(V=(q=N==null?void 0:N.filter)===null||q===void 0?void 0:q.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return J==="*"||J===((ee=r==null?void 0:r.event)===null||ee===void 0?void 0:ee.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===f}).map(N=>{if(typeof _=="object"&&"ids"in _){const T=_.data,{schema:R,table:U,commit_timestamp:L,type:B,errors:q}=T;_=Object.assign(Object.assign({},{schema:R,table:U,commit_timestamp:L,eventType:B,new:{},old:{},errors:q}),this._getPayloadRecords(T))}N.callback(_,i)})}_isClosed(){return this.state===it.closed}_isJoined(){return this.state===it.joined}_isJoining(){return this.state===it.joining}_isLeaving(){return this.state===it.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,i){const c=t.toLocaleLowerCase(),u={type:c,filter:r,callback:i};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(t,r){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&Fn.isEqual(c.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const i in t)if(t[i]!==r[i])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ha.close,{},t)}_onError(t){this._on(ha.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=it.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=D0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=D0(t.columns,t.old_record)),r}}const Au=()=>{},Dl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ty=[1e3,2e3,5e3,1e4],Oy=1e4,Cy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ry{constructor(t,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$u,this.transport=null,this.heartbeatIntervalMs=Dl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Au,this.ref=0,this.reconnectTimer=null,this.vsn=R0,this.logger=Au,this.conn=null,this.sendBuffer=[],this.serializer=new _y,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((i=r==null?void 0:r.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Pu.websocket}`,this.httpEndpoint=Og(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=py.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,i){this.logger(t,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case xs.connecting:return Js.Connecting;case xs.open:return Js.Open;case xs.closing:return Js.Closing;default:return Js.Closed}}isConnected(){return this.connectionState()===Js.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const i=`realtime:${t}`,c=this.getChannels().find(u=>u.topic===i);if(c)return c;{const u=new Fn(`realtime:${t}`,r,this);return this.channels.push(u),u}}push(t){const{topic:r,event:i,payload:c,ref:u}=t,f=()=>{this.encode(t,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${r} ${i} (${u})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(vy,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Dl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const b=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",b)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:c,payload:u,ref:f}=r,m=f?`(${f})`:"",g=u.status||"";this.log("receive",`${g} ${i} ${c} ${m}`.trim(),u),this.channels.filter(b=>b._isMember(i)).forEach(b=>b._trigger(c,u,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===xs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===xs.open||this.conn.readyState===xs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ha.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const i=t.match(/\?/)?"&":"?",c=new URLSearchParams(r);return`${t}${i}${c}`}_workerObjectUrl(t){let r;if(t)r=t;else{const i=new Blob([Cy],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,i=!1;if(t)r=t,i=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),r=this.accessTokenValue}else r=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(c=>{const u={access_token:r,version:xy};r&&c.updateJoinPayload(u),c.joinedOnce&&c._isJoined()&&c._push(ha.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(r)}catch(c){this.log("error",`error in ${t} callback`,c)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Eg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Dl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,i,c,u,f,m,g,b,y,v,_,N;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(i=t==null?void 0:t.timeout)!==null&&i!==void 0?i:$u,this.heartbeatIntervalMs=(c=t==null?void 0:t.heartbeatIntervalMs)!==null&&c!==void 0?c:Dl.HEARTBEAT_INTERVAL,this.worker=(u=t==null?void 0:t.worker)!==null&&u!==void 0?u:!1,this.accessToken=(f=t==null?void 0:t.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=t==null?void 0:t.heartbeatCallback)!==null&&m!==void 0?m:Au,this.vsn=(g=t==null?void 0:t.vsn)!==null&&g!==void 0?g:R0,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(b=t==null?void 0:t.reconnectAfterMs)!==null&&b!==void 0?b:(T=>Ty[T-1]||Oy),this.vsn){case Ag:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:((T,R)=>R(JSON.stringify(T))),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:((T,R)=>R(JSON.parse(T)));break;case yy:this.encode=(_=t==null?void 0:t.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(N=t==null?void 0:t.decode)!==null&&N!==void 0?N:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ni=class extends Error{constructor(n,t){var r;super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Dy(n,t,r){const i=new URL(t,n);if(r)for(const[c,u]of Object.entries(r))u!==void 0&&i.searchParams.set(c,u);return i.toString()}async function My(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function zy(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:c,body:u,headers:f}){const m=Dy(n.baseUrl,i,c),g=await My(n.auth),b=await t(m,{method:r,headers:{...u?{"Content-Type":"application/json"}:{},...g,...f},body:u?JSON.stringify(u):void 0}),y=await b.text(),v=(b.headers.get("content-type")||"").includes("application/json"),_=v&&y?JSON.parse(y):y;if(!b.ok){const N=v?_:void 0,T=N==null?void 0:N.error;throw new ni((T==null?void 0:T.message)??`Request failed with status ${b.status}`,{status:b.status,icebergType:T==null?void 0:T.type,icebergCode:T==null?void 0:T.code,details:N})}return{status:b.status,headers:b.headers,data:_}}}}function Ml(n){return n.join("")}var Uy=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:Ml(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(n,t){const r={namespace:n.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ml(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ml(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ml(n.namespace)}`}),!0}catch(t){if(t instanceof ni&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(r){if(r instanceof ni&&r.status===409)return;throw r}}};function Pn(n){return n.join("")}var Ly=class{constructor(n,t="",r){this.client=n,this.prefix=t,this.accessDelegation=r}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pn(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pn(n.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(n,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pn(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pn(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pn(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pn(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(r){if(r instanceof ni&&r.status===404)return!1;throw r}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(r){if(r instanceof ni&&r.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw r}}},qy=class{constructor(n){var i;let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const r=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=zy({baseUrl:r,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(i=n.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new Uy(this.client,t),this.tableOps=new Ly(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}},Fl=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Ve(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var By=class extends Fl{constructor(n,t,r){super(n),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Gu=class extends Fl{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};const hd=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Iy=()=>Response,Vu=n=>{if(Array.isArray(n))return n.map(r=>Vu(r));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([r,i])=>{const c=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[c]=Vu(i)}),t},$y=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Py=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function ri(n){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ri(n)}function Hy(n,t){if(ri(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,t);if(ri(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Gy(n){var t=Hy(n,"string");return ri(t)=="symbol"?t:t+""}function Vy(n,t,r){return(t=Gy(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function U0(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),r.push.apply(r,i)}return r}function re(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U0(Object(r),!0).forEach(function(i){Vy(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):U0(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}const Eu=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},Zy=async(n,t,r)=>{n instanceof await Iy()&&!(r!=null&&r.noResolveJson)?n.json().then(i=>{const c=n.status||500,u=(i==null?void 0:i.statusCode)||c+"";t(new By(Eu(i),c,u))}).catch(i=>{t(new Gu(Eu(i),i))}):t(new Gu(Eu(n),n))},Yy=(n,t,r,i)=>{const c={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"||!i?c:($y(i)?(c.headers=re({"Content-Type":"application/json"},t==null?void 0:t.headers),c.body=JSON.stringify(i)):c.body=i,t!=null&&t.duplex&&(c.duplex=t.duplex),re(re({},c),r))};async function mi(n,t,r,i,c,u){return new Promise((f,m)=>{n(r,Yy(t,i,c,u)).then(g=>{if(!g.ok)throw g;return i!=null&&i.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>Zy(g,m,i))})}async function ii(n,t,r,i){return mi(n,"GET",t,r,i)}async function da(n,t,r,i,c){return mi(n,"POST",t,i,c,r)}async function Zu(n,t,r,i,c){return mi(n,"PUT",t,i,c,r)}async function Ky(n,t,r,i){return mi(n,"HEAD",t,re(re({},r),{},{noResolveJson:!0}),i)}async function fd(n,t,r,i,c){return mi(n,"DELETE",t,i,c,r)}var Jy=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Ve(t))return{data:null,error:t};throw t}}};let Cg;Cg=Symbol.toStringTag;var Xy=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[Cg]="BlobDownloadBuilder",this.promise=null}asStream(){return new Jy(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Ve(t))return{data:null,error:t};throw t}}};const Qy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},L0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Fy=class{constructor(n,t={},r,i){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.bucketId=r,this.fetch=hd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,t,r,i){var c=this;try{let u;const f=re(re({},L0),i);let m=re(re({},c.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),g&&u.append("metadata",c.encodeMetadata(g)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.has("cacheControl")||u.append("cacheControl",f.cacheControl),g&&!u.has("metadata")&&u.append("metadata",c.encodeMetadata(g))):(u=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,g&&(m["x-metadata"]=c.toBase64(c.encodeMetadata(g))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!f.duplex&&(f.duplex="half")),i!=null&&i.headers&&(m=re(re({},m),i.headers));const b=c._removeEmptyFolders(t),y=c._getFinalPath(b),v=await(n=="PUT"?Zu:da)(c.fetch,`${c.url}/object/${y}`,u,re({headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:b,id:v.Id,fullPath:v.Key},error:null}}catch(u){if(c.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}}async upload(n,t,r){return this.uploadOrUpdate("POST",n,t,r)}async uploadToSignedUrl(n,t,r,i){var c=this;const u=c._removeEmptyFolders(n),f=c._getFinalPath(u),m=new URL(c.url+`/object/upload/sign/${f}`);m.searchParams.set("token",t);try{let g;const b=re({upsert:L0.upsert},i),y=re(re({},c.headers),{"x-upsert":String(b.upsert)});return typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",b.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",b.cacheControl)):(g=r,y["cache-control"]=`max-age=${b.cacheControl}`,y["content-type"]=b.contentType),{data:{path:u,fullPath:(await Zu(c.fetch,m.toString(),g,{headers:y})).Key},error:null}}catch(g){if(c.shouldThrowOnError)throw g;if(Ve(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(n,t){var r=this;try{let i=r._getFinalPath(n);const c=re({},r.headers);t!=null&&t.upsert&&(c["x-upsert"]="true");const u=await da(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:c}),f=new URL(r.url+u.url),m=f.searchParams.get("token");if(!m)throw new Fl("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:m},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}async update(n,t,r){return this.uploadOrUpdate("PUT",n,t,r)}async move(n,t,r){var i=this;try{return{data:await da(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:i.headers}),error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ve(c))return{data:null,error:c};throw c}}async copy(n,t,r){var i=this;try{return{data:{path:(await da(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:i.headers})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ve(c))return{data:null,error:c};throw c}}async createSignedUrl(n,t,r){var i=this;try{let c=i._getFinalPath(n),u=await da(i.fetch,`${i.url}/object/sign/${c}`,re({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:i.headers});const f=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return u={signedUrl:encodeURI(`${i.url}${u.signedURL}${f}`)},{data:u,error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ve(c))return{data:null,error:c};throw c}}async createSignedUrls(n,t,r){var i=this;try{const c=await da(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:n},{headers:i.headers}),u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:c.map(f=>re(re({},f),{},{signedUrl:f.signedURL?encodeURI(`${i.url}${f.signedURL}${u}`):null})),error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ve(c))return{data:null,error:c};throw c}}download(n,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),c=i?`?${i}`:"",u=this._getFinalPath(n),f=()=>ii(this.fetch,`${this.url}/${r}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new Xy(f,this.shouldThrowOnError)}async info(n){var t=this;const r=t._getFinalPath(n);try{return{data:Vu(await ii(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}async exists(n){var t=this;const r=t._getFinalPath(n);try{return await Ky(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Ve(i)&&i instanceof Gu){const c=i.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:i}}throw i}}getPublicUrl(n,t){const r=this._getFinalPath(n),i=[],c=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";c!==""&&i.push(c);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});f!==""&&i.push(f);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${m}`)}}}async remove(n){var t=this;try{return{data:await fd(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:n},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async list(n,t,r){var i=this;try{const c=re(re(re({},Qy),t),{},{prefix:n||""});return{data:await da(i.fetch,`${i.url}/object/list/${i.bucketId}`,c,{headers:i.headers},r),error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ve(c))return{data:null,error:c};throw c}}async listV2(n,t){var r=this;try{const i=re({},n);return{data:await da(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},t),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};const Rg="2.90.1",Dg={"X-Client-Info":`storage-js/${Rg}`};var Wy=class{constructor(n,t={},r,i){this.shouldThrowOnError=!1;const c=new URL(n);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=re(re({},Dg),t),this.fetch=hd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var t=this;try{const r=t.listBucketOptionsToQueryString(n);return{data:await ii(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async getBucket(n){var t=this;try{return{data:await ii(t.fetch,`${t.url}/bucket/${n}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async createBucket(n,t={public:!1}){var r=this;try{return{data:await da(r.fetch,`${r.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}async updateBucket(n,t){var r=this;try{return{data:await Zu(r.fetch,`${r.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}async emptyBucket(n){var t=this;try{return{data:await da(t.fetch,`${t.url}/bucket/${n}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async deleteBucket(n){var t=this;try{return{data:await fd(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(n){const t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},ev=class{constructor(n,t={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=re(re({},Dg),t),this.fetch=hd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await da(t.fetch,`${t.url}/bucket`,{name:n},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async listBuckets(n){var t=this;try{const r=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&r.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&r.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&r.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&r.set("sortOrder",n.sortOrder),n!=null&&n.search&&r.set("search",n.search);const i=r.toString(),c=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return{data:await ii(t.fetch,c,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async deleteBucket(n){var t=this;try{return{data:await fd(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}from(n){var t=this;if(!Py(n))throw new Fl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new qy({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(c,u){const f=c[u];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(c,m),error:null}}catch(g){if(i)throw g;return{data:null,error:g}}}}})}};const md={"X-Client-Info":`storage-js/${Rg}`,"Content-Type":"application/json"};var Mg=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ht(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Tu=class extends Mg{constructor(n,t,r){super(n),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tv=class extends Mg{constructor(n,t){super(n),this.name="StorageVectorsUnknownError",this.originalError=t}};const gd=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),av=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},q0=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),sv=async(n,t,r)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(r!=null&&r.noResolveJson)){const i=n.status||500,c=n;if(typeof c.json=="function")c.json().then(u=>{const f=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||i+"";t(new Tu(q0(u),i,f))}).catch(()=>{const u=i+"";t(new Tu(c.statusText||`HTTP ${i} error`,i,u))});else{const u=i+"";t(new Tu(c.statusText||`HTTP ${i} error`,i,u))}}else t(new tv(q0(n),n))},nv=(n,t,r,i)=>{const c={method:n,headers:(t==null?void 0:t.headers)||{}};return i?(av(i)?(c.headers=re({"Content-Type":"application/json"},t==null?void 0:t.headers),c.body=JSON.stringify(i)):c.body=i,re(re({},c),r)):c};async function rv(n,t,r,i,c,u){return new Promise((f,m)=>{n(r,nv(t,i,c,u)).then(g=>{if(!g.ok)throw g;if(i!=null&&i.noResolveJson)return g;const b=g.headers.get("content-type");return!b||!b.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>sv(g,m,i))})}async function Gt(n,t,r,i,c){return rv(n,"POST",t,i,c,r)}var iv=class{constructor(n,t={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=re(re({},md),t),this.fetch=gd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/CreateIndex`,n,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async getIndex(n,t){var r=this;try{return{data:await Gt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}}async listIndexes(n){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/ListIndexes`,n,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async deleteIndex(n,t){var r=this;try{return{data:await Gt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:r.headers})||{},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}}},lv=class{constructor(n,t={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=re(re({},md),t),this.fetch=gd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var t=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Gt(t.fetch,`${t.url}/PutVectors`,n,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async getVectors(n){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/GetVectors`,n,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async listVectors(n){var t=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await Gt(t.fetch,`${t.url}/ListVectors`,n,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async queryVectors(n){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/QueryVectors`,n,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async deleteVectors(n){var t=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Gt(t.fetch,`${t.url}/DeleteVectors`,n,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}},ov=class{constructor(n,t={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=re(re({},md),t),this.fetch=gd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async getBucket(n){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:n},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async listBuckets(n={}){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/ListVectorBuckets`,n,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async deleteBucket(n){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}},cv=class extends ov{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new uv(this.url,this.headers,n,this.fetch)}async createBucket(n){var t=()=>super.createBucket,r=this;return t().call(r,n)}async getBucket(n){var t=()=>super.getBucket,r=this;return t().call(r,n)}async listBuckets(n={}){var t=()=>super.listBuckets,r=this;return t().call(r,n)}async deleteBucket(n){var t=()=>super.deleteBucket,r=this;return t().call(r,n)}},uv=class extends iv{constructor(n,t,r,i){super(n,t,i),this.vectorBucketName=r}async createIndex(n){var t=()=>super.createIndex,r=this;return t().call(r,re(re({},n),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(n={}){var t=()=>super.listIndexes,r=this;return t().call(r,re(re({},n),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(n){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,n)}async deleteIndex(n){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,n)}index(n){return new dv(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},dv=class extends lv{constructor(n,t,r,i,c){super(n,t,c),this.vectorBucketName=r,this.indexName=i}async putVectors(n){var t=()=>super.putVectors,r=this;return t().call(r,re(re({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(n){var t=()=>super.getVectors,r=this;return t().call(r,re(re({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(n={}){var t=()=>super.listVectors,r=this;return t().call(r,re(re({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(n){var t=()=>super.queryVectors,r=this;return t().call(r,re(re({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(n){var t=()=>super.deleteVectors,r=this;return t().call(r,re(re({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},hv=class extends Wy{constructor(n,t={},r,i){super(n,t,r,i)}from(n){return new Fy(this.url,this.headers,n,this.fetch)}get vectors(){return new cv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ev(this.url+"/iceberg",this.headers,this.fetch)}};const zg="2.90.1",Jn=30*1e3,Yu=3,Ou=Yu*Jn,fv="http://localhost:9999",mv="supabase.auth.token",gv={"X-Client-Info":`gotrue-js/${zg}`},Ku="X-Supabase-Api-Version",Ug={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bv=600*1e3;class li extends Error{constructor(t,r,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function te(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class xv extends li{constructor(t,r,i){super(t,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function yv(n){return te(n)&&n.name==="AuthApiError"}class Xs extends li{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ga extends li{constructor(t,r,i,c){super(t,i,c),this.name=r,this.status=i}}class $t extends Ga{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vv(n){return te(n)&&n.name==="AuthSessionMissingError"}class Hn extends Ga{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zl extends Ga{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ul extends Ga{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wv(n){return te(n)&&n.name==="AuthImplicitGrantRedirectError"}class B0 extends Ga{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _v extends Ga{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ju extends Ga{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Cu(n){return te(n)&&n.name==="AuthRetryableFetchError"}class I0 extends Ga{constructor(t,r,i){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Xu extends Ga{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$0=` 	
\r=`.split(""),jv=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<$0.length;t+=1)n[$0[t].charCodeAt(0)]=-2;for(let t=0;t<$l.length;t+=1)n[$l[t].charCodeAt(0)]=t;return n})();function P0(n,t,r){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;r($l[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;r($l[i]),t.queuedBits-=6}}function Lg(n,t,r){const i=jv[n];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function H0(n){const t=[],r=f=>{t.push(String.fromCodePoint(f))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=f=>{kv(f,i,r)};for(let f=0;f<n.length;f+=1)Lg(n.charCodeAt(f),c,u);return t.join("")}function Nv(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Sv(n,t){for(let r=0;r<n.length;r+=1){let i=n.charCodeAt(r);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(n.charCodeAt(r+1)-56320&65535|c)+65536,r+=1}Nv(i,t)}}function kv(n,t,r){if(t.utf8seq===0){if(n<=127){r(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Wn(n){const t=[],r={queue:0,queuedBits:0},i=c=>{t.push(c)};for(let c=0;c<n.length;c+=1)Lg(n.charCodeAt(c),r,i);return new Uint8Array(t)}function Av(n){const t=[];return Sv(n,r=>t.push(r)),new Uint8Array(t)}function Fs(n){const t=[],r={queue:0,queuedBits:0},i=c=>{t.push(c)};return n.forEach(c=>P0(c,r,i)),P0(null,r,i),t.join("")}function Ev(n){return Math.round(Date.now()/1e3)+n}function Tv(){return Symbol("auth-callback")}const pt=()=>typeof window<"u"&&typeof document<"u",Zs={tested:!1,writable:!1},qg=()=>{if(!pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zs.tested)return Zs.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Zs.tested=!0,Zs.writable=!0}catch{Zs.tested=!0,Zs.writable=!1}return Zs.writable};function Ov(n){const t={},r=new URL(n);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((c,u)=>{t[u]=c})}catch{}return r.searchParams.forEach((i,c)=>{t[c]=i}),t}const Bg=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Cv=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Xn=async(n,t,r)=>{await n.setItem(t,JSON.stringify(r))},Ys=async(n,t)=>{const r=await n.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},gt=async(n,t)=>{await n.removeItem(t)};class Wl{constructor(){this.promise=new Wl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Wl.promiseConstructor=Promise;function Ru(n){const t=n.split(".");if(t.length!==3)throw new Xu("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!pv.test(t[i]))throw new Xu("JWT not in base64url format");return{header:JSON.parse(H0(t[0])),payload:JSON.parse(H0(t[1])),signature:Wn(t[2]),raw:{header:t[0],payload:t[1]}}}async function Rv(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function Dv(n,t){return new Promise((i,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await n(u);if(!t(u,null,f)){i(f);return}}catch(f){if(!t(u,f)){c(f);return}}})()})}function Mv(n){return("0"+n.toString(16)).substr(-2)}function zv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let c="";for(let u=0;u<56;u++)c+=r.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(t),Array.from(t,Mv).join("")}async function Uv(n){const r=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",r),c=new Uint8Array(i);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function Lv(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const r=await Uv(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gn(n,t,r=!1){const i=zv();let c=i;r&&(c+="/PASSWORD_RECOVERY"),await Xn(n,`${t}-code-verifier`,c);const u=await Lv(i);return[u,i===u?"plain":"s256"]}const qv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bv(n){const t=n.headers.get(Ku);if(!t||!t.match(qv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Iv(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function $v(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Pv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vn(n){if(!Pv.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Du(){const n={};return new Proxy(n,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Hv(n,t){return new Proxy(n,{get:(r,i,c)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const u=i.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,c)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,i,c)}})}function G0(n){return JSON.parse(JSON.stringify(n))}const Ks=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Gv=[502,503,504];async function V0(n){var t;if(!Cv(n))throw new Ju(Ks(n),0);if(Gv.includes(n.status))throw new Ju(Ks(n),n.status);let r;try{r=await n.json()}catch(u){throw new Xs(Ks(u),u)}let i;const c=Bv(n);if(c&&c.getTime()>=Ug["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new I0(Ks(r),n.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new $t}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new I0(Ks(r),n.status,r.weak_password.reasons);throw new xv(Ks(r),n.status||500,i)}const Vv=(n,t,r,i)=>{const c={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),r))};async function ne(n,t,r,i){var c;const u=Object.assign({},i==null?void 0:i.headers);u[Ku]||(u[Ku]=Ug["2024-01-01"].name),i!=null&&i.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const f=(c=i==null?void 0:i.query)!==null&&c!==void 0?c:{};i!=null&&i.redirectTo&&(f.redirect_to=i.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await Zv(n,t,r+m,{headers:u,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(g):{data:Object.assign({},g),error:null}}async function Zv(n,t,r,i,c,u){const f=Vv(t,i,c,u);let m;try{m=await n(r,Object.assign({},f))}catch(g){throw console.error(g),new Ju(Ks(g),0)}if(m.ok||await V0(m),i!=null&&i.noResolveJson)return m;try{return await m.json()}catch(g){await V0(g)}}function ua(n){var t;let r=null;Jv(n)&&(r=Object.assign({},n),n.expires_at||(r.expires_at=Ev(n.expires_in)));const i=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:r,user:i},error:null}}function Z0(n){const t=ua(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(t.data.weak_password=n.weak_password),t}function vs(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function Yv(n){return{data:n,error:null}}function Kv(n){const{action_link:t,email_otp:r,hashed_token:i,redirect_to:c,verification_type:u}=n,f=Ql(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:t,email_otp:r,hashed_token:i,redirect_to:c,verification_type:u},g=Object.assign({},f);return{data:{properties:m,user:g},error:null}}function Y0(n){return n}function Jv(n){return n.access_token&&n.refresh_token&&n.expires_in}const Mu=["global","local","others"];class Xv{constructor({url:t="",headers:r={},fetch:i}){this.url=t,this.headers=r,this.fetch=Bg(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Mu[0]){if(Mu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mu.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(te(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,r={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:vs})}catch(i){if(te(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:r}=t,i=Ql(t,["options"]),c=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(c.new_email=i==null?void 0:i.newEmail,delete c.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Kv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vs})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,i,c,u,f,m,g;try{const b={nextPage:null,lastPage:0,total:0},y=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(u=(c=t==null?void 0:t.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Y0});if(y.error)throw y.error;const v=await y.json(),_=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,N=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return N.length>0&&(N.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(T.split(";")[1].split("=")[1]);b[`${U}Page`]=R}),b.total=parseInt(_)),{data:Object.assign(Object.assign({},v),b),error:null}}catch(b){if(te(b))return{data:{users:[]},error:b};throw b}}async getUserById(t){Vn(t);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vs})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Vn(t);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:vs})}catch(i){if(te(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,r=!1){Vn(t);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:vs})}catch(i){if(te(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Vn(t.userId);try{const{data:r,error:i}=await ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:r,error:i}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Vn(t.userId),Vn(t.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,i,c,u,f,m,g;try{const b={nextPage:null,lastPage:0,total:0},y=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(u=(c=t==null?void 0:t.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Y0});if(y.error)throw y.error;const v=await y.json(),_=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,N=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return N.length>0&&(N.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(T.split(";")[1].split("=")[1]);b[`${U}Page`]=R}),b.total=parseInt(_)),{data:Object.assign(Object.assign({},v),b),error:null}}catch(b){if(te(b))return{data:{clients:[]},error:b};throw b}}async _createOAuthClient(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(te(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}}function K0(n={}){return{getItem:t=>n[t]||null,setItem:(t,r)=>{n[t]=r},removeItem:t=>{delete n[t]}}}const Zn={debug:!!(globalThis&&qg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ig extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Qv extends Ig{}async function Fv(n,t,r){Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,c.name);try{return await r()}finally{Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,c.name)}}else{if(t===0)throw Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Qv(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Zn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Wv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $g(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function ew(n){return parseInt(n,16)}function tw(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function aw(n){var t;const{chainId:r,domain:i,expirationTime:c,issuedAt:u=new Date,nonce:f,notBefore:m,requestId:g,resources:b,scheme:y,uri:v,version:_}=n;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const N=$g(n.address),T=y?`${y}://${i}`:i,R=n.statement?`${n.statement}
`:"",U=`${T} wants you to sign in with your Ethereum account:
${N}

${R}`;let L=`URI: ${v}
Version: ${_}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${u.toISOString()}`;if(c&&(L+=`
Expiration Time: ${c.toISOString()}`),m&&(L+=`
Not Before: ${m.toISOString()}`),g&&(L+=`
Request ID: ${g}`),b){let B=`
Resources:`;for(const q of b){if(!q||typeof q!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${q}`);B+=`
- ${q}`}L+=B}return`${U}
${L}`}class st extends Error{constructor({message:t,code:r,cause:i,name:c}){var u;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(u=c??(i instanceof Error?i.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=r}}class Pl extends st{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function sw({error:n,options:t}){var r,i,c;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((r=u.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((i=u.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new st({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const f=window.location.hostname;if(Pg(f)){if(u.rp.id!==f)return new st({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function nw({error:n,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new st({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(Pg(i)){if(r.rpId!==i)return new st({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class rw{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const iw=new rw;function lw(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:r,excludeCredentials:i}=n,c=Ql(n,["challenge","user","excludeCredentials"]),u=Wn(t).buffer,f=Object.assign(Object.assign({},r),{id:Wn(r.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:u,user:f});if(i&&i.length>0){m.excludeCredentials=new Array(i.length);for(let g=0;g<i.length;g++){const b=i[g];m.excludeCredentials[g]=Object.assign(Object.assign({},b),{id:Wn(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return m}function ow(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:r}=n,i=Ql(n,["challenge","allowCredentials"]),c=Wn(t).buffer,u=Object.assign(Object.assign({},i),{challenge:c});if(r&&r.length>0){u.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const m=r[f];u.allowCredentials[f]=Object.assign(Object.assign({},m),{id:Wn(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function cw(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n;return{id:n.id,rawId:n.id,response:{attestationObject:Fs(new Uint8Array(n.response.attestationObject)),clientDataJSON:Fs(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function uw(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n,i=n.getClientExtensionResults(),c=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Fs(new Uint8Array(c.authenticatorData)),clientDataJSON:Fs(new Uint8Array(c.clientDataJSON)),signature:Fs(new Uint8Array(c.signature)),userHandle:c.userHandle?Fs(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Pg(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function J0(){var n,t;return!!(pt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function dw(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pl("Browser returned unexpected credential type",t)}:{data:null,error:new Pl("Empty credential response",t)}}catch(t){return{data:null,error:sw({error:t,options:n})}}}async function hw(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pl("Browser returned unexpected credential type",t)}:{data:null,error:new Pl("Empty credential response",t)}}catch(t){return{data:null,error:nw({error:t,options:n})}}}const fw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},mw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hl(...n){const t=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),r=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),i={};for(const c of n)if(c)for(const u in c){const f=c[u];if(f!==void 0)if(Array.isArray(f))i[u]=f;else if(r(f))i[u]=f;else if(t(f)){const m=i[u];t(m)?i[u]=Hl(m,f):i[u]=Hl(f)}else i[u]=f}return i}function gw(n,t){return Hl(fw,n,t||{})}function pw(n,t){return Hl(mw,n,t||{})}class bw{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:i,signal:c},u){try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!f)return{data:null,error:m};const g=c??iw.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:b}=f.webauthn.credential_options.publicKey;b.name||(b.name=`${b.id}:${i}`),b.displayName||(b.displayName=b.name)}switch(f.webauthn.type){case"create":{const b=gw(f.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:y,error:v}=await dw({publicKey:b,signal:g});return y?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const b=pw(f.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:y,error:v}=await hw(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:b,signal:g}));return y?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(f){return te(f)?{data:null,error:f}:{data:null,error:new Xs("Unexpected error in challenge",f)}}}async _verify({challengeId:t,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!r)return{data:null,error:new li("rpId is required for WebAuthn authentication")};try{if(!J0())return{data:null,error:new Xs("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:i},signal:c},{request:u});if(!f)return{data:null,error:m};const{webauthn:g}=f;return this._verify({factorId:t,challengeId:f.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:i,credential_response:g.credential_response}})}catch(f){return te(f)?{data:null,error:f}:{data:null,error:new Xs("Unexpected error in authenticate",f)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!r)return{data:null,error:new li("rpId is required for WebAuthn registration")};try{if(!J0())return{data:null,error:new Xs("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:t});if(!f)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===t&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:m};const{data:g,error:b}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:c},{create:u});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:i,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:b}}catch(f){return te(f)?{data:null,error:f}:{data:null,error:new Xs("Unexpected error in register",f)}}}}Wv();const xw={url:fv,storageKey:mv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function X0(n,t,r){return await r()}const Yn={};class oi{get jwks(){var t,r;return(r=(t=Yn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Yn[this.storageKey]=Object.assign(Object.assign({},Yn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Yn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Yn[this.storageKey]=Object.assign(Object.assign({},Yn[this.storageKey]),{cachedAt:t})}constructor(t){var r,i,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},xw),t);if(this.storageKey=u.storageKey,this.instanceID=(r=oi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,oi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&pt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Xv({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Bg(u.fetch),this.lock=u.lock||X0,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&pt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=Fv:this.lock=X0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:qg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=K0(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=K0(this.memoryStorage)),pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zg}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},i="none";if(pt()&&(r=Ov(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),pt()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:u}=await this._getSessionFromURL(r,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),wv(u)){const g=(t=u.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:f,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return te(r)?this._returnResult({error:r}):this._returnResult({error:new Xs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,i,c;try{const u=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=t==null?void 0:t.options)===null||c===void 0?void 0:c.captchaToken}},xform:ua}),{data:f,error:m}=u;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const g=f.session,b=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:b,session:g},error:null})}catch(u){if(te(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var r,i,c;try{let u;if("email"in t){const{email:y,password:v,options:_}=t;let N=null,T=null;this.flowType==="pkce"&&([N,T]=await Gn(this.storage,this.storageKey)),u=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:y,password:v,data:(r=_==null?void 0:_.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:N,code_challenge_method:T},xform:ua})}else if("phone"in t){const{phone:y,password:v,options:_}=t;u=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=_==null?void 0:_.data)!==null&&i!==void 0?i:{},channel:(c=_==null?void 0:_.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:ua})}else throw new zl("You must provide either an email or phone number and a password");const{data:f,error:m}=u;if(m||!f)return await gt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=f.session,b=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:b,session:g},error:null})}catch(u){if(await gt(this.storage,`${this.storageKey}-code-verifier`),te(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let r;if("email"in t){const{email:u,password:f,options:m}=t;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Z0})}else if("phone"in t){const{phone:u,password:f,options:m}=t;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Z0})}else throw new zl("You must provide either an email or phone number and a password");const{data:i,error:c}=r;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!i||!i.session||!i.user){const u=new Hn;return this._returnResult({data:{user:null,session:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,i,c,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,i,c,u,f,m,g,b,y,v,_;let N,T;if("message"in t)N=t.message,T=t.signature;else{const{chain:R,wallet:U,statement:L,options:B}=t;let q;if(pt())if(typeof U=="object")q=U;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")q=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=U}const V=new URL((r=B==null?void 0:B.url)!==null&&r!==void 0?r:window.location.href),ee=await q.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ee||ee.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=$g(ee[0]);let le=(i=B==null?void 0:B.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!le){const Q=await q.request({method:"eth_chainId"});le=ew(Q)}const oe={domain:V.host,address:J,statement:L,uri:V.href,version:"1",chainId:le,nonce:(c=B==null?void 0:B.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(u=B==null?void 0:B.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=B==null?void 0:B.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=B==null?void 0:B.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(b=B==null?void 0:B.signInWithEthereum)===null||b===void 0?void 0:b.requestId,resources:(y=B==null?void 0:B.signInWithEthereum)===null||y===void 0?void 0:y.resources};N=aw(oe),T=await q.request({method:"personal_sign",params:[tw(N),J]})}try{const{data:R,error:U}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:T},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:ua});if(U)throw U;if(!R||!R.session||!R.user){const L=new Hn;return this._returnResult({data:{user:null,session:null},error:L})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:U})}catch(R){if(te(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(t){var r,i,c,u,f,m,g,b,y,v,_,N;let T,R;if("message"in t)T=t.message,R=t.signature;else{const{chain:U,wallet:L,statement:B,options:q}=t;let V;if(pt())if(typeof L=="object")V=L;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))V=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!(q!=null&&q.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=L}const ee=new URL((r=q==null?void 0:q.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in V&&V.signIn){const J=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},q==null?void 0:q.signInWithSolana),{version:"1",domain:ee.host,uri:ee.href}),B?{statement:B}:null));let le;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")le=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)le=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in le&&"signature"in le&&(typeof le.signedMessage=="string"||le.signedMessage instanceof Uint8Array)&&le.signature instanceof Uint8Array)T=typeof le.signedMessage=="string"?le.signedMessage:new TextDecoder().decode(le.signedMessage),R=le.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${ee.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${ee.href}`,`Issued At: ${(c=(i=q==null?void 0:q.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=q==null?void 0:q.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${q.signInWithSolana.notBefore}`]:[],...!((f=q==null?void 0:q.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${q.signInWithSolana.expirationTime}`]:[],...!((m=q==null?void 0:q.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${q.signInWithSolana.chainId}`]:[],...!((g=q==null?void 0:q.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${q.signInWithSolana.nonce}`]:[],...!((b=q==null?void 0:q.signInWithSolana)===null||b===void 0)&&b.requestId?[`Request ID: ${q.signInWithSolana.requestId}`]:[],...!((v=(y=q==null?void 0:q.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...q.signInWithSolana.resources.map(le=>`- ${le}`)]:[]].join(`
`);const J=await V.signMessage(new TextEncoder().encode(T),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=J}}try{const{data:U,error:L}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Fs(R)},!((_=t.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(N=t.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:ua});if(L)throw L;if(!U||!U.session||!U.user){const B=new Hn;return this._returnResult({data:{user:null,session:null},error:B})}return U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),this._returnResult({data:Object.assign({},U),error:L})}catch(U){if(te(U))return this._returnResult({data:{user:null,session:null},error:U});throw U}}async _exchangeCodeForSession(t){const r=await Ys(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new _v;const{data:u,error:f}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:ua});if(await gt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!u||!u.session||!u.user){const m=new Hn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:f})}catch(u){if(await gt(this.storage,`${this.storageKey}-code-verifier`),te(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:r,provider:i,token:c,access_token:u,nonce:f}=t,m=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ua}),{data:g,error:b}=m;if(b)return this._returnResult({data:{user:null,session:null},error:b});if(!g||!g.session||!g.user){const y=new Hn;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:b})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,i,c,u,f;try{if("email"in t){const{email:m,options:g}=t;let b=null,y=null;this.flowType==="pkce"&&([b,y]=await Gn(this.storage,this.storageKey));const{error:v}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},create_user:(i=g==null?void 0:g.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:b,code_challenge_method:y},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:m,options:g}=t,{data:b,error:y}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=g==null?void 0:g.data)!==null&&c!==void 0?c:{},create_user:(u=g==null?void 0:g.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(f=g==null?void 0:g.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:b==null?void 0:b.message_id},error:y})}throw new zl("You must provide either an email or phone number.")}catch(m){if(await gt(this.storage,`${this.storageKey}-code-verifier`),te(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(t){var r,i;try{let c,u;"options"in t&&(c=(r=t.options)===null||r===void 0?void 0:r.redirectTo,u=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:f,error:m}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:ua});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,b=f.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:b,session:g},error:null})}catch(c){if(te(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(t){var r,i,c,u,f;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Gn(this.storage,this.storageKey));const b=await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=t==null?void 0:t.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:Yv});return!((u=b.data)===null||u===void 0)&&u.url&&pt()&&!(!((f=t.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(b.data.url),this._returnResult(b)}catch(m){if(await gt(this.storage,`${this.storageKey}-code-verifier`),te(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new $t;const{error:c}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(t){if(te(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:i,type:c,options:u}=t,{error:f}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in t){const{phone:i,type:c,options:u}=t,{data:f,error:m}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m})}throw new zl("You must provide either an email or phone number and a type")}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Ou:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const f=await Ys(this.userStorage,this.storageKey+"-user");f!=null&&f.user?t.user=f.user:t.user=Du()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};t.user=Hv(t.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vs}):await this._useSession(async r=>{var i,c,u;const{data:f,error:m}=r;if(m)throw m;return!(!((i=f.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:vs})})}catch(r){if(te(r))return vv(r)&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async i=>{const{data:c,error:u}=i;if(u)throw u;if(!c.session)throw new $t;const f=c.session;let m=null,g=null;this.flowType==="pkce"&&t.email!=null&&([m,g]=await Gn(this.storage,this.storageKey));const{data:b,error:y}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:m,code_challenge_method:g}),jwt:f.access_token,xform:vs});if(y)throw y;return f.user=b.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(i){if(await gt(this.storage,`${this.storageKey}-code-verifier`),te(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $t;const r=Date.now()/1e3;let i=r,c=!0,u=null;const{payload:f}=Ru(t.access_token);if(f.exp&&(i=f.exp,c=i<=r),c){const{data:m,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:g}=await this._getUser(t.access_token);if(g)throw g;u={access_token:t.access_token,refresh_token:t.refresh_token,user:m.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(r){if(te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var i;if(!t){const{data:f,error:m}=r;if(m)throw m;t=(i=f.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new $t;const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!pt())throw new Ul("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ul(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new B0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ul("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new B0("No code detected.");const{data:B,error:q}=await this._exchangeCodeForSession(t.code);if(q)throw q;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:u,refresh_token:f,expires_in:m,expires_at:g,token_type:b}=t;if(!u||!m||!f||!b)throw new Ul("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(m);let _=y+v;g&&(_=parseInt(g));const N=_-y;N*1e3<=Jn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${v}s`);const T=_-v;y-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,_,y):y-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,_,y);const{data:R,error:U}=await this._getUser(u);if(U)throw U;const L={provider_token:i,provider_refresh_token:c,access_token:u,expires_in:v,expires_at:_,refresh_token:f,token_type:b,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:t.type},error:null})}catch(i){if(te(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ys(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:c,error:u}=r;if(u)return this._returnResult({error:u});const f=(i=c.session)===null||i===void 0?void 0:i.access_token;if(f){const{error:m}=await this.admin.signOut(f,t);if(m&&!(yv(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return t!=="others"&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Tv(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async r=>{var i,c;try{const{data:{session:u},error:f}=r;if(f)throw f;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(t))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,r={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await Gn(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(await gt(this.storage,`${this.storageKey}-code-verifier`),te(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:i,error:c}=await this._useSession(async u=>{var f,m,g,b,y;const{data:v,error:_}=u;if(_)throw _;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(f=t.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=t.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",N,{headers:this.headers,jwt:(y=(b=v.session)===null||b===void 0?void 0:b.access_token)!==null&&y!==void 0?y:void 0})});if(c)throw c;return pt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:t.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(te(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var i;try{const{error:c,data:{session:u}}=r;if(c)throw c;const{options:f,provider:m,token:g,access_token:b,nonce:y}=t,v=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=u==null?void 0:u.access_token)!==null&&i!==void 0?i:void 0,body:{provider:m,id_token:g,access_token:b,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ua}),{data:_,error:N}=v;return N?this._returnResult({data:{user:null,session:null},error:N}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Hn}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:N}))}catch(c){if(await gt(this.storage,`${this.storageKey}-code-verifier`),te(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var i,c;const{data:u,error:f}=r;if(f)throw f;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(c=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await Dv(async c=>(c>0&&await Rv(200*Math.pow(2,c-1)),this._debug(r,"refreshing attempt",c),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ua})),(c,u)=>{const f=200*Math.pow(2,c);return u&&Cu(u)&&Date.now()+f-i<Jn})}catch(i){if(this._debug(r,"error",i),te(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),pt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await Ys(this.storage,this.storageKey);if(c&&this.userStorage){let f=await Ys(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await Xn(this.userStorage,this.storageKey+"-user",f)),c.user=(t=f==null?void 0:f.user)!==null&&t!==void 0?t:Du()}else if(c&&!c.user&&!c.user){const f=await Ys(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(c.user=f.user,await gt(this.storage,this.storageKey+"-user"),await Xn(this.storage,this.storageKey,c)):c.user=Du()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const u=((r=c.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ou;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${Ou}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),Cu(f)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(c.access_token);!m&&(f!=null&&f.user)?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(i,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var r,i;if(!t)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Wl;const{data:u,error:f}=await this._refreshAccessToken(t);if(f)throw f;if(!u.session)throw new $t;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={data:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(c,"error",u),te(u)){const f={data:null,error:u};return Cu(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(t,r,i=!0){const c=`#_notifyAllSubscribers(${t})`;this._debug(c,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(t,r)}catch(g){u.push(g)}});if(await Promise.all(f),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Xn(this.userStorage,this.storageKey+"-user",{user:r.user});const c=Object.assign({},r);delete c.user;const u=G0(c);await Xn(this.storage,this.storageKey,u)}else{const c=G0(r);await Xn(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gt(this.storage,this.storageKey),await gt(this.storage,this.storageKey+"-code-verifier"),await gt(this.storage,this.storageKey+"-user"),this.userStorage&&await gt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Jn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-t)/Jn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Jn}ms, refresh threshold is ${Yu} ticks`),c<=Yu&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ig)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,i){const c=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,f]=await Gn(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(m.toString())}if(i!=null&&i.queryParams){const u=new URLSearchParams(i.queryParams);c.push(u.toString())}return i!=null&&i.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${c.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var i;const{data:c,error:u}=r;return u?this._returnResult({data:null,error:u}):await ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var i,c;const{data:u,error:f}=r;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:g,error:b}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});return b?this._returnResult({data:null,error:b}):(t.factorType==="totp"&&g.type==="totp"&&(!((c=g==null?void 0:g.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:c,error:u}=r;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?cw(t.webauthn.credential_response):uw(t.webauthn.credential_response)})}:{code:t.code}),{data:m,error:g}=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:f,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:c,error:u}=r;if(u)return this._returnResult({data:null,error:u});const f=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:lw(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:ow(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:i},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Ru(i.access_token);let f=null;u.aal&&(f=u.aal);let m=f;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const b=u.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:i},error:c}=r;return c?this._returnResult({data:null,error:c}):i?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new $t})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async i=>{const{data:{session:c},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new $t});const f=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&pt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(i){if(te(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,r){try{return await this._useSession(async i=>{const{data:{session:c},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new $t});const f=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&pt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(i){if(te(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?await ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new $t})})}catch(t){if(te(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:i},error:c}=r;return c?this._returnResult({data:null,error:c}):i?(await ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $t})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let i=r.keys.find(m=>m.kid===t);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(m=>m.kid===t),i&&this.jwks_cached_at+bv>c)return i;const{data:u,error:f}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,i=u.keys.find(m=>m.kid===t),!i)?null:i}async getClaims(t,r={}){try{let i=t;if(!i){const{data:N,error:T}=await this.getSession();if(T||!N.session)return this._returnResult({data:null,error:T});i=N.session.access_token}const{header:c,payload:u,signature:f,raw:{header:m,payload:g}}=Ru(i);r!=null&&r.allowExpired||Iv(u.exp);const b=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!b){const{error:N}=await this.getUser(i);if(N)throw N;return{data:{claims:u,header:c,signature:f},error:null}}const y=$v(c.alg),v=await crypto.subtle.importKey("jwk",b,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,f,Av(`${m}.${g}`)))throw new Xu("Invalid JWT signature");return{data:{claims:u,header:c,signature:f},error:null}}catch(i){if(te(i))return this._returnResult({data:null,error:i});throw i}}}oi.nextInstanceID={};const yw=oi,vw="2.90.1";let ei="";typeof Deno<"u"?ei="deno":typeof document<"u"?ei="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ei="react-native":ei="node";const ww={"X-Client-Info":`supabase-js-${ei}/${vw}`},_w={headers:ww},jw={schema:"public"},Nw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sw={};function ci(n){"@babel/helpers - typeof";return ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ci(n)}function kw(n,t){if(ci(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,t);if(ci(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Aw(n){var t=kw(n,"string");return ci(t)=="symbol"?t:t+""}function Ew(n,t,r){return(t=Aw(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function Q0(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),r.push.apply(r,i)}return r}function Je(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q0(Object(r),!0).forEach(function(i){Ew(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Q0(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}const Tw=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Ow=()=>Headers,Cw=(n,t,r)=>{const i=Tw(r),c=Ow();return async(u,f)=>{var m;const g=(m=await t())!==null&&m!==void 0?m:n;let b=new c(f==null?void 0:f.headers);return b.has("apikey")||b.set("apikey",n),b.has("Authorization")||b.set("Authorization",`Bearer ${g}`),i(u,Je(Je({},f),{},{headers:b}))}};function Rw(n){return n.endsWith("/")?n:n+"/"}function Dw(n,t){var r,i;const{db:c,auth:u,realtime:f,global:m}=n,{db:g,auth:b,realtime:y,global:v}=t,_={db:Je(Je({},g),c),auth:Je(Je({},b),u),realtime:Je(Je({},y),f),storage:{},global:Je(Je(Je({},v),m),{},{headers:Je(Je({},(r=v==null?void 0:v.headers)!==null&&r!==void 0?r:{}),(i=m==null?void 0:m.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return n.accessToken?_.accessToken=n.accessToken:delete _.accessToken,_}function Mw(n){const t=n==null?void 0:n.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Rw(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var zw=class extends yw{constructor(n){super(n)}},Uw=class{constructor(n,t,r){var i,c;this.supabaseUrl=n,this.supabaseKey=t;const u=Mw(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,m={db:jw,realtime:Sw,auth:Je(Je({},Nw),{},{storageKey:f}),global:_w},g=Dw(r??{},m);if(this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(c=g.global.headers)!==null&&c!==void 0?c:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var b;this.auth=this._initSupabaseAuthClient((b=g.auth)!==null&&b!==void 0?b:{},this.headers,g.global.fetch)}this.fetch=Cw(t,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Je({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new gy(new URL("rest/v1",u).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new hv(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new uy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,t,r;if(n.accessToken)return await n.accessToken();const{data:i}=await n.auth.getSession();return(t=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:c,storageKey:u,flowType:f,lock:m,debug:g,throwOnError:b},y,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zw({url:this.authUrl.href,headers:Je(Je({},_),y),storageKey:u,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:c,flowType:f,lock:m,debug:g,throwOnError:b,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Ry(this.realtimeUrl.href,Je(Je({},n),{},{params:Je(Je({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,t)=>{this._handleTokenChanged(n,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(n,t,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Lw=(n,t,r)=>new Uw(n,t,r);function qw(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const t=n.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}qw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Bw="https://rxzphenvgpbitltqrtjw.supabase.co",Iw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ4enBoZW52Z3BiaXRsdHFydGp3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg1MjIyMjIsImV4cCI6MjA4NDA5ODIyMn0.lyaCydU7VZnt4SdHGjmvZXsewtYzMqsA8AFIJAiWV5I",Tt=Lw(Bw,Iw),$w=({mode:n,step:t})=>o.jsxs("aside",{className:"hidden md:flex w-80 lg:w-96 flex-col bg-blue-900 relative overflow-hidden shrink-0 z-20 shadow-2xl p-8 justify-between",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900 to-indigo-900"}),o.jsx("div",{className:"absolute -top-24 -left-24 w-64 h-64 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),o.jsx("div",{className:"absolute -bottom-24 -right-24 w-64 h-64 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs(_e,{to:"/",className:"flex items-center gap-3 text-white mb-12 hover:opacity-80 transition-opacity",children:[o.jsx("span",{className:"material-symbols-outlined text-2xl",children:"school"}),o.jsx("span",{className:"font-bold text-xl",children:"TuTesisRD"})]}),n==="register"?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:`flex gap-4 items-center relative step-connector transition-all duration-300 ${t===1?"text-white font-bold opacity-100 scale-105":"text-white/50"}`,children:[o.jsx("div",{className:`size-10 rounded-full flex items-center justify-center font-bold transition-all ${t===1?"bg-white text-blue-900 shadow-lg":"border border-white/30"}`,children:t>1?o.jsx("span",{className:"material-symbols-outlined",children:"check"}):"1"}),o.jsx("span",{className:"text-lg",children:"Datos Personales"})]}),o.jsxs("div",{className:`flex gap-4 items-center relative step-connector transition-all duration-300 ${t===2?"text-white font-bold opacity-100 scale-105":"text-white/50"}`,children:[o.jsx("div",{className:`size-10 rounded-full flex items-center justify-center font-bold transition-all ${t===2?"bg-white text-blue-900 shadow-lg":"border border-white/30"}`,children:t>2?o.jsx("span",{className:"material-symbols-outlined",children:"check"}):"2"}),o.jsx("span",{className:"text-lg",children:"Detalles Proyecto"})]}),o.jsxs("div",{className:`flex gap-4 items-center relative transition-all duration-300 ${t===3?"text-white font-bold opacity-100 scale-105":"text-white/50"}`,children:[o.jsx("div",{className:`size-10 rounded-full flex items-center justify-center font-bold transition-all ${t===3?"bg-white text-blue-900 shadow-lg":"border border-white/30"}`,children:"3"}),o.jsx("span",{className:"text-lg",children:"Finalizar"})]})]}):o.jsxs("div",{className:"text-white",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Centro de Monitoreo"}),o.jsx("p",{className:"opacity-80",children:"Rastrea el progreso de tu tesis en tiempo real con tu cdigo nico."}),o.jsxs("div",{className:"mt-8 bg-white/10 p-4 rounded-xl backdrop-blur-sm border border-white/10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"material-symbols-outlined",children:"secure"}),o.jsx("span",{className:"font-bold",children:"Seguro y Privado"})]}),o.jsx("p",{className:"text-xs opacity-70",children:"Solo t tienes acceso a esta informacin mediante tu cdigo de rastreo."})]})]})]}),o.jsx("div",{className:"text-white/60 text-sm relative z-10",children:" 2023 TuTesisRD"})]}),Pw=({formData:n,handleInputChange:t,nextStep:r})=>o.jsxs("div",{className:"animate-fade-in-right",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-black mb-2 text-slate-900 dark:text-white",children:"Empecemos con tus datos"}),o.jsx("p",{className:"text-slate-500 mb-8",children:"Esta informacin nos permite contactarte directamente."}),o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Nombre"}),o.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"Tu nombre"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Apellido"}),o.jsx("input",{type:"text",name:"lastname",value:n.lastname,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"Tu apellido"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Correo Electrnico"}),o.jsx("input",{type:"email",name:"email",value:n.email,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"ejemplo@correo.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Telfono / WhatsApp"}),o.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"(809) 000-0000"})]})]}),o.jsxs("div",{className:"mt-10 flex flex-col-reverse md:flex-row justify-between items-center gap-4",children:[o.jsx(_e,{to:"/",className:"w-full md:w-auto py-3 text-center text-slate-500 hover:text-slate-800 font-medium",children:"Cancelar"}),o.jsxs("button",{onClick:r,className:"w-full md:w-auto px-8 py-4 bg-primary text-white rounded-xl font-bold hover:shadow-lg hover:bg-primary-dark transition-all transform hover:-translate-y-1 flex justify-center items-center",children:["Continuar ",o.jsx("span",{className:"material-icons text-sm ml-1",children:"arrow_forward"})]})]})]}),Hw=({formData:n,handleInputChange:t,setFormData:r,nextStep:i,prevStep:c})=>o.jsxs("div",{className:"animate-fade-in-right",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-black mb-2 text-slate-900 dark:text-white",children:"Detalles del Servicio"}),o.jsx("p",{className:"text-slate-500 mb-8",children:"Selecciona el nivel y la modalidad de trabajo acordada."}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Universidad"}),o.jsx("input",{type:"text",name:"university",value:n.university,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"Ej. UASD"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Carrera / Programa"}),o.jsx("input",{type:"text",name:"career",value:n.career,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"Ej. Derecho / Maestra en..."})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Tipo de Proyecto"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[{label:"Tesis de Grado",icon:"school"},{label:"Monogrfico",icon:"article"},{label:"Postgrado/Doctoral",icon:"psychology"},{label:"Tarea",icon:"assignment"},{label:"Artculo Cientfico",icon:"science"},{label:"Presentacin",icon:"co_present"}].map(u=>o.jsxs("div",{onClick:()=>r(f=>({...f,type:u.label})),className:`p-3 border-2 rounded-xl cursor-pointer relative shadow-sm transition-all text-center flex flex-col items-center justify-center gap-2 ${n.type===u.label?"border-primary bg-blue-50 dark:bg-primary/10":"border-slate-200 dark:border-slate-700 hover:border-primary"}`,children:[n.type===u.label&&o.jsx("div",{className:"absolute top-2 right-2 text-primary",children:o.jsx("span",{className:"material-symbols-outlined text-base",children:"check_circle"})}),o.jsx("span",{className:"material-icons text-2xl text-slate-400",children:u.icon}),o.jsx("span",{className:`font-bold text-xs sm:text-sm leading-tight ${n.type===u.label?"text-primary":"text-slate-700 dark:text-slate-300"}`,children:u.label})]},u.label))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Modalidad de Servicio"}),o.jsx("div",{className:"space-y-3",children:[{id:"asesoria",title:"Solo Asesora",desc:"Correcciones y gua metodolgica."},{id:"parcial",title:"Desarrollo Colaborativo",desc:"Usted investiga, nosotros redactamos (50/50)."},{id:"completo",title:"Desarrollo Integral",desc:"Elaboracin completa desde cero."}].map(u=>o.jsxs("div",{onClick:()=>r(f=>({...f,plan:u.id})),className:`p-4 border-2 rounded-xl cursor-pointer flex items-center gap-4 transition-all ${n.plan===u.id?"border-brand-orange bg-orange-50 dark:bg-orange-900/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[o.jsx("div",{className:`size-6 rounded-full border-2 flex items-center justify-center shrink-0 ${n.plan===u.id?"border-brand-orange":"border-slate-300"}`,children:n.plan===u.id&&o.jsx("div",{className:"size-3 rounded-full bg-brand-orange"})}),o.jsxs("div",{children:[o.jsx("div",{className:`font-bold ${n.plan===u.id?"text-brand-orange":"text-slate-800 dark:text-white"}`,children:u.title}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:u.desc})]})]},u.id))})]}),o.jsx("div",{className:"grid grid-cols-1 gap-5",children:o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Normativa"}),o.jsxs("select",{name:"normative",value:n.normative,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",children:[o.jsx("option",{children:"Normas APA (7ma)"}),o.jsx("option",{children:"Normas ISO"}),o.jsx("option",{children:"IEEE"}),o.jsx("option",{children:"Vancouver"})]})]})}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-xl border border-slate-200 dark:border-slate-700 space-y-6",children:[o.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[o.jsx("span",{className:"material-icons text-green-500",children:"payments"})," Detalles Financieros"]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[o.jsxs("div",{className:"sm:col-span-2",children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Fecha Pautada de Entrega"}),o.jsx("input",{type:"date",name:"dueDate",value:n.dueDate,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Monto Total Acordado (DOP)"}),o.jsx("input",{type:"number",name:"totalAmount",value:n.totalAmount,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-bold text-sm block mb-2 text-slate-700 dark:text-slate-300",children:"Monto Abonado (DOP)"}),o.jsx("input",{type:"number",name:"paidAmount",value:n.paidAmount,onChange:t,className:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none transition-shadow",placeholder:"0.00"})]})]}),n.totalAmount&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border border-slate-100 dark:border-slate-700 animate-fade-in",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm text-slate-500",children:"Monto Restante"}),o.jsxs("span",{className:"text-xl font-black text-slate-800 dark:text-white",children:["RD$ ",((parseFloat(n.totalAmount)||0)-(parseFloat(n.paidAmount)||0)).toLocaleString()]})]}),o.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-2.5",children:o.jsx("div",{className:"bg-brand-orange h-2.5 rounded-full transition-all duration-500",style:{width:`${Math.min(100,Math.max(0,(parseFloat(n.paidAmount)||0)/(parseFloat(n.totalAmount)||1)*100))}%`}})}),o.jsx("div",{className:"flex justify-end mt-1",children:o.jsxs("span",{className:"text-xs font-bold text-brand-orange",children:[Math.min(100,Math.max(0,(parseFloat(n.paidAmount)||0)/(parseFloat(n.totalAmount)||1)*100)).toFixed(1),"% Abonado"]})})]})]})]}),o.jsxs("div",{className:"mt-10 flex justify-between gap-4",children:[o.jsx("button",{onClick:c,className:"px-6 py-3 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 font-medium transition-colors",children:" Atrs"}),o.jsx("button",{onClick:i,className:"flex-1 md:flex-none px-8 py-3 bg-brand-orange text-white rounded-xl font-bold hover:shadow-lg hover:bg-orange-600 transition-all transform hover:-translate-y-1",children:"Siguiente"})]})]}),Gw=({isSubmitting:n,prevStep:t,submitRegistration:r})=>o.jsxs("div",{className:"animate-fade-in-right",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-black mb-2 text-slate-900 dark:text-white",children:"Sube tus Archivos"}),o.jsx("p",{className:"text-slate-500 mb-8",children:"Si tienes documentos previos, sbelos aqu. (Opcional)"}),o.jsx("div",{className:"grid grid-cols-1 gap-4 mb-8",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"font-bold text-slate-700 dark:text-white flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-slate-200 dark:bg-slate-700 text-xs flex items-center justify-center",children:"1"})," Anteproyecto"]}),o.jsxs("div",{className:"h-32 border-2 border-dashed border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-800/50 rounded-xl flex flex-col items-center justify-center text-center p-4 cursor-pointer hover:bg-white dark:hover:bg-slate-800 hover:border-brand-orange dark:hover:border-brand-orange transition-all group",children:[o.jsx("span",{className:"material-icons text-3xl text-slate-400 group-hover:text-brand-orange mb-1 transition-colors",children:"cloud_upload"}),o.jsx("span",{className:"text-sm font-bold text-slate-600 dark:text-slate-300 group-hover:text-brand-orange",children:"Subir PDF"})]})]})}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl items-start gap-3 flex mb-8",children:[o.jsx("span",{className:"material-icons text-blue-500 shrink-0",children:"info"}),o.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Si no tienes los archivos a mano, puedes continuar y enviarlos luego por WhatsApp a tu asesor asignado."})]}),o.jsxs("div",{className:"mt-10 flex flex-col-reverse md:flex-row justify-between gap-4",children:[o.jsx("button",{onClick:t,className:"w-full md:w-auto py-3 text-center rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400 font-medium transition-colors",children:" Atrs"}),o.jsx("button",{onClick:r,disabled:n,className:"w-full md:w-auto px-8 py-4 bg-[#10b981] text-white rounded-xl font-bold hover:shadow-lg hover:bg-[#059669] transition-all transform hover:-translate-y-1 flex justify-center items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:n?o.jsxs(o.Fragment,{children:["Processing ",o.jsx("span",{className:"material-icons animate-spin",children:"sync"})]}):o.jsxs(o.Fragment,{children:["Finalizar Registro ",o.jsx("span",{className:"material-icons",children:"check_circle"})]})})]})]}),Vw=({onSearch:n,searchResult:t})=>{const[r,i]=ie.useState(""),c=u=>{u.preventDefault(),n(r)};return o.jsxs("div",{className:"animate-fade-in-up",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-black mb-2 text-slate-900 dark:text-white",children:"Rastrea tu Proyecto"}),o.jsx("p",{className:"text-slate-500 mb-8",children:"Ingresa el cdigo proporcionado al momento del registro."}),o.jsx("form",{onSubmit:c,className:"mb-10",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsx("input",{type:"text",value:r,onChange:u=>i(u.target.value.toUpperCase()),className:"flex-1 p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none uppercase tracking-widest font-bold placeholder:normal-case placeholder:tracking-normal w-full",placeholder:"Ej. TRX-8492"}),o.jsx("button",{type:"submit",className:"bg-brand-orange text-white px-8 py-4 rounded-xl font-bold hover:bg-orange-600 transition-colors shadow-lg shadow-orange-500/30 w-full md:w-auto",children:"Buscar"})]})}),t&&o.jsxs("div",{className:"bg-white dark:bg-[#1a2230] rounded-2xl p-6 border border-slate-200 dark:border-slate-700 shadow-xl animate-fade-in mb-8",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsxs("div",{children:[o.jsx("span",{className:"inline-block px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-bold mb-2",children:t.status}),o.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white line-clamp-2",children:["Tesis: ",t.university]}),o.jsx("p",{className:"text-sm text-slate-500",children:t.type})]}),o.jsxs("div",{className:"text-right shrink-0 ml-4",children:[o.jsx("div",{className:"text-xs text-slate-400",children:"ltima actualizacin"}),o.jsx("div",{className:"font-medium text-slate-700 dark:text-slate-300",children:t.lastUpdate})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:"Progreso General"}),o.jsxs("span",{className:"text-brand-orange font-bold",children:[t.progress,"%"]})]}),o.jsx("div",{className:"h-3 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-brand-orange rounded-full",style:{width:`${t.progress}%`}})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[o.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Asesor Asignado"}),o.jsx("div",{className:"font-bold text-slate-800 dark:text-white truncate",children:t.advisor})]}),o.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[o.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Prxima Entrega"}),o.jsx("div",{className:"font-bold text-slate-800 dark:text-white truncate",children:"Captulo 1"})]})]})]})]}),o.jsx("div",{className:"text-center",children:o.jsxs(_e,{to:"/",className:"inline-flex items-center text-slate-500 hover:text-brand-orange font-medium transition-colors",children:[o.jsx("span",{className:"material-icons mr-2",children:"arrow_back"})," Volver al inicio"]})})]})},F0=({initialMode:n})=>{const t=od(),r=cd(),[i,c]=ie.useState("register"),[u,f]=ie.useState(1),[m,g]=ie.useState(!1),[b,y]=ie.useState({name:"",lastname:"",email:"",phone:"",university:"",normative:"Normas APA (7ma)",totalAmount:"",paidAmount:"",dueDate:"",career:"",type:"Tesis de Grado",plan:"asesoria"}),[v,_]=ie.useState(null),[N,T]=ie.useState(null),R=(ee,J="error")=>{_({message:ee,type:J}),setTimeout(()=>_(null),3e3)},U=async()=>{g(!0);try{const{data:ee,error:J}=await Tt.from("students").insert([{name:b.name,lastname:b.lastname,email:b.email,phone:b.phone,university:b.university,career:b.career}]).select().single();if(J)throw J;const{data:le,error:oe}=await Tt.from("projects").insert([{student_id:ee.id,type:b.type,description:`Plan: ${b.plan}, Normative: ${b.normative}`,total_amount:parseFloat(b.totalAmount)||0,paid_amount:parseFloat(b.paidAmount)||0,due_date:b.dueDate||null,status:"pending"}]).select("tracking_code").single();if(oe)throw oe;r("/student/success",{state:{trackingCode:le.tracking_code}})}catch(ee){console.error("Registration Error:",ee),R(ee.message||"Hubo un error al registrar el proyecto.","error")}finally{g(!1)}},L=ee=>{const{name:J,value:le}=ee.target;y(oe=>({...oe,[J]:le}))};ie.useEffect(()=>{const ee=new URLSearchParams(t.search);n?c(n):ee.get("mode")==="monitor"&&c("monitor")},[t,n]);const B=async ee=>{var le;if(!ee.trim())return;const J=ee.trim().toUpperCase();try{const{data:oe,error:Q}=await Tt.from("projects").select(`
                    *,
                    students (
                        university,
                        career,
                        name,
                        lastname
                    )
                `).eq("tracking_code",J).single();if(Q)throw Q;oe?T({status:oe.status==="pending"?"Pendiente":oe.status==="assigned"?"Asignado":oe.status==="in_progress"?"En Progreso":oe.status,university:((le=oe.students)==null?void 0:le.university)||"N/A",type:oe.type,progress:oe.paid_amount&&oe.total_amount?Math.round(oe.paid_amount/oe.total_amount*100):0,advisor:"Por asignar",lastUpdate:new Date(oe.created_at).toLocaleDateString()}):(R("No se encontr ningn proyecto con este cdigo.","error"),T(null))}catch(oe){console.error(oe),R("No se encontr ningn proyecto con este cdigo.","error"),T(null)}},q=()=>{if(u===1&&(!b.name||!b.lastname||!b.email||!b.phone)){R("Por favor completa todos los campos personales.");return}if(u===2&&(!b.university||!b.career||!b.totalAmount)){R("Por favor completa los detalles del proyecto.");return}f(ee=>ee+1)},V=()=>f(ee=>ee-1);return o.jsxs("div",{className:"flex h-screen w-full font-display bg-background-light dark:bg-background-dark text-slate-800 dark:text-white transition-colors duration-200",children:[v&&o.jsx("div",{className:"fixed top-20 right-4 z-[100] animate-fade-in-down",children:o.jsxs("div",{className:`px-6 py-4 rounded-xl shadow-2xl flex items-center gap-3 backdrop-blur-md border ${v.type==="error"?"bg-red-500/90 text-white border-red-400":"bg-green-500/90 text-white border-green-400"}`,children:[o.jsx("div",{className:`p-1 rounded-full ${v.type==="error","bg-white/20"}`,children:o.jsx("span",{className:"material-symbols-outlined text-lg block",children:v.type==="error"?"priority_high":"check"})}),o.jsx("span",{className:"font-bold text-sm shadow-sm",children:v.message})]})}),o.jsx($w,{mode:i,step:u}),o.jsxs("main",{className:"flex-1 overflow-y-auto w-full bg-white dark:bg-slate-900 md:bg-transparent transition-colors custom-scrollbar relative",children:[o.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 border-b border-slate-100 dark:border-slate-800 bg-white/90 dark:bg-slate-900/90 backdrop-blur-sm sticky top-0 z-30",children:[o.jsxs(_e,{to:"/",className:"flex items-center gap-2 text-slate-900 dark:text-white font-bold",children:[o.jsx("span",{className:"material-symbols-outlined text-brand-orange",children:"school"}),o.jsxs("span",{children:["TuTesis",o.jsx("span",{className:"text-brand-orange",children:"RD"})]})]}),i==="register"&&o.jsxs("div",{className:"text-xs font-bold px-3 py-1 bg-slate-100 dark:bg-slate-800 rounded-full text-slate-600 dark:text-slate-400",children:["Paso ",u," de 3"]})]}),o.jsxs("div",{className:"p-4 md:p-8 lg:p-16 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-8 w-full md:w-fit mx-auto md:mx-0 shadow-inner",children:[o.jsx("button",{onClick:()=>c("register"),className:`flex-1 md:flex-none px-4 md:px-6 py-3 rounded-lg text-sm font-bold transition-all ${i==="register"?"bg-white dark:bg-slate-700 text-primary shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Registrar"}),o.jsx("button",{onClick:()=>c("monitor"),className:`flex-1 md:flex-none px-4 md:px-6 py-3 rounded-lg text-sm font-bold transition-all ${i==="monitor"?"bg-white dark:bg-slate-700 text-primary shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Monitorear"})]}),i==="register"?o.jsxs(o.Fragment,{children:[u===1&&o.jsx(Pw,{formData:b,handleInputChange:L,nextStep:q}),u===2&&o.jsx(Hw,{formData:b,handleInputChange:L,setFormData:y,nextStep:q,prevStep:V}),u===3&&o.jsx(Gw,{isSubmitting:m,prevStep:V,submitRegistration:U})]}):o.jsx(Vw,{onSearch:B,searchResult:N})]})]})]})};var Ll={},ql={},W0;function Zw(){if(W0)return ql;W0=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.confetti=m;var n=["#a864fd","#29cdff","#78ff44","#ff718d","#fdff6a"];function t(g,b,y,v,_){return Array.from({length:b}).map(function(N,T){var R=document.createElement("div"),U=y[T%y.length];return R.style["background-color"]=U,R.style.width=v,R.style.height=_,R.style.position="absolute",R.style.willChange="transform, opacity",R.style.visibility="hidden",g.appendChild(R),R})}function r(g,b,y,v){var _=g*(Math.PI/180),N=b*(Math.PI/180);return{x:0,y:0,z:0,wobble:v()*10,wobbleSpeed:.1+v()*.1,velocity:y*.5+v()*y,angle2D:-_+(.5*N-v()*N),angle3D:-(Math.PI/4)+v()*(Math.PI/2),tiltAngle:v()*Math.PI,tiltAngleSpeed:.1+v()*.3}}function i(g,b,y,v){g.physics.x+=Math.cos(g.physics.angle2D)*g.physics.velocity,g.physics.y+=Math.sin(g.physics.angle2D)*g.physics.velocity,g.physics.z+=Math.sin(g.physics.angle3D)*g.physics.velocity,g.physics.wobble+=g.physics.wobbleSpeed,v?g.physics.velocity*=v:g.physics.velocity-=g.physics.velocity*y,g.physics.y+=3,g.physics.tiltAngle+=g.physics.tiltAngleSpeed;var _=g.physics,N=_.x,T=_.y,R=_.z,U=_.tiltAngle,L=_.wobble,B=N+10*Math.cos(L),q=T+10*Math.sin(L),V="translate3d("+B+"px, "+q+"px, "+R+"px) rotate3d(1, 1, 1, "+U+"rad)";g.element.style.visibility="visible",g.element.style.transform=V,g.element.style.opacity=1-b}function c(g,b,y,v,_,N){var T=void 0;return new Promise(function(R){function U(L){T||(T=L);var B=L-T,q=T===L?0:(L-T)/_;b.slice(0,Math.ceil(B/N)).forEach(function(V){i(V,q,y,v)}),L-T<_?requestAnimationFrame(U):(b.forEach(function(V){if(V.element.parentNode===g)return g.removeChild(V.element)}),R())}requestAnimationFrame(U)})}var u={angle:90,spread:45,startVelocity:45,elementCount:50,width:"10px",height:"10px",perspective:"",colors:n,duration:3e3,stagger:0,dragFriction:.1,random:Math.random};function f(g){return!g.stagger&&g.delay&&(g.stagger=g.delay),g}function m(g){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=Object.assign({},u,f(b)),v=y.elementCount,_=y.colors,N=y.width,T=y.height,R=y.perspective,U=y.angle,L=y.spread,B=y.startVelocity,q=y.decay,V=y.dragFriction,ee=y.duration,J=y.stagger,le=y.random;g.style.perspective=R;var oe=t(g,v,_,N,T),Q=oe.map(function(qe){return{element:qe,physics:r(U,L,B,le)}});return c(g,Q,V,q,ee,J)}return ql}var eg;function Yw(){if(eg)return Ll;eg=1,Object.defineProperty(Ll,"__esModule",{value:!0});var n=(function(){function y(v,_){for(var N=0;N<_.length;N++){var T=_[N];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,_,N){return _&&y(v.prototype,_),N&&y(v,N),v}})(),t=jg(),r=c(t),i=Zw();function c(y){return y&&y.__esModule?y:{default:y}}function u(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function f(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var g={position:"relative"},b=(function(y){m(v,y);function v(_){u(this,v);var N=f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,_));return N.setRef=N.setRef.bind(N),N}return n(v,[{key:"componentDidUpdate",value:function(N){!N.active&&this.props.active&&(0,i.confetti)(this.container,this.props.config)}},{key:"setRef",value:function(N){this.container=N}},{key:"render",value:function(){return r.default.createElement("div",{className:this.props.className,style:g,ref:this.setRef})}}]),v})(t.Component);return Ll.default=b,Ll}var Kw=Yw();const Jw=ld(Kw),Xw=()=>{var g;const n=od(),[t,r]=Ws.useState(!1),i=((g=n.state)==null?void 0:g.trackingCode)||"TRX-PENDING";Ws.useEffect(()=>{r(!0)},[]);const[c,u]=Ws.useState(!1),f=()=>{navigator.clipboard.writeText(i),u(!0),setTimeout(()=>u(!1),2e3)},m={angle:90,spread:360,startVelocity:40,elementCount:70,dragFriction:.12,duration:3e3,stagger:3,width:"10px",height:"10px",perspective:"500px",colors:["#a864fd","#29cdff","#78ff44","#ff718d","#fdff6a"]};return o.jsxs("div",{className:"min-h-screen bg-blue-50 dark:bg-[#101922] flex items-center justify-center p-4 font-display transition-colors duration-200",children:[o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none",children:o.jsx(Jw,{active:t,config:m})}),o.jsxs("div",{className:"bg-white dark:bg-[#1a2230] max-w-lg w-full rounded-2xl shadow-2xl overflow-hidden text-center animate-slide-up border border-slate-100 dark:border-slate-800",children:[o.jsxs("div",{className:"pt-10 pb-6 px-8 relative",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-green-400 to-primary"}),o.jsx("div",{className:"size-24 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center text-green-500 mx-auto mb-6 shadow-xl shadow-green-200 dark:shadow-none animate-[bounce_1s_infinite]",children:o.jsx("span",{className:"material-symbols-outlined text-6xl",children:"check_circle"})}),o.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white mb-2",children:"Registro Completado!"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Tu cuenta ha sido creada y tu proyecto registrado exitosamente en la plataforma."})]}),o.jsx("div",{className:"px-8 pb-4",children:o.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 rounded-xl border border-dashed border-slate-300 dark:border-slate-600",children:[o.jsx("p",{className:"text-xs text-slate-500 mb-1 font-bold uppercase tracking-wider",children:"Tu Cdigo de Rastreo"}),o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("span",{className:"text-2xl font-mono font-black text-brand-orange tracking-widest",children:i}),o.jsxs("button",{onClick:f,className:"text-slate-400 hover:text-slate-600 dark:hover:text-white transition-colors relative",title:"Copiar",children:[o.jsx("span",{className:"material-symbols-outlined text-lg",children:c?"check":"content_copy"}),c&&o.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] px-2 py-1 rounded shadow-lg",children:"Copiado!"})]})]}),o.jsx("p",{className:"text-[10px] text-slate-400 mt-2",children:"Guarda este cdigo para monitorear el estado de tu proyecto."})]})}),o.jsxs("div",{className:"bg-slate-50 dark:bg-[#151e29] p-8 text-left space-y-6",children:[o.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest border-b border-slate-200 dark:border-slate-700 pb-2",children:"Prximos Pasos"}),o.jsxs("div",{className:"flex gap-4 group",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"size-8 rounded-full bg-blue-100 dark:bg-blue-900/50 text-primary flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx("span",{className:"material-symbols-outlined text-sm",children:"hourglass_top"})}),o.jsx("div",{className:"w-0.5 h-full bg-slate-200 dark:bg-slate-700 my-1"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Asignacin de Asesor"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Un experto validar tu tema en 24h."})]})]}),o.jsxs("div",{className:"flex gap-4 group",children:[o.jsx("div",{className:"flex flex-col items-center",children:o.jsx("div",{className:"size-8 rounded-full bg-green-100 dark:bg-green-900/50 text-green-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx("span",{className:"material-symbols-outlined text-sm",children:"rocket_launch"})})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Inicio del Proyecto"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Comenzaremos a trabajar segn lo acordado."})]})]})]}),o.jsx("div",{className:"p-6",children:o.jsxs(_e,{to:"/monitoreo",className:"block w-full py-4 bg-primary text-white font-bold rounded-xl hover:bg-blue-600 hover:shadow-lg hover:shadow-blue-500/30 transition-all flex items-center justify-center gap-2",children:[o.jsx("span",{className:"material-icons",children:"travel_explore"})," Monitorear mi Proyecto"]})})]})]})},Pt=({children:n,variant:t="primary",size:r="md",isLoading:i=!1,leftIcon:c,rightIcon:u,className:f="",disabled:m,...g})=>{const b="inline-flex items-center justify-center font-bold transition-all duration-300 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",y={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},v={primary:"bg-brand-orange text-white hover:bg-brand-600 shadow-lg shadow-brand-orange/20 hover:shadow-brand-orange/40 focus:ring-brand-orange/50",secondary:"bg-white dark:bg-slate-800 text-slate-900 dark:text-white border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-slate-700 focus:ring-gray-200",outline:"bg-transparent border-2 border-brand-orange text-brand-orange hover:bg-brand-orange/10 focus:ring-brand-orange/50",ghost:"bg-transparent text-slate-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-white/10 hover:text-brand-orange focus:ring-gray-200",glass:"bg-white/70 dark:bg-black/40 text-slate-900 dark:text-white backdrop-blur-md border border-white/20 hover:bg-white/90 dark:hover:bg-black/60 shadow-glass hover:shadow-glass-sm",gradient:"bg-gradient-to-r from-brand-orange to-amber-500 text-white shadow-glow hover:shadow-glow-lg hover:brightness-110 border-none"};return o.jsxs("button",{className:`${b} ${y[r]} ${v[t]} ${f} ${i?"cursor-wait":""}`,disabled:m||i,...g,children:[i&&o.jsx("span",{className:"material-icons animate-spin mr-2 text-sm",children:"autorenew"}),!i&&c&&o.jsx("span",{className:"mr-2 flex items-center",children:c}),n,!i&&u&&o.jsx("span",{className:"ml-2 flex items-center",children:u})]})},en=({children:n,variant:t="default",hoverEffect:r=!1,className:i="",...c})=>{const u="rounded-3xl transition-all duration-300 overflow-hidden",f=r?"hover:-translate-y-1 hover:shadow-xl":"",m={default:"bg-white dark:bg-surface-dark border border-gray-100 dark:border-white/5 shadow-sm",glass:"bg-white/70 dark:bg-black/40 backdrop-blur-xl border border-white/20 shadow-glass",gradient:"bg-gradient-to-br from-brand-orange to-red-500 text-white shadow-glow-lg",outline:"bg-transparent border-2 border-gray-200 dark:border-gray-700 text-slate-900 dark:text-white"};return o.jsx("div",{className:`${u} ${m[t]} ${f} ${i}`,...c,children:n})},Bl=({label:n,error:t,icon:r,className:i="",id:c,...u})=>o.jsxs("div",{className:"w-full",children:[n&&o.jsx("label",{htmlFor:c,className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 ml-1",children:n}),o.jsxs("div",{className:"relative",children:[r&&o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",children:r}),o.jsx("input",{id:c,className:`
                        w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-800/50 
                        border font-medium text-slate-900 dark:text-white placeholder-slate-400
                        transition-all duration-200
                        focus:outline-none focus:ring-2 focus:ring-brand-orange/20 focus:border-brand-orange
                        disabled:opacity-50 disabled:cursor-not-allowed
                        ${r?"pl-12":""}
                        ${t?"border-red-500 focus:ring-red-200 focus:border-red-500":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}
                        ${i}
                    `,...u})]}),t&&o.jsx("p",{className:"mt-1 ml-1 text-sm text-red-500 font-medium animate-fade-in",children:t})]}),Qw=()=>{const[n,t]=ie.useState("colors");return o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-900 dark:text-white transition-colors duration-300",children:[o.jsx(_s,{title:"Design System",description:"TuTesisRD Design System & UI Kit"}),o.jsx(Ss,{}),o.jsxs("div",{className:"container mx-auto px-6 pt-32 pb-20",children:[o.jsxs("header",{className:"mb-16 text-center",children:[o.jsx("div",{className:"inline-block p-1 px-3 rounded-full bg-brand-orange/10 text-brand-orange text-xs font-bold uppercase tracking-wider mb-4 animate-fade-in",children:"UI/UX Pro Max"}),o.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-4 animate-fade-in-up",children:"Sistema de Diseo"}),o.jsx("p",{className:"text-xl text-slate-500 max-w-2xl mx-auto animate-slide-up",children:"Documentacin viva de tokens, componentes y patrones de diseo."})]}),o.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-16 animate-fade-in",style:{animationDelay:"0.2s"},children:["colors","typography","components","effects"].map(r=>o.jsx("button",{onClick:()=>t(r),className:`px-6 py-2 rounded-full font-bold transition-all ${n===r?"bg-brand-orange text-white shadow-lg shadow-brand-orange/30 scale-105":"bg-white dark:bg-white/5 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-white/10"}`,children:r.charAt(0).toUpperCase()+r.slice(1)},r))}),o.jsxs("div",{className:"animate-fade-in-up",style:{animationDelay:"0.3s"},children:[n==="colors"&&o.jsxs("div",{className:"space-y-12",children:[o.jsxs("section",{children:[o.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[o.jsx("span",{className:"material-icons text-brand-orange",children:"palette"})," Brand Colors"]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-50 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-brand-950",children:"50"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-100 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-brand-950",children:"100"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-200 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-brand-950",children:"200"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-300 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-brand-950",children:"300"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-400 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"400"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-500 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"500"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-600 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"600"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-700 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"700"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-800 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"800"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-900 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"900"})}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"h-24 bg-brand-950 rounded-2xl shadow-sm flex items-center justify-center text-xs font-bold text-white",children:"950"})})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Neutral Palette"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[o.jsxs("div",{className:"p-4 bg-background-light rounded-xl border border-gray-200",children:[o.jsx("div",{className:"text-sm font-bold",children:"Background Light"}),o.jsx("div",{className:"text-xs text-slate-500",children:"bg-background-light"})]}),o.jsxs("div",{className:"p-4 bg-background-dark text-white rounded-xl border border-gray-800",children:[o.jsx("div",{className:"text-sm font-bold",children:"Background Dark"}),o.jsx("div",{className:"text-xs text-slate-400",children:"bg-background-dark"})]})]})]})]}),n==="typography"&&o.jsx("div",{className:"space-y-12 max-w-4xl mx-auto",children:o.jsxs("section",{className:"space-y-8",children:[o.jsxs("div",{className:"border-l-4 border-brand-orange pl-6",children:[o.jsx("h1",{className:"text-6xl font-black mb-4",children:"Heading 1"}),o.jsx("p",{className:"text-slate-500",children:"Outfit / Black / 60px"})]}),o.jsxs("div",{className:"border-l-4 border-brand-400 pl-6",children:[o.jsx("h2",{className:"text-5xl font-bold mb-4",children:"Heading 2"}),o.jsx("p",{className:"text-slate-500",children:"Outfit / Bold / 48px"})]}),o.jsxs("div",{className:"border-l-4 border-brand-300 pl-6",children:[o.jsx("h3",{className:"text-3xl font-bold mb-4",children:"Heading 3"}),o.jsx("p",{className:"text-slate-500",children:"Outfit / Bold / 30px"})]}),o.jsx("div",{className:"p-6 bg-surface-light dark:bg-surface-dark rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800",children:o.jsx("p",{className:"text-lg leading-relaxed text-slate-600 dark:text-slate-300",children:"Body Text (Leading Relaxed). Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."})})]})}),n==="components"&&o.jsxs("div",{className:"space-y-12",children:[o.jsxs("section",{children:[o.jsx("h3",{className:"text-xl font-bold mb-6",children:"Buttons"}),o.jsxs("div",{className:"flex flex-wrap gap-4 items-center p-8 bg-surface-light dark:bg-surface-dark rounded-3xl border border-gray-100 dark:border-gray-800",children:[o.jsx(Pt,{variant:"primary",children:"Primary Application"}),o.jsx(Pt,{variant:"secondary",children:"Secondary Action"}),o.jsx(Pt,{variant:"outline",children:"Outline"}),o.jsx(Pt,{variant:"ghost",children:"Ghost Option"}),o.jsx(Pt,{variant:"glass",children:"Glass Button"}),o.jsx(Pt,{variant:"gradient",rightIcon:o.jsx("span",{className:"material-icons text-sm",children:"arrow_forward"}),children:"Get Started"}),o.jsx(Pt,{variant:"primary",isLoading:!0,children:"Loading"}),o.jsx(Pt,{variant:"secondary",className:"rounded-full w-12 h-12 !p-0 flex items-center justify-center",children:o.jsx("span",{className:"material-icons",children:"add"})})]})]}),o.jsxs("section",{children:[o.jsx("h3",{className:"text-xl font-bold mb-6",children:"Inputs"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6 p-8 bg-surface-light dark:bg-surface-dark rounded-3xl border border-gray-100 dark:border-gray-800",children:[o.jsx(Bl,{label:"Full Name",placeholder:"e.g. Juan Perez"}),o.jsx(Bl,{label:"Email Address",type:"email",placeholder:"juan@example.com",icon:o.jsx("span",{className:"material-icons",children:"email"})}),o.jsx(Bl,{label:"Password",type:"password",error:"Password must be at least 8 characters"}),o.jsx(Bl,{label:"Search",placeholder:"Search...",className:"rounded-full",icon:o.jsx("span",{className:"material-icons",children:"search"})})]})]}),o.jsxs("section",{children:[o.jsx("h3",{className:"text-xl font-bold mb-6",children:"Glassmorphic Cards"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs(en,{variant:"glass",className:"p-8",children:[o.jsx("h4",{className:"text-xl font-bold mb-2",children:"Glass Card"}),o.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["This component uses ",o.jsx("code",{children:'variant="glass"'}),". Perfect for overlaying on complex backgrounds."]}),o.jsx(Pt,{variant:"outline",size:"sm",className:"mt-4",children:"Learn More"})]}),o.jsxs(en,{variant:"gradient",className:"p-8 relative group",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl group-hover:bg-white/20 transition-all"}),o.jsx("h4",{className:"text-xl font-bold mb-2",children:"Gradient Card"}),o.jsx("p",{className:"text-white/90",children:"High emphasis card for call-to-actions. Uses brand gradient tokens."})]}),o.jsxs(en,{variant:"default",hoverEffect:!0,className:"p-8",children:[o.jsx("h4",{className:"text-xl font-bold mb-2",children:"Default Interactive"}),o.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["Standard card with ",o.jsx("code",{children:"hoverEffect"})," enabled. Smooth lift on hover."]})]})]})]})]}),n==="effects"&&o.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[o.jsx("div",{className:"p-8 rounded-3xl bg-white dark:bg-surface-dark shadow-glow flex flex-col items-center justify-center aspect-square animate-float",children:o.jsx("span",{className:"font-bold",children:"Floating & Glow"})}),o.jsxs("div",{className:"p-8 rounded-3xl bg-white dark:bg-surface-dark shadow-glass-sm flex flex-col items-center justify-center aspect-square",children:[o.jsx("div",{className:"w-16 h-16 bg-brand-orange rounded-full animate-pulse-slow"}),o.jsx("span",{className:"font-bold mt-4",children:"Pulse Slow"})]}),o.jsxs("div",{className:"p-8 rounded-3xl bg-white dark:bg-surface-dark shadow-sm flex flex-col items-center justify-center aspect-square overflow-hidden relative",children:[o.jsx("div",{className:"absolute inset-0 bg-brand-orange/5 animate-fade-in"}),o.jsx("span",{className:"font-bold z-10",children:"Fade In"})]})]})]})]}),o.jsx(ks,{})]})},eo=[{id:"uasd",name:"Universidad Autnoma de Santo Domingo (UASD)",shortName:"UASD",color:"#003366",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Escudo_de_la_UASD.svg/1200px-Escudo_de_la_UASD.svg.png",description:"Expertos en Monogrficos, Tesis de Grado y Postgrado para la Primada de Amrica.",regulations:{style:"APA 7ma Edicin",minPages:80,maxPages:150},tips:["Asegrate de revisar el Reglamento de Tesis v2024 de la Facultad de Humanidades si eres de esa rea.","El formato de mrgenes en la UASD suele ser de 3cm a la izquierda y 2.5cm en los dems lados.","Recuerda que el ndice debe generarse automticamente."],programs:["Derecho","Psicologa","Medicina","Ingeniera","Contabilidad"]},{id:"pucmm",name:"Pontificia Universidad Catlica Madre y Maestra (PUCMM)",shortName:"PUCMM",color:"#00539B",logo:"https://upload.wikimedia.org/wikipedia/en/thumb/8/84/PUCMM_Logo.svg/1200px-PUCMM_Logo.svg.png",description:"Normativa rigurosa y calidad acadmica. Te ayudamos con tu Proyecto de Grado o Tesis Doctoral.",regulations:{style:"APA 7ma Edicin (Adaptado)",minPages:60,maxPages:200},tips:["La PUCMM es estricta con el anti-plagio (Turnitin). Mantn tu porcentaje por debajo del 20%.","Usa la plantilla oficial de la biblioteca para la portada y hoja de aprobacin.","Las citas deben ser estrictas, sin parafraseo excesivo."],programs:["Negocios","Ingeniera Industrial","Arquitectura","Comunicacin"]},{id:"intec",name:"Instituto Tecnolgico de Santo Domingo (INTEC)",shortName:"INTEC",color:"#E31837",logo:"https://upload.wikimedia.org/wikipedia/commons/9/98/Logo_INTEC.png",description:"Innovacin y Ciencia. Asesora especializada para proyectos de ingeniera y tcnicos.",regulations:{style:"IEEE / APA",minPages:50,maxPages:120},tips:["Para Ingeniera, el formato IEEE es obligatorio en bibliografa.","Enfcate mucho en la metodologa y los resultados empricos.","La presentacin final (PowerPoint) es tan importante como el documento."],programs:["Ingeniera de Software","Ciberseguridad","Ingeniera Civil","Medicina"]},{id:"unibe",name:"Universidad Iberoamericana (UNIBE)",shortName:"UNIBE",color:"#002855",logo:"https://www.unibe.edu.do/wp-content/uploads/2019/10/logo_unibe_web.png",description:"Liderazgo y Emprendimiento. Potencia tu trabajo final con nuestra asesora personalizada.",regulations:{style:"APA 7ma",minPages:70,maxPages:150},tips:["La creatividad en la defensa es valorada.","Revisa bien los requisitos de ingls si tu tesis es bilinge."],programs:["Mercadeo","Odontologa","Psicologa","Derecho"]},{id:"oym",name:"Universidad O&M",shortName:"O&M",color:"#FFC72C",logo:"https://udoym.edu.do/wp-content/uploads/2020/07/Logo-OM-1.png",description:"Saber y Pensar. Asesora prctica para monogrficos y cursos de grado.",regulations:{style:"APA 6ta/7ma",minPages:40,maxPages:100},tips:["Sigue al pie de la letra la estructura que te da el asesor metodolgico.","La O&M suele requerir encuadernado en colores especficos por carrera."],programs:["Ingeniera de Sistemas","Contabilidad","Turismo","Educacin"]},{id:"unphu",name:"Universidad Nacional Pedro Henrquez Urea (UNPHU)",shortName:"UNPHU",color:"#006837",logo:"https://unphu.edu.do/wp-content/uploads/2020/06/Logo-UNPHU-Vertical.png",description:"Excelencia Acadmica. Te apoyamos en tu tesis de Arquitectura, Medicina y ms.",regulations:{style:"APA / Vancouver",minPages:70,maxPages:160},tips:["En Medicina, el sistema Vancouver es el estndar. Consltalo siempre.","La UNPHU tiene un manual de tesis propio que complementa a APA."],programs:["Arquitectura","Medicina","Veterinaria","Educacin"]}],Hg=ie.createContext(void 0),Fw=({children:n})=>{const[t,r]=ie.useState({id:"",content:"",title:"Mi Tesis"}),[i,c]=ie.useState(()=>{if(typeof window>"u")return null;const g=localStorage.getItem("tutesis_uploaded_file");return g?JSON.parse(g):null}),[u,f]=ie.useState(null),m=async g=>{const b=localStorage.getItem("tutesis_project_uuid");if(!g){console.log("[ProjectContext] No session. Initializing Mode."),r(b==="offline-demo"||!b?{id:"offline-demo",title:"Mi Tesis (Offline)",content:""}:{id:"offline-demo",title:"Mi Tesis (Offline)",content:""});return}let y="",v=null;if(b&&b!=="offline-demo"){const{data:_}=await Tt.from("scholar_projects").select("*").eq("id",b).single();if(_){if(g&&!_.owner_id){const{error:N}=await Tt.from("scholar_projects").update({owner_id:g.user.id}).eq("id",b);N||(console.log("Project claimed by user:",b),_.owner_id=g.user.id)}y=_.id,v=_}}if(!y){const{data:_}=await Tt.from("scholar_projects").select("*").eq("owner_id",g.user.id).order("created_at",{ascending:!1}).limit(1).single();_&&(y=_.id,v=_,localStorage.setItem("tutesis_project_uuid",_.id))}if(!y){const{data:_,error:N}=await Tt.from("scholar_projects").insert({title:"Nuevo Proyecto",content:"",owner_id:g.user.id}).select().single();if(_&&!N)y=_.id,v=_,localStorage.setItem("tutesis_project_uuid",_.id);else{console.error("Failed to create project",N),r(T=>({...T,id:"offline-demo"}));return}}r({id:y,title:v.title||"Mi Tesis",content:v.content||"",owner_id:v.owner_id})};return Ws.useEffect(()=>{Tt.auth.getSession().then(({data:{session:b}})=>{f(b),b||m(null)});const{data:{subscription:g}}=Tt.auth.onAuthStateChange(async(b,y)=>{f(y),await m(y)});return()=>g.unsubscribe()},[]),Ws.useEffect(()=>{i?localStorage.setItem("tutesis_uploaded_file",JSON.stringify(i)):localStorage.removeItem("tutesis_uploaded_file")},[i]),o.jsx(Hg.Provider,{value:{project:t,setProject:r,uploadedFile:i,setUploadedFile:c,universities:eo,session:u},children:n})},pd=()=>{const n=ie.useContext(Hg);if(!n)throw new Error("useProject must be used within a ProjectProvider");return n},Gg=ie.createContext(void 0),Ww=({children:n})=>{const[t,r]=ie.useState(null),i=(c,u="info")=>{r({message:c,type:u}),setTimeout(()=>r(null),3e3)};return o.jsxs(Gg.Provider,{value:{showNotification:i},children:[n,t&&o.jsx("div",{className:`fixed bottom-4 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-xl shadow-lg z-[100] text-white font-bold transition-all ${t.type==="error"?"bg-red-500":t.type==="success"?"bg-emerald-500":t.type==="warning"?"bg-amber-500":"bg-blue-500"}`,children:t.message})]})},bd=()=>{const n=ie.useContext(Gg);if(!n)throw new Error("useNotification must be used within a NotificationProvider");return n};var Ae;(function(n){n.assertEqual=c=>{};function t(c){}n.assertIs=t;function r(c){throw new Error}n.assertNever=r,n.arrayToEnum=c=>{const u={};for(const f of c)u[f]=f;return u},n.getValidEnumValues=c=>{const u=n.objectKeys(c).filter(m=>typeof c[c[m]]!="number"),f={};for(const m of u)f[m]=c[m];return n.objectValues(f)},n.objectValues=c=>n.objectKeys(c).map(function(u){return c[u]}),n.objectKeys=typeof Object.keys=="function"?c=>Object.keys(c):c=>{const u=[];for(const f in c)Object.prototype.hasOwnProperty.call(c,f)&&u.push(f);return u},n.find=(c,u)=>{for(const f of c)if(u(f))return f},n.isInteger=typeof Number.isInteger=="function"?c=>Number.isInteger(c):c=>typeof c=="number"&&Number.isFinite(c)&&Math.floor(c)===c;function i(c,u=" | "){return c.map(f=>typeof f=="string"?`'${f}'`:f).join(u)}n.joinValues=i,n.jsonStringifyReplacer=(c,u)=>typeof u=="bigint"?u.toString():u})(Ae||(Ae={}));var tg;(function(n){n.mergeShapes=(t,r)=>({...t,...r})})(tg||(tg={}));const Y=Ae.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ys=n=>{switch(typeof n){case"undefined":return Y.undefined;case"string":return Y.string;case"number":return Number.isNaN(n)?Y.nan:Y.number;case"boolean":return Y.boolean;case"function":return Y.function;case"bigint":return Y.bigint;case"symbol":return Y.symbol;case"object":return Array.isArray(n)?Y.array:n===null?Y.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Y.promise:typeof Map<"u"&&n instanceof Map?Y.map:typeof Set<"u"&&n instanceof Set?Y.set:typeof Date<"u"&&n instanceof Date?Y.date:Y.object;default:return Y.unknown}},I=Ae.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class aa extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(u){return u.message},i={_errors:[]},c=u=>{for(const f of u.issues)if(f.code==="invalid_union")f.unionErrors.map(c);else if(f.code==="invalid_return_type")c(f.returnTypeError);else if(f.code==="invalid_arguments")c(f.argumentsError);else if(f.path.length===0)i._errors.push(r(f));else{let m=i,g=0;for(;g<f.path.length;){const b=f.path[g];g===f.path.length-1?(m[b]=m[b]||{_errors:[]},m[b]._errors.push(r(f))):m[b]=m[b]||{_errors:[]},m=m[b],g++}}};return c(this),i}static assert(t){if(!(t instanceof aa))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ae.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},i=[];for(const c of this.issues)if(c.path.length>0){const u=c.path[0];r[u]=r[u]||[],r[u].push(t(c))}else i.push(t(c));return{formErrors:i,fieldErrors:r}}get formErrors(){return this.flatten()}}aa.create=n=>new aa(n);const Qu=(n,t)=>{let r;switch(n.code){case I.invalid_type:n.received===Y.undefined?r="Required":r=`Expected ${n.expected}, received ${n.received}`;break;case I.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(n.expected,Ae.jsonStringifyReplacer)}`;break;case I.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ae.joinValues(n.keys,", ")}`;break;case I.invalid_union:r="Invalid input";break;case I.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ae.joinValues(n.options)}`;break;case I.invalid_enum_value:r=`Invalid enum value. Expected ${Ae.joinValues(n.options)}, received '${n.received}'`;break;case I.invalid_arguments:r="Invalid function arguments";break;case I.invalid_return_type:r="Invalid function return type";break;case I.invalid_date:r="Invalid date";break;case I.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(r=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?r=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?r=`Invalid input: must end with "${n.validation.endsWith}"`:Ae.assertNever(n.validation):n.validation!=="regex"?r=`Invalid ${n.validation}`:r="Invalid";break;case I.too_small:n.type==="array"?r=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?r=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?r=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?r=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?r=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:r="Invalid input";break;case I.too_big:n.type==="array"?r=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?r=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?r=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?r=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?r=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:r="Invalid input";break;case I.custom:r="Invalid input";break;case I.invalid_intersection_types:r="Intersection results could not be merged";break;case I.not_multiple_of:r=`Number must be a multiple of ${n.multipleOf}`;break;case I.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ae.assertNever(n)}return{message:r}};let e_=Qu;function t_(){return e_}const a_=n=>{const{data:t,path:r,errorMaps:i,issueData:c}=n,u=[...r,...c.path||[]],f={...c,path:u};if(c.message!==void 0)return{...c,path:u,message:c.message};let m="";const g=i.filter(b=>!!b).slice().reverse();for(const b of g)m=b(f,{data:t,defaultError:m}).message;return{...c,path:u,message:m}};function H(n,t){const r=t_(),i=a_({issueData:t,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,r,r===Qu?void 0:Qu].filter(c=>!!c)});n.common.issues.push(i)}class wt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const i=[];for(const c of r){if(c.status==="aborted")return ue;c.status==="dirty"&&t.dirty(),i.push(c.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,r){const i=[];for(const c of r){const u=await c.key,f=await c.value;i.push({key:u,value:f})}return wt.mergeObjectSync(t,i)}static mergeObjectSync(t,r){const i={};for(const c of r){const{key:u,value:f}=c;if(u.status==="aborted"||f.status==="aborted")return ue;u.status==="dirty"&&t.dirty(),f.status==="dirty"&&t.dirty(),u.value!=="__proto__"&&(typeof f.value<"u"||c.alwaysSet)&&(i[u.value]=f.value)}return{status:t.value,value:i}}}const ue=Object.freeze({status:"aborted"}),ti=n=>({status:"dirty",value:n}),sa=n=>({status:"valid",value:n}),ag=n=>n.status==="aborted",sg=n=>n.status==="dirty",er=n=>n.status==="valid",Gl=n=>typeof Promise<"u"&&n instanceof Promise;var W;(function(n){n.errToObj=t=>typeof t=="string"?{message:t}:t||{},n.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(W||(W={}));class _a{constructor(t,r,i,c){this._cachedPath=[],this.parent=t,this.data=r,this._path=i,this._key=c}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ng=(n,t)=>{if(er(t))return{success:!0,data:t.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new aa(n.common.issues);return this._error=r,this._error}}};function fe(n){if(!n)return{};const{errorMap:t,invalid_type_error:r,required_error:i,description:c}=n;if(t&&(r||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:c}:{errorMap:(f,m)=>{const{message:g}=n;return f.code==="invalid_enum_value"?{message:g??m.defaultError}:typeof m.data>"u"?{message:g??i??m.defaultError}:f.code!=="invalid_type"?{message:m.defaultError}:{message:g??r??m.defaultError}},description:c}}class we{get description(){return this._def.description}_getType(t){return ys(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ys(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new wt,ctx:{common:t.parent.common,data:t.data,parsedType:ys(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Gl(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const i=this.safeParse(t,r);if(i.success)return i.data;throw i.error}safeParse(t,r){const i={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ys(t)},c=this._parseSync({data:t,path:i.path,parent:i});return ng(i,c)}"~validate"(t){var i,c;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ys(t)};if(!this["~standard"].async)try{const u=this._parseSync({data:t,path:[],parent:r});return er(u)?{value:u.value}:{issues:r.common.issues}}catch(u){(c=(i=u==null?void 0:u.message)==null?void 0:i.toLowerCase())!=null&&c.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(u=>er(u)?{value:u.value}:{issues:r.common.issues})}async parseAsync(t,r){const i=await this.safeParseAsync(t,r);if(i.success)return i.data;throw i.error}async safeParseAsync(t,r){const i={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ys(t)},c=this._parse({data:t,path:i.path,parent:i}),u=await(Gl(c)?c:Promise.resolve(c));return ng(i,u)}refine(t,r){const i=c=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(c):r;return this._refinement((c,u)=>{const f=t(c),m=()=>u.addIssue({code:I.custom,...i(c)});return typeof Promise<"u"&&f instanceof Promise?f.then(g=>g?!0:(m(),!1)):f?!0:(m(),!1)})}refinement(t,r){return this._refinement((i,c)=>t(i)?!0:(c.addIssue(typeof r=="function"?r(i,c):r),!1))}_refinement(t){return new sr({schema:this,typeName:$.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ws.create(this,this._def)}nullable(){return nr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wa.create(this)}promise(){return Jl.create(this,this._def)}or(t){return Zl.create([this,t],this._def)}and(t){return Yl.create(this,t,this._def)}transform(t){return new sr({...fe(this._def),schema:this,typeName:$.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new td({...fe(this._def),innerType:this,defaultValue:r,typeName:$.ZodDefault})}brand(){return new S_({typeName:$.ZodBranded,type:this,...fe(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new ad({...fe(this._def),innerType:this,catchValue:r,typeName:$.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return xd.create(this,t)}readonly(){return sd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const s_=/^c[^\s-]{8,}$/i,n_=/^[0-9a-z]+$/,r_=/^[0-9A-HJKMNP-TV-Z]{26}$/i,i_=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,l_=/^[a-z0-9_-]{21}$/i,o_=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,c_=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,u_=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,d_="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let zu;const h_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,f_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,m_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,g_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,p_=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,b_=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Vg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",x_=new RegExp(`^${Vg}$`);function Zg(n){let t="[0-5]\\d";n.precision?t=`${t}\\.\\d{${n.precision}}`:n.precision==null&&(t=`${t}(\\.\\d+)?`);const r=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function y_(n){return new RegExp(`^${Zg(n)}$`)}function v_(n){let t=`${Vg}T${Zg(n)}`;const r=[];return r.push(n.local?"Z?":"Z"),n.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function w_(n,t){return!!((t==="v4"||!t)&&h_.test(n)||(t==="v6"||!t)&&m_.test(n))}function __(n,t){if(!o_.test(n))return!1;try{const[r]=n.split(".");if(!r)return!1;const i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),c=JSON.parse(atob(i));return!(typeof c!="object"||c===null||"typ"in c&&(c==null?void 0:c.typ)!=="JWT"||!c.alg||t&&c.alg!==t)}catch{return!1}}function j_(n,t){return!!((t==="v4"||!t)&&f_.test(n)||(t==="v6"||!t)&&g_.test(n))}class Pa extends we{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Y.string){const u=this._getOrReturnCtx(t);return H(u,{code:I.invalid_type,expected:Y.string,received:u.parsedType}),ue}const i=new wt;let c;for(const u of this._def.checks)if(u.kind==="min")t.data.length<u.value&&(c=this._getOrReturnCtx(t,c),H(c,{code:I.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),i.dirty());else if(u.kind==="max")t.data.length>u.value&&(c=this._getOrReturnCtx(t,c),H(c,{code:I.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),i.dirty());else if(u.kind==="length"){const f=t.data.length>u.value,m=t.data.length<u.value;(f||m)&&(c=this._getOrReturnCtx(t,c),f?H(c,{code:I.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):m&&H(c,{code:I.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),i.dirty())}else if(u.kind==="email")u_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"email",code:I.invalid_string,message:u.message}),i.dirty());else if(u.kind==="emoji")zu||(zu=new RegExp(d_,"u")),zu.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"emoji",code:I.invalid_string,message:u.message}),i.dirty());else if(u.kind==="uuid")i_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"uuid",code:I.invalid_string,message:u.message}),i.dirty());else if(u.kind==="nanoid")l_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"nanoid",code:I.invalid_string,message:u.message}),i.dirty());else if(u.kind==="cuid")s_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"cuid",code:I.invalid_string,message:u.message}),i.dirty());else if(u.kind==="cuid2")n_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"cuid2",code:I.invalid_string,message:u.message}),i.dirty());else if(u.kind==="ulid")r_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"ulid",code:I.invalid_string,message:u.message}),i.dirty());else if(u.kind==="url")try{new URL(t.data)}catch{c=this._getOrReturnCtx(t,c),H(c,{validation:"url",code:I.invalid_string,message:u.message}),i.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"regex",code:I.invalid_string,message:u.message}),i.dirty())):u.kind==="trim"?t.data=t.data.trim():u.kind==="includes"?t.data.includes(u.value,u.position)||(c=this._getOrReturnCtx(t,c),H(c,{code:I.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),i.dirty()):u.kind==="toLowerCase"?t.data=t.data.toLowerCase():u.kind==="toUpperCase"?t.data=t.data.toUpperCase():u.kind==="startsWith"?t.data.startsWith(u.value)||(c=this._getOrReturnCtx(t,c),H(c,{code:I.invalid_string,validation:{startsWith:u.value},message:u.message}),i.dirty()):u.kind==="endsWith"?t.data.endsWith(u.value)||(c=this._getOrReturnCtx(t,c),H(c,{code:I.invalid_string,validation:{endsWith:u.value},message:u.message}),i.dirty()):u.kind==="datetime"?v_(u).test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{code:I.invalid_string,validation:"datetime",message:u.message}),i.dirty()):u.kind==="date"?x_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{code:I.invalid_string,validation:"date",message:u.message}),i.dirty()):u.kind==="time"?y_(u).test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{code:I.invalid_string,validation:"time",message:u.message}),i.dirty()):u.kind==="duration"?c_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"duration",code:I.invalid_string,message:u.message}),i.dirty()):u.kind==="ip"?w_(t.data,u.version)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"ip",code:I.invalid_string,message:u.message}),i.dirty()):u.kind==="jwt"?__(t.data,u.alg)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"jwt",code:I.invalid_string,message:u.message}),i.dirty()):u.kind==="cidr"?j_(t.data,u.version)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"cidr",code:I.invalid_string,message:u.message}),i.dirty()):u.kind==="base64"?p_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"base64",code:I.invalid_string,message:u.message}),i.dirty()):u.kind==="base64url"?b_.test(t.data)||(c=this._getOrReturnCtx(t,c),H(c,{validation:"base64url",code:I.invalid_string,message:u.message}),i.dirty()):Ae.assertNever(u);return{status:i.value,value:t.data}}_regex(t,r,i){return this.refinement(c=>t.test(c),{validation:r,code:I.invalid_string,...W.errToObj(i)})}_addCheck(t){return new Pa({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...W.errToObj(t)})}url(t){return this._addCheck({kind:"url",...W.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...W.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...W.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...W.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...W.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...W.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...W.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...W.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...W.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...W.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...W.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...W.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...W.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...W.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...W.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...W.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...W.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...W.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...W.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...W.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...W.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...W.errToObj(r)})}nonempty(t){return this.min(1,W.errToObj(t))}trim(){return new Pa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Pa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Pa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Pa.create=n=>new Pa({checks:[],typeName:$.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...fe(n)});function N_(n,t){const r=(n.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,c=r>i?r:i,u=Number.parseInt(n.toFixed(c).replace(".","")),f=Number.parseInt(t.toFixed(c).replace(".",""));return u%f/10**c}class tr extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Y.number){const u=this._getOrReturnCtx(t);return H(u,{code:I.invalid_type,expected:Y.number,received:u.parsedType}),ue}let i;const c=new wt;for(const u of this._def.checks)u.kind==="int"?Ae.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{code:I.invalid_type,expected:"integer",received:"float",message:u.message}),c.dirty()):u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(i=this._getOrReturnCtx(t,i),H(i,{code:I.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),c.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(i=this._getOrReturnCtx(t,i),H(i,{code:I.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),c.dirty()):u.kind==="multipleOf"?N_(t.data,u.value)!==0&&(i=this._getOrReturnCtx(t,i),H(i,{code:I.not_multiple_of,multipleOf:u.value,message:u.message}),c.dirty()):u.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{code:I.not_finite,message:u.message}),c.dirty()):Ae.assertNever(u);return{status:c.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,W.toString(r))}gt(t,r){return this.setLimit("min",t,!1,W.toString(r))}lte(t,r){return this.setLimit("max",t,!0,W.toString(r))}lt(t,r){return this.setLimit("max",t,!1,W.toString(r))}setLimit(t,r,i,c){return new tr({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:i,message:W.toString(c)}]})}_addCheck(t){return new tr({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:W.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:W.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:W.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:W.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:W.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:W.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:W.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:W.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:W.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ae.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(r===null||i.value>r)&&(r=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(r)&&Number.isFinite(t)}}tr.create=n=>new tr({checks:[],typeName:$.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...fe(n)});class ui extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Y.bigint)return this._getInvalidInput(t);let i;const c=new wt;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(i=this._getOrReturnCtx(t,i),H(i,{code:I.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),c.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(i=this._getOrReturnCtx(t,i),H(i,{code:I.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),c.dirty()):u.kind==="multipleOf"?t.data%u.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),H(i,{code:I.not_multiple_of,multipleOf:u.value,message:u.message}),c.dirty()):Ae.assertNever(u);return{status:c.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return H(r,{code:I.invalid_type,expected:Y.bigint,received:r.parsedType}),ue}gte(t,r){return this.setLimit("min",t,!0,W.toString(r))}gt(t,r){return this.setLimit("min",t,!1,W.toString(r))}lte(t,r){return this.setLimit("max",t,!0,W.toString(r))}lt(t,r){return this.setLimit("max",t,!1,W.toString(r))}setLimit(t,r,i,c){return new ui({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:i,message:W.toString(c)}]})}_addCheck(t){return new ui({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:W.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:W.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:W.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:W.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:W.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ui.create=n=>new ui({checks:[],typeName:$.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...fe(n)});class Fu extends we{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Y.boolean){const i=this._getOrReturnCtx(t);return H(i,{code:I.invalid_type,expected:Y.boolean,received:i.parsedType}),ue}return sa(t.data)}}Fu.create=n=>new Fu({typeName:$.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...fe(n)});class Vl extends we{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Y.date){const u=this._getOrReturnCtx(t);return H(u,{code:I.invalid_type,expected:Y.date,received:u.parsedType}),ue}if(Number.isNaN(t.data.getTime())){const u=this._getOrReturnCtx(t);return H(u,{code:I.invalid_date}),ue}const i=new wt;let c;for(const u of this._def.checks)u.kind==="min"?t.data.getTime()<u.value&&(c=this._getOrReturnCtx(t,c),H(c,{code:I.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),i.dirty()):u.kind==="max"?t.data.getTime()>u.value&&(c=this._getOrReturnCtx(t,c),H(c,{code:I.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),i.dirty()):Ae.assertNever(u);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Vl({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:W.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:W.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Vl.create=n=>new Vl({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:$.ZodDate,...fe(n)});class rg extends we{_parse(t){if(this._getType(t)!==Y.symbol){const i=this._getOrReturnCtx(t);return H(i,{code:I.invalid_type,expected:Y.symbol,received:i.parsedType}),ue}return sa(t.data)}}rg.create=n=>new rg({typeName:$.ZodSymbol,...fe(n)});class ig extends we{_parse(t){if(this._getType(t)!==Y.undefined){const i=this._getOrReturnCtx(t);return H(i,{code:I.invalid_type,expected:Y.undefined,received:i.parsedType}),ue}return sa(t.data)}}ig.create=n=>new ig({typeName:$.ZodUndefined,...fe(n)});class lg extends we{_parse(t){if(this._getType(t)!==Y.null){const i=this._getOrReturnCtx(t);return H(i,{code:I.invalid_type,expected:Y.null,received:i.parsedType}),ue}return sa(t.data)}}lg.create=n=>new lg({typeName:$.ZodNull,...fe(n)});class Wu extends we{constructor(){super(...arguments),this._any=!0}_parse(t){return sa(t.data)}}Wu.create=n=>new Wu({typeName:$.ZodAny,...fe(n)});class og extends we{constructor(){super(...arguments),this._unknown=!0}_parse(t){return sa(t.data)}}og.create=n=>new og({typeName:$.ZodUnknown,...fe(n)});class js extends we{_parse(t){const r=this._getOrReturnCtx(t);return H(r,{code:I.invalid_type,expected:Y.never,received:r.parsedType}),ue}}js.create=n=>new js({typeName:$.ZodNever,...fe(n)});class cg extends we{_parse(t){if(this._getType(t)!==Y.undefined){const i=this._getOrReturnCtx(t);return H(i,{code:I.invalid_type,expected:Y.void,received:i.parsedType}),ue}return sa(t.data)}}cg.create=n=>new cg({typeName:$.ZodVoid,...fe(n)});class wa extends we{_parse(t){const{ctx:r,status:i}=this._processInputParams(t),c=this._def;if(r.parsedType!==Y.array)return H(r,{code:I.invalid_type,expected:Y.array,received:r.parsedType}),ue;if(c.exactLength!==null){const f=r.data.length>c.exactLength.value,m=r.data.length<c.exactLength.value;(f||m)&&(H(r,{code:f?I.too_big:I.too_small,minimum:m?c.exactLength.value:void 0,maximum:f?c.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:c.exactLength.message}),i.dirty())}if(c.minLength!==null&&r.data.length<c.minLength.value&&(H(r,{code:I.too_small,minimum:c.minLength.value,type:"array",inclusive:!0,exact:!1,message:c.minLength.message}),i.dirty()),c.maxLength!==null&&r.data.length>c.maxLength.value&&(H(r,{code:I.too_big,maximum:c.maxLength.value,type:"array",inclusive:!0,exact:!1,message:c.maxLength.message}),i.dirty()),r.common.async)return Promise.all([...r.data].map((f,m)=>c.type._parseAsync(new _a(r,f,r.path,m)))).then(f=>wt.mergeArray(i,f));const u=[...r.data].map((f,m)=>c.type._parseSync(new _a(r,f,r.path,m)));return wt.mergeArray(i,u)}get element(){return this._def.type}min(t,r){return new wa({...this._def,minLength:{value:t,message:W.toString(r)}})}max(t,r){return new wa({...this._def,maxLength:{value:t,message:W.toString(r)}})}length(t,r){return new wa({...this._def,exactLength:{value:t,message:W.toString(r)}})}nonempty(t){return this.min(1,t)}}wa.create=(n,t)=>new wa({type:n,minLength:null,maxLength:null,exactLength:null,typeName:$.ZodArray,...fe(t)});function Qn(n){if(n instanceof nt){const t={};for(const r in n.shape){const i=n.shape[r];t[r]=ws.create(Qn(i))}return new nt({...n._def,shape:()=>t})}else return n instanceof wa?new wa({...n._def,type:Qn(n.element)}):n instanceof ws?ws.create(Qn(n.unwrap())):n instanceof nr?nr.create(Qn(n.unwrap())):n instanceof tn?tn.create(n.items.map(t=>Qn(t))):n}class nt extends we{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ae.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Y.object){const b=this._getOrReturnCtx(t);return H(b,{code:I.invalid_type,expected:Y.object,received:b.parsedType}),ue}const{status:i,ctx:c}=this._processInputParams(t),{shape:u,keys:f}=this._getCached(),m=[];if(!(this._def.catchall instanceof js&&this._def.unknownKeys==="strip"))for(const b in c.data)f.includes(b)||m.push(b);const g=[];for(const b of f){const y=u[b],v=c.data[b];g.push({key:{status:"valid",value:b},value:y._parse(new _a(c,v,c.path,b)),alwaysSet:b in c.data})}if(this._def.catchall instanceof js){const b=this._def.unknownKeys;if(b==="passthrough")for(const y of m)g.push({key:{status:"valid",value:y},value:{status:"valid",value:c.data[y]}});else if(b==="strict")m.length>0&&(H(c,{code:I.unrecognized_keys,keys:m}),i.dirty());else if(b!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const b=this._def.catchall;for(const y of m){const v=c.data[y];g.push({key:{status:"valid",value:y},value:b._parse(new _a(c,v,c.path,y)),alwaysSet:y in c.data})}}return c.common.async?Promise.resolve().then(async()=>{const b=[];for(const y of g){const v=await y.key,_=await y.value;b.push({key:v,value:_,alwaysSet:y.alwaysSet})}return b}).then(b=>wt.mergeObjectSync(i,b)):wt.mergeObjectSync(i,g)}get shape(){return this._def.shape()}strict(t){return W.errToObj,new nt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,i)=>{var u,f;const c=((f=(u=this._def).errorMap)==null?void 0:f.call(u,r,i).message)??i.defaultError;return r.code==="unrecognized_keys"?{message:W.errToObj(t).message??c}:{message:c}}}:{}})}strip(){return new nt({...this._def,unknownKeys:"strip"})}passthrough(){return new nt({...this._def,unknownKeys:"passthrough"})}extend(t){return new nt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new nt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:$.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new nt({...this._def,catchall:t})}pick(t){const r={};for(const i of Ae.objectKeys(t))t[i]&&this.shape[i]&&(r[i]=this.shape[i]);return new nt({...this._def,shape:()=>r})}omit(t){const r={};for(const i of Ae.objectKeys(this.shape))t[i]||(r[i]=this.shape[i]);return new nt({...this._def,shape:()=>r})}deepPartial(){return Qn(this)}partial(t){const r={};for(const i of Ae.objectKeys(this.shape)){const c=this.shape[i];t&&!t[i]?r[i]=c:r[i]=c.optional()}return new nt({...this._def,shape:()=>r})}required(t){const r={};for(const i of Ae.objectKeys(this.shape))if(t&&!t[i])r[i]=this.shape[i];else{let u=this.shape[i];for(;u instanceof ws;)u=u._def.innerType;r[i]=u}return new nt({...this._def,shape:()=>r})}keyof(){return Yg(Ae.objectKeys(this.shape))}}nt.create=(n,t)=>new nt({shape:()=>n,unknownKeys:"strip",catchall:js.create(),typeName:$.ZodObject,...fe(t)});nt.strictCreate=(n,t)=>new nt({shape:()=>n,unknownKeys:"strict",catchall:js.create(),typeName:$.ZodObject,...fe(t)});nt.lazycreate=(n,t)=>new nt({shape:n,unknownKeys:"strip",catchall:js.create(),typeName:$.ZodObject,...fe(t)});class Zl extends we{_parse(t){const{ctx:r}=this._processInputParams(t),i=this._def.options;function c(u){for(const m of u)if(m.result.status==="valid")return m.result;for(const m of u)if(m.result.status==="dirty")return r.common.issues.push(...m.ctx.common.issues),m.result;const f=u.map(m=>new aa(m.ctx.common.issues));return H(r,{code:I.invalid_union,unionErrors:f}),ue}if(r.common.async)return Promise.all(i.map(async u=>{const f={...r,common:{...r.common,issues:[]},parent:null};return{result:await u._parseAsync({data:r.data,path:r.path,parent:f}),ctx:f}})).then(c);{let u;const f=[];for(const g of i){const b={...r,common:{...r.common,issues:[]},parent:null},y=g._parseSync({data:r.data,path:r.path,parent:b});if(y.status==="valid")return y;y.status==="dirty"&&!u&&(u={result:y,ctx:b}),b.common.issues.length&&f.push(b.common.issues)}if(u)return r.common.issues.push(...u.ctx.common.issues),u.result;const m=f.map(g=>new aa(g));return H(r,{code:I.invalid_union,unionErrors:m}),ue}}get options(){return this._def.options}}Zl.create=(n,t)=>new Zl({options:n,typeName:$.ZodUnion,...fe(t)});function ed(n,t){const r=ys(n),i=ys(t);if(n===t)return{valid:!0,data:n};if(r===Y.object&&i===Y.object){const c=Ae.objectKeys(t),u=Ae.objectKeys(n).filter(m=>c.indexOf(m)!==-1),f={...n,...t};for(const m of u){const g=ed(n[m],t[m]);if(!g.valid)return{valid:!1};f[m]=g.data}return{valid:!0,data:f}}else if(r===Y.array&&i===Y.array){if(n.length!==t.length)return{valid:!1};const c=[];for(let u=0;u<n.length;u++){const f=n[u],m=t[u],g=ed(f,m);if(!g.valid)return{valid:!1};c.push(g.data)}return{valid:!0,data:c}}else return r===Y.date&&i===Y.date&&+n==+t?{valid:!0,data:n}:{valid:!1}}class Yl extends we{_parse(t){const{status:r,ctx:i}=this._processInputParams(t),c=(u,f)=>{if(ag(u)||ag(f))return ue;const m=ed(u.value,f.value);return m.valid?((sg(u)||sg(f))&&r.dirty(),{status:r.value,value:m.data}):(H(i,{code:I.invalid_intersection_types}),ue)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([u,f])=>c(u,f)):c(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Yl.create=(n,t,r)=>new Yl({left:n,right:t,typeName:$.ZodIntersection,...fe(r)});class tn extends we{_parse(t){const{status:r,ctx:i}=this._processInputParams(t);if(i.parsedType!==Y.array)return H(i,{code:I.invalid_type,expected:Y.array,received:i.parsedType}),ue;if(i.data.length<this._def.items.length)return H(i,{code:I.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ue;!this._def.rest&&i.data.length>this._def.items.length&&(H(i,{code:I.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const u=[...i.data].map((f,m)=>{const g=this._def.items[m]||this._def.rest;return g?g._parse(new _a(i,f,i.path,m)):null}).filter(f=>!!f);return i.common.async?Promise.all(u).then(f=>wt.mergeArray(r,f)):wt.mergeArray(r,u)}get items(){return this._def.items}rest(t){return new tn({...this._def,rest:t})}}tn.create=(n,t)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new tn({items:n,typeName:$.ZodTuple,rest:null,...fe(t)})};class Kl extends we{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:i}=this._processInputParams(t);if(i.parsedType!==Y.object)return H(i,{code:I.invalid_type,expected:Y.object,received:i.parsedType}),ue;const c=[],u=this._def.keyType,f=this._def.valueType;for(const m in i.data)c.push({key:u._parse(new _a(i,m,i.path,m)),value:f._parse(new _a(i,i.data[m],i.path,m)),alwaysSet:m in i.data});return i.common.async?wt.mergeObjectAsync(r,c):wt.mergeObjectSync(r,c)}get element(){return this._def.valueType}static create(t,r,i){return r instanceof we?new Kl({keyType:t,valueType:r,typeName:$.ZodRecord,...fe(i)}):new Kl({keyType:Pa.create(),valueType:t,typeName:$.ZodRecord,...fe(r)})}}class ug extends we{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:i}=this._processInputParams(t);if(i.parsedType!==Y.map)return H(i,{code:I.invalid_type,expected:Y.map,received:i.parsedType}),ue;const c=this._def.keyType,u=this._def.valueType,f=[...i.data.entries()].map(([m,g],b)=>({key:c._parse(new _a(i,m,i.path,[b,"key"])),value:u._parse(new _a(i,g,i.path,[b,"value"]))}));if(i.common.async){const m=new Map;return Promise.resolve().then(async()=>{for(const g of f){const b=await g.key,y=await g.value;if(b.status==="aborted"||y.status==="aborted")return ue;(b.status==="dirty"||y.status==="dirty")&&r.dirty(),m.set(b.value,y.value)}return{status:r.value,value:m}})}else{const m=new Map;for(const g of f){const b=g.key,y=g.value;if(b.status==="aborted"||y.status==="aborted")return ue;(b.status==="dirty"||y.status==="dirty")&&r.dirty(),m.set(b.value,y.value)}return{status:r.value,value:m}}}}ug.create=(n,t,r)=>new ug({valueType:t,keyType:n,typeName:$.ZodMap,...fe(r)});class di extends we{_parse(t){const{status:r,ctx:i}=this._processInputParams(t);if(i.parsedType!==Y.set)return H(i,{code:I.invalid_type,expected:Y.set,received:i.parsedType}),ue;const c=this._def;c.minSize!==null&&i.data.size<c.minSize.value&&(H(i,{code:I.too_small,minimum:c.minSize.value,type:"set",inclusive:!0,exact:!1,message:c.minSize.message}),r.dirty()),c.maxSize!==null&&i.data.size>c.maxSize.value&&(H(i,{code:I.too_big,maximum:c.maxSize.value,type:"set",inclusive:!0,exact:!1,message:c.maxSize.message}),r.dirty());const u=this._def.valueType;function f(g){const b=new Set;for(const y of g){if(y.status==="aborted")return ue;y.status==="dirty"&&r.dirty(),b.add(y.value)}return{status:r.value,value:b}}const m=[...i.data.values()].map((g,b)=>u._parse(new _a(i,g,i.path,b)));return i.common.async?Promise.all(m).then(g=>f(g)):f(m)}min(t,r){return new di({...this._def,minSize:{value:t,message:W.toString(r)}})}max(t,r){return new di({...this._def,maxSize:{value:t,message:W.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}di.create=(n,t)=>new di({valueType:n,minSize:null,maxSize:null,typeName:$.ZodSet,...fe(t)});class dg extends we{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}dg.create=(n,t)=>new dg({getter:n,typeName:$.ZodLazy,...fe(t)});class hg extends we{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return H(r,{received:r.data,code:I.invalid_literal,expected:this._def.value}),ue}return{status:"valid",value:t.data}}get value(){return this._def.value}}hg.create=(n,t)=>new hg({value:n,typeName:$.ZodLiteral,...fe(t)});function Yg(n,t){return new ar({values:n,typeName:$.ZodEnum,...fe(t)})}class ar extends we{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),i=this._def.values;return H(r,{expected:Ae.joinValues(i),received:r.parsedType,code:I.invalid_type}),ue}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),i=this._def.values;return H(r,{received:r.data,code:I.invalid_enum_value,options:i}),ue}return sa(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ar.create(t,{...this._def,...r})}exclude(t,r=this._def){return ar.create(this.options.filter(i=>!t.includes(i)),{...this._def,...r})}}ar.create=Yg;class fg extends we{_parse(t){const r=Ae.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==Y.string&&i.parsedType!==Y.number){const c=Ae.objectValues(r);return H(i,{expected:Ae.joinValues(c),received:i.parsedType,code:I.invalid_type}),ue}if(this._cache||(this._cache=new Set(Ae.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const c=Ae.objectValues(r);return H(i,{received:i.data,code:I.invalid_enum_value,options:c}),ue}return sa(t.data)}get enum(){return this._def.values}}fg.create=(n,t)=>new fg({values:n,typeName:$.ZodNativeEnum,...fe(t)});class Jl extends we{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Y.promise&&r.common.async===!1)return H(r,{code:I.invalid_type,expected:Y.promise,received:r.parsedType}),ue;const i=r.parsedType===Y.promise?r.data:Promise.resolve(r.data);return sa(i.then(c=>this._def.type.parseAsync(c,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Jl.create=(n,t)=>new Jl({type:n,typeName:$.ZodPromise,...fe(t)});class sr extends we{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:i}=this._processInputParams(t),c=this._def.effect||null,u={addIssue:f=>{H(i,f),f.fatal?r.abort():r.dirty()},get path(){return i.path}};if(u.addIssue=u.addIssue.bind(u),c.type==="preprocess"){const f=c.transform(i.data,u);if(i.common.async)return Promise.resolve(f).then(async m=>{if(r.value==="aborted")return ue;const g=await this._def.schema._parseAsync({data:m,path:i.path,parent:i});return g.status==="aborted"?ue:g.status==="dirty"||r.value==="dirty"?ti(g.value):g});{if(r.value==="aborted")return ue;const m=this._def.schema._parseSync({data:f,path:i.path,parent:i});return m.status==="aborted"?ue:m.status==="dirty"||r.value==="dirty"?ti(m.value):m}}if(c.type==="refinement"){const f=m=>{const g=c.refinement(m,u);if(i.common.async)return Promise.resolve(g);if(g instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return m};if(i.common.async===!1){const m=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return m.status==="aborted"?ue:(m.status==="dirty"&&r.dirty(),f(m.value),{status:r.value,value:m.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(m=>m.status==="aborted"?ue:(m.status==="dirty"&&r.dirty(),f(m.value).then(()=>({status:r.value,value:m.value}))))}if(c.type==="transform")if(i.common.async===!1){const f=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!er(f))return ue;const m=c.transform(f.value,u);if(m instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:m}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(f=>er(f)?Promise.resolve(c.transform(f.value,u)).then(m=>({status:r.value,value:m})):ue);Ae.assertNever(c)}}sr.create=(n,t,r)=>new sr({schema:n,typeName:$.ZodEffects,effect:t,...fe(r)});sr.createWithPreprocess=(n,t,r)=>new sr({schema:t,effect:{type:"preprocess",transform:n},typeName:$.ZodEffects,...fe(r)});class ws extends we{_parse(t){return this._getType(t)===Y.undefined?sa(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ws.create=(n,t)=>new ws({innerType:n,typeName:$.ZodOptional,...fe(t)});class nr extends we{_parse(t){return this._getType(t)===Y.null?sa(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}nr.create=(n,t)=>new nr({innerType:n,typeName:$.ZodNullable,...fe(t)});class td extends we{_parse(t){const{ctx:r}=this._processInputParams(t);let i=r.data;return r.parsedType===Y.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}td.create=(n,t)=>new td({innerType:n,typeName:$.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...fe(t)});class ad extends we{_parse(t){const{ctx:r}=this._processInputParams(t),i={...r,common:{...r.common,issues:[]}},c=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Gl(c)?c.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new aa(i.common.issues)},input:i.data})})):{status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new aa(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}ad.create=(n,t)=>new ad({innerType:n,typeName:$.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...fe(t)});class mg extends we{_parse(t){if(this._getType(t)!==Y.nan){const i=this._getOrReturnCtx(t);return H(i,{code:I.invalid_type,expected:Y.nan,received:i.parsedType}),ue}return{status:"valid",value:t.data}}}mg.create=n=>new mg({typeName:$.ZodNaN,...fe(n)});class S_ extends we{_parse(t){const{ctx:r}=this._processInputParams(t),i=r.data;return this._def.type._parse({data:i,path:r.path,parent:r})}unwrap(){return this._def.type}}class xd extends we{_parse(t){const{status:r,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?ue:u.status==="dirty"?(r.dirty(),ti(u.value)):this._def.out._parseAsync({data:u.value,path:i.path,parent:i})})();{const c=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return c.status==="aborted"?ue:c.status==="dirty"?(r.dirty(),{status:"dirty",value:c.value}):this._def.out._parseSync({data:c.value,path:i.path,parent:i})}}static create(t,r){return new xd({in:t,out:r,typeName:$.ZodPipeline})}}class sd extends we{_parse(t){const r=this._def.innerType._parse(t),i=c=>(er(c)&&(c.value=Object.freeze(c.value)),c);return Gl(r)?r.then(c=>i(c)):i(r)}unwrap(){return this._def.innerType}}sd.create=(n,t)=>new sd({innerType:n,typeName:$.ZodReadonly,...fe(t)});var $;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})($||($={}));const G=Pa.create,Xe=tr.create,fa=Fu.create,Kg=Wu.create;js.create;const Me=wa.create,He=nt.create;Zl.create;Yl.create;tn.create;const k_=Kl.create,Ns=ar.create;Jl.create;ws.create;nr.create;const A_=Symbol("Let zodToJsonSchema decide on which parser to use"),gg={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},E_=n=>typeof n=="string"?{...gg,name:n}:{...gg,...n},T_=n=>{const t=E_(n),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([i,c])=>[c._def,{def:c._def,path:[...t.basePath,t.definitionPath,i],jsonSchema:void 0}]))}};function Jg(n,t,r,i){i!=null&&i.errorMessages&&r&&(n.errorMessage={...n.errorMessage,[t]:r})}function De(n,t,r,i,c){n[t]=r,Jg(n,t,i,c)}const Xg=(n,t)=>{let r=0;for(;r<n.length&&r<t.length&&n[r]===t[r];r++);return[(n.length-r).toString(),...t.slice(r)].join("/")};function Ot(n){if(n.target!=="openAi")return{};const t=[...n.basePath,n.definitionPath,n.openAiAnyTypeName];return n.flags.hasReferencedOpenAiAnyType=!0,{$ref:n.$refStrategy==="relative"?Xg(t,n.currentPath):t.join("/")}}function O_(n,t){var i,c,u;const r={type:"array"};return(i=n.type)!=null&&i._def&&((u=(c=n.type)==null?void 0:c._def)==null?void 0:u.typeName)!==$.ZodAny&&(r.items=Te(n.type._def,{...t,currentPath:[...t.currentPath,"items"]})),n.minLength&&De(r,"minItems",n.minLength.value,n.minLength.message,t),n.maxLength&&De(r,"maxItems",n.maxLength.value,n.maxLength.message,t),n.exactLength&&(De(r,"minItems",n.exactLength.value,n.exactLength.message,t),De(r,"maxItems",n.exactLength.value,n.exactLength.message,t)),r}function C_(n,t){const r={type:"integer",format:"int64"};if(!n.checks)return r;for(const i of n.checks)switch(i.kind){case"min":t.target==="jsonSchema7"?i.inclusive?De(r,"minimum",i.value,i.message,t):De(r,"exclusiveMinimum",i.value,i.message,t):(i.inclusive||(r.exclusiveMinimum=!0),De(r,"minimum",i.value,i.message,t));break;case"max":t.target==="jsonSchema7"?i.inclusive?De(r,"maximum",i.value,i.message,t):De(r,"exclusiveMaximum",i.value,i.message,t):(i.inclusive||(r.exclusiveMaximum=!0),De(r,"maximum",i.value,i.message,t));break;case"multipleOf":De(r,"multipleOf",i.value,i.message,t);break}return r}function R_(){return{type:"boolean"}}function Qg(n,t){return Te(n.type._def,t)}const D_=(n,t)=>Te(n.innerType._def,t);function Fg(n,t,r){const i=r??t.dateStrategy;if(Array.isArray(i))return{anyOf:i.map((c,u)=>Fg(n,t,c))};switch(i){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return M_(n,t)}}const M_=(n,t)=>{const r={type:"integer",format:"unix-time"};if(t.target==="openApi3")return r;for(const i of n.checks)switch(i.kind){case"min":De(r,"minimum",i.value,i.message,t);break;case"max":De(r,"maximum",i.value,i.message,t);break}return r};function z_(n,t){return{...Te(n.innerType._def,t),default:n.defaultValue()}}function U_(n,t){return t.effectStrategy==="input"?Te(n.schema._def,t):Ot(t)}function L_(n){return{type:"string",enum:Array.from(n.values)}}const q_=n=>"type"in n&&n.type==="string"?!1:"allOf"in n;function B_(n,t){const r=[Te(n.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Te(n.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(u=>!!u);let i=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const c=[];return r.forEach(u=>{if(q_(u))c.push(...u.allOf),u.unevaluatedProperties===void 0&&(i=void 0);else{let f=u;if("additionalProperties"in u&&u.additionalProperties===!1){const{additionalProperties:m,...g}=u;f=g}else i=void 0;c.push(f)}}),c.length?{allOf:c,...i}:void 0}function I_(n,t){const r=typeof n.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(n.value)?"array":"object"}:t.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[n.value]}:{type:r==="bigint"?"integer":r,const:n.value}}let Uu;const oa={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Uu===void 0&&(Uu=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Uu),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Wg(n,t){const r={type:"string"};if(n.checks)for(const i of n.checks)switch(i.kind){case"min":De(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,i.value):i.value,i.message,t);break;case"max":De(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,i.value):i.value,i.message,t);break;case"email":switch(t.emailStrategy){case"format:email":ca(r,"email",i.message,t);break;case"format:idn-email":ca(r,"idn-email",i.message,t);break;case"pattern:zod":vt(r,oa.email,i.message,t);break}break;case"url":ca(r,"uri",i.message,t);break;case"uuid":ca(r,"uuid",i.message,t);break;case"regex":vt(r,i.regex,i.message,t);break;case"cuid":vt(r,oa.cuid,i.message,t);break;case"cuid2":vt(r,oa.cuid2,i.message,t);break;case"startsWith":vt(r,RegExp(`^${Lu(i.value,t)}`),i.message,t);break;case"endsWith":vt(r,RegExp(`${Lu(i.value,t)}$`),i.message,t);break;case"datetime":ca(r,"date-time",i.message,t);break;case"date":ca(r,"date",i.message,t);break;case"time":ca(r,"time",i.message,t);break;case"duration":ca(r,"duration",i.message,t);break;case"length":De(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,i.value):i.value,i.message,t),De(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,i.value):i.value,i.message,t);break;case"includes":{vt(r,RegExp(Lu(i.value,t)),i.message,t);break}case"ip":{i.version!=="v6"&&ca(r,"ipv4",i.message,t),i.version!=="v4"&&ca(r,"ipv6",i.message,t);break}case"base64url":vt(r,oa.base64url,i.message,t);break;case"jwt":vt(r,oa.jwt,i.message,t);break;case"cidr":{i.version!=="v6"&&vt(r,oa.ipv4Cidr,i.message,t),i.version!=="v4"&&vt(r,oa.ipv6Cidr,i.message,t);break}case"emoji":vt(r,oa.emoji(),i.message,t);break;case"ulid":{vt(r,oa.ulid,i.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{ca(r,"binary",i.message,t);break}case"contentEncoding:base64":{De(r,"contentEncoding","base64",i.message,t);break}case"pattern:zod":{vt(r,oa.base64,i.message,t);break}}break}case"nanoid":vt(r,oa.nanoid,i.message,t)}return r}function Lu(n,t){return t.patternStrategy==="escape"?P_(n):n}const $_=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function P_(n){let t="";for(let r=0;r<n.length;r++)$_.has(n[r])||(t+="\\"),t+=n[r];return t}function ca(n,t,r,i){var c;n.format||(c=n.anyOf)!=null&&c.some(u=>u.format)?(n.anyOf||(n.anyOf=[]),n.format&&(n.anyOf.push({format:n.format,...n.errorMessage&&i.errorMessages&&{errorMessage:{format:n.errorMessage.format}}}),delete n.format,n.errorMessage&&(delete n.errorMessage.format,Object.keys(n.errorMessage).length===0&&delete n.errorMessage)),n.anyOf.push({format:t,...r&&i.errorMessages&&{errorMessage:{format:r}}})):De(n,"format",t,r,i)}function vt(n,t,r,i){var c;n.pattern||(c=n.allOf)!=null&&c.some(u=>u.pattern)?(n.allOf||(n.allOf=[]),n.pattern&&(n.allOf.push({pattern:n.pattern,...n.errorMessage&&i.errorMessages&&{errorMessage:{pattern:n.errorMessage.pattern}}}),delete n.pattern,n.errorMessage&&(delete n.errorMessage.pattern,Object.keys(n.errorMessage).length===0&&delete n.errorMessage)),n.allOf.push({pattern:pg(t,i),...r&&i.errorMessages&&{errorMessage:{pattern:r}}})):De(n,"pattern",pg(t,i),r,i)}function pg(n,t){var g;if(!t.applyRegexFlags||!n.flags)return n.source;const r={i:n.flags.includes("i"),m:n.flags.includes("m"),s:n.flags.includes("s")},i=r.i?n.source.toLowerCase():n.source;let c="",u=!1,f=!1,m=!1;for(let b=0;b<i.length;b++){if(u){c+=i[b],u=!1;continue}if(r.i){if(f){if(i[b].match(/[a-z]/)){m?(c+=i[b],c+=`${i[b-2]}-${i[b]}`.toUpperCase(),m=!1):i[b+1]==="-"&&((g=i[b+2])!=null&&g.match(/[a-z]/))?(c+=i[b],m=!0):c+=`${i[b]}${i[b].toUpperCase()}`;continue}}else if(i[b].match(/[a-z]/)){c+=`[${i[b]}${i[b].toUpperCase()}]`;continue}}if(r.m){if(i[b]==="^"){c+=`(^|(?<=[\r
]))`;continue}else if(i[b]==="$"){c+=`($|(?=[\r
]))`;continue}}if(r.s&&i[b]==="."){c+=f?`${i[b]}\r
`:`[${i[b]}\r
]`;continue}c+=i[b],i[b]==="\\"?u=!0:f&&i[b]==="]"?f=!1:!f&&i[b]==="["&&(f=!0)}try{new RegExp(c)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),n.source}return c}function ep(n,t){var i,c,u,f,m,g;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((i=n.keyType)==null?void 0:i._def.typeName)===$.ZodEnum)return{type:"object",required:n.keyType._def.values,properties:n.keyType._def.values.reduce((b,y)=>({...b,[y]:Te(n.valueType._def,{...t,currentPath:[...t.currentPath,"properties",y]})??Ot(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};const r={type:"object",additionalProperties:Te(n.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return r;if(((c=n.keyType)==null?void 0:c._def.typeName)===$.ZodString&&((u=n.keyType._def.checks)!=null&&u.length)){const{type:b,...y}=Wg(n.keyType._def,t);return{...r,propertyNames:y}}else{if(((f=n.keyType)==null?void 0:f._def.typeName)===$.ZodEnum)return{...r,propertyNames:{enum:n.keyType._def.values}};if(((m=n.keyType)==null?void 0:m._def.typeName)===$.ZodBranded&&n.keyType._def.type._def.typeName===$.ZodString&&((g=n.keyType._def.type._def.checks)!=null&&g.length)){const{type:b,...y}=Qg(n.keyType._def,t);return{...r,propertyNames:y}}}return r}function H_(n,t){if(t.mapStrategy==="record")return ep(n,t);const r=Te(n.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Ot(t),i=Te(n.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Ot(t);return{type:"array",maxItems:125,items:{type:"array",items:[r,i],minItems:2,maxItems:2}}}function G_(n){const t=n.values,i=Object.keys(n.values).filter(u=>typeof t[t[u]]!="number").map(u=>t[u]),c=Array.from(new Set(i.map(u=>typeof u)));return{type:c.length===1?c[0]==="string"?"string":"number":["string","number"],enum:i}}function V_(n){return n.target==="openAi"?void 0:{not:Ot({...n,currentPath:[...n.currentPath,"not"]})}}function Z_(n){return n.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Xl={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Y_(n,t){if(t.target==="openApi3")return bg(n,t);const r=n.options instanceof Map?Array.from(n.options.values()):n.options;if(r.every(i=>i._def.typeName in Xl&&(!i._def.checks||!i._def.checks.length))){const i=r.reduce((c,u)=>{const f=Xl[u._def.typeName];return f&&!c.includes(f)?[...c,f]:c},[]);return{type:i.length>1?i:i[0]}}else if(r.every(i=>i._def.typeName==="ZodLiteral"&&!i.description)){const i=r.reduce((c,u)=>{const f=typeof u._def.value;switch(f){case"string":case"number":case"boolean":return[...c,f];case"bigint":return[...c,"integer"];case"object":if(u._def.value===null)return[...c,"null"];case"symbol":case"undefined":case"function":default:return c}},[]);if(i.length===r.length){const c=i.filter((u,f,m)=>m.indexOf(u)===f);return{type:c.length>1?c:c[0],enum:r.reduce((u,f)=>u.includes(f._def.value)?u:[...u,f._def.value],[])}}}else if(r.every(i=>i._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((i,c)=>[...i,...c._def.values.filter(u=>!i.includes(u))],[])};return bg(n,t)}const bg=(n,t)=>{const r=(n.options instanceof Map?Array.from(n.options.values()):n.options).map((i,c)=>Te(i._def,{...t,currentPath:[...t.currentPath,"anyOf",`${c}`]})).filter(i=>!!i&&(!t.strictUnions||typeof i=="object"&&Object.keys(i).length>0));return r.length?{anyOf:r}:void 0};function K_(n,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(n.innerType._def.typeName)&&(!n.innerType._def.checks||!n.innerType._def.checks.length))return t.target==="openApi3"?{type:Xl[n.innerType._def.typeName],nullable:!0}:{type:[Xl[n.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const i=Te(n.innerType._def,{...t,currentPath:[...t.currentPath]});return i&&"$ref"in i?{allOf:[i],nullable:!0}:i&&{...i,nullable:!0}}const r=Te(n.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function J_(n,t){const r={type:"number"};if(!n.checks)return r;for(const i of n.checks)switch(i.kind){case"int":r.type="integer",Jg(r,"type",i.message,t);break;case"min":t.target==="jsonSchema7"?i.inclusive?De(r,"minimum",i.value,i.message,t):De(r,"exclusiveMinimum",i.value,i.message,t):(i.inclusive||(r.exclusiveMinimum=!0),De(r,"minimum",i.value,i.message,t));break;case"max":t.target==="jsonSchema7"?i.inclusive?De(r,"maximum",i.value,i.message,t):De(r,"exclusiveMaximum",i.value,i.message,t):(i.inclusive||(r.exclusiveMaximum=!0),De(r,"maximum",i.value,i.message,t));break;case"multipleOf":De(r,"multipleOf",i.value,i.message,t);break}return r}function X_(n,t){const r=t.target==="openAi",i={type:"object",properties:{}},c=[],u=n.shape();for(const m in u){let g=u[m];if(g===void 0||g._def===void 0)continue;let b=F_(g);b&&r&&(g._def.typeName==="ZodOptional"&&(g=g._def.innerType),g.isNullable()||(g=g.nullable()),b=!1);const y=Te(g._def,{...t,currentPath:[...t.currentPath,"properties",m],propertyPath:[...t.currentPath,"properties",m]});y!==void 0&&(i.properties[m]=y,b||c.push(m))}c.length&&(i.required=c);const f=Q_(n,t);return f!==void 0&&(i.additionalProperties=f),i}function Q_(n,t){if(n.catchall._def.typeName!=="ZodNever")return Te(n.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(n.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function F_(n){try{return n.isOptional()}catch{return!0}}const W_=(n,t)=>{var i;if(t.currentPath.toString()===((i=t.propertyPath)==null?void 0:i.toString()))return Te(n.innerType._def,t);const r=Te(n.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:Ot(t)},r]}:Ot(t)},ej=(n,t)=>{if(t.pipeStrategy==="input")return Te(n.in._def,t);if(t.pipeStrategy==="output")return Te(n.out._def,t);const r=Te(n.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),i=Te(n.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,i].filter(c=>c!==void 0)}};function tj(n,t){return Te(n.type._def,t)}function aj(n,t){const i={type:"array",uniqueItems:!0,items:Te(n.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return n.minSize&&De(i,"minItems",n.minSize.value,n.minSize.message,t),n.maxSize&&De(i,"maxItems",n.maxSize.value,n.maxSize.message,t),i}function sj(n,t){return n.rest?{type:"array",minItems:n.items.length,items:n.items.map((r,i)=>Te(r._def,{...t,currentPath:[...t.currentPath,"items",`${i}`]})).reduce((r,i)=>i===void 0?r:[...r,i],[]),additionalItems:Te(n.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:n.items.length,maxItems:n.items.length,items:n.items.map((r,i)=>Te(r._def,{...t,currentPath:[...t.currentPath,"items",`${i}`]})).reduce((r,i)=>i===void 0?r:[...r,i],[])}}function nj(n){return{not:Ot(n)}}function rj(n){return Ot(n)}const ij=(n,t)=>Te(n.innerType._def,t),lj=(n,t,r)=>{switch(t){case $.ZodString:return Wg(n,r);case $.ZodNumber:return J_(n,r);case $.ZodObject:return X_(n,r);case $.ZodBigInt:return C_(n,r);case $.ZodBoolean:return R_();case $.ZodDate:return Fg(n,r);case $.ZodUndefined:return nj(r);case $.ZodNull:return Z_(r);case $.ZodArray:return O_(n,r);case $.ZodUnion:case $.ZodDiscriminatedUnion:return Y_(n,r);case $.ZodIntersection:return B_(n,r);case $.ZodTuple:return sj(n,r);case $.ZodRecord:return ep(n,r);case $.ZodLiteral:return I_(n,r);case $.ZodEnum:return L_(n);case $.ZodNativeEnum:return G_(n);case $.ZodNullable:return K_(n,r);case $.ZodOptional:return W_(n,r);case $.ZodMap:return H_(n,r);case $.ZodSet:return aj(n,r);case $.ZodLazy:return()=>n.getter()._def;case $.ZodPromise:return tj(n,r);case $.ZodNaN:case $.ZodNever:return V_(r);case $.ZodEffects:return U_(n,r);case $.ZodAny:return Ot(r);case $.ZodUnknown:return rj(r);case $.ZodDefault:return z_(n,r);case $.ZodBranded:return Qg(n,r);case $.ZodReadonly:return ij(n,r);case $.ZodCatch:return D_(n,r);case $.ZodPipeline:return ej(n,r);case $.ZodFunction:case $.ZodVoid:case $.ZodSymbol:return;default:return(i=>{})()}};function Te(n,t,r=!1){var m;const i=t.seen.get(n);if(t.override){const g=(m=t.override)==null?void 0:m.call(t,n,t,i,r);if(g!==A_)return g}if(i&&!r){const g=oj(i,t);if(g!==void 0)return g}const c={def:n,path:t.currentPath,jsonSchema:void 0};t.seen.set(n,c);const u=lj(n,n.typeName,t),f=typeof u=="function"?Te(u(),t):u;if(f&&cj(n,t,f),t.postProcess){const g=t.postProcess(f,n,t);return c.jsonSchema=f,g}return c.jsonSchema=f,f}const oj=(n,t)=>{switch(t.$refStrategy){case"root":return{$ref:n.path.join("/")};case"relative":return{$ref:Xg(t.currentPath,n.path)};case"none":case"seen":return n.path.length<t.currentPath.length&&n.path.every((r,i)=>t.currentPath[i]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Ot(t)):t.$refStrategy==="seen"?Ot(t):void 0}},cj=(n,t,r)=>(n.description&&(r.description=n.description,t.markdownDescription&&(r.markdownDescription=n.description)),r),uj=(n,t)=>{const r=T_(t);let i=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((g,[b,y])=>({...g,[b]:Te(y._def,{...r,currentPath:[...r.basePath,r.definitionPath,b]},!0)??Ot(r)}),{}):void 0;const c=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,u=Te(n._def,c===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,c]},!1)??Ot(r),f=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;f!==void 0&&(u.title=f),r.flags.hasReferencedOpenAiAnyType&&(i||(i={}),i[r.openAiAnyTypeName]||(i[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:r.$refStrategy==="relative"?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));const m=c===void 0?i?{...u,[r.definitionPath]:i}:u:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,c].join("/"),[r.definitionPath]:{...i,[c]:u}};return r.target==="jsonSchema7"?m.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(m.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in m||"oneOf"in m||"allOf"in m||"type"in m&&Array.isArray(m.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),m};var Il={};const hi="gemini-1.5-flash",dj="llama-3.3-70b-versatile",hj="llama-3.1-8b-instant",xg=45e3;let fi=!1,yg=!1,nd=0;const fj=()=>Date.now()<nd,tp=(n="gemini")=>{if(n==="groq")return"gsk_HGqeFBigNGnDohHsJC4YW"+"Gdyb3FYM4mTySHqwIHUzpn2eXLIHkkA";if(fi)return"";if(typeof import.meta<"u"){const t="AIzaSyBQn84Fj-kReWK1dmg8EUw3jCD0-KAVAXk";if(vg(t))return t}if(typeof process<"u"&&(Il!=null&&Il.GEMINI_API_KEY)){const t=Il.GEMINI_API_KEY;if(vg(t))return t}return""},vg=n=>!(!n||!n.startsWith("AIza")||n.toUpperCase().includes("PLACEHOLDER")||n.length<35);let qu=null;const mj=()=>{if(fi)return null;const n=tp("gemini");return n?(qu||(qu=new Bx(n)),qu):null},ap=async n=>{var t;if(console.log(`[AI Request] Provider: ${n.provider||"default (gemini)"}, Model: ${n.model||hi}`),n.provider==="groq")return _g(n);if(!fi){const r=mj();if(r)try{return await pj(r,n)}catch(i){((t=i.message)!=null&&t.includes("404")||i.status===404)&&(console.warn("[AI] Model restricted or invalid key. Switching to network bridge..."),fi=!0)}}if(!yg)try{return await bj(n)}catch(r){const i=r.message||"";i.includes("502")||i.includes("Timeout")?(console.warn("[AI] Network bridge unstable (502/Timeout). Using backup..."),yg=!0):i.includes("UPSTREAM_ERROR")&&(console.groupCollapsed("[AI] Provider Alert"),console.log("Details:",i),console.groupEnd())}return console.log("[AI] Safety net activated (Groq)"),await _g(n)},gj=async(n,t)=>{const r=Date.now();let i=null,c="";const u=n.provider!=="groq"&&!fi;let f={...n,jsonMode:!0};if(u){const g=uj(t,{target:"jsonSchema7"});f.responseSchema=g}const m=async(g=!1,b)=>{try{let y={...f};if(g&&b){console.warn(`[AI Client] Attempting self-repair. Error: ${b}`);const T=`

CRITICAL: Your previous response was invalid JSON or missed schema requirements. 
Validation Error: ${b}
Fix the structure to match the schema exactly.`;y.systemInstruction=(y.systemInstruction||"")+T}c=await ap(y);const v=c.replace(/^```(?:json)?|```$/gi,"").trim(),_=JSON.parse(v),N=t.parse(_);return wg({provider:n.provider||"gemini",model:n.model||hi,durationMs:Date.now()-r,success:!0,timestamp:Date.now(),inputTokens:0,outputTokens:c.length/4}),g&&console.log("[AI Client] Self-repair COMPLETE."),N}catch(y){if(!g){let v="Invalid JSON format";return y instanceof aa?v=y.errors.map(_=>`Field '${_.path.join(".")}' is invalid: ${_.message}`).join("; "):y instanceof SyntaxError&&(v="JSON Syntax Error: "+y.message),await m(!0,v)}throw i=y,console.error("Structured Generation Error (Final). Raw Text Preview:",c.substring(0,200)),y instanceof aa?new Error(`AI Schema Validation Failed after repair: ${y.errors.map(v=>`${v.path.join(".")}: ${v.message}`).join(", ")}`):new Error("Failed to parse or validate AI response after retries.")}};try{return await m(!1)}finally{i&&wg({provider:n.provider||"gemini",model:n.model||hi,durationMs:Date.now()-r,success:!1,errorCode:i.message||"Unknown Error",timestamp:Date.now()})}},sp=async n=>gj(n,Kg()),wg=n=>{console.debug(`[TELEMETRY] ${JSON.stringify(n)}`)};async function pj(n,t){return(await n.getGenerativeModel({model:t.model||hi,systemInstruction:t.systemInstruction}).generateContent({contents:[{role:"user",parts:[{text:t.prompt}]}],generationConfig:{temperature:t.temperature??.7,responseMimeType:t.jsonMode?"application/json":"text/plain"}})).response.text()}async function bj(n){const{data:t,error:r}=await Tt.functions.invoke("gemini-proxy",{body:{prompt:n.prompt,model:n.model||hi,systemInstruction:n.systemInstruction,temperature:n.temperature,jsonMode:n.jsonMode}});if(r)throw new Error(`Proxy Error: ${r.message||"Unknown error"}`);if(!t||!t.text)throw new Error("Proxy Error: Invalid response format from edge function");return t.text}async function _g(n){var u,f,m;if(fj()){const g=Math.ceil((nd-Date.now())/1e3);throw new Error(`Groq temporalmente bloqueado (Rate Limit). Reintenta en ${g}s.`)}const t=tp("groq");if(!t)throw new Error("No Groq API key available");let r=n.prompt;r.length>xg&&(console.warn(`[Groq] Truncating prompt (${r.length} chars)`),r=r.substring(0,xg)+`

[...TRUNCATED...]`);const i=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:n.model&&n.model.includes("llama")?n.model:dj,messages:[...n.systemInstruction?[{role:"system",content:n.systemInstruction}]:[],{role:"user",content:r}],temperature:n.temperature??.7,response_format:n.jsonMode?{type:"json_object"}:void 0})});if(!i.ok){i.status===429&&(console.error("[Groq] Rate limit hit. Pausing service for 30s..."),nd=Date.now()+3e4);const g=await i.json().catch(()=>({}));throw new Error(`Groq Error ${i.status}: ${((u=g.error)==null?void 0:u.message)||i.statusText}`)}return((m=(f=(await i.json()).choices[0])==null?void 0:f.message)==null?void 0:m.content)||""}function xj(n){const r=(n.match(/[^.!?]+[.!?]+/g)||[n]).map(u=>u.trim().split(/\s+/).length);if(r.length<=1)return 0;const i=r.reduce((u,f)=>u+f,0)/r.length,c=r.reduce((u,f)=>u+Math.pow(f-i,2),0)/r.length;return Math.sqrt(c)}function yj(n){const r=(n.match(/[^.!?]+[.!?]+/g)||[n]).map(c=>c.trim().split(/\s+/).length);if(r.length<=1)return 0;const i=r.reduce((c,u)=>c+u,0)/r.length;return r.reduce((c,u)=>c+Math.pow(u-i,2),0)/r.length}function vj(n){const t=n.toLowerCase().match(/\b\w+\b/g)||[];return t.length===0?0:new Set(t).size/t.length}function wj(n){const t=n.match(/[^.!?]+[.!?]+/g)||[];if(t.length<3)return 0;let r=0;const i=[];for(const c of t){const f=c.trim().split(/\s+/).slice(0,3).map(m=>/^[A-Z]/.test(m)?"NOUN":["el","la","los","las","un","una","the","a","an"].includes(m.toLowerCase())?"ART":["es","son","est","estn","is","are","was","were"].includes(m.toLowerCase())?"VERB":"OTHER").join("-");i.includes(f)&&r++,i.push(f)}return Math.min(r/t.length,1)}function _j(n){const t=n.split(/\n\n+/).filter(m=>m.trim().length>0);if(t.length<2)return 0;const r=t.map(m=>m.split(/\s+/).length),i=r.reduce((m,g)=>m+g,0)/r.length,c=r.reduce((m,g)=>m+Math.pow(g-i,2),0)/r.length,f=Math.sqrt(c)/i;return Math.max(0,1-f)}function jj(n){const t=["furthermore","moreover","in conclusion","it is important to note","additionally","consequently","subsequently","overall","on the other hand","as a result","in other words","for instance","specifically","notably","in summary","to summarize","in essence","importantly","significantly"],r=["adems","sin embargo","por lo tanto","en consecuencia","por consiguiente","no obstante","de hecho","en primer lugar","en segundo lugar","por otro lado","en conclusin","es importante destacar","cabe destacar","es importante sealar","resulta evidente","asimismo","por ende","en resumen","en sntesis","como resultado","de esta manera","en este sentido","vale la pena mencionar","es necesario sealar","conviene destacar"],i=[...t,...r];let c=0;const u=n.toLowerCase();return i.forEach(f=>{const m=new RegExp(`\\b${f}\\b`,"gi");c+=(u.match(m)||[]).length}),c}function Nj(n){const t=n.toLowerCase().match(/\b\w+\b/g)||[];if(t.length<10)return .5;const r=t.map(b=>b.length),i=new Set(r).size,c=[];for(let b=0;b<t.length-1;b++)c.push(`${t[b]}_${t[b+1]}`);const u=new Set(c).size,f=c.length>0?u/c.length:.5,m=Math.min(i/15,1),g=f;return m*.4+g*.6}function Sj(n){let t=50;return n.burstiness<3?t+=20:n.burstiness<5?t+=10:n.burstiness>8&&(t-=15),n.perplexityProxy<.35?t+=20:n.perplexityProxy<.45?t+=10:n.perplexityProxy>.55&&(t-=10),n.aiConnectorsCount>5?t+=15:n.aiConnectorsCount>3?t+=8:n.aiConnectorsCount===0&&(t-=5),n.sentenceLengthVariance<30?t+=15:n.sentenceLengthVariance<50?t+=8:n.sentenceLengthVariance>100&&(t-=10),n.structuralSymmetryScore>.4?t+=10:n.structuralSymmetryScore>.25&&(t+=5),n.paragraphUniformity>.8?t+=10:n.paragraphUniformity>.6&&(t+=5),n.lexicalDiversity<.35?t+=10:n.lexicalDiversity>.55&&(t-=5),Math.max(0,Math.min(100,t))}function rd(n){const t=n.trim().split(/\s+/),r=n.match(/[^.!?]+[.!?]+/g)||[n],i={burstiness:xj(n),lexicalDiversity:vj(n),avgSentenceLength:t.length/r.length,sentenceCount:r.length,wordCount:t.length,perplexityProxy:Nj(n),readabilityScore:206.835-1.015*(t.length/r.length)-84.6*(n.length/t.length/5),aiConnectorsCount:jj(n),sentenceLengthVariance:yj(n),structuralSymmetryScore:wj(n),paragraphUniformity:_j(n),aiRiskScore:0};return i.aiRiskScore=Sj(i),i}const kj=async n=>{const t=rd(n);return{...await np(n.substring(0,5e3),t),metrics:t}},Aj=async(n,t)=>{const r=n.trim().replace(/\s+/g," "),i=rd(r),c=12e3,u=[];for(let R=0;R<r.length;R+=c)u.push(r.substring(R,R+c));const f=u.length;let m=[],g=new Set,b=0,y=0,v={chatgpt:0,gemini:0,claude:0};for(let R=0;R<f;R++){const U=Math.round(R/f*100);t&&t(U,`Analizando bloque ${R+1} de ${f}...`);const L=rd(u[R]);try{const B=await np(u[R],L);b+=B.score,y++,B.sourceProbabilities&&(v.chatgpt+=B.sourceProbabilities.chatgpt,v.gemini+=B.sourceProbabilities.gemini,v.claude+=B.sourceProbabilities.claude),m=[...m,...B.heatmap],B.signals.forEach(q=>g.add(q))}catch(B){console.error(`Error analyzing chunk ${R}`,B)}f>1&&await new Promise(B=>setTimeout(B,300))}t&&t(100,"Generando veredicto final...");const _=y||1,N=b/_;let T="A";return N>.8?T="D":N>.6?T="C":N>.3&&(T="B"),{score:N,category:T,confidence:y>f/2?"High":"Medium",signals:Array.from(g),heatmap:m.length>0?m:[{text:n.substring(0,200)+"...",probability:N}],metrics:i,sourceProbabilities:{chatgpt:Math.round(v.chatgpt/_),gemini:Math.round(v.gemini/_),claude:Math.round(v.claude/_)}}};async function np(n,t){var r,i,c,u;try{return await sp({prompt:`
            Acta como un experto forense en lingstica computacional, especializado en los modelos de deteccin Turnitin AIW-2, AIR-1 y Compilatio Magister+.
            
            Tu misin es analizar este fragmento de texto para detectar huellas de IA (ChatGPT, Gemini, Claude, Llama).

            === MTRICAS CUANTITATIVAS LOCALES ===
            - Burstiness: ${t.burstiness.toFixed(2)} (< 4.0 = ALTA SOSPECHA - IA tiene oraciones uniformes)
            - Perplejidad (Proxy): ${t.perplexityProxy.toFixed(2)} (< 0.4 = ALTA SOSPECHA - texto predecible)
            - Varianza de Longitud de Oracin: ${t.sentenceLengthVariance.toFixed(2)} (< 50 = SOSPECHOSO)
            - Simetra Estructural: ${t.structuralSymmetryScore.toFixed(2)} (> 0.3 = SOSPECHOSO - construcciones paralelas)
            - Uniformidad de Prrafos: ${t.paragraphUniformity.toFixed(2)} (> 0.7 = SOSPECHOSO)
            - Conectores IA Detectados: ${t.aiConnectorsCount} (> 3 = SOSPECHOSO)
            - Diversidad Lxica: ${t.lexicalDiversity.toFixed(2)} (< 0.4 = SOSPECHOSO)
            - Puntuacin de Riesgo IA Local: ${t.aiRiskScore}/100

            === PATRONES DE DETECCIN TURNITIN ===
            1. AIW-2 (Modelo Principal): Detecta BAJA perplejidad + BAJA variabilidad de oraciones
            2. AIR-1 (Detector de Parafraseo): Detecta sustitucin mecnica de sinnimos
            3. Bypasser Detection: Detecta texto que pas por humanizadores

            === PATRONES DE DETECCIN COMPILATIO MAGISTER+ ===
            1. Reformulaciones Profundas: Detecta texto reescrito manteniendo estructura semntica
            2. Plagio Semntico: Detecta significado preservado con palabras cambiadas
            3. Traducciones: Detecta artefactos de traduccin automtica
            
            === CONECTORES TPICOS DE IA (Lista Negra) ===
            Espaol: "adems", "sin embargo", "por lo tanto", "en conclusin", "es importante destacar", "cabe sealar", "resulta evidente", "por ende"
            Ingls: "furthermore", "moreover", "in conclusion", "it is important to note", "additionally"

            === TEXTO A ANALIZAR ===
            "${n}"

            === SALIDA JSON REQUERIDA ===
            {
                "score": number, 
                "category": "A"|"B"|"C"|"D", 
                "confidence": "Low"|"Medium"|"High",
                "signals": ["seal detectada..."],
                "heatmap": [{ "text": "...", "probability": 0.0-1.0 }],
                "sourceProbabilities": { "chatgpt": 0-100, "gemini": 0-100, "claude": 0-100 },
                "turnitinIndicators": { "aiw2_score": 0-100, "air1_paraphrase_detected": boolean, "bypasser_detected": boolean },
                "compilatioIndicators": { "deep_reformulation": boolean, "semantic_plagiarism_score": 0-100, "translation_artifacts": boolean }
            }
            
            === INSTRUCCIONES CRTICAS ===
            - El "heatmap" debe dividir el texto en oraciones/frases resaltando las ms sospechosas
            - Correlaciona tu anlisis con las mtricas locales
            - S estricto pero justo
            - IMPORTANTE: Incluye turnitinIndicators y compilatioIndicators en tu respuesta
            `,systemInstruction:"Acta como un experto forense en lingstica computacional.",temperature:.1,provider:"gemini"})}catch(f){if(console.error("AI Detection failed",f),(r=f.message)!=null&&r.includes("API Key")||(i=f.message)!=null&&i.includes("API_KEY"))throw new Error("Falta la API Key de Gemini. Configrala en Ajustes.");if((c=f.message)!=null&&c.includes("fetch failed")||(u=f.message)!=null&&u.includes("Network"))throw new Error("Error de Conexin. Verifica tu internet.");return{score:.5,category:"B",confidence:"Low",signals:["Error en anlisis de fragmento: "+(f.message||"Desconocido")],heatmap:[{text:n.substring(0,100)+"...",probability:.5}],sourceProbabilities:{chatgpt:0,gemini:0,claude:0}}}}const Ej=async(n,t="Documento Analizado")=>{try{const{jsPDF:r}=await Ha(async()=>{const{jsPDF:_}=await import("./pdf-vendor-DpgYL85d.js").then(N=>N.j);return{jsPDF:_}},[]),i=(await Ha(async()=>{const{default:_}=await import("./pdf-vendor-DpgYL85d.js").then(N=>N.c);return{default:_}},[])).default,c=new r,u=c.internal.pageSize.width,f=c.internal.pageSize.height;c.setFillColor(19,91,236),c.rect(0,0,u,25,"F"),c.setTextColor(255,255,255),c.setFontSize(16),c.setFont("helvetica","bold"),c.text("Informe de Auditora Forense de IA",14,16),c.setFontSize(10),c.setFont("helvetica","normal"),c.text(`Generado por ScholarAI - ${new Date().toLocaleDateString()}`,14,22);let m=35;c.setTextColor(40,44,52),c.setFontSize(14),c.setFont("helvetica","bold"),c.text("1. Resumen Ejecutivo",14,m),m+=10,c.setFillColor(245,247,250),c.roundedRect(14,m,u-28,35,3,3,"F");const g=n.score<.4,b=g?[16,185,129]:[239,68,68];c.setTextColor(b[0],b[1],b[2]),c.setFontSize(24),c.setFont("helvetica","bold"),c.text(`${(n.score*100).toFixed(0)}%`,20,m+18),c.setFontSize(10),c.setTextColor(100,100,100),c.text("Probabilidad de Autora IA",20,m+26),c.setFontSize(14),c.setTextColor(40,44,52),c.setFont("helvetica","bold");const y=g?"DOCUMENTO AUTNTICO":"PATRN SINTTICO DETECTADO";c.text(y,60,m+15),c.setFontSize(10),c.setFont("helvetica","normal"),c.text(`Nivel de Confianza: ${n.confidence||"Media"}`,60,m+22),m+=45,c.setFontSize(12),c.setFont("helvetica","bold"),c.text("2. Mtricas Estilomtricas",14,m),m+=8;const v=[["Mtrica","Valor","Interpretacin"],["Burstiness (Variabilidad)",n.metrics.burstiness.toFixed(2),n.metrics.burstiness<4?"Baja (Sospechoso)":"Normal"],["Perplejidad (Proxy)",n.metrics.perplexityProxy.toFixed(2),n.metrics.perplexityProxy<.4?"Baja (Sospechoso)":"Normal"],["Diversidad Lxica",n.metrics.lexicalDiversity.toFixed(2),"-"]];return i(c,{startY:m,head:[v[0]],body:v.slice(1),theme:"grid",headStyles:{fillColor:[240,240,240],textColor:[50,50,50],fontStyle:"bold"},styles:{fontSize:9,cellPadding:3},columnStyles:{0:{fontStyle:"bold"}}}),m=c.lastAutoTable.finalY+15,n.signals&&n.signals.length>0&&(c.setFontSize(12),c.setFont("helvetica","bold"),c.text("3. Seales de IA Detectadas",14,m),m+=8,n.signals.forEach(_=>{c.setFillColor(254,242,242),c.rect(14,m,u-28,8,"F"),c.setTextColor(185,28,28),c.setFontSize(9),c.text(` ${_}`,18,m+6),m+=10}),m+=5),n.sourceProbabilities&&(m>f-50&&(c.addPage(),m=20),c.setFillColor(40,44,52),c.setTextColor(40,44,52),c.setFontSize(12),c.setFont("helvetica","bold"),c.text("4. Anlisis de Fuente Probable",14,m),m+=8,[{name:"ChatGPT / OpenAI",score:n.sourceProbabilities.chatgpt},{name:"Gemini / Google",score:n.sourceProbabilities.gemini},{name:"Claude / Anthropic",score:n.sourceProbabilities.claude}].sort((N,T)=>T.score-N.score).forEach(N=>{c.setFontSize(10),c.setFont("helvetica","normal"),c.text(`${N.name}: ${N.score}%`,14,m),c.setFillColor(230,230,230),c.rect(60,m-3,100,3,"F"),c.setFillColor(19,91,236),c.rect(60,m-3,N.score,3,"F"),m+=8})),c.save(`Auditoria_IA_${t.substring(0,15)}.pdf`),!0}catch(r){throw console.error("Error generating Audit PDF:",r),r}},id={MAX_TEXT_LENGTH:5e3,MAX_TABLE_ROWS:500},Wr=n=>{if(!n)return"";let t=n.replace(/[\u0000-\u0008\u000B\u000C\u000E-\u001F]/g,"");return t.length>id.MAX_TEXT_LENGTH&&(t=t.substring(0,id.MAX_TEXT_LENGTH)+" [TRUNCADO POR SEGURIDAD]"),t},Tj=n=>{const t=[];if(t.push({type:"heading1",content:"Diagnstico Global"}),n.analysisWarnings&&n.analysisWarnings.length>0&&(t.push({type:"text",content:"ADVERTENCIA: ANLISIS PARCIAL",styling:{bold:!0,color:"#b91c1c",align:"center",size:14}}),t.push({type:"text",content:"El siguiente reporte contiene secciones generadas automticamente que podran estar incompletas. Verifique los siguientes puntos:",styling:{color:"#b91c1c",align:"justify",size:10}}),n.analysisWarnings.forEach(r=>{t.push({type:"text",content:`- ${Wr(r)}`,styling:{color:"#dc2626",size:9}})}),t.push({type:"text",content:""})),n.globalDiagnosis&&(n.globalDiagnosis.score&&t.push({type:"text",content:`Puntuacin General: ${n.globalDiagnosis.score}/100`,styling:{bold:!0,align:"center",color:"#2563eb"}}),t.push({type:"text",content:Wr(n.globalDiagnosis.summary||n.globalDiagnosis.auditSummary),styling:{align:"justify"}})),n.consistencyMatrix&&n.consistencyMatrix.length>0){t.push({type:"page_break"}),t.push({type:"heading1",content:"Matriz de Consistencia"});const r=["Elemento","Nivel","Observacin Tcnica"],i=n.consistencyMatrix.slice(0,id.MAX_TABLE_ROWS).map(c=>[Wr(c.element),Wr(c.coherenceLevel),Wr(c.technicalObservation)]);t.push({type:"table",tableData:{headers:r,rows:i,isMatrix:!0}})}return{metadata:{title:"Informe de Matriz de Consistencia",subtitle:"Evaluacin de Coherencia Metodolgica",date:new Date().toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),brandingColor:"ea580c"},sections:t}},Oj=n=>{var r,i,c,u;const t=[];return t.push({type:"heading1",content:"Resultado de Auditora"}),t.push({type:"text",content:`Probabilidad de IA: ${(n.score*100).toFixed(1)}%`,styling:{bold:!0,align:"center",size:24,color:n.score>.6?"#dc2626":n.score>.3?"#f59e0b":"#16a34a",isCritical:n.score>.6}}),t.push({type:"heading2",content:"Mtricas Forenses"}),t.push({type:"list",content:`Burstiness: ${((i=(r=n.metrics)==null?void 0:r.burstiness)==null?void 0:i.toFixed(2))||"N/A"}`}),t.push({type:"list",content:`Perplejidad: ${((u=(c=n.metrics)==null?void 0:c.perplexityProxy)==null?void 0:u.toFixed(2))||"N/A"}`}),{metadata:{title:"Informe de Auditora Forense",date:new Date().toLocaleDateString(),brandingColor:"#64748b"},sections:t}};var Cj=Ix();const Rj=(n,t={})=>new va({children:[new ud({text:n,bold:t.bold,size:t.size?t.size*2:24,color:t.color?t.color.replace("#",""):"1e293b",font:"Arial"})],alignment:t.align==="center"?Qs.CENTER:t.align==="right"?Qs.RIGHT:t.align==="justify"?Qs.JUSTIFIED:Qs.LEFT,spacing:{before:120,after:120}}),Dj=n=>{const t=new w0({tableHeader:!0,children:n.headers.map(i=>new _0({children:[new va({children:[new ud({text:i,bold:!0,color:"ffffff"})],alignment:Qs.CENTER})],shading:{fill:"475569"},verticalAlign:"center",margins:{top:100,bottom:100,left:100,right:100}}))}),r=n.rows.map(i=>new w0({children:i.map(c=>new _0({children:[new va(c)],margins:{top:100,bottom:100,left:100,right:100}}))}));return new Gx({width:{size:100,type:Vx.PERCENTAGE},rows:[t,...r],borders:{top:{style:$n.SINGLE,size:1,color:"e2e8f0"},bottom:{style:$n.SINGLE,size:1,color:"e2e8f0"},left:{style:$n.SINGLE,size:1,color:"e2e8f0"},right:{style:$n.SINGLE,size:1,color:"e2e8f0"},insideHorizontal:{style:$n.SINGLE,size:1,color:"e2e8f0"},insideVertical:{style:$n.SINGLE,size:1,color:"e2e8f0"}}})},Mj=async(n,t="export.docx")=>{const r=[];r.push(new va({text:n.metadata.title.toUpperCase(),heading:wu.TITLE,alignment:Qs.CENTER,spacing:{after:200}})),r.push(new va({children:[new ud({text:`Generado por ${n.metadata.creator} | ${n.metadata.date}`,size:20,color:"94a3b8"})],alignment:Qs.CENTER,spacing:{after:600}})),n.sections.forEach(u=>{var f;switch(u.type){case"heading1":r.push(new va({text:(f=u.content)==null?void 0:f.toUpperCase(),heading:wu.HEADING_1,spacing:{before:400,after:200}}));break;case"heading2":r.push(new va({text:u.content,heading:wu.HEADING_2,spacing:{before:300,after:150}}));break;case"text":u.content&&r.push(Rj(u.content,u.styling));break;case"list":u.content&&r.push(new va({text:" "+u.content,spacing:{before:50,after:50},indent:{left:720,hanging:360}}));break;case"table":u.tableData&&(r.push(Dj(u.tableData)),r.push(new va("")));break;case"page_break":r.push(new va({children:[new $x]}));break}});const i=new Px({creator:n.metadata.creator,title:n.metadata.title,description:n.metadata.subtitle,sections:[{properties:{},children:r}]}),c=await Hx.toBlob(i);Cj.saveAs(c,t)},rp={generateWordDocument:Mj},zj=()=>{var Q,qe,lt,Oe,Vt,bt;const{project:n,uploadedFile:t,setUploadedFile:r}=pd();cd();const{showNotification:i}=bd(),[c,u]=ie.useState(""),[f,m]=ie.useState(!1),[g,b]=ie.useState(null),[y,v]=ie.useState("audit"),[_,N]=ie.useState("full"),[T,R]=ie.useState(0),[U,L]=ie.useState(""),[B,q]=ie.useState(""),[V,ee]=ie.useState(!1);ie.useEffect(()=>{if(t!=null&&t.content){const F=Array.isArray(t.content)?t.content.map(k=>k.text).join(`

`):t.content;typeof F=="string"&&F!==c&&(u(F),F.length>5e3&&N("full"))}else n.content&&!c&&(u(n.content),n.content.length>5e3&&N("full"))},[t,n.content]);const J=async()=>{if(c.trim()){if(_==="quick"&&c.length>6e3)if(confirm("El texto excede el lmite recomendado para Anlisis Rpido (6000 caracteres). Quieres cambiar a Auditora Completa?"))N("full");else return;m(!0),b(null),R(0),L("Iniciando anlisis forense...");try{let F;_==="full"?F=await Aj(c,(k,P)=>{R(k),L(P)}):F=await kj(c),b(F)}catch(F){console.error("Analysis Error:",F),i("Hubo un error al realizar el anlisis. Por favor intenta nuevamente.","error")}finally{m(!1),R(0)}}},le=async()=>{if(c.trim()){ee(!0);try{const F=await ap({prompt:`Genera un resumen ejecutivo de mximo 3 prrafos para el siguiente documento acadmico. Enfcate n los puntos clave, metodologa y conclusiones principales. Texto:

${c.substring(0,3e4)}`,systemInstruction:"Eres un asistente acadmico experto que resume tesis de forma clara y profesional.",provider:"groq",model:hj,temperature:.5});q(F),i("Resumen instantneo generado con Groq","success")}catch(F){console.error("Groq Summary Error:",F),i("Error al generar resumen con Groq","error")}finally{ee(!1)}}},oe=()=>{if(!g||!g.metrics)return null;const F=g.metrics.burstiness||0,k=g.metrics.perplexityProxy||0,P=[],K=Math.min(F,10)/2;for(let ce=0;ce<=100;ce+=5){const Ne=80+Math.sin(ce*.5)*K+Math.random()*Math.min(k,5)*20;P.push(`${ce/100*800},${Ne}`)}const be=`M 0,100 Q ${P.join(" ")}`;return o.jsxs("svg",{className:"absolute inset-0 w-full h-full z-10 overflow-visible",preserveAspectRatio:"none",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"gradient-line",x1:"0",x2:"1",y1:"0",y2:"0",children:[o.jsx("stop",{offset:"0%",stopColor:"#135bec",stopOpacity:"0.3"}),o.jsx("stop",{offset:"100%",stopColor:"#135bec",stopOpacity:"1"})]})}),o.jsx("path",{d:`${be} L 800 150 L 0 150 Z`,fill:"url(#gradient-line)",opacity:"0.1"}),o.jsx("path",{d:be,fill:"none",stroke:"#135bec",strokeWidth:"3",vectorEffect:"non-scaling-stroke"}),o.jsx("circle",{className:"fill-white dark:fill-[#135bec] stroke-[#135bec] dark:stroke-white stroke-2",cx:"95%",cy:"80",r:"6"})]})};return o.jsx("div",{className:"flex h-[calc(100vh-64px)] w-full bg-slate-50 dark:bg-slate-900 font-sans text-slate-900 dark:text-white overflow-hidden",children:o.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[o.jsxs("header",{className:"h-20 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between px-8 bg-white dark:bg-slate-900 shrink-0 z-40",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold tracking-tight text-slate-900 dark:text-white flex items-center gap-2",children:[o.jsx("span",{className:"material-symbols-outlined text-primary",children:"security"}),"Laboratorio de Auditora Forense"]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Anlisis Estratgico de Texto y Verificacin de Integridad Acadmica"})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-1 rounded-lg flex items-center",children:[o.jsx("button",{onClick:()=>N("quick"),className:`px-4 py-1.5 rounded-md text-xs font-bold transition-all ${_==="quick"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"Anlisis Rpido"}),o.jsx("button",{onClick:()=>N("full"),className:`px-4 py-1.5 rounded-md text-xs font-bold transition-all ${_==="full"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"Auditora Completa"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"file",accept:".pdf,.docx,.txt",onChange:async F=>{var P;const k=(P=F.target.files)==null?void 0:P[0];if(k){m(!0),R(0),L("Iniciando lectura..."),N("full");try{let K="";if(k.type==="application/pdf"||k.name.toLowerCase().endsWith(".pdf")){const be=await k.arrayBuffer(),ce=await Ha(()=>import("./pdf-vendor-DpgYL85d.js").then(Ne=>Ne.p),[]);if(!ce.GlobalWorkerOptions.workerSrc){const Ne=await Ha(()=>Promise.resolve().then(()=>cN),void 0);ce.GlobalWorkerOptions.workerSrc=Ne.default}try{const Ne=await ce.getDocument({data:be}).promise,je=Ne.numPages;if(je>150&&!confirm(`Este documento tiene ${je} pginas. Deseas procesarlo por completo?`)){m(!1);return}for(let me=1;me<=je;me++){const Ze=Math.round(me/je*100);R(Ze),L(`Extrayendo texto: pgina ${me} de ${je}...`);const ma=await(await Ne.getPage(me)).getTextContent();let Va=-1,Za="";for(const ga of ma.items)Va!==-1&&Math.abs(ga.transform[5]-Va)>5&&(Za+=`
`),Za+=ga.str,Va=ga.transform[5];K+=Za+`

`}}catch(Ne){throw console.error("PDF Parsing error:",Ne),new Error("No se pudo extraer el texto del PDF.")}}else if(k.name.toLowerCase().endsWith(".docx")){L("Procesando Word...");const be=await k.arrayBuffer();K=(await(await Ha(()=>Promise.resolve().then(()=>uN),void 0)).extractRawText({arrayBuffer:be})).value}else L("Leyendo archivo de texto..."),K=await new Promise(be=>{const ce=new FileReader;ce.onload=Ne=>{var je;return be(((je=Ne.target)==null?void 0:je.result)||"")},ce.readAsText(k)});K.trim()?(r({name:k.name,type:k.type,size:k.size,content:K,lastModified:k.lastModified}),u(K),i("Documento cargado correctamente","success")):i("No se detect texto en el documento","warning")}catch(K){console.error("Upload error:",K),i("Error al procesar el archivo","error")}finally{m(!1),R(0),F.target&&(F.target.value="")}}},className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full"}),o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 text-sm font-medium hover:bg-slate-50 dark:hover:bg-white/5 transition-all",children:[o.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"upload_file"}),"Cargar Doc"]})]}),o.jsxs("button",{onClick:()=>{u(""),r(null)},className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 text-sm font-medium hover:bg-slate-50 dark:hover:bg-white/5 transition-all",children:[o.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"delete"}),"Limpiar"]}),o.jsxs("button",{onClick:le,disabled:V||!c.trim(),className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-primary text-primary text-sm font-bold hover:bg-primary/5 transition-all",children:[o.jsx("span",{className:"material-symbols-outlined text-[18px]",children:V?"bolt":"speed"}),V?"Resumiendo...":"Resumen Groq"]}),o.jsxs("button",{onClick:J,disabled:f||!c.trim(),className:"flex items-center gap-2 px-6 py-2 rounded-lg bg-primary text-white text-sm font-bold hover:bg-blue-600 shadow-lg shadow-primary/20 disabled:opacity-50 transition-all",children:[o.jsx("span",{className:"material-symbols-outlined text-[18px] text-white",children:f?"hourglass_empty":"troubleshoot"}),f?"Analizando...":"Ejecutar Auditora"]})]})]})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("aside",{className:"w-80 border-r border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 overflow-y-auto p-6 flex flex-col gap-8 shrink-0",children:[o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Matriz de Probabilidad"}),o.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2"}),o.jsxs("div",{className:"relative size-20 shrink-0",children:[o.jsxs("svg",{className:"size-full -rotate-90",viewBox:"0 0 36 36",children:[o.jsx("path",{className:"text-slate-100 dark:text-slate-700",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3.5"}),o.jsx("path",{className:`${g?g.score>.6?"text-red-500":g.score>.3?"text-amber-500":"text-emerald-500":"text-slate-300"} transition-all duration-1000 ease-out`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeDasharray:`${g?g.score*100:0}, 100`,strokeWidth:"3.5",strokeLinecap:"round"})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:o.jsxs("span",{className:"text-lg font-black text-slate-900 dark:text-white",children:[g?(g.score*100).toFixed(0):"0","%"]})})]}),o.jsxs("div",{className:"z-10",children:[o.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Probabilidad de IA"}),g&&o.jsxs("div",{className:"mt-2 flex items-center gap-1.5",children:[o.jsx("div",{className:`h-2 w-2 rounded-full ${g.score>.4?"bg-red-500 animate-pulse":"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]"}`}),o.jsx("span",{className:`text-[11px] font-black uppercase ${g.score>.4?"text-red-500":"text-emerald-500"}`,children:g.score>.6?"Riesgo Alto":g.score>.3?"Riesgo Medio":"Seguro"})]})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Indicadores Forenses"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"flex justify-between items-center mb-2",children:o.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 uppercase",children:"Origen del Anlisis"})}),o.jsxs("div",{className:"space-y-3 mt-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[10px] font-medium text-slate-500",children:"Patrones ChatGPT"}),o.jsxs("span",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-300",children:[((Q=g==null?void 0:g.sourceProbabilities)==null?void 0:Q.chatgpt)||0,"%"]})]}),o.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-1 overflow-hidden",children:o.jsx("div",{className:"bg-emerald-500 h-full transition-all duration-1000",style:{width:`${((qe=g==null?void 0:g.sourceProbabilities)==null?void 0:qe.chatgpt)||0}%`}})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[10px] font-medium text-slate-500",children:"Patrones Gemini"}),o.jsxs("span",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-300",children:[((lt=g==null?void 0:g.sourceProbabilities)==null?void 0:lt.gemini)||0,"%"]})]}),o.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-1 overflow-hidden",children:o.jsx("div",{className:"bg-blue-500 h-full transition-all duration-1000",style:{width:`${((Oe=g==null?void 0:g.sourceProbabilities)==null?void 0:Oe.gemini)||0}%`}})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[10px] font-medium text-slate-500",children:"Patrones Claude"}),o.jsxs("span",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-300",children:[((Vt=g==null?void 0:g.sourceProbabilities)==null?void 0:Vt.claude)||0,"%"]})]}),o.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-1 overflow-hidden",children:o.jsx("div",{className:"bg-amber-500 h-full transition-all duration-1000",style:{width:`${((bt=g==null?void 0:g.sourceProbabilities)==null?void 0:bt.claude)||0}%`}})})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 uppercase",children:"Rfagas (Burstiness)"}),o.jsx("span",{className:"text-xs font-mono font-bold text-primary",children:(g==null?void 0:g.metrics.burstiness.toFixed(2))||"0.00"})]}),o.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-1.5 overflow-hidden",children:o.jsx("div",{className:"bg-primary h-full transition-all duration-1000",style:{width:`${Math.min(((g==null?void 0:g.metrics.burstiness)||0)*10,100)}%`}})})]})]})]}),g&&o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Seales Detectadas"}),o.jsx("div",{className:"space-y-2",children:g.signals.map((F,k)=>o.jsxs("div",{className:"flex gap-3 p-3 bg-red-50 dark:bg-red-500/5 rounded-xl border border-red-100 dark:border-red-500/10 text-[11px] text-red-700 dark:text-red-400 font-medium leading-tight",children:[o.jsx("span",{className:"material-symbols-outlined text-sm shrink-0",children:"warning"}),F]},k))})]}),B&&o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest text-primary",children:"Resumen Instantneo (Groq)"}),o.jsxs("div",{className:"p-4 bg-primary/5 rounded-2xl border border-primary/20 text-[11px] text-slate-700 dark:text-slate-300 leading-relaxed relative group",children:[o.jsx("button",{onClick:()=>q(""),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity text-slate-400 hover:text-red-500",children:o.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})}),B]})]})]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-white dark:bg-slate-900",children:[f&&_==="full"&&o.jsx("div",{className:"absolute inset-0 z-[60] bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm flex flex-col items-center justify-center p-8",children:o.jsxs("div",{className:"w-full max-w-md space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-end",children:[o.jsx("h3",{className:"text-lg font-black uppercase text-slate-900 dark:text-white",children:"Procesando Documento"}),o.jsxs("span",{className:"text-sm font-bold text-primary",children:[T,"%"]})]}),o.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3 overflow-hidden shadow-inner",children:o.jsx("div",{className:"bg-primary h-full transition-all duration-300 ease-out",style:{width:`${T}%`}})}),o.jsx("p",{className:"text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-widest",children:U}),o.jsx("div",{className:"grid grid-cols-4 gap-2 mt-8 opacity-50",children:[...Array(4)].map((F,k)=>o.jsx("div",{className:"h-1 bg-primary rounded-full animate-pulse",style:{animationDelay:`${k*.1}s`}},k))})]})}),o.jsxs("div",{className:"h-48 border-b border-slate-200 dark:border-slate-800 p-8 flex flex-col gap-4 relative overflow-hidden bg-slate-50/50 dark:bg-slate-950",children:[o.jsxs("div",{className:"flex justify-between items-start z-10",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-sm font-black text-slate-900 dark:text-white flex items-center gap-2 uppercase tracking-widest",children:[o.jsx("span",{className:"material-symbols-outlined text-primary text-lg",children:"monitoring"}),"Firma Lingstica"]}),o.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-wider",children:"Distribucin Esttica vs Aleatoria"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"}),o.jsx("span",{className:"text-[10px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest",children:"Perplejidad"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-purple-500"}),o.jsx("span",{className:"text-[10px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest",children:"Rfagas"})]})]})]}),o.jsxs("div",{className:"flex-1 w-full relative",children:[o.jsx("div",{className:"absolute inset-0 flex flex-col justify-between pointer-events-none opacity-20",children:[...Array(4)].map((F,k)=>o.jsx("div",{className:"w-full h-px bg-slate-300 dark:bg-slate-700"},k))}),g?oe():o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("p",{className:"text-xs font-bold text-slate-300 dark:text-slate-600 uppercase tracking-widest italic animate-pulse",children:"Esperando datos del anlisis..."})})]})]}),o.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900",children:[o.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-800 p-1 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("button",{onClick:()=>v("split"),className:`px-4 py-1.5 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${y==="split"?"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500"}`,children:"Vista Dividida"}),o.jsx("button",{onClick:()=>v("audit"),className:`px-4 py-1.5 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${y==="audit"?"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500"}`,children:"Mapa de Auditora"})]}),o.jsxs("div",{className:"flex gap-3 items-center",children:[o.jsxs("span",{className:"text-[10px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest",children:[c.trim().split(/\s+/).length," Palabras"]}),o.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(c)},className:"text-[10px] font-black text-primary hover:text-blue-400 flex items-center gap-1 uppercase tracking-widest transition-all",children:[o.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"content_copy"}),"Copiar Texto"]})]})]}),o.jsx("div",{className:"flex-1 flex min-h-0 font-sans",children:y==="split"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 flex flex-col border-r border-slate-200 dark:border-slate-800 min-w-0 group",children:[o.jsxs("div",{className:"p-3 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Fuente Original"}),o.jsx("span",{className:"material-symbols-outlined text-slate-300 group-hover:text-primary transition-colors text-[18px]",children:"terminal"})]}),o.jsx("textarea",{className:"flex-1 w-full bg-slate-50 dark:bg-slate-950 p-8 resize-none focus:outline-none text-slate-700 dark:text-slate-300 leading-relaxed overflow-y-auto font-sans text-base",value:c,onChange:F=>u(F.target.value),placeholder:_==="quick"?"Pega un prrafo corto para anlisis rpido (Mx 5000 carcteres)...":"Carga un documento completo pare el escaneo profundo..."})]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[o.jsxs("div",{className:"p-3 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center",children:[o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-primary",children:"Visualizador de Auditora"}),g&&o.jsxs("span",{className:`flex items-center gap-1 text-[10px] font-black px-2 py-0.5 rounded border ${g.score<.3?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-red-500/10 text-red-500 border-red-500/20"}`,children:[o.jsx("span",{className:"material-symbols-outlined text-[14px]",children:g.score<.3?"verified_user":"dangerous"}),g.score<.3?"AUTNTICO":"PATRN DE IA"]})]}),o.jsx("div",{className:"flex-1 bg-white dark:bg-slate-900 p-8 overflow-y-auto text-slate-800 dark:text-slate-200 leading-relaxed",children:g?o.jsx("div",{className:"space-y-4",children:g.heatmap.map((F,k)=>o.jsxs("span",{className:`inline rounded px-1 transition-all duration-300 cursor-help ${F.probability>.7?"bg-red-500/20 text-red-900 dark:text-red-200 border-b-2 border-red-500":F.probability>.4?"bg-amber-500/20 text-amber-900 dark:text-amber-200 border-b-2 border-amber-500":"hover:bg-emerald-500/10 transition-colors"}`,title:`Riesgo Local: ${(F.probability*100).toFixed(0)}%`,children:[F.text," "]},k))}):o.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-30 select-none",children:[o.jsx("span",{className:"material-symbols-outlined text-[64px] mb-4",children:"analytics"}),o.jsx("p",{className:"text-sm font-black uppercase tracking-widest",children:"Esperando escaneo forense..."})]})})]})]}):o.jsx("div",{className:"flex-1 bg-white dark:bg-slate-900 p-12 overflow-y-auto",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[o.jsx("h3",{className:"text-center text-xs font-black uppercase tracking-[0.3em] text-slate-500 dark:text-slate-400 mb-12",children:"Mapa de Auditora Completa"}),g?o.jsx("div",{className:"grid grid-cols-1 gap-6",children:g.heatmap.map((F,k)=>o.jsxs("div",{className:`p-6 rounded-2xl border transition-all pointer-default ${F.probability>.7?"bg-red-50 dark:bg-red-500/5 border-red-100 dark:border-red-500/10":F.probability>.4?"bg-amber-50 dark:bg-amber-500/5 border-amber-100 dark:border-amber-500/10":"bg-slate-50 dark:bg-white/5 border-slate-100 dark:border-white/5"}`,children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("span",{className:"text-[10px] font-black uppercase text-slate-500 dark:text-slate-400",children:["Seccin ",k+1]}),o.jsxs("span",{className:`text-[10px] font-black px-2 py-0.5 rounded-full ${F.probability>.7?"bg-red-500 text-white":F.probability>.4?"bg-amber-500 text-white":"bg-emerald-500 text-white"}`,children:[(F.probability*100).toFixed(0),"% Huella de IA"]})]}),o.jsx("p",{className:"text-lg leading-relaxed text-slate-800 dark:text-slate-200",children:F.text})]},k))}):o.jsxs("div",{className:"mt-20 flex flex-col items-center justify-center opacity-20",children:[o.jsx("span",{className:"material-symbols-outlined text-[120px] mb-8",children:"microscope"}),o.jsx("p",{className:"text-xl font-black uppercase tracking-widest animate-pulse",children:"Escaneo Incompleto"})]})]})})})]}),o.jsxs("footer",{className:"h-12 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 px-8 flex items-center justify-between shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-500",children:[o.jsx("span",{className:"material-symbols-outlined text-base text-emerald-500",children:"check_circle"}),"Sistema Operativo"]}),o.jsx("span",{className:"h-4 w-px bg-slate-200 dark:bg-slate-800"}),o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-slate-400",children:"Gemini-Pro Forensics v1.0"})]}),o.jsx("div",{className:"flex gap-6 items-center",children:o.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 italic",children:"Sin poltica de retencin activa (Los textos no se guardan)"})})]})]})]}),g&&o.jsxs("div",{className:"absolute bottom-8 right-8 z-50",children:[o.jsxs("button",{onClick:async()=>{try{await Ej(g,"Analisis_Texto"),i("Reporte PDF descargado","success")}catch{i("Error al generar PDF","error")}},className:"flex items-center gap-2 px-6 py-4 bg-slate-900 text-white rounded-full shadow-2xl hover:scale-105 active:scale-95 transition-all text-sm font-bold animate-bounce-in",children:[o.jsx("span",{className:"material-symbols-outlined",children:"picture_as_pdf"}),"Exportar PDF"]}),o.jsxs("button",{onClick:async()=>{try{const F=Oj(g);await rp.generateWordDocument(F,"Auditoria_IA.docx"),i("Documento Word generado correctamente","success")}catch(F){console.error("Word export error:",F),i("Error exportando a Word","error")}},className:"flex items-center gap-2 px-6 py-4 bg-primary text-white rounded-full shadow-2xl hover:scale-105 active:scale-95 transition-all text-sm font-bold animate-bounce-in ml-4",children:[o.jsx("span",{className:"material-symbols-outlined",children:"description"}),"Exportar Word"]})]})]})})},Uj=()=>{const{universityId:n}=Ng(),t=eo.find(r=>r.id===n);return ie.useEffect(()=>{window.scrollTo(0,0)},[n]),t?o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-900 dark:text-white transition-colors duration-300",children:[o.jsx(_s,{title:`Tesis y Monogrficos para ${t.shortName} | TuTesisRD`,description:`Asesora experta para estudiantes de la ${t.name}. Cumplimos con normativa ${t.regulations.style}. Cotiza hoy!`}),o.jsx(Ss,{}),o.jsxs("div",{className:"relative pt-32 pb-20 overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] rounded-full blur-[100px] opacity-20 -z-10",style:{backgroundColor:t.color}}),o.jsxs("div",{className:"container mx-auto px-6 text-center",children:[o.jsx("div",{className:"inline-block p-2 bg-white rounded-full shadow-lg mb-6 animate-fade-in",children:o.jsx("img",{src:t.logo,alt:`Logo ${t.name}`,className:"h-16 object-contain"})}),o.jsxs("h1",{className:"text-4xl md:text-6xl font-black mb-6 animate-fade-in-up",children:["Tesis Exitosas en ",o.jsx("span",{style:{color:t.color},children:t.shortName})]}),o.jsxs("p",{className:"text-xl text-slate-500 max-w-2xl mx-auto mb-8 animate-slide-up",children:[t.description," Conocemos a fondo los requisitos de la ",t.name,"."]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center animate-fade-in",style:{animationDelay:"0.2s"},children:[o.jsx("a",{href:"https://wa.me/18296392033",target:"_blank",rel:"noopener noreferrer",children:o.jsxs(Pt,{variant:"primary",size:"lg",className:"w-full md:w-auto",rightIcon:o.jsx("span",{className:"material-icons",children:"whatsapp"}),children:["Cotizar mi Tesis ",t.shortName]})}),o.jsx(_e,{to:"/herramientas/auditor",children:o.jsx(Pt,{variant:"outline",size:"lg",className:"w-full md:w-auto",children:"Auditar Borrador Gratis"})})]})]})]}),o.jsx("section",{className:"py-16 bg-white/50 dark:bg-black/20",children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsxs("h2",{className:"text-3xl font-bold mb-12 text-center",children:["Normativa ",t.shortName]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[o.jsxs(en,{className:"p-8 text-center",hoverEffect:!0,children:[o.jsx("div",{className:"material-icons text-4xl mb-4",style:{color:t.color},children:"gavel"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Estilo Requerido"}),o.jsx("p",{className:"text-slate-500",children:t.regulations.style})]}),o.jsxs(en,{className:"p-8 text-center",hoverEffect:!0,children:[o.jsx("div",{className:"material-icons text-4xl mb-4",style:{color:t.color},children:"description"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Extensin"}),o.jsxs("p",{className:"text-slate-500",children:[t.regulations.minPages," - ",t.regulations.maxPages," pginas"]})]}),o.jsxs(en,{className:"p-8 text-center",hoverEffect:!0,children:[o.jsx("div",{className:"material-icons text-4xl mb-4",style:{color:t.color},children:"school"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Programas Top"}),o.jsx("p",{className:"text-slate-500",children:t.programs.join(", ")})]})]})]})}),o.jsx("section",{className:"py-20",children:o.jsx("div",{className:"container mx-auto px-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-12",children:[o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsxs("h2",{className:"text-3xl font-bold mb-6",children:["Consejos para sobrevivir en ",t.shortName]}),o.jsx("ul",{className:"space-y-4",children:t.tips.map((r,i)=>o.jsxs("li",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"min-w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm mt-1",style:{backgroundColor:t.color},children:i+1}),o.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300",children:r})]},i))})]}),o.jsxs("div",{className:"w-full md:w-1/2 bg-slate-100 dark:bg-slate-800 rounded-3xl p-8 border border-dashed border-gray-300 dark:border-gray-600 text-center",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Necesitas ayuda con el tema?"}),o.jsxs("p",{className:"mb-6 text-slate-500",children:["Nuestros asesores son egresados de ",t.shortName," y conocen lo que exigen los jurados."]}),o.jsx(_e,{to:"/registro",children:o.jsx(Pt,{variant:"gradient",className:"w-full",children:"Agendar Asesora Gratuita"})})]})]})})}),o.jsx(ks,{})]}):o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans flex flex-col items-center justify-center p-4",children:[o.jsx(_s,{title:"Universidad No Encontrada",description:"La universidad que buscas no est en nuestra base de datos."}),o.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Universidad no encontrada"}),o.jsx("p",{className:"mb-4",children:"Lo sentimos, no tenemos informacin especfica para esta universidad todava."}),o.jsx(_e,{to:"/",children:o.jsx(Pt,{variant:"primary",children:"Volver al Inicio"})})]})},Lj=()=>o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-900 dark:text-white transition-colors duration-300",children:[o.jsx(_s,{title:"Directorio de Universidades RD | TuTesisRD",description:"Encuentra asesores de tesis especializados por universidad: UASD, PUCMM, INTEC, UNIBE y ms."}),o.jsx(Ss,{}),o.jsxs("div",{className:"container mx-auto px-6 pt-32 pb-20",children:[o.jsxs("header",{className:"mb-16 text-center",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-black mb-6 animate-fade-in-up",children:"Tu Universidad, Nuestras Reglas"}),o.jsx("p",{className:"text-xl text-slate-500 max-w-2xl mx-auto animate-slide-up",children:"Selecciona tu universidad para ver recursos, consejos y asesores especializados en tu normativa."})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:eo.map(n=>o.jsx(_e,{to:`/tesis/${n.id}`,className:"group",children:o.jsxs(en,{className:"h-full p-8 transition-all hover:-translate-y-2 hover:shadow-xl border-l-4",style:{borderLeftColor:n.color},children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white rounded-full shadow-sm p-2 flex items-center justify-center",children:o.jsx("img",{src:n.logo,alt:n.shortName,className:"max-w-full max-h-full object-contain"})}),o.jsxs("span",{className:"text-xs font-bold px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-500",children:[n.programs.length," Fac."]})]}),o.jsx("h2",{className:"text-2xl font-bold mb-2 group-hover:text-brand-orange transition-colors",children:n.shortName}),o.jsx("p",{className:"text-sm text-slate-500 mb-4 line-clamp-2",children:n.name}),o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-400",children:[o.jsx("span",{className:"material-icons text-base",children:"verified"}),n.regulations.style]})]})},n.id))})]}),o.jsx(ks,{})]}),qj=()=>{const{postId:n}=Ng(),t=Sg.find(r=>r.id===n);return t?o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark font-sans text-slate-800 dark:text-white",children:[o.jsx(_s,{title:t.title,description:t.excerpt,schema:{"@context":"https://schema.org","@type":"BlogPosting",headline:t.title,image:`${window.location.origin}/TuTesisRD-App/blog/${t.image}`,datePublished:t.date,author:{"@type":"Organization",name:"TuTesisRD"}}}),o.jsx(Ss,{}),o.jsx("article",{className:"pt-32 pb-20",children:o.jsxs("div",{className:"container mx-auto px-6 max-w-4xl",children:[o.jsxs(_e,{to:"/blog",className:"inline-flex items-center text-brand-orange font-bold mb-8 hover:translate-x-[-4px] transition-transform",children:[o.jsx("span",{className:"material-icons mr-2",children:"arrow_back"}),"Volver al Blog"]}),o.jsxs("div",{className:"mb-10",children:[o.jsx("span",{className:"bg-brand-orange text-white text-xs font-black uppercase tracking-widest px-4 py-1 rounded-full shadow-lg mb-6 inline-block",children:t.category}),o.jsx("h1",{className:"text-4xl md:text-5xl font-black text-slate-900 dark:text-white mb-6 leading-tight",children:t.title}),o.jsxs("div",{className:"flex items-center text-slate-500 dark:text-slate-400 text-sm space-x-6",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx("span",{className:"material-icons text-sm mr-2",children:"schedule"}),t.readTime," de lectura"]}),o.jsxs("span",{className:"flex items-center",children:[o.jsx("span",{className:"material-icons text-sm mr-2",children:"calendar_today"}),t.date]})]})]}),o.jsx("div",{className:"rounded-3xl overflow-hidden mb-12 shadow-2xl",children:o.jsx("img",{src:`/TuTesisRD-App/blog/${t.image}`,alt:t.title,className:"w-full h-auto object-cover"})}),o.jsx("div",{className:`prose prose-lg dark:prose-invert max-w-none \r
                        prose-headings:text-slate-900 dark:prose-headings:text-white prose-headings:font-black\r
                        prose-p:text-slate-600 dark:prose-p:text-slate-300 prose-p:leading-relaxed\r
                        prose-strong:text-brand-orange\r
                        prose-a:text-brand-orange`,dangerouslySetInnerHTML:{__html:t.content}}),o.jsxs("div",{className:"mt-20 p-8 bg-slate-50 dark:bg-slate-800/50 rounded-3xl border border-slate-100 dark:border-slate-800 flex flex-col md:flex-row items-center gap-8",children:[o.jsxs("div",{className:"flex-grow text-center md:text-left",children:[o.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2",children:"Necesitas ayuda con tu tesis?"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Nuestro equipo de expertos est listo para asesorarte en cada paso de tu investigacin."})]}),o.jsx(_e,{to:"/registro",className:"bg-brand-orange text-white px-8 py-4 rounded-full font-black shadow-glow hover:shadow-glow-lg transition-all transform hover:scale-105 whitespace-nowrap",children:"Empezar Ahora"})]})]})}),o.jsx(ks,{})]}):o.jsx(Mx,{to:"/blog",replace:!0})},Bj=`
=== DIMENSIN: REDACCIN ACADMICA Y ESTILO (BASADO EN APA 7MA ED.) ===

1. CITAS EN EL TEXTO:
   - Toda cita textual de >= 40 palabras DEBE estar en bloque separado, sangra 1.27 cm, sin comillas. [Pg. 10]
   - Todo cita textual de < 40 palabras DEBE estar entre comillas dobles. [Pg. 10]
   - Uso de "et al.": Para 3 o ms autores, usar "et al." desde la primera aparicin. [Pg. 14]
   - Fuentes de 2 autores: Citar siempre a ambos. [Pg. 14]
   - Toda cita en texto DEBE tener correspondencia en la lista de referencias. [Pg. 14, 16]

2. LISTA DE REFERENCIAS:
   - Orden alfabtico obligatorio. [Pg. 5]
   - Sangra francesa obligatoria. [Pg. 5]
   - NO incluir ciudad de editorial para libros (ej: Caracas: Panapo -> Sabino, C. (2000). El proceso de investigacin. Panapo.). [Pg. 5]

3. PREVENCIN DEL PLAGIO:
   - "Autoplagio": Presentar un trabajo propio ya publicado como nuevo es falta grave. [Pg. 7]
   - Atribucin rigurosa: Todo hecho o cifra que no sea conocimiento comn DEBE citarse. [Pg. 11]

=== PLANTILLA DE FEEDBACK ACCIONABLE (OBLIGATORIA) ===
Para cada error detectado, usa este formato:
- Hallazgo: Descripcin clara del error.
- Evidencia: Ubicacin exacta [Pg. X].
- Por qu importa: Justificacin normativa (citar APA 7).
- Cmo corregir: Instruccin paso a paso.
- Ejemplo breve: Demostracin visual del cambio.
`,Ij=(n,t="Grado")=>`
IDENTIDAD DEL EVALUADOR:
Eres un evaluador acadmico de lite con certificacin en metodologa de investigacin, 
auditora de tesis doctorales, y revisin para revistas indexadas Q1.

MISIN CRTICA:
Realizar una auditora FORENSE del documento acadmico basndote en el MODELO OPERATIVO APA 7.

PERFIL DE EXIGENCIA: Nivel ${t}
(Aplica las ponderaciones de rigor correspondientes a este nivel acadmico).



REGLAS DE ORO (ESTILO APA 7):
${Bj}



FASE 1: VERIFICACIN NORMATIVA OBLIGATORIA (SI APLICA)

${n?`
 NORMATIVA INSTITUCIONAL ACTIVA:
El documento DEBE cumplir las siguientes reglas institucionales:

${n}

INSTRUCCIONES DE VERIFICACIN:
1. Para CADA regla normativa, verifica si el documento la cumple
2. Si NO cumple, genera una alerta CRTICA con:
   - Regla incumplida
   - Evidencia del incumplimiento [Pg. X]
   - Impacto (puede invalidar la tesis)
3. Si cumple, confirma con evidencia [Pg. X]
4. Las violaciones normativas tienen PRIORIDAD MXIMA

SECCIN DE SALIDA OBLIGATORIA:
normativeComplianceDetailed: {
  overallCompliance: number (0-100),
  violations: [{
    rule: string,
    severity: 'Critical' | 'High' | 'Medium' | 'Low',
    evidence: string (con [Pg. X]),
    impact: string
  }],
  compliantItems: [{
    rule: string,
    evidence: string (con [Pg. X])
  }]
}
`:"No hay normativa institucional activa. Evala contra estndares generales APA 7 y buenas prcticas acadmicas."}



FASE 2: VERIFICACIN ESTRUCTURAL GRANULAR

Verifica la PRESENCIA y CALIDAD de cada seccin esperada:

SECCIONES OBLIGATORIAS (segn tipo de documento):
1. Portada / Cartula
2. Dedicatoria / Agradecimientos (opcional pero comn)
3. Resumen / Abstract
4. ndice / Tabla de contenidos
5. Introduccin
6. Planteamiento del problema
7. Justificacin
8. Objetivos (general y especficos)
9. Marco terico / Estado del arte
10. Marco conceptual
11. Marco metodolgico (diseo, poblacin, tcnicas, instrumentos)
12. Resultados
13. Anlisis / Discusin
14. Conclusiones
15. Recomendaciones
16. Referencias bibliogrficas
17. Anexos (si aplica)

Para CADA seccin, verifica:
- Existe? (S/No)  Si NO existe y es obligatoria: ALERTA CRTICA
- Est completa? (nivel de desarrollo: 0-100%)
- Cumple su propsito? (evaluacin cualitativa)
- Est en el lugar correcto? (considera ROE si est en normativa)
- Evidencia: [Pg. X-Y donde aparece]



FASE 3: MATRIZ DE CONSISTENCIA DETALLADA

Genera UNA TABLA con las siguientes columnas y filas:

ELEMENTOS A VERIFICAR:
1. Problema de investigacin
2. Pregunta de investigacin (general)
3. Preguntas especficas (si aplica)
4. Justificacin
5. Objetivo general
6. Objetivos especficos (cada uno por separado)
7. Hiptesis / Supuestos (si aplica)
8. Variables / Categoras de anlisis
9. Enfoque metodolgico (cuanti/cuali/mixto)
10. Diseo de investigacin
11. Poblacin objetivo
12. Muestra / Participantes
13. Tcnicas de recoleccin
14. Instrumentos utilizados
15. Procedimiento de anlisis
16. Resultados (cada objetivo especfico)
17. Conclusiones (cada objetivo especfico)
18. Recomendaciones

Para CADA ELEMENTO:
- Descripcin textual encontrada (citar [Pg. X])
- Nivel de coherencia con elementos relacionados: Alta / Media / Baja / Inexistente
- Observacin tcnica detallada (qu falla exactamente?)
- Recomendacin concreta y accionable

CRITERIOS DE COHERENCIA:
- Alta (90-100%): Alineacin perfecta, sin contradicciones
- Media (60-89%): Alineacin parcial, inconsistencias menores
- Baja (30-59%): Desalineacin significativa, contradicciones evidentes
- Inexistente (0-29%): No hay relacin o est ausente

FASE 3.1: SUB-MATRIZ DE CONSISTENCIA DE FUENTES
Instrucciones:
1. Extrae TODAS las citas nicas del texto (citationsFound).
2. Verifica si estn en la lista de referencias (inBibliography).
3. Identifica referencias sobrantes (unusedReferences) y faltantes (missingReferences).



FASE 4: EVALUACIN METODOLGICA FORENSE

Analiza CON LUPA la coherencia metodolgica:

4.1 ALINEACIN ENFOQUE-DISEO:
- El diseo elegido es apropiado para el enfoque declarado?
- Las tcnicas corresponden al diseo?
- Evidencia: [Pg. X]

4.2 POBLACIN Y MUESTRA:
- Est claramente definida la poblacin?
- El muestreo es adecuado? (probabilstico/no probabilstico segn diseo)
- El tamao muestral est justificado?
- Evidencia: [Pg. X]

4.3 INSTRUMENTOS:
- Los instrumentos estn descritos con detalle?
- Se reporta validez y confiabilidad?
- Son coherentes con las variables/categoras?
- Evidencia: [Pg. X]

4.4 RESULTADOS VS MTODO:
- Los resultados reportados PODRAN haberse obtenido con el mtodo descrito?
- Hay resultados "mgicos" (aparecen sin instrumentos que los capturen)?
- Los anlisis estadsticos/cualitativos son apropiados?
- Evidencia: [Pg. X]

4.5 CONCLUSIONES VS RESULTADOS:
- CADA conclusin tiene soporte EN los resultados?
- Hay conclusiones "inventadas" (sin datos que las respalden)?
- Se respetan las limitaciones del mtodo?
- Evidencia: [Pg. X]

ALERTAS CRTICAS:
Marca como "INVALIDANTE" si:
- El diseo no puede responder a los objetivos
- Los instrumentos no capturan las variables
- Las conclusiones no derivan de los resultados
- Hay fabricacin evidente de datos



FASE 5: CALIDAD DE ESCRITURA ACADMICA

Verifica RIGUROSAMENTE:

5.1 ORTOGRAFA:
- Lista TODOS los errores ortogrficos encontrados (mx 50 primeros)
- Formato: "Palabra incorrecta [Pg. X]: debera ser 'correccin'"

5.2 GRAMTICA:
- Lista errores de concordancia, pronombres, tiempos verbales
- Formato: "Error [Pg. X]: '...'  debera ser '...'"

5.3 ESTILO ACADMICO:
- Usa lenguaje formal?
- Evita primera persona (excepto en investigacin cualitativa reflexiva)?
- Usa voz activa apropiadamente?
- Los prrafos tienen estructura lgica?

5.4 CITACIN:
- Sigue consistentemente un estilo (APA7, Vancouver, etc.)?
- Todas las citas en texto tienen referencia completa?
- Todas las referencias fueron citadas en el texto?
- Lista las primeras 20 inconsistencias encontradas



FASE 6: DIAGNSTICO GLOBAL Y RECOMENDACIONES

6.1 NIVEL GLOBAL:
- Excelente (90-100): Listo para defensa con ajustes menores
- Aceptable (70-89): Requiere revisiones substanciales
- Dbil (50-69): Necesita reescritura de secciones clave
- Crtico (<50): NO apto para defensa, requiere refactorizacin total

6.2 RIESGOS PRINCIPALES:
- Lista los 5-10 riesgos MS GRAVES que podran causar rechazo

6.3 RECOMENDACIONES PRIORIZADAS:
Para cada recomendacin:
- Prioridad: Crtica / Alta / Media / Baja
- Qu hacer: accin concreta
- Por qu: justificacin tcnica
- Cmo: pasos especficos
- Dnde: [Pg. X] afectadas

6.4 FEEDBACK ACCIONABLE (Visual):
Genera al menos 5-10 items CLAROS para las tarjetas de feedback:
- Hallazgo
- Evidencia [Pg. X]
- Por qu importa
- Cmo corregir
- Ejemplo breve



FORMATO DE SALIDA (JSON ESTRICTO):
{
  "documentType": string,
  "methodologicalApproach": string,
  "disciplinaryArea": string,
  "applicableStandards": string[],
  
  "structuralVerification": {
    "sectionsFound": { "NombreSeccin": { "exists": boolean, "pages": string, "completeness": number } },
    "missingSections": string[],
    "misplacedSections": string[]
  },
  
  "normativeComplianceDetailed": {
    "overallCompliance": number,
    "violations": [{ "rule": string, "severity": "Critical" | "High" | "Medium" | "Low", "evidence": string, "impact": string }],
    "compliantItems": [{ "rule": string, "evidence": string }]
  },
  
  "consistencyMatrix": [
    {
      "element": string,
      "description": string,
      "coherenceLevel": "Alta/Media/Baja/Inexistente",
      "technicalObservation": string,
      "recommendation": string
    }
  ],
  "sectionEvaluations": [ ... ],
  "methodologicalAnalysis": {
    "approachCoherent": boolean,
    "designAdequate": boolean,
    "techniquesAppropriate": boolean,
    "resultsDeriveFromMethod": boolean,
    "conclusionsSupportedByResults": boolean,
    "criticalAlerts": [],
    "invalidatingIssues": []
  },
  "normativeCompliance": { 
     "apa7Score": 0-100, 
     "academicWritingScore": 0-100,
     "terminologyConsistencyScore": 0-100,
     "orthographicErrors": [],
     "grammaticalErrors": [],
     "styleIssues": [] 
  },
  "sourceConsistencySubMatrix": {
    "citationsFound": [{ "citation": string, "inBibliography": boolean, "page": string }],
    "referencesCiting": [string],
    "unusedReferences": [string],
    "missingReferences": [string]
  },
  "globalDiagnosis": { 
    "level": "Excelente/Aceptable/Dbil/Crtico", 
    "mainRisks": [], 
    "internalConsistencyDegree": number, 
    "publishabilityLevel": number 
  },
  "prioritizedRecommendations": [ ... ],
  "actionableFeedback": [
    { "finding": string, "evidence": string, "whyItMatters": string, "howToFix": string, "example": string }
  ]
}

RESTRICCIONES:
- No inventes informacin. Si falta algo, indcalo explcitamente.
- Mantn lenguaje acadmico claro y profesional.
- Prioriza RIGOR sobre simplicidad.
- SIEMPRE CITA LA PGINA DE REFERENCIA cuando sea posible.
- EVITA EL markdown en la respuesta JSON. Devuelve JSON puro.

DOCUMENTO A EVALUAR:
{DOCUMENT_TEXT}
`,$j={APP_NAME:"TuTesisRD",VERSION:"2.0.0",CONSISTENCY_AI_MODEL:"gemini-1.5-flash",CONSISTENCY_AI_TEMPERATURE:parseFloat("0.1"),CONSISTENCY_MAX_CHARS:parseInt("350000",10)},Pj=He({title:G(),authors:Me(G()).optional(),publicationYear:Xe().optional(),doi:G().optional(),hostVenue:G().optional()});He({reference:Pj,status:Ns(["verified","valid_no_doi","needs_review","not_found","error"]),score:Xe().min(0).max(100),sources:Me(G()).optional(),validationMessage:G().optional()});const Hj=He({burstiness:Xe().optional(),perplexityProxy:Xe().optional(),lexicalDiversity:Xe().optional()}),Gj=He({chatgpt:Xe().optional(),gemini:Xe().optional(),claude:Xe().optional()}),Vj=He({text:G(),probability:Xe()});He({score:Xe().min(0).max(1),metrics:Hj.optional(),sourceProbabilities:Gj.optional(),signals:Me(G()).optional(),heatmap:Me(Vj).optional()});const Zj=He({element:G(),description:G(),coherenceLevel:Ns(["Alta","Media","Baja","Inexistente"]).or(G()),technicalObservation:G(),recommendation:G()}),Yj=He({section:G(),strengths:Me(G()),weaknesses:Me(G()),internalIncoherences:Me(G()),methodologicalMisalignments:Me(G())}),Kj=He({approachCoherent:fa(),designAdequate:fa(),techniquesAppropriate:fa(),resultsDeriveFromMethod:fa(),conclusionsSupportedByResults:fa(),criticalAlerts:Me(G()),forensicReasoning:G().optional()}),Jj=He({apa7Score:Xe(),academicWritingScore:Xe(),terminologyConsistencyScore:Xe(),orthographicErrors:Me(G()),grammaticalErrors:Me(G()),styleIssues:Me(G())}),Xj=He({level:Ns(["Excelente","Aceptable","Dbil","Crtico"]).or(G()),mainRisks:Me(G()),internalConsistencyDegree:Xe(),publishabilityLevel:Xe(),auditSummary:G().optional(),summary:G().optional(),score:Xe().optional()}),Qj=He({priority:Ns(["Crtica","Alta","Media","Baja"]).or(G()).optional().default("Media"),what:G().optional().default("<<MISSING_CONTENT>>"),why:G().optional().default("<<MISSING_CONTENT>>"),how:G().optional().default("<<MISSING_CONTENT>>")}),Fj=He({sectionsFound:k_(G(),He({exists:fa(),pages:G().nullable().optional(),completeness:Xe()})).optional(),missingSections:Me(G()).optional(),misplacedSections:Me(G()).optional()}),Wj=He({citationsFound:Me(He({citation:G(),inBibliography:fa(),page:G()})).optional(),referencesCiting:Me(G()).optional(),unusedReferences:Me(G()).optional(),missingReferences:Me(G()).optional()}),eN=He({finding:G(),evidence:G(),whyItMatters:G(),howToFix:G(),example:G()}),tN=He({documentType:G().optional(),methodologicalApproach:G().optional(),disciplinaryArea:G().optional(),applicableStandards:Me(G()).optional(),consistencyMatrix:Me(Zj).optional(),sectionEvaluations:Me(Yj).optional(),methodologicalAnalysis:Kj.optional(),normativeCompliance:Jj.optional(),globalDiagnosis:Xj.optional(),prioritizedRecommendations:Me(Qj).optional(),structuralVerification:Fj.optional(),sourceConsistencySubMatrix:Wj.optional(),actionableFeedback:Me(eN).optional(),normativeComplianceDetailed:Kg().optional(),rawAnalysis:G().optional(),analysisStatus:Ns(["ok","partial","insufficient_input","model_noncompliant","error"]).optional(),analysisWarnings:Me(G()).optional()});He({id:G().uuid().optional(),title:G(),studentName:G().optional(),university:G().optional(),status:Ns(["draft","review","approved"]).default("draft"),createdAt:G().optional(),updatedAt:G().optional()});He({provider:G(),model:G(),durationMs:Xe(),inputTokens:Xe().optional(),outputTokens:Xe().optional(),success:fa(),errorCode:G().optional(),timestamp:Xe()});const aN=He({type:Ns(["text","heading1","heading2","heading3","list","table","page_break"]),content:G().optional(),tableData:He({headers:Me(G()),rows:Me(Me(G())),isMatrix:fa().optional()}).optional(),styling:He({bold:fa().optional(),color:G().optional(),align:Ns(["left","center","right","justify"]).optional(),isCritical:fa().optional(),size:Xe().optional()}).optional()});He({metadata:He({title:G(),subtitle:G().optional(),date:G(),creator:G().default("ScholarAI"),brandingColor:G().optional()}),sections:Me(aN)});const sN=tN;function nN(n,t){var i,c,u,f,m;if(!n&&!t)return null;let r=n||"";return t&&(r+=`

INFORMACIN ESTRUCTURAL ADICIONAL EXTRADA:
`,(c=(i=t.contentRequirements)==null?void 0:i.mandatorySections)!=null&&c.length&&(r+=`Secciones Obligatorias:
${t.contentRequirements.mandatorySections.map(g=>`- ${g.name} (Obligatoria)`).join(`
`)}

`),t.formattingRules&&(r+=`Reglas de Formato Clave:
- Mrgenes: ${JSON.stringify((u=t.formattingRules.pageSetup)==null?void 0:u.margins)}
- Tipografa: ${(f=t.formattingRules.typography)==null?void 0:f.bodyFont}
- Citacin: ${(m=t.citationRules)==null?void 0:m.style}
`)),r}async function rN(n,t,r="Grado",i){var N,T,R;const c=n.replace(/<img[^>]*src="data:[^"]*"[^>]*>/g,"").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim(),{SemanticChunker:u}=await Ha(async()=>{const{SemanticChunker:U}=await import("./chunkingService-DehVIyGE.js");return{SemanticChunker:U}},[]),f=u.chunkBySections(c),m=["INTRODUCCI","PROBLEMA","METODOLOG","RESULTADOS","CONCLUSIONES","DISCUSI","OBJETIVO"],g=f.filter(U=>m.some(L=>U.sectionType.toUpperCase().includes(L))),b=g.length>0?g.map(U=>`[SECCIN: ${U.sectionType}]
${U.content.substring(0,2e4)}`).join(`

`):c.substring(0,1e5);console.log(`[StrictAnalyzer] Processing text. Total Length: ${b.length}, Chunks Used: ${g.length>0?g.length:"Full Text"}`),b.length<500&&console.warn("[StrictAnalyzer] WARNING: Input text is dangerously short (<500 chars). Analysis may fail.");const y=nN(t,i),_=Ij(y,r).replace("{DOCUMENT_TEXT}",b);try{const U=await sp({prompt:_,systemInstruction:"Eres un auditor acadmico estricto. Analiza el documento buscando inconsistencias fatales y fallos normativos.",temperature:.1,model:$j.CONSISTENCY_AI_MODEL}),L=sN.parse(U);console.log(`[StrictAnalyzer] Validated Result Keys: ${Object.keys(L).join(", ")}`),console.log(`[StrictAnalyzer] Diagnosis Level: ${(N=L.globalDiagnosis)==null?void 0:N.level}, Consistency: ${(T=L.globalDiagnosis)==null?void 0:T.internalConsistencyDegree}%`);let B="ok";const q=[];c.length<500&&(B="insufficient_input",q.push("Texto insuficiente para anlisis profundo.")),((R=L.globalDiagnosis)==null?void 0:R.level)==="Pendiente"&&(B="partial",q.push("Diagnstico global incompleto."));let V=0;if(L.prioritizedRecommendations)for(const ee of L.prioritizedRecommendations)(ee.what==="<<MISSING_CONTENT>>"||ee.why==="<<MISSING_CONTENT>>"||ee.how==="<<MISSING_CONTENT>>")&&(V++,ee.what==="<<MISSING_CONTENT>>"&&(ee.what="Recomendacin general"),ee.why==="<<MISSING_CONTENT>>"&&(ee.why="Justificacin no disponible en anlisis estricto."),ee.how==="<<MISSING_CONTENT>>"&&(ee.how="Consultar revisin manual."));return V>0&&(B="partial",q.push(`${V} recomendacin(es) marcadas como incompletas.`)),{...L,rawAnalysis:"Anlisis Forense Completado",analysisStatus:B,analysisWarnings:q}}catch(U){throw console.error("Strict Analysis Failed. Full Error:",JSON.stringify(U,null,2)),U instanceof aa&&console.error("Zod Validation Issues:",U.issues),new Error(`Error en anlisis estricto: ${U.message}`)}}const iN=({result:n})=>{const t=()=>{const c=Tj(n);rp.generateWordDocument(c,"Analisis_Consistencia.docx")},r=c=>c>=90?"text-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":c>=70?"text-amber-500 bg-amber-50 dark:bg-amber-900/20":"text-red-500 bg-red-50 dark:bg-red-900/20",i={Excelente:"text-emerald-600 bg-emerald-100 dark:bg-emerald-900/30",Aceptable:"text-blue-600 bg-blue-100 dark:bg-blue-900/30",Dbil:"text-amber-600 bg-amber-100 dark:bg-amber-900/30",Crtico:"text-red-600 bg-red-100 dark:bg-red-900/30"};return o.jsxs("div",{className:"space-y-8 animate-fade-in p-6 max-w-7xl mx-auto",children:[(n.analysisStatus==="partial"||n.analysisWarnings&&n.analysisWarnings.length>0)&&o.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/10 border-l-4 border-amber-500 p-4 mb-6 rounded-r-lg animate-fade-in mx-auto max-w-7xl",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("span",{className:"material-symbols-outlined text-amber-500",children:"warning"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-sm font-bold text-amber-800 dark:text-amber-200",children:"Anlisis Parcialmente Completado"}),o.jsx("div",{className:"mt-2 text-sm text-amber-700 dark:text-amber-300",children:o.jsx("ul",{className:"list-disc pl-5 space-y-1",children:n.analysisWarnings&&n.analysisWarnings.length>0?n.analysisWarnings.map((c,u)=>o.jsx("li",{children:c},u)):o.jsx("li",{children:"Algunas secciones contienen datos genricos debido a limitaciones en la respuesta del modelo."})})})]})]})}),o.jsx("div",{className:"flex justify-end mb-4",children:o.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-5 py-2.5 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold shadow-lg hover:-translate-y-1 transition-transform",children:[o.jsx("span",{className:"material-symbols-outlined text-sm",children:"download"}),"Exportar Informe DOCX"]})}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[o.jsxs("div",{className:"flex-1 bg-white dark:bg-surface-dark p-8 rounded-[2rem] border border-slate-100 dark:border-surface-border shadow-xl",children:[o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-xs font-black uppercase tracking-[0.2em] text-slate-400",children:"Diagnstico Global"}),o.jsx("h2",{className:`text-4xl font-black mt-2 ${i[n.globalDiagnosis.level].split(" ")[0]}`,children:n.globalDiagnosis.level})]}),o.jsxs("div",{className:`px-4 py-2 rounded-full font-bold text-sm ${i[n.globalDiagnosis.level]}`,children:["Riesgo: ",n.globalDiagnosis.level==="Excelente"?"Bajo":n.globalDiagnosis.level==="Aceptable"?"Medio":"Alto"]})]}),o.jsxs("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed mb-6 border-l-4 border-slate-200 dark:border-slate-700 pl-4 py-1 italic",children:['"',n.globalDiagnosis.auditSummary||"Anlisis completado exitosamente.",'"']}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(Bu,{label:"Consistencia",value:n.globalDiagnosis.internalConsistencyDegree,color:r(n.globalDiagnosis.internalConsistencyDegree)}),o.jsx(Bu,{label:"Publicabilidad",value:n.globalDiagnosis.publishabilityLevel,color:r(n.globalDiagnosis.publishabilityLevel)}),o.jsx(Bu,{label:"Estilo Acadmico",value:n.normativeCompliance.academicWritingScore,color:r(n.normativeCompliance.academicWritingScore)})]})]}),o.jsxs("div",{className:"w-full md:w-1/3 bg-slate-50 dark:bg-[#0d1017] p-6 rounded-[2rem] border border-slate-200 dark:border-surface-border h-full",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/20 text-red-600 rounded-lg",children:o.jsx("span",{className:"material-symbols-outlined",children:"warning"})}),o.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Alertas Crticas"})]}),o.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:n.methodologicalAnalysis.criticalAlerts.length>0?n.methodologicalAnalysis.criticalAlerts.map((c,u)=>o.jsxs("div",{className:"flex gap-3 text-sm p-3 bg-white dark:bg-surface-dark rounded-xl border border-red-100 dark:border-red-900/30",children:[o.jsx("span",{className:"material-symbols-outlined text-red-500 text-xs mt-1 shrink-0",children:"error"}),o.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:c})]},u)):o.jsxs("div",{className:"text-center py-8 text-slate-400",children:[o.jsx("span",{className:"material-symbols-outlined text-4xl mb-2 opacity-50",children:"check_circle"}),o.jsx("p",{className:"text-sm",children:"Sin alertas crticas detectadas"})]})})]})]}),n.methodologicalAnalysis.forensicReasoning&&o.jsxs("div",{className:"bg-slate-900 border-2 border-brand-orange/30 text-slate-300 p-8 rounded-[2rem] relative overflow-hidden shadow-2xl shadow-brand-orange/5",children:[o.jsx("div",{className:"absolute top-0 right-0 p-32 bg-brand-orange/10 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),o.jsxs("div",{className:"flex items-center gap-3 mb-4 relative z-10",children:[o.jsx("span",{className:"material-symbols-outlined text-brand-orange text-3xl",children:"psychology"}),o.jsx("h3",{className:"font-black text-white uppercase tracking-[0.2em] text-sm",children:"Dictamen Forense de IA"})]}),o.jsx("p",{className:"text-xl leading-relaxed relative z-10 font-medium text-slate-200",children:n.methodologicalAnalysis.forensicReasoning})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-2xl font-black text-slate-900 dark:text-white mb-8 flex items-center gap-4",children:[o.jsx("div",{className:"size-10 rounded-xl bg-brand-orange/10 flex items-center justify-center",children:o.jsx("span",{className:"material-symbols-outlined text-brand-orange",children:"app_registration"})}),"Acciones Correctivas Priorizadas"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.prioritizedRecommendations.map((c,u)=>o.jsxs("div",{className:"bg-white dark:bg-slate-800/40 p-8 rounded-[2.5rem] border border-slate-100 dark:border-white/5 hover:border-brand-orange/30 hover:shadow-2xl hover:shadow-brand-orange/5 transition-all duration-500 group",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsxs("span",{className:`text-[10px] font-black uppercase px-4 py-1.5 rounded-full tracking-widest ${c.priority==="Crtica"?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":"bg-brand-orange/10 text-brand-orange"}`,children:["Prioridad ",c.priority]}),o.jsx("span",{className:"text-slate-200 dark:text-slate-700 text-5xl font-black opacity-40 group-hover:opacity-100 transition-opacity",children:String(u+1).padStart(2,"0")})]}),o.jsx("h4",{className:"font-black text-slate-800 dark:text-white mb-3 text-lg leading-tight uppercase tracking-tight",children:c.what}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6 leading-relaxed",children:c.why}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-5 rounded-2xl border border-slate-100 dark:border-white/5",children:[o.jsx("span",{className:"font-black block mb-2 text-brand-orange uppercase tracking-widest text-[10px]",children:"Hoja de Ruta:"}),o.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 font-medium leading-relaxed",children:c.how})]})]},u))})]})]})},Bu=({label:n,value:t,color:r})=>o.jsxs("div",{className:`p-6 rounded-[2rem] border border-transparent shadow-sm ${r.split(" ")[1].replace("/20","/5")}`,children:[o.jsxs("div",{className:`text-4xl font-black ${r.split(" ")[0]} mb-2 tracking-tighter`,children:[t,o.jsx("span",{className:"text-base ml-1 opacity-60",children:"%"})]}),o.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-60 text-slate-500 dark:text-slate-400",children:n})]}),lN=({matrix:n})=>{const[t,r]=ie.useState(null);return o.jsxs("div",{className:"bg-white/60 dark:bg-slate-900/60 rounded-[2.5rem] shadow-xl border border-white dark:border-white/5 overflow-hidden backdrop-blur-xl",children:[o.jsxs("div",{className:"p-10 border-b border-slate-100 dark:border-white/5",children:[o.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white uppercase tracking-tight",children:"Matriz de Consistencia Interactiva"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 text-lg",children:"Explora los hallazgos forenses de cada dimensin metodolgica."})]}),o.jsx("div",{className:"divide-y divide-slate-100 dark:divide-white/5",children:n.map((i,c)=>o.jsxs("div",{className:`group transition-all duration-500 ${t===c?"bg-brand-orange/[0.03] dark:bg-brand-orange/[0.02]":"hover:bg-slate-50/50 dark:hover:bg-white/[0.02]"}`,children:[o.jsxs("div",{className:"p-8 cursor-pointer flex items-center justify-between",onClick:()=>r(t===c?null:c),children:[o.jsxs("div",{className:"flex items-center gap-8",children:[o.jsx("div",{className:`
                                    w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 font-bold text-xl shadow-sm
                                    ${i.coherenceLevel==="Alta"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":i.coherenceLevel==="Media"?"bg-brand-orange/10 text-brand-orange":"bg-red-100 text-red-600 dark:bg-red-900/30"}
                                `,children:t===c?o.jsx("span",{className:"material-symbols-outlined text-3xl",children:"keyboard_arrow_up"}):o.jsx("span",{className:"material-symbols-outlined text-3xl",children:i.coherenceLevel==="Alta"?"verified":i.coherenceLevel==="Media"?"error":"dangerous"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-black text-slate-800 dark:text-white text-xl uppercase tracking-tight",children:i.element}),o.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[o.jsxs("span",{className:`text-[10px] font-black uppercase tracking-[0.15em] px-3 py-1 rounded-full ${i.coherenceLevel==="Alta"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-400":i.coherenceLevel==="Media"?"bg-brand-orange/10 text-brand-orange":"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400"}`,children:["Auditora: ",i.coherenceLevel]}),!i.description&&o.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest text-red-500 flex items-center gap-1 opacity-60",children:[o.jsx("span",{className:"material-symbols-outlined text-xs",children:"block"})," No Hallado"]})]})]})]}),o.jsx("div",{className:"text-right hidden sm:block",children:o.jsx("span",{className:`material-symbols-outlined text-slate-300 group-hover:text-brand-orange transition-all duration-300 ${t===c?"rotate-90 text-brand-orange":""}`,children:"arrow_forward_ios"})})]}),o.jsx("div",{className:`
                            overflow-hidden transition-all duration-500 ease-in-out
                            ${t===c?"max-h-[800px] opacity-100 border-t border-slate-100 dark:border-white/5":"max-h-0 opacity-0"}
                        `,children:o.jsx("div",{className:"p-10 bg-slate-50/30 dark:bg-black/10",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{children:[o.jsx("h5",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-3 ml-1",children:"Hallazgo Textual"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute -left-4 -top-2 text-4xl text-brand-orange/20 font-serif",children:'"'}),o.jsx("p",{className:"text-slate-600 dark:text-slate-300 italic font-medium leading-relaxed bg-white dark:bg-slate-900/50 p-6 rounded-3xl border border-slate-100 dark:border-white/5 shadow-sm",children:i.description||"No se logr extraer contenido directo para esta dimensin."}),o.jsx("span",{className:"absolute -right-2 -bottom-4 text-4xl text-brand-orange/20 font-serif",children:'"'})]})]})}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-900/50 p-6 rounded-3xl border border-slate-100 dark:border-white/5 shadow-sm",children:[o.jsx("h5",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-3",children:"Observacin Tcnica Forense"}),o.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 leading-relaxed font-medium",children:i.technicalObservation})]}),o.jsxs("div",{className:"bg-brand-orange/5 p-6 rounded-3xl border border-brand-orange/10 shadow-sm relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 p-8 bg-brand-orange/10 rounded-full blur-2xl -mr-4 -mt-4"}),o.jsx("h5",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-brand-orange mb-3 relative z-10",children:"Accin Recomendada"}),o.jsxs("div",{className:"flex gap-4 items-start relative z-10",children:[o.jsx("div",{className:"size-8 rounded-lg bg-brand-orange/20 flex items-center justify-center shrink-0",children:o.jsx("span",{className:"material-symbols-outlined text-brand-orange text-lg",children:"auto_fix_high"})}),o.jsx("p",{className:"text-sm text-slate-800 dark:text-slate-200 font-bold leading-relaxed",children:i.recommendation})]})]})]})]})})})]},c))})]})};class oN extends ie.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null},this.resetErrorBoundary=()=>{var t,r;(r=(t=this.props).onReset)==null||r.call(t),this.setState({hasError:!1,error:null})}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error(`[ErrorBoundary] Error in ${this.props.componentName||"Unknown Component"}:`,t,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:o.jsxs("div",{className:"p-6 bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-800 rounded-2xl flex flex-col items-center text-center animate-in fade-in zoom-in duration-300",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4 text-red-600 dark:text-red-400",children:o.jsx("span",{className:"material-symbols-outlined text-3xl",children:"monitor_heart"})}),o.jsx("h3",{className:"text-lg font-black text-slate-800 dark:text-white mb-2",children:"Algo sali mal al mostrar el anlisis"}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-6 max-w-md",children:"Ocurri un error inesperado al renderizar los resultados. Esto puede deberse a datos incompletos o un formato inesperado de la IA."}),this.state.error&&!1,o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 rounded-xl border border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-bold hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:"Recargar Pgina"}),o.jsx("button",{onClick:this.resetErrorBoundary,className:"px-6 py-2 rounded-xl bg-red-500 hover:bg-red-600 text-white font-bold shadow-lg shadow-red-500/30 transition-all hover:scale-105",children:o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"material-symbols-outlined",children:"refresh"}),"Reintentar Renderizado"]})})]})]}):this.props.children}}const ip="/TuTesisRD-App/assets/pdf.worker.min-LyOxJPrg.mjs",cN=Object.freeze(Object.defineProperty({__proto__:null,default:ip},Symbol.toStringTag,{value:"Module"}));var lp=Zx();const op=ld(lp),uN=Yx({__proto__:null,default:op},[lp]),dN=()=>{var f;const[n,t]=ie.useState(null),[r,i]=ie.useState(!1);ie.useEffect(()=>{Tt.auth.getSession().then(({data:{session:g}})=>{t(g)});const{data:{subscription:m}}=Tt.auth.onAuthStateChange((g,b)=>{t(b)});return()=>m.unsubscribe()},[]);const c=async()=>{i(!0);try{const{error:m}=await Tt.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(m)throw m}catch(m){console.error("Error logging in:",m)}finally{i(!1)}},u=async()=>{i(!0),await Tt.auth.signOut(),i(!1)};return n?o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"hidden md:block text-right",children:[o.jsx("div",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:n.user.user_metadata.full_name||n.user.email}),o.jsx("div",{className:"text-[10px] text-slate-400",children:"Sesin Activa"})]}),n.user.user_metadata.avatar_url?o.jsx("img",{src:n.user.user_metadata.avatar_url,alt:"User",className:"w-8 h-8 rounded-full border border-slate-200 dark:border-slate-700"}):o.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-orange text-white flex items-center justify-center font-bold text-xs",children:(f=n.user.email)==null?void 0:f.charAt(0).toUpperCase()}),o.jsx("button",{onClick:u,disabled:r,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors text-slate-500",title:"Cerrar Sesin",children:o.jsx("span",{className:"material-symbols-outlined text-lg",children:"logout"})})]}):o.jsxs("button",{onClick:c,disabled:r,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 rounded-xl font-bold text-sm hover:shadow-md transition-all hover:border-brand-orange/50 group",children:[r?o.jsx("span",{className:"material-symbols-outlined animate-spin text-lg",children:"sync"}):o.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",className:"w-5 h-5 group-hover:scale-110 transition-transform",alt:"Google"}),o.jsx("span",{children:"Iniciar Sesin"})]})};try{Lx.workerSrc=ip}catch(n){console.warn("Could not set PDF worker source",n)}const hN=()=>{const{project:n,uploadedFile:t,setUploadedFile:r}=pd(),{showNotification:i}=bd(),[c,u]=ie.useState(!1),[f,m]=ie.useState(0),[g,b]=ie.useState(null),[y,v]=ie.useState("dashboard"),[_,N]=ie.useState("Grado"),[T,R]=ie.useState(""),[U,L]=ie.useState(!1),[B,q]=ie.useState(!1),V=ie.useMemo(()=>eo.map(Q=>({id:Q.id,name:Q.name,content:`Normativa: ${Q.regulations.style}. Pginas: ${Q.regulations.minPages}-${Q.regulations.maxPages}. Tips: ${Q.tips.join(" ")}`,deepAnalysis:void 0})),[]);ie.useEffect(()=>{V.length>0},[V,T]);const ee=async Q=>{var Oe,Vt;const qe=(Oe=Q.target.files)==null?void 0:Oe[0];if(!qe)return;if(!["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword"].includes(qe.type)){i("Formato no soportado. Usa PDF o DOCX","error");return}L(!0);try{let bt="";if(qe.type==="application/pdf"){B&&((Vt=window.scholar)!=null&&Vt.ocr)&&i("Deep Scan activado: Procesando con OCR avanzado...","info");const F=await qe.arrayBuffer(),P=await qx({data:F}).promise,K=[];for(let ce=1;ce<=P.numPages;ce++){const me=(await(await P.getPage(ce)).getTextContent()).items.map(Ze=>Ze.str).join(" ");K.push({page:ce,text:me})}bt=K;const be=K.reduce((ce,Ne)=>ce+Ne.text.length,0);i(`PDF cargado: ${qe.name} (${be} caracteres, ${K.length} pgs)`,"success")}else if(qe.name.endsWith(".docx")){const F=await qe.arrayBuffer(),k=await op.extractRawText({arrayBuffer:F});bt=k.value.trim(),i(`DOCX cargado: ${qe.name} (${k.value.length} caracteres)`,"success")}r({name:qe.name,type:qe.type,size:qe.size,content:bt,lastModified:qe.lastModified})}catch(bt){console.error("File parsing error:",bt),i("Error al procesar el archivo","error")}finally{L(!1),Q.target.value=""}},[J,le]=ie.useState("idle");ie.useEffect(()=>{Ha(async()=>{const{persistenceService:Q}=await import("./persistenceService-Ck9W06os.js");return{persistenceService:Q}},__vite__mapDeps([0,1,2,3,4])).then(({persistenceService:Q})=>Q.subscribe(le))},[]);const oe=async()=>{const Q=(t==null?void 0:t.content)||n.content,qe=Array.isArray(Q)?Q.reduce((lt,Oe)=>lt+Oe.text.length,0):(Q==null?void 0:Q.length)||0;if(!Q||qe<500){i("Necesitas al menos 500 caracteres de contenido para analizar","warning");return}u(!0),m(0);try{const lt=setInterval(()=>{m(k=>Math.min(k+5,90))},500),Oe=V.find(k=>k.id===T),Vt=(Oe==null?void 0:Oe.content)||null,bt=Array.isArray(Q)?Q.map(k=>`[Pgina ${k.page}]
${k.text}`).join(`

`):Q,F=await rN(bt,Vt,_,Oe==null?void 0:Oe.deepAnalysis);clearInterval(lt),m(100),b(F),n.id&&n.id!=="offline-demo"&&Ha(async()=>{const{persistenceService:k}=await import("./persistenceService-Ck9W06os.js");return{persistenceService:k}},__vite__mapDeps([0,1,2,3,4])).then(({persistenceService:k})=>{k.saveAnalysis(n.id,"consistency",F)}),i("Anlisis de consistencia completado","success")}catch(lt){console.error("Analysis error:",lt);const Oe=lt instanceof Error?lt.message:"Error desconocido";i(`Error: ${Oe}`,"error")}finally{u(!1)}};return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 sm:p-8 font-sans text-slate-700 bg-slate-50 dark:bg-slate-900 transition-colors duration-300",children:[o.jsx("input",{type:"file",className:"hidden",accept:".pdf,.docx",onChange:ee,id:"hidden-file-upload"}),o.jsxs("div",{className:"w-full max-w-[1600px] h-[90vh] min-h-[700px] rounded-[2.5rem] flex overflow-hidden relative bg-white/80 dark:bg-slate-900/80 backdrop-blur-2xl shadow-2xl border border-white/50 dark:border-slate-800/50",children:[o.jsxs("aside",{className:"w-20 lg:w-64 flex flex-col p-6 border-r border-slate-200/50 dark:border-slate-700/50 hidden md:flex z-10 bg-white/50 dark:bg-slate-900/50",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-10 pl-1",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-brand-orange to-orange-600 flex items-center justify-center text-white font-bold text-xs shadow-lg shadow-brand-orange/20",children:o.jsx("span",{className:"material-symbols-outlined text-xl",children:"school"})}),o.jsx("span",{className:"text-lg font-black tracking-tight text-slate-800 dark:text-white hidden lg:block",children:"TuTesisRD"})]}),o.jsxs("nav",{className:"flex-1 space-y-2",children:[o.jsxs("a",{className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-brand-orange/10 text-brand-orange font-bold shadow-sm transition-all",href:"#",children:[o.jsx("span",{className:"material-symbols-outlined",children:"grid_view"}),o.jsx("span",{className:"hidden lg:block",children:"Matriz"})]}),o.jsxs("div",{className:"opacity-40 pointer-events-none hidden lg:block",children:[o.jsx("p",{className:"px-4 text-xs font-bold text-slate-400 uppercase tracking-widest mt-6 mb-2",children:"Prximamente"}),o.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 text-slate-500",children:[o.jsx("span",{className:"material-symbols-outlined",children:"folder"}),o.jsx("span",{children:"Mis Proyectos"})]})]})]}),o.jsx("div",{className:"mt-auto pt-6 border-t border-slate-200 dark:border-slate-700 space-y-4",children:o.jsxs("div",{className:"flex items-center gap-3 px-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-white transition-colors cursor-pointer",children:[o.jsx("span",{className:"material-symbols-outlined",children:"settings"}),o.jsx("span",{className:"text-sm font-medium hidden lg:block",children:"Configuracin"})]})})]}),o.jsxs("main",{className:"flex-1 flex flex-col p-4 md:p-8 relative overflow-hidden",children:[o.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4 shrink-0",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl md:text-3xl font-black text-slate-800 dark:text-white tracking-tight",children:"Matriz de Consistencia"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:t?`Archivo: ${t.name}`:n.content?`Analizando: ${n.title||"Proyecto Actual"}`:"Auditora Forense con IA"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"mr-4",children:o.jsx(dN,{})}),g&&o.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-xl",children:[o.jsx("button",{onClick:()=>v("dashboard"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${y==="dashboard"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:"Dashboard"}),o.jsx("button",{onClick:()=>v("matrix"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${y==="matrix"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:"Matriz"})]}),g&&o.jsxs("button",{onClick:async()=>{try{const{generateConsistencyMatrixPDF:Q}=await Ha(async()=>{const{generateConsistencyMatrixPDF:qe}=await import("./pdfExport-9ci3zs38.js");return{generateConsistencyMatrixPDF:qe}},__vite__mapDeps([5,2]));Q(g,"Informe_Consistencia_ScholarAI"),i("Informe PDF generado","success")}catch{i("Error al generar PDF","error")}},className:"px-4 py-2 rounded-xl bg-slate-900 dark:bg-white text-white dark:text-slate-900 text-sm font-bold flex items-center gap-2 hover:scale-105 transition-transform",children:[o.jsx("span",{className:"material-symbols-outlined text-lg",children:"picture_as_pdf"}),"PDF"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[J==="saving"&&o.jsxs("span",{className:"text-xs font-bold text-slate-400 flex items-center gap-1 animate-pulse",children:[o.jsx("span",{className:"material-symbols-outlined text-sm",children:"cloud_upload"})," Guardando..."]}),J==="saved"&&o.jsxs("span",{className:"text-xs font-bold text-emerald-500 flex items-center gap-1 animate-fade-in",children:[o.jsx("span",{className:"material-symbols-outlined text-sm",children:"cloud_done"})," Guardado"]}),J==="error"&&o.jsxs("span",{className:"text-xs font-bold text-red-400 flex items-center gap-1",title:"Reintentando...",children:[o.jsx("span",{className:"material-symbols-outlined text-sm",children:"cloud_off"})," Error"]})]})]})]}),o.jsxs("div",{className:"flex-1 flex flex-col xl:flex-row gap-6 h-full overflow-hidden",children:[o.jsx("section",{className:"flex-1 bg-white/60 dark:bg-slate-800/60 rounded-[2rem] border border-white/60 dark:border-slate-700/60 backdrop-blur-xl shadow-sm flex flex-col relative overflow-hidden",children:o.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 md:p-10",children:c?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center animate-in fade-in duration-700",children:[o.jsxs("div",{className:"relative mb-8",children:[o.jsx("div",{className:"size-24 rounded-full border-4 border-slate-200 dark:border-slate-700 border-t-brand-orange animate-spin"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("span",{className:"material-symbols-outlined text-4xl text-brand-orange animate-pulse",children:"neurology"})})]}),o.jsx("h3",{className:"text-xl font-black uppercase tracking-tight text-slate-800 dark:text-white mb-2",children:"Analizando Estructura Profunda"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 max-w-md text-center mb-8",children:"Evaluando coherencia metodolgica y normativa..."}),o.jsx("div",{className:"w-64 h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-brand-orange transition-all duration-300",style:{width:`${f}%`}})})]}):g?o.jsx("div",{className:"animate-fade-in pb-10",children:o.jsx(oN,{componentName:"Consistency Display",onReset:()=>v("dashboard"),children:y==="dashboard"?o.jsx(iN,{result:g}):o.jsx(lN,{matrix:g.consistencyMatrix||[]})})}):o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"mb-8 w-48 md:w-64 opacity-80 mix-blend-multiply dark:mix-blend-normal",children:o.jsx("span",{className:"material-symbols-outlined text-9xl text-slate-200 dark:text-slate-700",children:"grid_on"})}),o.jsx("h2",{className:"text-xl font-black text-slate-800 dark:text-white uppercase tracking-wide mb-2 opacity-60",children:"No Matrix Generated"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm text-sm leading-relaxed",children:"Carga tu tesis y espera a que nuestros agentes forenses generen tu reporte de consistencia."})]})})}),o.jsxs("section",{className:"flex flex-col gap-4 w-full xl:w-80 shrink-0",children:[o.jsx("button",{onClick:()=>{var Q;return(Q=document.getElementById("hidden-file-upload"))==null?void 0:Q.click()},className:`w-full py-6 px-6 rounded-[2rem] font-bold transition-all hover:shadow-xl border-2 border-dashed group text-left relative overflow-hidden
                                    ${t?"bg-emerald-50 dark:bg-emerald-900/10 border-emerald-500 hover:border-emerald-600":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600 hover:border-brand-orange dark:hover:border-brand-orange"}
                                `,children:o.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center transition-colors
                                        ${t?"bg-emerald-100 dark:bg-emerald-800 text-emerald-600 dark:text-emerald-300":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 group-hover:bg-brand-orange/10 group-hover:text-brand-orange"}
                                    `,children:o.jsx("span",{className:"material-symbols-outlined",children:t?"check_circle":"upload_file"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("span",{className:`block text-sm font-bold truncate ${t?"text-emerald-700 dark:text-emerald-400":"text-slate-800 dark:text-white"}`,children:t?t.name:"Cargar Documento"}),o.jsx("span",{className:`block text-xs font-normal truncate ${t?"text-emerald-600/70 dark:text-emerald-400/70":"text-slate-400"}`,children:t?"Clic para cambiar archivo":"PDF o DOCX"})]})]})}),o.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-[2rem] border border-slate-200 dark:border-slate-700",children:[o.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-3 px-1",children:"Nivel Acadmico"}),o.jsx("div",{className:"grid grid-cols-1 gap-2",children:["Grado","Maestra","Doctorado"].map(Q=>o.jsxs("button",{onClick:()=>N(Q),className:`px-4 py-3 rounded-xl text-sm font-bold border-2 transition-all text-left flex items-center justify-between ${_===Q?"border-brand-orange bg-brand-orange/5 text-brand-orange":"border-slate-100 dark:border-slate-700 text-slate-500 dark:text-slate-400 hover:border-slate-200"}`,children:[Q,_===Q&&o.jsx("span",{className:"material-symbols-outlined text-sm",children:"check_circle"})]},Q))}),o.jsx("p",{className:"mt-3 text-[10px] text-slate-400 leading-tight px-1",children:"* Ajusta la severidad de deteccin y pesos de evaluacin segn el rigor del nivel."})]}),o.jsxs("button",{onClick:oe,disabled:c||!t&&!n.content,className:`
                                    w-full py-6 px-6 rounded-[2rem] font-bold text-left transition-all relative overflow-hidden shadow-xl
                                    ${c||!t&&!n.content?"bg-slate-100 text-slate-400 cursor-not-allowed dark:bg-slate-800 dark:text-slate-600":"bg-slate-900 dark:bg-white text-white dark:text-slate-900 hover:translate-y-[-2px] hover:shadow-2xl hover:shadow-brand-orange/20"}
                                `,children:[o.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 dark:bg-slate-200/20 flex items-center justify-center backdrop-blur-sm",children:c?o.jsx("span",{className:"material-symbols-outlined animate-spin",children:"sync"}):o.jsx("span",{className:"material-symbols-outlined",children:"neurology"})}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-lg",children:"Ejecutar Anlisis"}),o.jsx("span",{className:"block text-white/60 dark:text-slate-500 text-xs font-normal",children:c?"Procesando...":"Modo Forense Activo"})]})]}),o.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})]}),c&&o.jsx("div",{className:"absolute inset-0 bg-brand-orange/20",style:{width:`${f}%`,transition:"width 0.5s ease"}})]}),o.jsxs("div",{className:"mt-auto bg-slate-100 dark:bg-slate-800 p-6 rounded-[2rem] hidden xl:block",children:[o.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-2 text-sm",children:"Cmo funciona?"}),o.jsxs("ul",{className:"space-y-3",children:[o.jsxs("li",{className:"flex items-start gap-2 text-xs text-slate-500 dark:text-slate-400",children:[o.jsx("span",{className:"text-brand-orange",children:""}),o.jsx("span",{children:"Sube tu borrador de tesis o anteproyecto."})]}),o.jsxs("li",{className:"flex items-start gap-2 text-xs text-slate-500 dark:text-slate-400",children:[o.jsx("span",{className:"text-brand-orange",children:""}),o.jsx("span",{children:"Nuestra IA audita la coherencia lgica interna."})]}),o.jsxs("li",{className:"flex items-start gap-2 text-xs text-slate-500 dark:text-slate-400",children:[o.jsx("span",{className:"text-brand-orange",children:""}),o.jsx("span",{children:"Recibe un reporte de consistencia detallado."})]})]})]})]})]})]})]})]})},fN=()=>{const{uploadedFile:n,setUploadedFile:t}=pd(),r=cd(),{showNotification:i}=bd();return o.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 font-sans text-slate-900 dark:text-white pt-20 px-8 pb-12",children:o.jsxs("div",{className:"max-w-6xl mx-auto space-y-12",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsx("h1",{className:"text-4xl font-black tracking-tight text-slate-900 dark:text-white",children:"Centro de Auditora de Tesis"}),o.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl leading-relaxed",children:"Evaluacin integral de tu investigacin. Verifica la originalidad, consistencia metodolgica y cumplimiento normativo en un solo lugar."})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[o.jsxs("div",{onClick:()=>r("/herramientas/auditor"),className:"group bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm hover:shadow-xl border border-slate-200 dark:border-slate-700 hover:border-primary/50 transition-all cursor-pointer relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 group-hover:bg-primary/10 transition-all"}),o.jsxs("div",{className:"relative z-10 space-y-6",children:[o.jsx("div",{className:"w-14 h-14 bg-primary/10 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-500",children:o.jsx("span",{className:"material-symbols-outlined text-3xl text-primary",children:"security"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-2xl font-bold group-hover:text-primary transition-colors",children:"Auditora Forense (IA)"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed",children:"Detecta patrones de Inteligencia Artificial (ChatGPT, Gemini, Claude) y analiza la originalidad de tu redaccin."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-700 text-xs font-bold text-slate-600 dark:text-slate-300",children:"Anti-Plagio"}),o.jsx("span",{className:"px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-700 text-xs font-bold text-slate-600 dark:text-slate-300",children:"Firmas Lingsticas"})]})]})]}),o.jsxs("div",{onClick:()=>r("/herramientas/matriz"),className:"group bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-sm hover:shadow-xl border border-slate-200 dark:border-slate-700 hover:border-blue-500/50 transition-all cursor-pointer relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 group-hover:bg-blue-500/10 transition-all"}),o.jsxs("div",{className:"relative z-10 space-y-6",children:[o.jsx("div",{className:"w-14 h-14 bg-blue-500/10 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-500",children:o.jsx("span",{className:"material-symbols-outlined text-3xl text-blue-600",children:"grid_on"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-2xl font-bold group-hover:text-blue-600 transition-colors",children:"Matriz de Consistencia"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed",children:"Valida la coherencia lgica entre el problema, objetivos, hiptesis y variables. Anlisis metodolgico estricto."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-700 text-xs font-bold text-slate-600 dark:text-slate-300",children:"Metodologa"}),o.jsx("span",{className:"px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-700 text-xs font-bold text-slate-600 dark:text-slate-300",children:"Normativa"})]})]})]})]})]})})},mN=()=>{const[n,t]=ie.useState(()=>{if(typeof window<"u"){const r=localStorage.getItem("theme");return r?r==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}return!1});return ie.useEffect(()=>{const r=window.document.documentElement;n?(r.classList.add("dark"),localStorage.setItem("theme","dark")):(r.classList.remove("dark"),localStorage.setItem("theme","light"))},[n]),o.jsx("button",{onClick:()=>t(!n),className:"fixed bottom-4 right-20 z-[9999] bg-slate-800 dark:bg-slate-200 text-white dark:text-slate-900 p-3 rounded-full shadow-lg hover:scale-110 transition-transform",title:"Toggle Dark Mode",children:o.jsx("span",{className:"material-symbols-outlined",children:n?"light_mode":"dark_mode"})})},gN=()=>(ie.useEffect(()=>{console.log("TuTesisRD App Loaded v1.17 - Gemini Service Restored")},[]),o.jsx(zx,{children:o.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark",children:[o.jsx(mN,{}),o.jsxs(Ux,{children:[o.jsx(yt,{path:"/",element:o.jsx(ay,{})}),o.jsx(yt,{path:"/nosotros",element:o.jsx(sy,{})}),o.jsx(yt,{path:"/servicios",element:o.jsx(ny,{})}),o.jsx(yt,{path:"/universidades",element:o.jsx(Lj,{})}),o.jsx(yt,{path:"/tesis/:universityId",element:o.jsx(Uj,{})}),o.jsx(yt,{path:"/blog",element:o.jsx(ry,{})}),o.jsx(yt,{path:"/blog/:postId",element:o.jsx(qj,{})}),o.jsx(yt,{path:"/registro",element:o.jsx(F0,{initialMode:"register"})}),o.jsx(yt,{path:"/monitoreo",element:o.jsx(F0,{initialMode:"monitor"})}),o.jsx(yt,{path:"/portal",element:o.jsx(iy,{})}),o.jsx(yt,{path:"/exito",element:o.jsx(Xw,{})}),o.jsx(yt,{path:"/design",element:o.jsx(Qw,{})}),o.jsx(yt,{path:"/herramientas",element:o.jsx(fN,{})}),o.jsx(yt,{path:"/herramientas/auditor",element:o.jsx(zj,{})}),o.jsx(yt,{path:"/herramientas/matriz",element:o.jsx(hN,{})})]})]})})),cp=document.getElementById("root");if(!cp)throw new Error("Could not find root element to mount to");const pN=ty.createRoot(cp);pN.render(o.jsx(Ws.StrictMode,{children:o.jsx(Fw,{children:o.jsx(Ww,{children:o.jsx(gN,{})})})}));export{Tt as s};
